/*! For license information please see ancillaries-view.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],Array(763).concat([function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(1233),r=n(218),i=n(1),s=n.n(i),o=n(160),l=(n(6),n(189)),c=n(445),u=n(161);s.a.Component;s.a.Component;var d=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?Object(o.c)(e,null,null,t):e},h=function(e){return e},f=s.a.forwardRef;void 0===f&&(f=h);var m=f((function(e,t){var n=e.innerRef,a=e.navigate,r=e.onClick,i=Object(c.a)(e,["innerRef","navigate","onClick"]),o=i.target,u=Object(l.a)({},i,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return u.ref=h!==f&&t||n,s.a.createElement("a",u)}));var g=f((function(e,t){var n=e.component,r=void 0===n?m:n,i=e.replace,o=e.to,g=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return s.a.createElement(a.e.Consumer,null,(function(e){e||Object(u.default)(!1);var n=e.history,a=p(d(o,e.location),e.location),c=a?n.createHref(a):"",m=Object(l.a)({},v,{href:c,navigate:function(){var t=d(o,e.location);(i?n.replace:n.push)(t)}});return h!==f?m.ref=t||g:m.innerRef=g,s.a.createElement(r,m)}))})),v=function(e){return e},y=s.a.forwardRef;void 0===y&&(y=v);y((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,h=e.activeStyle,f=e.className,m=e.exact,b=e.isActive,E=e.location,C=e.strict,k=e.style,S=e.to,_=e.innerRef,O=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return s.a.createElement(a.e.Consumer,null,(function(e){e||Object(u.default)(!1);var n=E||e.location,i=p(d(S,n),n),c=i.pathname,w=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=w?Object(a.f)(n.pathname,{path:w,exact:m,strict:C}):null,A=!!(b?b(P,n):P),x=A?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(f,o):f,N=A?Object(l.a)({},k,{},h):k,T=Object(l.a)({"aria-current":A&&r||null,className:x,style:N,to:i},O);return v!==y?T.ref=t||_:T.innerRef=_,s.a.createElement(g,T)}))}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var a=n(1444);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){e.exports=n(1636)},function(e,t,n){var a=n(1678),r=n(1431);function i(t){return e.exports=i=r?a:function(e){return e.__proto__||a(e)},i(t)}e.exports=i},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1341)),i=a(n(1250)),s=a(n(1238)),o=a(n(1239)),l=a(n(1263)),c=function(){},u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e),n.elRequired&&!t||(this.setParams(this.defaults||{},!0),this.setParams(n),(this._cacheElements||c).call(this,t,n),(this._parseParams||c).call(this))}return(0,o.default)(e,[{key:"remove",value:function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||c).call(this,e||this.el,t),(this._parseParams||c).call(this),this._addEventListeners&&this._addEventListeners(),this}},{key:"setParams",value:function(e,t){var n=this;return(0,l.default)(e,(function(e,a){var r;(-1!==(0,i.default)(r=n._whitelistedParams).call(r,e)||t)&&(n[e]=a)})),this}},{key:"unsetParams",value:function(e,t){return e=e instanceof Array?e:(0,r.default)(e),t=t||this,(0,l.default)(e,(function(e){delete t[e]})),this}}]),e}();u.prototype._whitelistedParams=[],u.prototype.defaults={};var d=u;t.default=d,e.exports=t.default},function(e,t,n){e.exports=n(1618)},function(e,t,n){var a=n(1685),r=n(1688);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var a=n(1278),r=n(1323);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){"use strict";var a=n(1255),r=n(1312).f,i=n(1443),s=n(1252),o=n(1316),l=n(1276),c=n(1268),u=function(e){var t=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,p,h,f,m,g,v,y=e.target,b=e.global,E=e.stat,C=e.proto,k=b?a:E?a[y]:(a[y]||{}).prototype,S=b?s:s[y]||(s[y]={}),_=S.prototype;for(p in t)n=!i(b?p:y+(E?".":"#")+p,e.forced)&&k&&c(k,p),f=S[p],n&&(m=e.noTargetGet?(v=r(k,p))&&v.value:k[p]),h=n&&m?m:t[p],n&&typeof f==typeof h||(g=e.bind&&n?o(h,a):e.wrap&&n?u(h):C&&"function"==typeof h?o(Function.call,h):h,(e.sham||h&&h.sham||f&&f.sham)&&l(g,"sham",!0),S[p]=g,C&&(c(s,d=y+"Prototype")||l(s,d,{}),s[d][p]=h,e.real&&_&&!_[p]&&l(_,p,h)))}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1265)),i=a(n(1432)),s=a(n(1251)),o=/\s+/,l=/\s{2,}/g;var c=function(e,t){if(e){if(1===(t=2===arguments.length&&"string"==typeof t?(0,i.default)(t).split(o):t instanceof Array?t:(0,r.default)(Array.prototype).call(arguments,1)).length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var n,a=[],c=0,u=t.length,d="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";c<u;c++)(n=t[c])&&!(0,s.default)(d,n)&&a.push(n);return a.length&&("string"==typeof e.className?e.className=(0,i.default)((d+" "+a.join(" ")).replace(l," ")):e.setAttribute&&e.setAttribute("class",(0,i.default)((d+" "+a.join(" ")).replace(l," ")))),e}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1265)),s=a(n(1432)),o=/\s+/,l=/\s{2,}/g;var c=function(e,t){if(e){if(1===(t=2===arguments.length&&"string"==typeof t?(0,s.default)(t).split(o):t instanceof Array?t:(0,i.default)(Array.prototype).call(arguments,1)).length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var n,a,c=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",u=c,d=0,p=t.length;d<p;d++)-1!==(a=(n=t[d])?(0,r.default)(u).call(u," "+n+" "):-1)&&(a+=1,u=(0,i.default)(u).call(u,0,a)+(0,i.default)(u).call(u,a+n.length));return c!==u&&("string"==typeof e.className?e.className=(0,s.default)(u.replace(l," ")):e.setAttribute&&e.setAttribute("class",(0,s.default)(u.replace(l," ")))),e}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),s=n.n(i),o=n(6),l=(n(194),n(11)),c=n(39),u=n.n(c),d=n(26),p=n.n(d),h=n(22),f=n.n(h),m=n(29),g=n.n(m),v=n(28),y=n.n(v),b=n(30),E=n.n(b),C=n(3),k=n.n(C),S=n(4),_=n.n(S),O=n(0),w=n.n(O),P=n(23),A=n.n(P),x=n(5),N=n.n(x),T=n(12),I=n(543),B=(Object(o.oneOfType)([o.array,Object(o.shape)({value:o.number,currency:o.string,isNegative:o.bool})]),function(e){function t(){return p()(this,t),g()(this,y()(t).apply(this,arguments))}return E()(t,e),f()(t,[{key:"renderPrices",value:function(e){var n=A()(e)?e:[e],a=this.props.showPriceDifference,o=this.props.PACKAGE_NAME_CLASSIFIED;return _()(n,(function(e,n,l){if(r()(n.currency))return e;var c=Object(I.a)(n),d=a&&c,p=u()("price",{"negative-price":w()(n,"isNegative",!1),"zero-price":c}),h=t.renderSymbol(n,o),f=t.renderAmount(n,d,o),m=Object(T.k)([o,"currency",n.currency,"price"],{symbol:h,amount:f},i.Fragment);return e.push(s.a.createElement("span",{className:p,key:"price-alternative-price-".concat(l)},l>0&&s.a.createElement("span",{className:"connection and"},Object(T.a)([o,n.isNegative?"awardBooking.refund":"awardBooking.and"])),n.isNegative&&s.a.createElement("span",{className:"negative-symbol"},"-"),!n.isNegative&&a&&!c&&s.a.createElement("span",{className:"negative-symbol"},"+"),m)),e}),[])}},{key:"renderArrayPrice",value:function(e,t){var n=this.props,a=n.PACKAGE_NAME_CLASSIFIED,r=n.className;return s.a.createElement("span",{className:u()("alternative",r),key:"price-alternative-".concat(t)},t>0&&s.a.createElement("span",{className:"connection or"},Object(T.a)([a,"awardBooking.or"])),this.renderPrices(e))}},{key:"render",value:function(){var e=this,t=A()(this.props.price)?this.props.price:[this.props.price];return N()(t,(function(t,n){return e.renderArrayPrice(t,n)}))}}],[{key:"renderAbbreviation",value:function(e){var t=e.abbreviation;return s.a.createElement("span",{className:"abbreviation"},t)}},{key:"renderSymbol",value:function(e,t){var n=e.currency;return s.a.createElement("span",{className:"currency symbol"},Object(T.a)([t,"currency",n,"symbol"]))}},{key:"renderAmount",value:function(e,n,a){var r=w()(e,"showAbbreviation",!1);return s.a.createElement("span",{className:"amount"},t.renderLocalePrice(e),t.renderAmountNumber(e,n,a),r&&t.renderAbbreviation(e))}},{key:"renderAmountNumber",value:function(e,t,n){if(Object(T.d)([n,"currency",e.currency,"amount"]))return Object(T.a)([n,"currency",e.currency,"amount"],e,void 0,void 0,void 0,!0);var a=w()(e,"displayLocalePrice",!1),r=w()(e,"isPoints",!1),i=w()(e,"integer",0),o=w()(e,"value",0),l=w()(e,"delimiters",""),c=w()(e,"decimal",0),u=w()(e,"showDecimal",!1)&&!r&&!t,d=l&&l.decimal||".";return a?void 0:s.a.createElement("span",{className:"number"},t?Object(T.a)([n,"cart.INCLUDED"]):i||o,s.a.createElement("span",{className:"delimiter"},u&&d),u&&s.a.createElement("span",{className:"decimal"},c))}},{key:"renderLocalePrice",value:function(e){if(w()(e,"displayLocalePrice",!1))return s.a.createElement("span",{className:"locale-price"},w()(e,"intlAmount",""))}}]),t}(i.Component));k()(B,"defaultProps",{showPriceDifference:!1,className:void 0});var L=function(e){var t=e.price,n=e.originalPrice,a=e.PACKAGE_NAME_CLASSIFIED,i=e.className,o=e.discountedToArialLabel,l=e.id,c=e.showPriceDifference;return s.a.createElement("span",{id:l,className:u()("ducp-component-price",i)},!r()(n)&&s.a.createElement("span",{className:"price-info strike-through"},s.a.createElement(B,{price:n,PACKAGE_NAME_CLASSIFIED:a,showPriceDifference:c}),s.a.createElement("span",{"aria-label":o})),s.a.createElement("span",{className:"price-info"},s.a.createElement(B,{price:t,PACKAGE_NAME_CLASSIFIED:a,showPriceDifference:c})))};L.defaultProps={id:void 0,originalPrice:void 0,className:void 0,discountedToArialLabel:void 0,showPriceDifference:!1};var D=L,j=n(1493),F=(n(1937),function(e,t){var n=t.pricesConfigurations,a=e.price.alternatives?e.price.alternatives:e.price;if(Object(l.isImmutable)(a)?a.isEmpty():r()(a))return null;var i=Object(j.a)(a,n,{showAbbreviation:e.showAbbreviation});return s.a.createElement("span",{id:e.id,className:u()("dxp-price",{"rise-decimal":e.raiseDecimal,"discounted-price":e.isDiscountedPrice,"show-abbreviation":e.showAbbreviation,"multiple-price":i[0]&&i[0].length>1})},s.a.createElement(D,{aria:e.aria,className:e.className,PACKAGE_NAME_CLASSIFIED:e.PACKAGE_NAME_CLASSIFIED,price:Object(j.a)(a,n,{showAbbreviation:e.showAbbreviation}),originalPrice:e.originalPrice&&Object(j.a)(e.originalPrice,n,{showAbbreviation:e.showAbbreviation}),showPriceDifference:e.showPriceDifference,discountedToArialLabel:e.discountedToArialLabel}))});F.defaultProps={id:void 0,price:{},originalPrice:void 0,showAbbreviation:!1,raiseDecimal:!1,isDiscountedPrice:!1,className:"",discountedToArialLabel:void 0,aria:void 0,showPriceDifference:!1,PACKAGE_NAME_CLASSIFIED:"app"},F.contextTypes={pricesConfigurations:Object(o.shape)({countries:Object(o.shape)({}),currencies:Object(o.shape)({}),session:Object(o.shape)({locale:o.string})}).isRequired};var M=F;n.d(t,"a",(function(){return M}))},function(e,t,n){e.exports=n(1612)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1278));var s=function(e,t){var n,a=("object"===(0,i.default)(e)?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ");return-1!==(0,r.default)(n=" "+a+" ").call(n," "+t+" ")};t.default=s,e.exports=t.default},function(e,t){e.exports={}},function(e,t,n){var a=n(1255),r=n(1365),i=n(1268),s=n(1366),o=n(1367),l=n(1424),c=r("wks"),u=a.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return i(c,e)||(o&&i(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(41))},function(e,t,n){var a=n(1252),r=n(1268),i=n(1369),s=n(1279).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});r(t,e)||s(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1251)),i=a(n(1247)),s=a(n(1248));var o=function e(t,n,a){if(t){if(!(t instanceof NodeList||t instanceof Array))return("add"===(void 0!==a?(a="function"==typeof a?a.call(null,t):a)?"add":"remove":(0,r.default)(t,n)?"remove":"add")?i.default:s.default)(t,n);for(var o=0,l=t.length;o<l;o++)e(t[o],n,a)}};t.default=o,e.exports=t.default},function(e,t,n){var a=n(1669),r=n(1673),i=n(1677);function s(t,n,o){return"undefined"!=typeof Reflect&&r?e.exports=s=r:e.exports=s=function(e,t,n){var r=i(e,t);if(r){var s=a(r,t);return s.get?s.get.call(n):s.value}},s(t,n,o||t)}e.exports=s},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=n(1628)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];(0,r.default)(n,(function(t){for(var n in t)t.hasOwnProperty(n)&&!e[n]&&(e[n]=t[n])}))};var r=a(n(1263));e.exports=t.default},function(e,t,n){var a=n(1252);e.exports=function(e){return a[e+"Prototype"]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var n=0,a=e.length;if(void 0===a)for(n in e)"prototype"!==n&&e.hasOwnProperty(n)&&t(n,e[n]);else for(;n<a;n++)t(e[n])}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(1388),s=n.n(i),o=n(26),l=n.n(o),c=n(22),u=n.n(c),d=n(29),p=n.n(d),h=n(28),f=n.n(h),m=n(31),g=n.n(m),v=n(30),y=n.n(v),b=n(3),E=n.n(b),C=n(1),k=n.n(C),S=(n(6),n(39)),_=n.n(S),O=n(1414),w=function(e){function t(e){var n;return l()(this,t),(n=p()(this,f()(t).call(this,e))).onMouseDown=n.onMouseDown.bind(g()(n)),n.onClick=n.onClick.bind(g()(n)),n}return y()(t,e),u()(t,[{key:"onMouseDown",value:function(e){this.props.useMouseDown&&(e.stopPropagation(),this.onClick(e))}},{key:"onClick",value:function(e){var t=this.props,n=t.disabled,a=t.loading;return!(n||a)&&(this.props.onClick&&this.props.onClick(e))}},{key:"setEnabled",value:function(e){return this.button.disabled=!e,this}},{key:"isEnabled",value:function(){return!this.button.disabled}},{key:"focus",value:function(){return this.button.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.disabled,i=t.label,o=t.loading,l=t.children,c=t.ariaLabel,u=t.isExpanded,d=t.ariaDescribedBy,p=t.ariaControls,h=t.isTextButton,f=t.isSecondaryButton,m=t.isIconButton,g=t.isViewMoreButton,v=t.isNegativeButton,y=t.iconName,b=t.iconSize,E=t.ariaHidden,C=t.tooltipId,S=t.type,w=t.tabIndex,P=(t.onClick,t.useMouseDown,s()(t,["className","disabled","label","loading","children","ariaLabel","isExpanded","ariaDescribedBy","ariaControls","isTextButton","isSecondaryButton","isIconButton","isViewMoreButton","isNegativeButton","iconName","iconSize","ariaHidden","tooltipId","type","tabIndex","onClick","useMouseDown"])),A=_()("ducp-component-button",n,{"spark-progress":!h&&o,"spark-btn--active":!h&&o,"text-button":h,"secondary-button":f,"view-more-button":g,"icon-button":m,negative:v,disabled:a});if(m){var x=_()(A,"spark-btn--icon","spark-icon","spark-".concat(y),"spark-icon--".concat(b));return i||c?k.a.createElement(O.b,r()({ariaLabel:c||i,tooltip:i||c,id:"".concat(C||i||c,"-tooltip"),ref:function(t){e.button=t},"aria-label":c||i,"aria-controls":p,className:x,innerClassName:y,disabled:a,"aria-expanded":u,onClick:this.onClick,onMouseDown:this.onMouseDown,"aria-describedby":d,"aria-hidden":E,tabIndex:E?-1:void 0,position:"top"},P)):k.a.createElement("button",r()({type:S,ref:function(t){e.button=t},"aria-describedby":d,"aria-label":c||i,className:x,disabled:a,"aria-controls":p,onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:E?-1:w,"aria-hidden":E},P))}return k.a.createElement("button",r()({type:S,ref:function(t){e.button=t},"aria-label":c,"aria-controls":p,className:A,disabled:a,"aria-expanded":u,onClick:this.onClick,onMouseDown:this.onMouseDown,"aria-describedby":d,"aria-hidden":E,tabIndex:E?-1:w},P),!h&&o&&k.a.createElement(k.a.Fragment,null,k.a.createElement("progress",null),k.a.createElement("span",{className:"spark-progress__meter loading-indicator"})),l,i&&k.a.createElement("span",{className:"button-label"},i))}}]),t}(C.Component);E()(w,"defaultProps",{className:void 0,label:void 0,disabled:!1,loading:!1,children:void 0,onClick:void 0,ariaLabel:void 0,isExpanded:void 0,ariaDescribedBy:void 0,ariaControls:void 0,useMouseDown:!1,isTextButton:!1,isSecondaryButton:!1,ariaHidden:void 0,isViewMoreButton:!1,isNegativeButton:!1,isIconButton:!1,iconName:void 0,iconSize:"md",tooltipId:void 0,type:"button",tabIndex:void 0});t.a=w},function(e,t,n){e.exports=n(1632)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(!e)throw new Error("Cannot create element with no HTML!");var t=document.createElement("div");t.innerHTML=e;var n=t.children[0];return n.parentNode.removeChild(n),n},e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1300));var s=function(e,t,n){for(n=n instanceof Array?n:[n||document.body];e;){if((0,i.default)(e,t))return e;if(-1!==(0,r.default)(n).call(n,e))return!1;e=e.parentNode}return!1};t.default=s,e.exports=t.default},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var a=n(1254);e.exports=!a((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var a=n(1259);e.exports=function(e){if(!a(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.boolean=function(e,t,n){var a=e.getAttribute(t);return null===a?n:"true"===a||""===a},t.number=function(e,t,n){var a=e.getAttribute(t);return null===a?n:(0,r.default)(a,10)},t.string=function(e,t,n){var a=e.getAttribute(t);return null===a?n:a};var r=a(n(1260))},function(e,t,n){var a=n(1313);e.exports=function(e){return Object(a(e))}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1240)),i=a(n(1354)),s={setError:function(e){return this._isMessageVisible()||this._showMessage(),this.clearWarning(),this.clearSuccess(),this.clearInfo(),this.el.setAttribute("data-error",!0),e&&this.setMessage(e),this},clearError:function(){return this.el.removeAttribute("data-error",!0),this},setWarning:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearSuccess(),this.clearInfo(),this.el.setAttribute("data-warning",!0),e&&this.setMessage(e),this},clearWarning:function(){return this.el.removeAttribute("data-warning",!0),this},setSuccess:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.clearInfo(),this.el.setAttribute("data-success",!0),e&&this.setMessage(e),this},clearSuccess:function(){return this.el.removeAttribute("data-success",!0),this},setInfo:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.clearSuccess(),this.el.setAttribute("data-info",!0),e&&this.setMessage(e),this},clearInfo:function(){return this.el.removeAttribute("data-info",!0),this},clearMessages:function(){var e;return this._hideMessage((0,r.default)(e=function(){this.clearError(),this.clearWarning(),this.clearSuccess(),this.clearInfo()}).call(e,this)),this},setMessage:function(e){return this.messageEl.innerHTML=e,this},_showMessage:function(){this.messageEl.parentNode||this.el.appendChild(this.messageEl),(0,i.default)({el:this.el,toggleEl:this.messageEl})},_hideMessage:function(e){(0,i.default)({el:this.el,toggleEl:this.messageEl,toggleValue:"none",action:"collapse",onComplete:e})},_isMessageVisible:function(){return this.el.getAttribute("data-error")||this.el.getAttribute("data-warning")||this.el.getAttribute("data-success")}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n;return function(){var a=arguments;n&&window.clearTimeout(n),n=window.setTimeout((function(){e.apply(this,a)}),t)}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a={validate:function(){var e=this.validatePattern;if(!this.onValidate||!e)return this;var t=new RegExp(e);return this.onValidate(t.test(this.getValue()),this.getValue(),this),this}};t.default=a,e.exports=t.default},function(e,t,n){var a=n(1269),r=n(1279),i=n(1308);e.exports=a?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var a=n(1378),r=n(1313);e.exports=function(e){return a(r(e))}},function(e,t,n){var a=n(1640),r=n(1644);function i(t){return e.exports=i="function"==typeof r&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},i(t)}e.exports=i},function(e,t,n){var a=n(1269),r=n(1420),i=n(1270),s=n(1328),o=Object.defineProperty;t.f=a?o:function(e,t,n){if(i(e),t=s(t,!0),i(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(82),g=n.n(m),v=n(2),y=n.n(v),b=(n(6),n(1)),E=n.n(b),C=n(39),k=n.n(C),S=n(50),_=n(12),O=(n(1940),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.tag=this.props.tag}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,a=e.iconSize,r=e.params,i=e.iconFill,s=k()("dxp-title",this.props.className);return!y()(t)&&E.a.createElement(this.tag,{className:s},!g()(n)&&E.a.createElement(S.c,{name:n,size:a,fill:i}),y()(r)?Object(_.a)(t):Object(_.a)(t,r))}}]),t}(b.Component));f()(O,"defaultProps",{className:"",title:"",icon:void 0,iconSize:"",iconFill:!1,tag:"div",params:{}}),n.d(t,"a",(function(){return O}))},function(e,t,n){e.exports=n(1763)},function(e,t,n){"use strict";t.__esModule=!0,t.get=function(e,t){var n;for(n in t=t||a)if(e>=t[n].min&&e<=t[n].max)return n};var a={xs:{min:0,max:543},sm:{min:544,max:795},md:{min:796,max:1047},lg:{min:1048,max:1799},xl:{min:1800,max:1/0}}},function(e,t,n){var a=n(1336),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(21),E=n.n(b),C=n(1),k=n.n(C),S=(n(6),n(39)),_=n.n(S),O=n(1297),w=n.n(O),P=n(1565),A=n.n(P),x=n(1540),N=n.n(x),T=n(111),I=n(1249),B=n(1264),L=n(1561),D=n(12),j=n(122),F=n.n(j),M=n(329),R=n.n(M),V=n(67),H=n.n(V),U=n(50),W=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"updateBreadcrumbItemState",(function(){return n.setState({state:n.props.state})})),y()(f()(n),"onItemClick",(function(e){var t=n.props,a=t.onClick,r=t.index;e.preventDefault(),e.stopPropagation(),a&&a({index:r})})),y()(f()(n),"onItemKeyPress",(function(e){return w.a.isEventKey(e,"enter")&&n.allowEvent()?n.onItemClick(e):n.props.onKeyPress&&n.props.onKeyPress(e)})),y()(f()(n),"onItemHover",(function(e){var t=n.props,a=t.onHover,r=t.index;e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.canHoverOut=!1,n.setState({isHovering:!0}),a&&a({index:r}))})),y()(f()(n),"onItemHoverOut",(function(e){e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.canHoverOut=!0,n.debounceHover())})),y()(f()(n),"onItemFocus",(function(e){var t=n.props,a=t.onFocus,r=t.index;e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.setState({isHovering:!0}),a&&a({index:r}))})),y()(f()(n),"onItemBlur",(function(e){var t=n.props,a=t.onBlur,r=t.index;e.preventDefault(),e.stopPropagation(),n.allowEvent()&&(n.setState({isHovering:!1}),a&&a({index:r}))})),n.state={isHovering:!1,state:e.state},n}return g()(t,e),l()(t,null,[{key:"renderIcon",value:function(e){return H()(e)?k.a.createElement(U.c,{name:e,fill:!0}):e}}]),l()(t,[{key:"componentDidUpdate",value:function(e){e.state!==this.props.state&&this.updateBreadcrumbItemState()}},{key:"debounceHover",value:function(){var e=this;return R()((function(){return e.canHoverOut&&e.processHover()}),50)()}},{key:"processHover",value:function(){var e=this.props,t=e.onHoverOut,n=e.index;this.setState({isHovering:!1}),t&&t({index:n})}},{key:"allowEvent",value:function(){return this.state.state!==t.ITEM_STATES.DISABLED}},{key:"renderHoveringContent",value:function(){var e=this.props,n=e.icon,a=e.title,r=e.subTitle,i=e.hoverTitle,s=e.hoverIcon,o=e.hoverSubTitle,l=e.children,c=e.index;return[s&&k.a.createElement("span",{key:"breadcrumb-item-icon-".concat(c),"aria-hidden":"true",className:"spark-step-indicator__icon"},t.renderIcon(s)),!s&&n&&k.a.createElement("span",{key:"breadcrumb-item-icon-".concat(c),"aria-hidden":"true",className:"spark-step-indicator__icon"},t.renderIcon(n)),k.a.createElement("span",{key:"breadcrumb-item-text-".concat(c),className:"spark-step-indicator__text"},l,!l&&i&&k.a.createElement("span",{className:"spark-step-indicator__title-text"},i),!l&&!i&&a&&k.a.createElement("span",{className:"spark-step-indicator__title-text"},a),!l&&o&&k.a.createElement("small",{className:"spark-step-indicator__subtext"},o),!l&&!o&&r&&k.a.createElement("small",{className:"spark-step-indicator__subtext"},r))]}},{key:"renderContent",value:function(){var e=this.props,n=e.icon,a=e.title,r=e.subTitle,i=e.children,s=e.index;return[n&&k.a.createElement("span",{key:"breadcrumb-item-icon-".concat(s),"aria-hidden":"true",className:"spark-step-indicator__icon"},t.renderIcon(n)),k.a.createElement("span",{key:"breadcrumb-item-text-".concat(s),className:"spark-step-indicator__text"},i,!i&&a&&k.a.createElement("span",{className:"spark-step-indicator__title-text"},a),!i&&r&&k.a.createElement("small",{className:"spark-step-indicator__subtext"},r))]}},{key:"render",value:function(){var e=this.props,n=e.className,a=e.index,r=this.state,i=r.state,s=r.isHovering,o=i===t.ITEM_STATES.CURRENT||i===t.ITEM_STATES.DISABLED;return k.a.createElement("button",{role:"listitem",type:"button",className:_()("spark-step-indicator__item",n,"spark-step-indicator__item--".concat(i),{"is-hovering":s}),onClick:o?F.a:this.onItemClick,onKeyPress:o?F.a:this.onItemKeyPress,onMouseOver:this.onItemHover,onMouseOut:this.onItemHoverOut,onFocus:this.onItemFocus,onBlur:this.onItemBlur,"aria-current":i===t.ITEM_STATES.CURRENT?"step":void 0,disabled:i===t.ITEM_STATES.DISABLED,"data-index":a},!s&&this.renderContent(),s&&this.renderHoveringContent())}}]),t}(C.PureComponent);y()(W,"ITEM_STATES",{COMPLETED:"completed",CURRENT:"current",ENABLED:"enabled",DISABLED:"disabled"}),y()(W,"defaultProps",{className:void 0,icon:void 0,subTitle:void 0,hoverTitle:void 0,hoverIcon:void 0,hoverSubTitle:void 0,children:void 0,state:W.ITEM_STATES.DISABLED,onClick:void 0,onHover:void 0,onHoverOut:void 0,onFocus:void 0,onBlur:void 0,onKeyPress:void 0});var q=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"componentWillUnmount",(function(){n.sparkInstance.remove()})),y()(f()(n),"onCartSummaryClickHandler",(function(e){var t=n.props,a=t.onCartSummaryClick,r=t.cartCollapsed,i=t.hideCartSummary,s=t.dropdownCollapseBreakpoint;e.stopPropagation(),e.preventDefault(),Object(T.h)(s)&&a({hideCartSummary:i,cartCollapsed:r})})),y()(f()(n),"onCartSummaryKeyUpHandler",(function(e){e.keyCode!==w()("enter")&&e.keyCode!==w()("space")||n.onCartSummaryClickHandler(e)})),y()(f()(n),"onTripEditButtonClickHandler",(function(){n.props.onTripEditButtonClick&&n.props.onTripEditButtonClick()})),n.breadcrumb=k.a.createRef(),n.breadcrumbList=k.a.createRef(),n}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this.sparkInstance=new N.a(this.breadcrumb.current,{type:"standard-dropdown",dropdownLabel:this.props.dropDownLabel}),this.sparkInstance._calculateRespStyle=function(){Object(T.h)(e.props.dropdownCollapseBreakpoint)?e.sparkInstance._switchToDropdown():e.sparkInstance._switchFromDropdown(),e.breadcrumbList.current&&e.breadcrumbList.current.classList.remove("spark-step-indicator__list--condensed")},this.breadcrumbList.current&&this.sparkInstance&&!E()(this.sparkInstance._dropdownHeader&&this.sparkInstance._dropdownHeader.classList,"spark-step-indicator__item--dropdown__header")&&this.sparkInstance._calculateRespStyle()}},{key:"componentDidUpdate",value:function(){this.sparkInstance&&this.sparkInstance.update()}},{key:"renderTripEditIcon",value:function(){var e=this.props,t=e.PACKAGE_NAME_CLASSIFIED,n=(e.tripEditIcon,e.showTripEditButton);return k.a.createElement("div",{className:"spark-step-indicator__edit"},k.a.createElement(B.a,{className:"spark-step-indicator__edit-button",ariaHidden:!n,onClick:this.onTripEditButtonClickHandler},Object(D.i)("breadcrumbsFlows.edit"),k.a.createElement("span",{className:"spark-assistive-text"},Object(D.i)("".concat(t,".edit")))))}},{key:"renderCartSummary",value:function(){var e=this.props,t=e.cartPrice,n=e.PACKAGE_NAME_CLASSIFIED,a=e.summaryLabel,i=e.cartCollapsed,s=e.onCartSummaryClick,o=e.dropdownCollapseBreakpoint,l=e.showPriceProcessing,c=_()("spark-step-indicator__cart","spark-numerals",{expanded:!i,blank:!t}),u=Object(T.h)(o)&&s?{tabIndex:0,role:"button","aria-expanded":!i,onClick:this.onCartSummaryClickHandler,onKeyUp:this.onCartSummaryKeyUpHandler}:{tabIndex:-1};return k.a.createElement("div",r()({},u,{className:c}),t&&!l&&k.a.createElement(I.a,{price:t,PACKAGE_NAME_CLASSIFIED:n}),t&&a&&k.a.createElement("div",{className:"cart-summary-label"},a),l&&k.a.createElement(L.a,{className:"small dark"}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,a=e.subTitle,r=e.stickyBottomBoundaryID,i=e.ariaLabel,s=e.children,o=e.hideCartSummary,l=e.showCondensed,c=e.showTripEditButton,u=_()("spark-step-indicator","ducp-component-breadcrumbs",t,{"condensed-breadcrumb":l,"has-trip-button":c});return k.a.createElement(A.a,{enabled:Boolean(r),bottomBoundary:r||void 0},k.a.createElement("div",{ref:this.breadcrumb,role:"navigation","aria-label":i,className:u},k.a.createElement("span",{className:_()("spark-step-indicator__title",{"spark-hidden":!n})},n),k.a.createElement("div",{className:"spark-step-indicator__body"},k.a.createElement("div",{className:_()("spark-step-indicator__subtitle",{"spark-hidden":!a})},a),k.a.createElement("div",{ref:this.breadcrumbList,className:"spark-step-indicator__list",role:"list"},s),c&&this.renderTripEditIcon(),!o&&this.renderCartSummary())))}}]),t}(C.PureComponent);y()(q,"defaultProps",{title:void 0,subTitle:void 0,ariaLabel:"Breadcrumb",stickyBottomBoundaryID:"#main",className:void 0,cartPrice:void 0,cartCollapsed:!1,dropdownCollapseBreakpoint:T.a.MD,hideCartSummary:!1,onCartSummaryClick:void 0,showCondensed:!1,showTripEditButton:!1,tripEditIcon:void 0,onTripEditButtonClick:void 0,dropDownLabel:void 0,summaryLabel:void 0,showPriceProcessing:!1}),y()(q,"ITEM_STATES",W.ITEM_STATES),y()(q,"Item",W),n.d(t,"a",(function(){return W}));t.b=q},function(e,t,n){var a=n(1252),r=n(1255),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(a[e])||i(r[e]):a[e]&&a[e][t]||r[e]&&r[e][t]}},function(e,t){e.exports={}},function(e,t,n){"use strict";n.d(t,"p",(function(){return K})),n.d(t,"b",(function(){return J})),n.d(t,"n",(function(){return ne})),n.d(t,"l",(function(){return ae})),n.d(t,"a",(function(){return re})),n.d(t,"j",(function(){return ie})),n.d(t,"i",(function(){return se})),n.d(t,"h",(function(){return oe})),n.d(t,"d",(function(){return le})),n.d(t,"o",(function(){return ce})),n.d(t,"c",(function(){return ue})),n.d(t,"f",(function(){return pe})),n.d(t,"e",(function(){return he})),n.d(t,"m",(function(){return fe})),n.d(t,"k",(function(){return me})),n.d(t,"g",(function(){return ge}));var a=n(1388),r=n.n(a),i=n(3),s=n.n(i),o=n(145),l=n.n(o),c=n(58),u=n.n(c),d=n(15),p=n.n(d),h=n(52),f=n.n(h),m=n(21),g=n.n(m),v=n(67),y=n.n(v),b=n(23),E=n.n(b),C=n(16),k=n.n(C),S=n(112),_=n.n(S),O=n(36),w=n.n(O),P=n(19),A=n.n(P),x=n(56),N=n.n(x),T=n(2),I=n.n(T),B=n(18),L=n.n(B),D=n(5),j=n.n(D),F=n(0),M=n.n(F),R=n(4),V=n.n(R),H=n(38),U=n.n(H),W=n(17),q=n.n(W),z=n(12);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e,t,n){return I()(n)?t:V()(t,(function(t,a,r){var i=e[r];return t[r]=function(e,t,n){var a=t.specialRequests.filter((function(e){return g()(n,e)})),r=M()(e,"specialRequests",[]).concat(a);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{specialRequests:r})}(a,i,n),t}),{})}function Y(e){return U()(e,["firstName","middleName","maidenName","lastName","prefix","suffix"])}function Q(e){return e.map((function(e){return y()(e)?e:e.countryCode.concat(e.number)}))}function X(e){var t=U()(e,["gender","dateOfBirth","redressNumber","type","emails","address","phones"]),n=k()({},t,{knownTravelerNumber:e.knownTravelerNumber}),a=function(e){if(e){return e.number&&function(e){var t=e.number,n=e.company,a=e.address,i=(a.addressType,r()(a,["addressType"])),s=e.phones,o=e.email;return{number:t,company:n,address:i,phones:Q(s),email:o}}(e)}return}(M()(e,"generalSalesTaxData",void 0));return a?L()(n,{generalSalesTaxData:a}):n}function J(e,t){return V()(l()(1,t+1),(function(t,n){return 1===n?t.push(M()(e,"options",[])):t.push(M()(e,"options".concat(n),M()(e,"options",[]))),u()(t)}),[])}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=e.type,r=M()(t,["passengerForm","".concat(a),"specialRequests"],{}),i=M()(r,"numberOfSSR",1),s=J(r,i),o=n?M()(e,"specialRequests"):_()(M()(e,"specialRequests"),s);return k()({},U()(e,["mealPreference","seatPreference"]),{specialRequests:o})}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V()(M()(e,"frequentFlyer"),(function(e,n){var a=t,r=n.frequentFlyerProgram,i=n.frequentFlyerNumber,s={};return r&&i&&(s=L()(s,{airline:r,number:i})),!I()(s)&&a&&(s=L()(s,{marketingCarrier:a})),I()(s)||e.push(s),e}),[])}function ee(e){return M()(e,"documentInfo")}function te(e){return M()(e,"visaInfo")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=0;return j()(e,(function(e){return{passengerIndex:r+=1,passengerDetails:Y(e),passengerInfo:X(e),preferences:{specialPreferences:Z(e,t,a),frequentFlyer:$(e,n)},documentInfo:ee(e),visaInfo:te(e)}}))}function ae(e){return 1===N()(A()(e,{name:"required"}))}function re(e,t,n,a){var r=ae(n),i=I()(a)?Object(z.i)(e):Object(z.i)(e,a);return"".concat(i," ").concat(Object(z.i)(t,{isRequired:r}))}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return M()(t,"".concat(e,".isEnabled[").concat(n,"]"),M()(t,"".concat(e,".isEnabled"),!1))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return M()(t,"".concat(e,".isEditable[").concat(n,"]"),M()(t,"".concat(e,".isEditable"),!0))}function oe(e,t){return E()(t)?t:M()(e,t,[])}function le(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"app",r=arguments.length>4?arguments[4]:void 0;return re("".concat(a,".").concat(e,".label"),"passengers.optional",oe(n,M()(t,"".concat(e,".validators"))),r)}function ce(e,t,n){var a=M()(t,"".concat(e,".options"),[]),r=n>0?M()(t,"".concat(e,".options").concat(n+1),a):a,i=M()(t,"".concat(e,".prefix"));return j()(r,(function(e){var t=I()(i)?e:"".concat(i,".").concat(e);return{value:e,label:Object(z.i)(t)}}))}function ue(e){var t=e.get("provincesConfiguration"),n=M()(t,"countries",[]);return j()(n,(function(e){var t=I()("country")?e.code:"".concat("country",".").concat(e.code),n=Object(z.i)(t);return{value:e.code,label:n}}))}function de(e,t,n){var a;if(M()(e,"dateOfBirth.validateAgeOnInboundDate",!1)){var r=w()(t);a=q()(M()(r,"date")).format(n)}else a=q()(M()(t,"[0].date")).format(n);return q()(a,n)}function pe(e,t,n){var a=de(e,t,n);return a.set(M()(e,"dateOfBirth.ageRangeMaxType","year"),a.get(M()(e,"dateOfBirth.ageRangeMaxType","year"))-M()(e,"dateOfBirth.ageRangeMax"))}function he(e,t,n){var a=de(e,t,n);return a.set(M()(e,"dateOfBirth.ageRangeMinType","year"),a.get(M()(e,"dateOfBirth.ageRangeMinType","year"))-M()(e,"dateOfBirth.ageRangeMin"))}function fe(e){return q.a.isMoment(e)&&e.isValid()}function me(e,t,n,a,r){var i=q()(e,a).locale(r),s=q()(pe(t,n,a),a).locale(r);if(fe(s)&&i&&(i.isBefore(s,"day")||i.isSame(s,"day")))return!1;var o=q()(he(t,n,a),a).locale(r);return!(fe(o)&&i&&i.isAfter(o,"day"))}var ge=function(e,t,n){var a={travelDocumentInfo:ve,frequentFlyerInfo:ye,contactInfo:be,visaDocumentInfo:Ee,goodsAndServicesInfo:Ce,secureFlightInfo:ke,specialRequestsInfo:Se};return e.reduce((function(e,r){return(0,a[r.name])(t,n)&&e.push(r.name),e}),[])};function ve(e){return!I()(M()(e,"documentInfo"))}function ye(e){return!I()(M()(e,"frequentFlyer"))}function be(e){return!I()(M()(e,"emails"))||!I()(M()(e,"phones"))}function Ee(e){return!I()(M()(e,"visaInfo"))}function Ce(e){return!I()(M()(e,"generalSalesTaxData"))}function ke(e){return!I()(M()(e,"knownTravelerNumber"))||!I()(M()(e,"redressNumber"))}function Se(e,t){var n=M()(t,"specialRequests.options",[]),a=p()(M()(e,"specialRequests",[]),(function(e){return f()(n,e)>-1}));return!I()(M()(e,"mealPreference"))||!I()(a)||!I()(M()(e,"seatPreference"))}},,function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";n(82)},function(e,t,n){"use strict";var a=n(1485),r=n(12),i=(n(1298),n(526)),s=function(e){var t=e.airlineCode,n=e.flightNumber,a=e.packageName,s=void 0===a?i.a:a,o=e.key,l=void 0===o?"flightNumber":o;return Object(r.i)([s,l],{airlineCode:t,flightNumber:n})},o=n(1589),l=(n(1479),n(217)),c=n.n(l),u=n(65),d=n.n(u),p=n(4),h=n.n(p),f=function(e,t,n){return h()(t,(function(t,a){return c()(a)&&d()(a,"key")&&d()(a,"options")?t[a.key]=Object(r.i)([e,a.key],a.options,void 0,n):t[a]=Object(r.i)([e,a],void 0,void 0,n),t}),{})},m=(n(1471),n(1470),n(1469),n(1710));n(0),n(1301),n(124),n(523),n(1472),n(1961),m.a;n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o.a})),n.d(t,"e",(function(){return f}))},function(e,t,n){"use strict";(function(e){var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(252));t.a=function(t,n){return function(a){function i(){var t,n;r()(this,i);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=l()(this,(t=u()(i)).call.apply(t,[this].concat(s))),g()(p()(n),"initialTime",Object(C.b)()?Object(C.a)():e.performance.now()),g()(p()(n),"requestCount",1),n}return f()(i,a),s()(i,[{key:"componentDidMount",value:function(){n||this.sendBeacon()}},{key:"componentDidUpdate",value:function(t){var a=!y()(t,n,!1),r=!y()(this.props,n,!1),i=r&&a!==r;1!==this.requestCount&&!r&&a?this.initialTime=e.performance.now():i&&this.sendBeacon()}},{key:"sendBeacon",value:function(){var t,n,a=this.props.location.pathname.replace("/","");Object(C.d)({beaconType:"pageRendered",beaconIdentifier:a},(t=this.initialTime,n=e.performance.now()-t,Object(C.b)()?(Object(C.f)(!1),e.performance.timing.loadEventEnd-e.performance.timing.navigationStart+n):n),this.requestCount),this.requestCount+=1}},{key:"render",value:function(){return E.a.createElement(t,this.props)}}]),i}(b.Component)}}).call(this,n(41))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n={top:0,left:0};if(e.getBoundingClientRect){var a=e.getBoundingClientRect();n.left=a.left,n.top=a.top,t||(n.left+=void 0!==window.scrollX?window.scrollX:window.pageXOffset,n.top+=void 0!==window.scrollY?window.scrollY:window.pageYOffset)}else{var r=0,i=0;do{r+=e.offsetLeft-(t?0:e.scrollLeft),i+=e.offsetTop-(t?0:e.scrollTop)}while(e=e.offsetParent);n.left=r,n.top=i}return n};t.default=a,e.exports=t.default},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n,i=String(e);return(n=a[i.toLowerCase()])?n:(n=r[i.toLowerCase()])||(1===i.length?i.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var i;if(i=a[t.toLowerCase()])return i===n;if(i=r[t.toLowerCase()])return i===n}else if("number"==typeof t)return t===n;return!1}};var a=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)a[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)a[i-48]=i;for(i=1;i<13;i++)a["f"+i]=i+111;for(i=0;i<10;i++)a["numpad "+i]=i+96;var s=t.names=t.title={};for(i in a)s[a[i]]=i;for(var o in r)a[o]=r[o]},function(e,t,n){"use strict";(function(e){var a=n(17),r=n.n(a);t.a=function(){return e.moment=e.moment||r.a,e.moment}}).call(this,n(41))},function(e,t,n){var a=n(1368),r=n(1279).f,i=n(1276),s=n(1268),o=n(1625),l=n(1253)("toStringTag");e.exports=function(e,t,n,c){if(e){var u=n?e:e.prototype;s(u,l)||r(u,l,{configurable:!0,value:t}),c&&!a&&i(u,"toString",o)}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);var r=function(e,t){if(a)return a.call(e,t);for(var n=e.parentNode?e.parentNode.querySelectorAll(t):[],r=0;r<n.length;r++)if(n[r]===e)return!0;return!1};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var a=n(1372);t.a=function(e){var t=e.query,n=e.pathname,r=e.replaceQuery;return Object(a.a)({query:t,pathname:n,method:"replace",replaceQuery:r})}},function(e,t){e.exports=!0},,function(e,t,n){var a=n(1368),r=n(1291),i=n(1253)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=a?r:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:s?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={DISABLED:"disabled",ACTIVE:"current",COMPLETED:"completed",HOVER:"onHover"}},function(e,t,n){var a=n(1316),r=n(1378),i=n(1272),s=n(1284),o=n(1381),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d;return function(h,f,m,g){for(var v,y,b=i(h),E=r(b),C=a(f,m,3),k=s(E.length),S=0,_=g||o,O=t?_(h,k):n?_(h,0):void 0;k>S;S++)if((p||S in E)&&(y=C(v=E[S],S,b),e))if(t)O[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(O,v)}else if(u)return!1;return d?-1:c||u?u:O}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=(n(6),n(50)),l=(n(1292),{success:{id:"success",icon:o.a.CHECK},warning:{id:"warning",icon:o.a.ALERT_TRIANGLE},error:{id:"error",icon:o.a.BAN},info:{id:"info",icon:o.a.NOTE}}),c=function(e){var t=e.children,n=e.customClassNames,a=void 0===n?"":n,i=e.icon,c=e.showIcon,u=e.hideIconInMobileView,d=e.inline,p=void 0!==d&&d,h=e.text,f=e.title,m=e.role,g=e.type,v=void 0===g?l.info.id:g,y=e.id,b=e.tag,E=l[v]?l[v].id:l.info.id,C=i||l[E].icon,k=s()("ducp-component-message","Message spark-message",a,"spark-message--".concat(E),{"spark-message--lg spark-panel":!p,"hide-icon-on-mobile":u}),S=c&&r.a.createElement(o.c,{name:C,className:"spark-message__icon",fill:!0});return p?r.a.createElement("div",{className:k,role:m,id:y},S,r.a.createElement("p",{className:"spark-message__content content"},f&&r.a.createElement("b",{className:"title"},f),t||h)):r.a.createElement("div",{className:k,role:m,id:y},r.a.createElement("div",{className:"spark-panel__content"},S,r.a.createElement("div",{className:"spark-message__content content"},f&&r.a.createElement(b,{className:"spark-message__heading title"},f),t||r.a.createElement("p",null,h))))};c.defaultProps={children:void 0,customClassNames:void 0,text:void 0,title:void 0,type:void 0,icon:void 0,role:void 0,showIcon:!0,hideIconInMobileView:!1,inline:void 0,id:void 0,tag:"h4"},c.displayName="Message";var u=c;n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(1746)},function(e,t,n){e.exports=n(1755)},function(e,t,n){e.exports=n(1839)},function(e,t,n){var a=n(1269),r=n(1377),i=n(1308),s=n(1277),o=n(1328),l=n(1268),c=n(1420),u=Object.getOwnPropertyDescriptor;t.f=a?u:function(e,t){if(e=s(e),t=o(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var a=n(1291);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(0),E=n.n(b),C=(n(6),n(1)),k=n.n(C),S=n(1539),_=n(1602),O=n(1908);t.a=function(e){var t,n;return n=t=function(t){function n(e){var t;return s()(this,n),t=u()(this,p()(n).call(this,e)),y()(f()(t),"onBagFeeLinkClick",(function(e){e.preventDefault(),t.setState({isBagFeeOpen:!0})})),y()(f()(t),"onFareRulesClick",(function(e){e&&e.preventDefault(),t.setState({isFareRulesOpen:!0})})),t.state={isBagFeeOpen:!1,isFareRulesOpen:!1,isAddToCalendarOpen:!1},t}return g()(n,t),l()(n,[{key:"onAddToCalendarClick",value:function(){this.setState({isAddToCalendarOpen:!0})}},{key:"onAddToCalendarCloseClick",value:function(){this.setState({isAddToCalendarOpen:!1})}},{key:"onBagFeeCloseClick",value:function(){this.setState({isBagFeeOpen:!1})}},{key:"onFareRulesCloseClick",value:function(e){e&&e.preventDefault(),this.setState({isFareRulesOpen:!1})}},{key:"renderAddToCalendarModal",value:function(){var e=this;return k.a.createElement(O.a,r()({key:"add-to-calendar"},this.props,{onCloseClick:function(t){return e.onAddToCalendarCloseClick(t)}}))}},{key:"renderBagFeeModal",value:function(){var e=this,t=E()(this,"props.bagfee",{});return k.a.createElement(_.a,r()({key:"bagfee",currentFlow:this.props.currentFlow,className:"modal",onCloseClick:function(){return e.onBagFeeCloseClick()}},t))}},{key:"renderFareRulesModal",value:function(){var e=this;return k.a.createElement(S.a,{key:"fare-rules",currentFlow:this.props.currentFlow,onCloseClick:function(t){return e.onFareRulesCloseClick(t)}})}},{key:"renderModals",value:function(){var e=[];return this.state.isFareRulesOpen&&e.push(this.renderFareRulesModal()),this.state.isBagFeeOpen&&e.push(this.renderBagFeeModal()),this.state.isAddToCalendarOpen&&e.push(this.renderAddToCalendarModal()),e}},{key:"render",value:function(){return k.a.createElement("div",null,k.a.createElement(e,r()({},this.props,{onBagFeeLinkClick:this.onBagFeeLinkClick,onFareRulesClick:this.onFareRulesClick})),this.renderModals())}}]),n}(C.Component),y()(t,"defaultProps",{currentFlow:""}),n}},function(e,t,n){var a=n(1285);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var a=n(1254),r=n(1253),i=n(1382),s=r("species");e.exports=function(e){return i>=51||!a((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var a=n(1276);e.exports=function(e,t,n,r){r&&r.enumerable?e[t]=n:a(e,t,n)}},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),function(e){var t=e.crumbSubTitle;return r.a.createElement("span",{className:"dxp-breadcrumb-item-subtitle-container"},r.a.createElement("span",{className:"dxp-breadcrumb-item-subtitle"},t))});n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var a=n(1254);e.exports=function(e,t){var n=[][e];return!n||!a((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){n(1448);var a=n(1627),r=n(1255),i=n(1304),s=n(1276),o=n(1288),l=n(1253)("toStringTag");for(var c in a){var u=r[c],d=u&&u.prototype;d&&i(d)!==l&&s(d,l,c),o[c]=o.Array}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),E=n.n(b),C=(n(1292),n(1489)),k=n(1534),S=n(50),_=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e,t=this.props,n=t.separator,a=t.iconName,r=t.type;return a?e=y.a.createElement(S.c,{name:a}):n?e=n:r&&(e=y.a.createElement(S.c,{name:r,fill:!0})),y.a.createElement("span",{className:"".concat("ducp-component-flight-route"," separator")},e)}}]),t}(v.PureComponent);f()(_,"TYPES",{ONWARD:S.a.AIRPLANE_ROUTE,RETURN:S.a.AIRPLANE_ROUTE_RETURN,ROUND:S.a.AIRPLANE_ROUTE_ROUND}),f()(_,"defaultProps",{iconName:void 0,type:_.TYPES.ONWARD,separator:void 0});var O=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.airports,a=e.separatorAriaLabel,r=e.separator,i=e.iconName,s=e.type,o=e.tag;if(g()(n))return!1;var l=n.departure,c=n.arrival,u=E()("ducp-component-flight-route",t),d=y.a.createElement(_,{separator:r,iconName:i,type:s});return y.a.createElement(k.a,{className:u,tag:o,separator:d,separatorAriaLabel:a},y.a.createElement(C.a,{className:"departure",code:l.code,name:l.name,showStacked:!0}),y.a.createElement(C.a,{className:"arrival",code:c.code,name:c.name,showStacked:!0}))}}]),t}(v.PureComponent);f()(O,"TYPES",_.TYPES),f()(O,"defaultProps",{className:void 0,iconName:void 0,type:void 0,separator:void 0,separatorAriaLabel:"to",tag:"div"}),n.d(t,"a",(function(){return _}));t.b=O},function(e,t,n){e.exports=n(1743)},function(e,t,n){e.exports=n(1751)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1325)),i=a(n(1265)),s=a(n(1768)),o=["January","February","March","April","May","June","July","August","September","October","November","December"],l=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],d=[],p=[],h=0,f={create:function(e){e=e instanceof Date?e:new Date(e.year,e.month-1,e.day);var t=(0,s.default)(f);return t._date=e,t._cache={},t},get year(){return this._instanceCheck("year"),this._date.getFullYear()},set year(e){return this._instanceCheck("year"),this._clearCache(),this._date.setFullYear(e)},get month(){return this._instanceCheck("month"),this._date.getMonth()+1},set month(e){return this._instanceCheck("month"),this._clearCache(),this._date.setMonth(e-1)},get day(){return this._instanceCheck("day"),this._date.getDate()},set day(e){return this._instanceCheck("day"),this._clearCache(),this._date.setDate(e)},set:function(e){e=e||{},this.year=e.year||this.year,this.month=e.month||this.month,this.day=e.day||this.day},getMonthName:function(e){return o[e-1]},get monthName(){return this._instanceCheck("monthName"),f.getMonthName(this.month)},getMonthNames:function(){return o},getMonthNameShort:function(e){return l[e-1]},get monthNameShort(){return this._instanceCheck("monthName"),f.getMonthNameShort(this.month)},getMonthNamesShort:function(){return l},setMonthNames:function(e){12===e.length&&(o=e)},setMonthNamesShort:function(e){12===e.length&&(l=e)},getDayOfWeek:function(e){var t=(e instanceof Date?e:new Date(e.year,e.month-1,e.day)).getDay()-h;return(t<0?7-Math.abs(t):t)+1},get dayOfWeek(){return f.getDayOfWeek(this._date)},getDayName:function(e){return c[e-1+h]||c[c.length-e-1+h]},get dayName(){return this._instanceCheck("dayName"),f.getDayName(this.dayOfWeek)},getDayNames:function(){return d.length?d:c},getDayNameShort:function(e){return u[e-1+h]||c[c.length-e-1+h]},get dayNameShort(){return this._instanceCheck("dayNameShort"),f.getDayNameShort(this.dayOfWeek)},getDayNamesShort:function(){return p.length?p:u},setDayNames:function(e){7===e.length&&(c=e)},setDayNamesShort:function(e){7===e.length&&(u=e)},getWeekStartsOn:function(){return h},setWeekStartsOn:function(e){h=e,e?(d=(0,i.default)(c).call(c,h),d=(0,r.default)(d).call(d,(0,i.default)(c).call(c,0,h)),p=(0,i.default)(u).call(u,h),p=(0,r.default)(p).call(p,(0,i.default)(u).call(u,0,h))):(d=[],p=[])},now:function(){return f.create(new Date)},getNextYear:function(e){return f.create(new Date(e.year+1,e.month-1,e.day))},get nextYear(){return this._instanceCheck("nextYear"),this._cache.nextYear||(this._cache.nextYear=f.getNextYear(this))},getWeekStart:function(e){var t=f.create(new Date(e.year,e.month-1,e.day-f.getDayOfWeek(e)+1));return t.weekStartsOn=h,t},get weekStart(){return this._instanceCheck("weekStart"),this._cache.weekStart&&this._cache.weekStart.weekStartsOn===h?this._cache.weekStart:this._cache.weekStart=f.getWeekStart(this)},getMonthStart:function(e){return f.create(new Date(e.year,e.month-1,1))},get monthStart(){return this._instanceCheck("monthStart"),this._cache.monthStart||(this._cache.monthStart=f.getMonthStart(this))},getNextWeek:function(e){var t=f.getWeekStart(e);return f.create(new Date(t.year,t.month-1,t.day+7))},get nextWeek(){return this._instanceCheck("nextWeek"),this._cache.nextWeek||(this._cache.nextWeek=f.getNextWeek(this))},getNextDay:function(e){return f.create(new Date(e.year,e.month-1,e.day+1))},get nextDay(){return this._instanceCheck("nextDay"),this._cache.nextDay||(this._cache.nextDay=f.getNextDay(this))},getNextMonth:function(e){return 31===e.day&&1!==e.month&&7!==e.month&&12!==e.month?f.create(new Date(e.year,e.month,e.day-1)):e.day>28&&1===e.month?f.create(new Date(e.year,e.month+1,0)):f.create(new Date(e.year,e.month,e.day))},get nextMonth(){return this._instanceCheck("nextMonth"),this._cache.nextMonth||(this._cache.nextMonth=f.getNextMonth(this))},getPreviousYear:function(e){return f.create(new Date(e.year-1,e.month-1,e.day))},get previousYear(){return this._instanceCheck("previousYear"),this._cache.previousYear||(this._cache.previousYear=f.getPreviousYear(this))},getPreviousWeek:function(e){var t=f.getWeekStart(e),n=f.create(new Date(t.year,t.month-1,t.day-7));return n.weekStartsOn=h,n},get previousWeek(){return this._instanceCheck("previousWeek"),this._cache.previousWeek||(this._cache.previousWeek=f.getPreviousWeek(this))},getPreviousDay:function(e){return f.create(new Date(e.year,e.month-1,e.day-1))},get previousDay(){return this._instanceCheck("previousDay"),this._cache.previousDay||(this._cache.previousDay=f.getPreviousDay(this))},getPreviousMonth:function(e){return 31===e.day&&1!==e.month&&3!==e.month&&8!==e.month?f.create(new Date(e.year,e.month-2,e.day-1)):e.day>28&&3===e.month?f.create(new Date(e.year,e.month-1,0)):f.create(new Date(e.year,e.month-2,e.day))},get previousMonth(){return this._instanceCheck("previousMonth"),this._cache.previousMonth||(this._cache.previousMonth=f.getPreviousMonth(this))},getMonthEnd:function(e){return f.create(new Date(e.year,e.month,0))},get monthEnd(){return this._instanceCheck("monthEnd"),this._cache.monthEnd||(this._cache.monthEnd=f.getMonthEnd(this))},equal:function(e,t,n){return this.equalDay(e,t,n)},equalDay:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.year===t[r].year&&e.month===t[r].month&&e.day===t[r].day&&s++;return n?s===i:!!s},equalWeek:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.weekStart.equalDay(t[r].weekStart)&&s++;return n?s===i:!!s},equalMonth:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year!==t[r].year||e.year===t[r].year&&e.month!==t[r].month||s++;return n?s===i:!!s},equalYear:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.year===t[r].year&&s++;return n?s===i:!!s},before:function(e,t,n){return this.beforeDay(e,t,n)},beforeDay:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e._date>=t[r]._date||s++;return n?s===i:!!s},beforeWeek:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.weekStart.beforeDay(t[r].weekStart)&&s++;return n?s===i:!!s},beforeMonth:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year>t[r].year||e.year===t[r].year&&e.month>=t[r].month||s++;return n?s===i:!!s},beforeYear:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year>=t[r].year||s++;return n?s===i:!!s},after:function(e,t,n){return this.afterDay(e,t,n)},afterDay:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e._date<=t[r]._date||s++;return n?s===i:!!s},afterWeek:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)t[r]&&e.weekStart.afterDay(t[r].weekStart)&&s++;return n?s===i:!!s},afterMonth:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year<t[r].year||e.year===t[r].year&&e.month<=t[r].month||s++;return n?s===i:!!s},afterYear:function(e,t,n){var a=this._checkComparisonArgs(e,t,n);e=a[0],t=a[1],n=a[2];for(var r=0,i=t.length,s=0;r<i;r++)!t[r]||e.year<=t[r].year||s++;return n?s===i:!!s},earliest:function(e){for(var t,n=0,a=e.length;n<a;n++)t&&!e[n].before(t)||(t=e[n]);return t},latest:function(e){for(var t,n=0,a=e.length;n<a;n++)t&&!e[n].after(t)||(t=e[n]);return t},clone:function(e){if(!e&&this._date&&this._date instanceof Date&&f.isPrototypeOf(this)&&(e=this),!e)throw new Error("Must pass a date to clone or call on an instance.");return f.create(new Date(e._date.valueOf()))},_checkComparisonArgs:function(e,t,n){if(void 0===t||"boolean"==typeof t){if(!f.isPrototypeOf(this))throw new Error("Cannot compare only one date!");n=t,t=e,e=this}return[e,t=t instanceof Array?t:[t],n]},_instanceCheck:function(e){if(!(this._date&&this._date instanceof Date&&f.isPrototypeOf(this)))throw new Error('Cannot access the property "'+e+'" of the date helper with creating an instance!')},_clearCache:function(){this._instanceCheck("clearCache"),this._cache={}}},m=f;t.default=m,e.exports=t.default},function(e,t,n){var a=n(1259);e.exports=function(e,t){if(!a(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!a(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var a,r=n(1270),i=n(1621),s=n(1364),o=n(1329),l=n(1446),c=n(1379),u=n(1331),d=u("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"<\/script>"},f=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=a?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(a):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};o[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=r(e),n=new p,p.prototype=null,n[d]=e):n=f(),void 0===t?n:i(n,t)}},function(e,t,n){var a=n(1365),r=n(1366),i=a("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var a=n(1268),r=n(1272),i=n(1331),s=n(1427),o=i("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=r(e),a(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="SabreDxContainerCountries"},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0;var r=a(n(1242));t.Base=r.default;var i=a(n(1742));t.CalendarPopover=i.default;var s=a(n(1777));t.Carousel=s.default;var o=a(n(1780));t.DateInput=o.default;var l=a(n(1399));t.Expand=l.default;var c=a(n(1788));t.Header=c.default;var u=a(n(1503));t.Menu=u.default;var d=a(n(1389));t.Modal=d.default;var p=a(n(1792));t.MultiSelectInput=p.default;var h=a(n(1690));t.NumberSelector=h.default;var f=a(n(1384));t.Popover=f.default;var m=a(n(1797));t.ProgressIndicator=m.default;var g=a(n(1805));t.RangeSlider=g.default;var v=a(n(1433));t.SelectInput=v.default;var y=a(n(1806));t.Slider=y.default;var b=a(n(1807));t.Table=b.default;var E=a(n(1810));t.Tabs=E.default;var C=a(n(1505));t.TextInput=C.default;var k=a(n(1811));t.ToggleSwitch=k.default;var S=a(n(1562));t.Toolbar=S.default;var _=a(n(1455));t.Tooltip=_.default;var O=a(n(1722));t.ScrollToTop=O.default;var w=a(n(1540));t.StepIndicator=w.default;var P=a(n(1831));t.Filter=P.default;var A=a(n(1327));t.DateHelper=A.default;var x=a(n(1833));t.Toast=x.default;var N=a(n(1834));t.AutoSuggest=N.default;var T=a(n(1512));t.FixedPanel=T.default;var I=a(n(1836));t.KPI=I.default;var B=a(n(1513));t.PanelCarousel=B.default;var L=a(n(1838));t.Payments=L.default;var D=a(n(1853));t.Accordion=D.default;var j=a(n(1874));t.Button=j.default;var F=a(n(1875));t.FloatingActionButton=F.default;var M=a(n(1882));t.SideFixedPanel=M.default},function(e,t,n){var a=n(1421),r=n(1364);e.exports=Object.keys||function(e){return a(e,r)}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a,r,i,s=n(1623),o=n(1255),l=n(1259),c=n(1276),u=n(1268),d=n(1331),p=n(1329),h=o.WeakMap;if(s){var f=new h,m=f.get,g=f.has,v=f.set;a=function(e,t){return v.call(f,e,t),t},r=function(e){return m.call(f,e)||{}},i=function(e){return g.call(f,e)}}else{var y=d("state");p[y]=!0,a=function(e,t){return c(e,y,t),t},r=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:a,get:r,has:i,enforce:function(e){return i(e)?r(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return I})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return L})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return F})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return R})),n.d(t,"f",(function(){return V})),n.d(t,"h",(function(){return H})),n.d(t,"e",(function(){return U})),n.d(t,"l",(function(){return q}));var a=n(3),r=n.n(a),i=n(15),s=n.n(i),o=n(83),l=n.n(o),c=n(338),u=n.n(c),d=n(43),p=n.n(d),h=n(4),f=n.n(h),m=n(5),g=n.n(m),v=n(36),y=n.n(v),b=n(115),E=n.n(b),C=n(2),k=n.n(C),S=n(0),_=n.n(S),O=n(27),w=n.n(O),P=n(13),A=n.n(P),x=n(12),N=n(11);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e,t){var n=_()(e,"availableInventory");if(E()(n))return t?n-1:n+1}function B(e,t){var n=_()(e,"availableInventory");return E()(n)?n:t}function L(e,t,n){var a=_()(e,"offers.itineraryParts.".concat(t,".availableInventory"));return E()(a)?a:n}function D(e,t,n){return t?n?_()(e,"offers.itineraryParts[".concat(t,"].segments[").concat(n,"].passengerOffers")):_()(e,"offers.itineraryParts[".concat(t,"].passengerOffers")):_()(e,"offers.passengerOffers")}function j(e,t,n,a,r){return u()(e.ancillaries,(function(e){var i=D(t[e.code],a,r);return i&&i[n]?i[n].quantity:0}))}function F(e,t,n,a,r){return u()(l()(n),(function(n){var i=D(t[e.code],a,r);return i&&i[n.index]?i[n.index].quantity:0}))}function M(e){return{airlineCode:_()(e,"flight.operatingAirlineCode")||_()(e,"flight.airlineCode"),flightNumber:_()(e,"flight.flightNumber"),origin:Object(x.a)("airports.".concat(_()(e,"origin"))),destination:Object(x.a)("airports.".concat(_()(e,"destination"))),isInventoryControlled:p()(e.passengerOffers,(function(e){return E()(e.availableInventory)}))}}function R(e){return{flightNumber:g()(e.segmentsMap,(function(t){var n=_()(e,"segments[".concat(t,"].flight"),{}),a=n.airlineCode,r=n.flightNumber;return"".concat(a," ").concat(r)})).join(", "),origin:Object(x.a)("airports.".concat(_()(e,"segments[".concat(w()(e.segmentsMap),"].origin")))),destination:Object(x.a)("airports.".concat(_()(e,"segments[".concat(y()(e.segmentsMap),"].destination")))),isInventoryControlled:p()(e.passengerOffers,(function(e){return E()(e.availableInventory)}))}}function V(e){return f()(e.offers.itineraryParts,(function(e,t){return k()(t.passengerOffers)||e.push({itineraryPartIndex:t.index,itineraryPartKey:t.key,itineraryPart:t,segmentKey:"",passengerOffers:t.passengerOffers}),k()(t.passengerOffers)&&A()(t.segments,(function(n){e.push({itineraryPartIndex:t.index,itineraryPartKey:t.key,itineraryPart:t,segmentKey:n.key,segment:n,passengerOffers:n.passengerOffers})})),e}),[])}function H(e,t,n){var a=e.offers,r=a&&a.itineraryParts[t];if(r){var i=_()(r,"segments");return i&&!k()(n)?i[n].origin:r.origin}return""}function U(e,t,n){var a="".concat(t.origin,"-").concat(t.destination),r=e.getIn([a,"passengerAllowance",String(n.index)]);if(!k()(r))return r;var i=e.getIn([a,"disclosure",n.type]);return k()(i)?Object(N.Map)():i}function W(e,t,n,a,i,o){var l=D(e,n,t);return g()(o,(function(o){var c=o.index,u=s()(l,(function(e){return _()(e,["ancillaryPassenger","index"])===c}));if(!u)return{id:String(c),personName:o,isNotAvailable:!0};var d=U(a,function(e,t,n){return n?_()(e,["offers","itineraryParts",t,"segments",n],{}):_()(e,["offers","itineraryParts",t],{})}(e,n,t),u.ancillaryPassenger).get("totalUnits",0);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:String(c),personName:u.ancillaryPassenger,total:u.total,count:_()(u,"quantity",_()(u,"assignedQuantity",0)),allowanceWithEntitlements:d,baggageAllowance:d,isNotAvailable:!u.available},i(u))}))}function q(e,t,n,a,r,i){var s=function(e,t,n){var a=e.offers,r=void 0===a?{}:a;if(t){var i=r.itineraryParts[t];if(n){var s=i.segments[n];return{origin:s.origin,destination:s.destination}}return{origin:_()(i,"segments[".concat(w()(i.segmentsMap),"].origin")),destination:_()(i,"segments[".concat(y()(i.segmentsMap),"].destination"))}}var o=_()(r,"itineraryParts[".concat(w()(r.itineraryPartsMap),"]")),l=_()(r,"itineraryParts[".concat(y()(r.itineraryPartsMap),"]"));return{origin:_()(o,"segments[".concat(w()(o.segmentsMap),"].origin")),destination:_()(l,"segments[".concat(y()(l.segmentsMap),"].destination"))}}(e,n,t),o=s.origin,l=s.destination;return[{id:"".concat(n,"-").concat(t),arrival:{code:l,name:Object(x.i)("airports.".concat(l))},departure:{code:o,name:Object(x.i)("airports.".concat(o))},passengers:W(e,t,n,a,r,i)}]}},function(e,t,n){var a=n(1336),r=Math.max,i=Math.min;e.exports=function(e,t){var n=a(e);return n<0?r(n+t,0):i(n,t)}},function(e,t,n){"use strict";var a=n(1328),r=n(1279),i=n(1308);e.exports=function(e,t,n){var s=a(t);s in e?r.f(e,s,i(0,n)):e[s]=n}},function(e,t,n){e.exports=n(1609)},function(e,t,n){"use strict";var a=n(1643).charAt,r=n(1337),i=n(1425),s=r.set,o=r.getterFor("String Iterator");i(String,"String",(function(e){s(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=o(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=a(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return u}));var a="TICKET_NUMBER",r="FREQUENT_FLYER",i="CHECK_IN_WINDOW_NOT_YET_OPEN",s="CHECK_IN_WINDOW_CLOSED",o="PASSENGER_RETRIEVAL_OPTIONS_REQUIRED_CORPORATE_RESERVATION",l="NON_REVENUE",c={CONFIRMED:"HK",NON_REVENUE:"MM"},u="ADDITIONAL_VERIFICATION_REQUIRED"},,,function(e,t,n){"use strict";var a=n(12),r=n(1333);t.a=function(e){var t=e.code;return Object(a.i)([r.a,"countries",t],{code:t},void 0,void 0,[r.a,"default"])}},function(e,t,n){"use strict";var a=n(1372);t.a=function(e){var t=e.query,n=e.pathname;return Object(a.a)({query:t,pathname:n,method:"push"})}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=function(e){var t=e.className,n=e.children,a=e.header,i=e.footer,o=e.altView,l=s()("ducp-component-panel","spark-panel",t);return r.a.createElement("div",{className:l},a&&r.a.createElement("div",{className:"spark-panel__".concat(o?"alt-header":"header"),role:"heading",tabIndex:"0"},o?a:r.a.createElement("h3",null,a)),n&&r.a.createElement("div",{className:"spark-panel__content ".concat("ducp-component-panel","-content")},n),i&&r.a.createElement("div",{className:"spark-panel__footer"},i))};o.defaultProps={className:void 0,header:void 0,footer:void 0,altView:void 0,children:void 0};var l=o,c=n(26),u=n.n(c),d=n(22),p=n.n(d),h=n(29),f=n.n(h),m=n(28),g=n.n(m),v=n(30),y=n.n(v),b=n(3),E=n.n(b),C=n(1264),k=n(50),S=function(e){function t(){return u()(this,t),f()(this,g()(t).apply(this,arguments))}return y()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.text,a=e.expanded,i=e.onToggle,o=s()("".concat("ducp-component-panel","-details-toggle"),"row"),l=a?k.a.ARROW_TRIANGLE_UP:k.a.ARROW_TRIANGLE_DOWN;return r.a.createElement("div",{className:o},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(C.a,{isTextButton:!0,className:s()("show-details",t),onClick:i,isExpanded:a},n," ",r.a.createElement(k.c,{name:l,fill:!0}))))}}]),t}(a.PureComponent);E()(S,"defaultProps",{className:void 0,expanded:!1}),n.d(t,"a",(function(){return S}));t.b=l},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(38),y=n.n(v),b=n(16),E=n.n(b),C=(n(6),n(1)),k=n.n(C),S=n(39),_=n.n(S),O=n(12),w=n(50),P=n(1608),A=n(88),x=n(521),N=n(57),T=n.n(N),I=n(0),B=n.n(I),L=n(763),D=n(177),j=n(136),F=function(e){var t=e.onCancel,n=e.onAccept;return k.a.createElement(j.a,{key:"cancel",className:"cancel-refund-modal"},k.a.createElement("h2",{className:"modal-header"},e.title),k.a.createElement("p",null,e.description),k.a.createElement("div",{className:"pull-right"},k.a.createElement(A.a,{className:"secondary small",onClick:t},Object(O.i)("app.cancel")),k.a.createElement(L.a,T()({},function(e,t){var n=B()(e,"[".concat(t,"]"));return{to:{pathname:n.path,search:Object(D.stringify)(n.query)}}}(e,"acceptLink"),{tabIndex:"-1"}),k.a.createElement(A.a,{className:"primary small",onClick:function(){return n&&n()}},Object(O.i)("app.yes")))))};F.defaultProps={title:"",description:"",onAccept:void 0};var M=F,R=(n(2089),n(2090),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCancelModalOpen:!1}),g()(p()(n),"focusContinueButton",(function(){return n.continueButton&&n.continueButton.focus()})),g()(p()(n),"focusCancelButton",(function(){return n.cancelButton&&n.cancelButton.focus()})),n}return f()(t,e),s()(t,[{key:"onCancel",value:function(e){e.preventDefault(),this.setState({isCancelModalOpen:!0})}},{key:"getCancelModalProps",value:function(){var e=this,t=this.props,n=t.modal,a=t.acceptLink;return E()({acceptLink:a},y()(n,["title","description"]),{onCancel:function(){return e.setState({isCancelModalOpen:!1})}})}},{key:"getContinueLabel",value:function(){var e=this.props,t=e.continueTitle,n=e.continueButtonIsLoading,a=e.continueOnlyTitle;return n?k.a.createElement(x.a,null):a?Object(O.a)(a):t?Object(O.a)("app.continue",{pageName:t}):Object(O.a)("app.continueOnly")}},{key:"renderBackButton",value:function(){var e=this.props,n=e.onBack,a=e.disableBackButton,r=e.backTitle;return k.a.createElement(A.a,{id:"dxp-page-navigation-back-button",onClick:n,className:_()("medium","secondary","back"),disabled:a,title:r||Object(O.i)("app.back")},!r&&t.renderBackArrow(),r&&r)}},{key:"renderCancelButton",value:function(){var e=this;return k.a.createElement(A.a,{id:P.a,className:_()("medium","secondary","cancel"),onClick:function(t){return e.onCancel(t)},ref:function(t){e.cancelButton=t}},Object(O.a)("pageNavigationButtons.cancel"))}},{key:"renderContinueButton",value:function(){var e=this,t=this.props.disableContinueButton,n=_()("dxp-button","medium");return k.a.createElement(A.a,{ref:function(t){e.continueButton=t},id:P.b,onClick:this.props.onContinue,className:_()(n,"primary","continue",{"btn-disabled":t}),disabled:t},this.getContinueLabel())}},{key:"render",value:function(){var e=this.props,t=e.onContinue,n=e.onBack,a=e.showCancelButton;return k.a.createElement("div",{className:"dxp-page-navigation-buttons",id:"dxp-page-navigation-buttons"},this.state.isCancelModalOpen&&M(this.getCancelModalProps(),this.context),n&&this.renderBackButton(),a&&this.renderCancelButton(),t&&this.renderContinueButton())}}],[{key:"renderBackArrow",value:function(){return k.a.createElement("span",null,k.a.createElement(w.c,{name:w.a.ARROW_BASIC_LEFT,className:"icon",srOnlyText:Object(O.i)("ancillaries.back")}))}}]),t}(C.Component));g()(R,"defaultProps",{continueTitle:void 0,backTitle:void 0,continueOnlyTitle:void 0,modal:void 0,disableBackButton:!1,disableContinueButton:!1,continueButtonIsLoading:!1,showCancelButton:!1,onContinue:void 0,onBack:void 0,acceptLink:void 0}),n.d(t,"a",(function(){return R}))},function(e,t,n){e.exports=n(1759)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1263));var i=function(e,t,n){if((n=void 0!==n&&n)&&(e.textContent=""),t instanceof window.HTMLCollection)for(;t.length;)e.appendChild(t[0]);else(0,r.default)(t,(function(t){t&&e.appendChild(t)}))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250));var i=function(e,t){return(0,r.default)(Array.prototype).call(e,t)};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1260)),l=a(n(1350)),c=a(n(1238)),u=a(n(1239)),d=a(n(1258)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1394)),v=n(1271);function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(){},E=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(y()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._maintainFocus((function(){this._parseParams(),this._bindEventListenerCallbacks(),this._addEventListeners()})),(0,h.default)(t)):(0,h.default)(t)}return(0,u.default)(a,[{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isRunning)return this;this.isRunning=!0;for(var n=this.inputEl.value,a="",r="",i=0,s=this.format.length,o=0,l=!1;i<s;i++)"\\d"===this.format[i]?(this.characters[i-o]?a+=this.characters[i-o]:l=!0,r+=l&&this.placeholder[i]?this.placeholder[i]:"&nbsp;"):(l||(a+=this.format[i]),r+=this.format[i],o++);return this.isFocused&&(e=void 0===e?this._getCaretEnd():e),this.isFocused&&!this.characters.length&&(e=a.length),!this.characters.length&&t.notOnlyPlaceholders&&(a=""),this.inputEl.value=a,this.placeholderEl.innerHTML=r,this._updateWidth(),this.isFocused&&this._setCaretPositionTranslated(e),a!==n&&(0,g.default)(this.inputEl,"input"),this.isRunning=!1,a!==n&&(this.onChange||b)(a,n,this),!this._atEnd&&this.isFocused&&this.characters.length===this.maxLength&&this._caretIsAtEnd()?(this._atEnd=!0,(this.onEnd||b)(this)):this._atEnd=!1,this}},{key:"addCharacterAtIndex",value:function(e,t,n,a){var r,i;if(this.maxLength&&t>=this.maxLength)return this;if(!a){var s;try{s=new RegExp(this.format[t])}catch(e){}if(!s||!s.exec(e))return this}((0,l.default)(r=this.characters).call(r,t,n-t,e),this.maxLength&&this.characters.length>this.maxLength)&&(0,l.default)(i=this.characters).call(i,this.maxLength,this.characters.length);return this.run(t+1),this}},{key:"addCharacterAtCaret",value:function(e){var t,n=this._getCaretStart();if(void 0===this.format[n])return(this.onEnd||b)(this,e),this;try{t=new RegExp(this.format[n])}catch(e){}return t&&t.exec(e)?(this.addCharacterAtIndex(e,this._getCaretStartTranslated(),this._getCaretEndTranslated(),!0),this):(this._moveCaret("right")&&this.addCharacterAtCaret(e),this)}},{key:"removeCharacterAtIndex",value:function(e,t,n){var a;return e+n<0||(t=void 0!==t?t:1,(0,l.default)(a=this.characters).call(a,e+n,t),this.run(e+(n||1))),this}},{key:"removeCharacterAtCaret",value:function(e){var t,n=this._getCaretStartTranslated(),a=this._getCaretEndTranslated(),r=1;return n!==a&&(a<n&&(t=n,n=a,a=t),r=a-n,n++),this.removeCharacterAtIndex(n,r,e),this}},{key:"removeCharactersInRange",value:function(){return this.removeCharacterAtIndex(this._getCaretStartTranslated(),this._getCaretEndTranslated()),this}},{key:"setValue",value:function(e){return this.settingValue=!0,this.pause(),"string"==typeof e?this.characters=(e.replace(/\W/g,"")+"").split(""):"number"==typeof e&&(this.characters=e%1!=0?(e.toString().replace(/\W/g,"")+"").split(""):(e+"").split("")),this.run(),this.isFocused&&this._setCaretPosition(this._getCaretStart()),this.resume(),this.settingValue=!1,this}},{key:"getValue",value:function(e){return e&&this.inputEl.value?(0,o.default)(this.inputEl.value,10):this.inputEl.value}},{key:"clearValue",value:function(){return this.pause(),this.characters=[],this.run(0,{notOnlyPlaceholders:!0}),this.resume()}},{key:"updateValue",value:function(){return this.setValue(this.inputEl.value)}},{key:"moveCaret",value:function(e){return this._setCaretPositionTranslated(e),this}},{key:"moveCaretToEnd",value:function(){return this.moveCaret(this.characters.length)}},{key:"moveCaretToStart",value:function(){return this.moveCaret(0)}},{key:"pause",value:function(){return this.pauseBlurFocus++,this}},{key:"resume",value:function(){return this.pauseBlurFocus--,this}},{key:"disable",value:function(){return this.inputEl.setAttribute("disabled",""),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"clear",value:function(){return this.clearValue()}},{key:"remove",value:function(e){return(0,d.default)((0,f.default)(a.prototype),"remove",this).call(this,e),this}},{key:"_cacheElements",value:function(e){this.el=e,this.inputEl=this.el.querySelector('[type="text"], [type="email"], [type="phone"], [type="tel"], textarea')||this._createDefaultInputElement(),this.placeholderEl=this.el.querySelector(".spark-input__placeholder")||this._createDefaultPlaceholderElement()}},{key:"_parseParams",value:function(){this.characters=this._parseCharacters(this.inputEl.value),this.format=this._parseFormat(this.format?this.format:this.inputEl.getAttribute("data-typeahead-format")),this.placeholder=this.placeholder?this.placeholder:this.inputEl.getAttribute("placeholder").split(""),this.maxLength=this._getCharactersAllowedCount(this.format),this.matchPlaceholderSize=null!==this.matchPlaceholderSize?this.matchPlaceholderSize:(0,v.boolean)(this.inputEl,"data-match-placeholder-size",!1)}},{key:"_parseFormat",value:function(e){for(var t=0,n=e.length,a=[],r=!1;t<n;t++)"\\"!==e[t]||r?(a.push((r?"\\":"")+e[t]),r=!1):r=!0;return a}},{key:"_parseCharacters",value:function(e){for(var t=e.split(""),n=0,a=e.length,r=[],i=[];n<a;n++){try{r[n]="\\"===this.format[n][0]?new RegExp(this.format[n]):null}catch(e){}r[n]&&r[n].exec(t[n])&&i.push(t[n])}return i}},{key:"_createDefaultInputElement",value:function(){var e=document.createElement("input");return e.className="spark-input__field",e.setAttribute("data-typeahead",""),e.setAttribute("type","tel"),this.el.appendChild(e),e}},{key:"_createDefaultPlaceholderElement",value:function(){var e=document.createElement("span");return e.className="spark-input__placeholder",this.el.appendChild(e),e}},{key:"_getCharactersAllowedCount",value:function(e){for(var t=0,n=e.length,a=0;t<n;t++)"\\d"===e[t]&&a++;return a}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._onKeydownBound=(0,s.default)(e=this._onKeydown).call(e,this),this._onKeypressBound=(0,s.default)(t=this._onKeypress).call(t,this),this._onFocusBound=(0,s.default)(n=this._onFocus).call(n,this),this._onBlurBound=(0,s.default)(a=this._onBlur).call(a,this),this._onInputBound=(0,s.default)(r=this._onInput).call(r,this),this._onPlaceholderClickBound=(0,s.default)(i=this._onPlaceholderClick).call(i,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("keydown",this._onKeydownBound,!1),this.inputEl.addEventListener("keypress",this._onKeypressBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("input",this._onInputBound,!1),this.placeholderEl.addEventListener("click",this._onPlaceholderClickBound,!1)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("keydown",this._onKeydownBound),this.inputEl.removeEventListener("keypress",this._onKeypressBound),this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("input",this._onInputBound),this.placeholderEl.removeEventListener("click",this._onPlaceholderClickBound),window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound)}},{key:"_getCaretStart",value:function(){return this._maintainFocus((function(){var e;if(document.selection){this.inputEl.focus();var t=document.selection.createRange();t.moveStart("character",-this.inputEl.value.length),e=t.text.length}else(this.inputEl&&this.inputEl.selectionStart||this.inputEl&&0===this.inputEl.selectionStart)&&(e=this.inputEl.selectionStart);return e}))}},{key:"_getCaretEnd",value:function(){return this._maintainFocus((function(){var e;if(document.selection){this.inputEl.focus();var t=document.selection.createRange();t.moveStart("character",-this.inputEl.value.length),e=t.text.length}else(this.inputEl.selectionEnd||0===this.inputEl.selectionEnd)&&(e=this.inputEl.selectionEnd);return e}))}},{key:"_caretIsAtEnd",value:function(){return this._getCaretStart()===this.maxLength}},{key:"_setCaretPosition",value:function(e){return this._maintainFocus((function(){if(document.selection){this.inputEl.focus();var t=document.selection.createRange();t.moveStart("character",-this.inputEl.value.length),t.moveStart("character",e),t.moveEnd("character",0),t.select()}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(this.inputEl.selectionStart=e,this.inputEl.selectionEnd=e)}))}},{key:"_getCaretPositionTranslated",value:function(e){for(var t=0,n=0;t<e;t++)"\\d"!==this.format[t]&&n++;return e-n}},{key:"_getCaretStartTranslated",value:function(){return this._getCaretPositionTranslated(this._getCaretStart())}},{key:"_getCaretEndTranslated",value:function(){return this._getCaretPositionTranslated(this._getCaretEnd())}},{key:"_setCaretPositionTranslated",value:function(e){for(var t=0,n=0;t<e+n;t++)void 0!==this.format[t]&&"\\d"!==this.format[t]&&n++;this._setCaretPosition(e+n)}},{key:"_moveCaret",value:function(e){var t=this._getCaretStart();return"left"===e?this._setCaretPosition(t-1):"right"===e&&this._setCaretPosition(t+1),t!==this._getCaretStart()}},{key:"_emptyWhenOnlyPlaceholders",value:function(){this.characters.length||this.clear()}},{key:"_maintainFocus",value:function(e){this.pause();var t=document.activeElement;t||(t=document.body);var n=(e||b).call(this);return this.inputEl&&t!==this.inputEl&&(this.inputEl.blur(),t&&t.focus()),this.resume(),n}},{key:"_updateWidth",value:function(){this.matchPlaceholderSize&&(this.placeholderEl.style.width="auto",this.inputEl.style.width="auto",this.inputEl.style.width=this.placeholderEl.offsetWidth+2+"px",this.placeholderEl.style.width="")}},{key:"_onKeydown",value:function(e){var t=e.keyCode||e.which;if(t!==this.pasteCode||!e.metaKey&&!e.ctrlKey)if(t===this.actionCodes.BACKSPACE)this.removeCharacterAtCaret(-1),this._onBackspace(),e.preventDefault();else if(t===this.actionCodes.DELETE)this.removeCharacterAtCaret(0),e.preventDefault();else if(t===this.actionCodes.LEFT)this._getCaretStart()||(this.onBackspace||b)();else if(t===this.actionCodes.RIGHT)this._getCaretStart()===this.characters.length&&(this.onEnd||b)();else{var n;-1===(0,i.default)(n=this.ignoreCodes).call(n,t)&&(e.preventDefault(),t>=96&&t<=105&&(t-=48),this.addCharacterAtCaret(String.fromCharCode(t)))}}},{key:"_onKeypress",value:function(e){var t,n=e.keyCode||e.which;-1===(0,i.default)(t=this.ignoreCodes).call(t,n)&&(e.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onChange||b)(this.getValue(),this))}},{key:"_onInput",value:function(e){e.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onInput||b)(this.getValue(),this)}},{key:"_onFocus",value:function(){document.activeElement===this.inputEl&&(window.removeEventListener("blur",this._onBlurBound),window.addEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.isFocused||this.pauseBlurFocus||this.isRunning||(this.run(),"function"==typeof this.onFocus&&this.onFocus(this.getValue(),this),this.isFocused=!0,this._oldVal=this.inputEl.value))}},{key:"_onBlur",value:function(){window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.isFocused=!1,this.pauseBlurFocus||this.isRunning||(this._emptyWhenOnlyPlaceholders(),this._oldVal!==this.inputEl.value&&(0,g.default)(this.inputEl,"change"),(this.onBlur||b)(this.getValue(),this))}},{key:"_onPlaceholderClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.inputEl.focus()}},{key:"_onBackspace",value:function(){this._getCaretStart()||(this.onBackspace||b)()}}]),a}(m.default);E.prototype._whitelistedParams=["format","placeholder","matchPlaceholderSize","onChange","onFocus","onBlur","onInput","onBackspace","onEnd"],E.prototype.defaults={el:null,inputEl:null,placeholderEl:null,placeholder:null,characters:null,format:null,ignoreCodes:[9,16,17,18,20,91,93,112,113,114,115,116,117,118,119,120,121,122,123],actionCodes:{BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39},pasteCode:86,pauseBlurFocus:0,matchPlaceholderSize:null,maxLength:null,isFocused:!1,isRunning:!1,onChange:null,onFocus:null,onBlur:null,onInput:null,onBackspace:null,onEnd:null,_atEnd:!1,_oldVal:null,_onKeydownBound:null,_onKeypressBound:null,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onPlaceholderClickBound:null};var C=E;t.default=C,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1282)),i=a(n(1350)),s=a(n(1250)),o=a(n(1398)),l=a(n(1247)),c=a(n(1248)),u=a(n(1251)),d=a(n(1257)),p=function(){},h={els:[],completeCallbacks:[]};function f(e){var t,n,a;e.toggleClassName?(0,d.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,c.default)(e.el,e.heightAnimationClass),(0,c.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var r=(0,s.default)(t=h.els).call(t,e.el);(0,i.default)(n=h.els).call(n,r,1),(0,i.default)(a=h.completeCallbacks).call(a,r,1)}var m=function(e){var t,n=(e=e||{}).el;if(n){var a=e.action&&"collapse"===e.action,i=e.heightAnimationClass||"spark-animate-height",m="string"==typeof e.toggleEl?n.querySelector(e.toggleEl):e.toggleEl;if(m&&!(0,u.default)(n,"spark-no-animate")){var g=e.toggleClass,v=e.toggleProperty||"display",y=window.getComputedStyle(m),b=y[v],E=e.toggleValue||function(e,t,n){switch(t){case"overflow":case"visibility":return"visible"===n?"hidden":"visible";default:return"block"===n||"inline-block"===n?"none":"block"}}(0,b),C=(0,s.default)(t=h.els).call(t,n);if(-1!==C){var k=h.completeCallbacks[C];k&&clearTimeout(k),f({el:n,toggleEl:m,onComplete:e.onComplete||p,collapse:a,toggleProperty:v,toggleClassName:g,toggleValue:E,heightAnimationClass:i})}var S=(0,o.default)(n);g?(0,d.default)(n,g,!a):m.style[v]=E,a?(0,r.default)(_,0):_()}}function _(){var t,s,u=(0,o.default)(n);a?(g?(0,c.default)(n,g):m.style[v]=b,s=(0,o.default)(m,y),t=0):(t=(0,o.default)(m,y),s=0),n.style.height=S+"px",m.style.height=s+"px",m.style.marginBottom="0px",m.style.marginTop="0px",(0,l.default)(n,i),(0,l.default)(m,i),h.els.push(n),(0,r.default)((function(){n.style.height=u+"px",m.style.height=t+"px",h.completeCallbacks.push((0,r.default)((function(){f({el:n,toggleEl:m,onComplete:e.onComplete||p,collapse:a,toggleProperty:v,toggleClassName:g,toggleValue:E,heightAnimationClass:i})}),void 0!==e.animationDuration?e.animationDuration:201))}),0)}};t.default=m,e.exports=t.default},function(e,t,n){e.exports=n(1793)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1325)),i=a(n(1309)),s=a(n(1876)),o=a(n(1278)),l=a(n(1310)),c=a(n(1311)),u=a(n(1400)),d={on:function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.default)(this._events)||(this._events=[]),(0,c.default)(n=this._events).call(n,(function(n){return n.name===e.toLowerCase()&&n.method===t}))||this._events.push({name:e.toLowerCase(),method:t,data:a})},off:function(e,t){var n;(0,u.default)(this._events)?this._events=(0,l.default)(n=this._events).call(n,(function(n){return n.name!==e.toLowerCase()&&n.method!==t})):this._events=[]},trigger:function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];(0,u.default)(this._events)||(this._events=[]);var d=(0,l.default)(t=this._events).call(t,(function(t){return t.name===e})),p=document.createEvent("Event");p.initEvent(e.toLowerCase(),!0,!0),p.component=this,a&&"object"===(0,o.default)(a[0])&&"object"===(0,o.default)(a[0].event)&&(0,s.default)(p,a[0].event),this.el&&this.el.dispatchEvent(p),(0,i.default)(d).call(d,(function(e){var t;p.data=e.data,e.method.apply(e,(0,r.default)(t=[p]).call(t,a))}))}};t.default=d,e.exports=t.default},function(e,t,n){"use strict";n.r(t),n.d(t,"LOOKUP_RQ",(function(){return a})),n.d(t,"LOOKUP_RS",(function(){return r})),n.d(t,"RESET_RETURNED_CODE",(function(){return i})),n.d(t,"CORPORATE_PNR_WARNINGS_RS",(function(){return s})),n.d(t,"CLEAR_LOOKUP_STATE",(function(){return o}));var a="LOOKUP_RQ",r="LOOKUP_RS",i="RESET_RETURNED_CODE",s="CORPORATE_PNR_WARNINGS_RS",o="CLEAR_LOOKUP_STATE"},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(15),s=n.n(i),o=n(37),l=n.n(o),c=n(2),u=n.n(c),d=n(4),p=n.n(d),h=n(0),f=n.n(h),m=n(27),g=n.n(m),v=n(552);var y=n(1921),b=n(1532);function E(e){var t=e.airExtraRef,n=e.airExtras;return function(e){var t=e.airExtra;return f()(t,["paymentStatus","value"])===b.a}({airExtra:s()(n,(function(e){return e.id===t}))})}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(e){var t=e.passenger,n=e.airExtraPricings,a=function(e){var t=e.passenger;return p()(f()(t,"ticket"),(function(e,t){return p()(t.ticketCoupon,(function(e,n){var a=f()(n,"segmentRef","Unknown"),i=s()(f()(n,"baggageDisclosure.checkedInBaggage.baggageAllowanceDefinition"),{allowanceSource:"OPTIONAL_SERVICES"});return l()({},e,r()({},a,{segmentRef:a,ticketNumber:f()(t,"ticketNumber.number"),couponNumber:f()(n,"couponNumber"),baggageAllowance:f()(i,"quantity",0)}))}),e)}),{})}({passenger:t}),i=f()(t,"passengerSegments.passengerSegment");return p()(i,(function(e,t){var i=f()(t,"airExtra");return p()(t.passengerFlight,(function(e,o){var c=g()(o.flightRefs),d=f()(o,"seat.value"),p=f()(o,"seat.airExtraRef");if(!p){var h=s()(i,["ancillary.group","SA"]);p=f()(h,"id")}var m=u()(p)?void 0:E({airExtraRef:p,airExtras:i}),b=u()(p)?void 0:Object(y.a)(s()(i,{id:p})),k=f()(n,p),S=Object(v.a)(k);return l()(e,r()({},c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f()(a,t.segmentRef,{}),{segmentFlightId:o.id,flightRef:g()(o.flightRefs),segmentRef:t.segmentRef,seat:d,isSeatFulfilled:m,isSeatPaymentPending:b,checkedIn:o.checkedIn,seatPricing:k,seatPrice:S})))}),e)}),{})}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(39),E=n.n(b),C=n(50),k=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.tag=this.props.tag}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconName,a=e.iconSize,r=e.iconFill,i=E()("ducp-component-title",this.props.className);return!g()(t)&&y.a.createElement(this.tag,{className:i},!g()(n)&&y.a.createElement(C.c,{name:n,size:a,fill:r}),t)}}]),t}(v.Component);f()(k,"defaultProps",{className:"",title:"",iconName:void 0,iconSize:"",tag:"div",iconFill:!1});t.a=k},function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(73),s=n.n(i),o=n(1),l=n.n(o),c=(n(6),n(12)),u=function(e){var t=e.pageName,n=e.flowName,a=e.hideTitle,i=e.breadCrumbTitleOverride,o=r()(i)?Object(c.i)("breadcrumbsFlows.".concat(n,".").concat(s()(t))):i;return l.a.createElement("span",{className:"dxp-breadcrumb-title-container"},!a&&o&&l.a.createElement("span",{className:"dxp-breadcrumb-header"},o),a&&o&&l.a.createElement("span",{className:"sr-only"},o))};u.defaultProps={hideTitle:!1,breadCrumbTitleOverride:void 0};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){"use strict";var a=n(19),r=n.n(a),i=function(e){var t=e.prefix,n=e.firstName,a=e.middleName,i=e.lastName,s=e.suffix,o=e.passengerType;return r()([n,i,a,o,t,s]).join("-")},s=n(17),o=n.n(s),l=function(e){var t=e.origin,n=e.destination,a=e.flightNumber,r=e.departureTime,i=o.a.parseZone(r).format("YYYY-MM-DD[T]HH:mm:00");return[t,n,a,o()(i).unix()].join("-")};n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CANCEL_FLIGHT:"CANCEL_FLIGHT",EXCHANGE_FLIGHT:"EXCHANGE_FLIGHT",CANCEL_UPGRADE:"CANCEL_UPGRADE",ADD_INSURANCE_POSTBOOKING:"ADD_INSURANCE_POSTBOOKING",UPGRADE:"UPGRADE",PURCHASE_ON_HOLD_BOOKING:"PURCHASE_ON_HOLD_BOOKING",ADD_MODIFY_ANCILLARIES:"ADD_MODIFY_ANCILLARIES",UPGRADE_FQT:"UPGRADE_FQT",SPLIT_MTO:"SPLIT_MTO",CHECK_IN:"CHECK_IN",VOID:"VOID",CANCEL_ITINERARY:"CANCEL_ITINERARY",IROP:"IROP",OFFLOAD:"OFFLOAD",EDIT_PASSENGER:"EDIT_PASSENGER",ADD_MODIFY_SEATS:"ADD_MODIFY_SEATS"}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var a=n(1302),r=n(1422);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.1",mode:a?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+a).toString(36)}},function(e,t,n){var a=n(1254);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())}))},function(e,t,n){var a={};a[n(1253)("toStringTag")]="z",e.exports="[object z]"===String(a)},function(e,t,n){var a=n(1253);t.f=a},function(e,t,n){"use strict";var a=n(54),r=n.n(a),i=n(122),s=n.n(i),o=n(2),l=n.n(o),c=n(1),u=n.n(c),d=(n(6),n(39)),p=n.n(d),h=n(50),f=n(244);function m(e,t){var n=function(e){return u.a.createElement("a",{href:"#"},e)}(e),a=c.Children.toArray(n);return l()(t)||a.unshift(u.a.createElement(h.c,{key:"tab-icon",name:t,fill:!1,background:"square",type:"info"})),a}var g=function(e){var t=e.className,n=e.children,a=e.icon,r=e.onTabClick,i=e.id;return u.a.createElement("li",{id:i,onClick:function(e){return r(v(e))},onKeyPress:function(e){return f.a.is(f.a.code.special.enter,e.which)&&r(v(e))},className:p()("spark-tabs__tab",t),role:"tab"},m(n,a))};function v(e){var t=e.target.closest("li"),n=e.target.closest("ul").children;return r()(n).indexOf(t)}g.defaultProps={className:"",icon:"",onTabClick:s.a,id:void 0};var y=g,b=function(e){var t=e.className,n=e.children;return u.a.createElement("div",{role:"tabpanel",className:p()("spark-tabs__panel",t)},n)};b.defaultProps={className:"",children:void 0};var E=b,C=function(e){var t=e.className,n=e.onTabSelect,a=e.children.filter((function(e){return!l()(e)})).map((function(e,t){return u.a.cloneElement(e,{onTabClick:function(e){return n(e)},key:(a=t,"tab-header-".concat(a))});var a}));return u.a.createElement("ul",{className:p()("spark-tabs__list",t),role:"tablist"},a)};C.defaultProps={className:"",onTabSelect:s.a},C.displayName="TabsHeader";var k=C,S=function(e){var t=e.className,n=e.dir,a=e.children;return u.a.createElement("div",{className:p()("spark-tabs__panels",t),dir:n},a)};S.defaultProps={className:"",dir:void 0},S.displayName="TabsContent";var _=S,O=n(26),w=n.n(O),P=n(22),A=n.n(P),x=n(29),N=n.n(x),T=n(28),I=n.n(T),B=n(30),L=n.n(B),D=n(3),j=n.n(D),F=n(173),M=n.n(F),R=n(1334),V=n(12),H=(n(2048),n(2049),function(e){function t(){return w()(this,t),N()(this,I()(t).apply(this,arguments))}return L()(t,e),A()(t,[{key:"componentDidMount",value:function(){var e=this;if(this.sparkTabsInstance=new R.Tabs(this.sparkTabs),this.sparkTabsInstance.setActive(this.props.selectedTabIndex),this.props.onBeforeTabChange){var t=this.sparkTabsInstance.setActive;this.sparkTabsInstance.setActive=function(n){var a=e.getActiveTabIndex();return e.props.onBeforeTabChange(a)&&t.call(e.sparkTabsInstance,n)}}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedTabIndex!==this.props.selectedTabIndex&&this.sparkTabsInstance.setActive(e.selectedTabIndex)}},{key:"componentWillUnmount",value:function(){this.sparkTabsInstance.remove(!0)}},{key:"getActiveTabIndex",value:function(){var e=this;return M()(this.sparkTabsInstance.tabEls,(function(t){return t===e.sparkTabsInstance.activeTabEl}))}},{key:"renderNav",value:function(){return u.a.createElement("nav",{className:"spark-tabs__nav"},u.a.createElement("div",{className:"spark-tabs__scroll"},this.props.children.filter((function(e){return"TabsHeader"===e.type.displayName}))),u.a.createElement("div",{className:"spark-tabs__btns"},u.a.createElement("button",{type:"button",className:"spark-tabs__btn spark-tabs__btn--left"},u.a.createElement(h.c,{name:h.a.ARROW_CHEVRON_LEFT,srOnlyText:Object(V.i)("pagination.previous")})),u.a.createElement("button",{type:"button",className:"spark-tabs__btn spark-tabs__btn--right"},u.a.createElement(h.c,{name:h.a.ARROW_CHEVRON_RIGHT,srOnlyText:Object(V.i)("pagination.next")}))))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:p()("spark-tabs",this.props.className),ref:function(t){e.sparkTabs=t}},this.renderNav(),this.props.children.filter((function(e){return"TabsContent"===e.type.displayName})))}}]),t}(c.PureComponent));j()(H,"defaultProps",{className:"",selectedTabIndex:0,onBeforeTabChange:void 0}),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return H}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(39)),k=n.n(C),S=n(1359),_=function(e){var t=e.title,n=e.isExpanded,a=e.onClick,r=e.iconName,i=e.renderRightContent,s=e.headerSubContent,o=e.iconSize,l=e.ariaControls,c=e.titleTag,u=e.headerIcon,d=e.disabled,p=k()("spark-panel__header",{"is-expanded":n,"has-right-content":Boolean(i)});return E.a.createElement("button",{type:"button",disabled:d,className:p,"aria-expanded":n,"aria-controls":l,"aria-disabled":d,onClick:a},E.a.createElement(S.a,{tag:c,iconName:r,title:t,iconFill:n,iconSize:o}),E.a.createElement("div",{className:"right-content"},u,i()),s&&E.a.createElement("div",{className:"header-sub-content"},s))};_.defaultProps={isExpanded:!1,onClick:void 0,renderRightContent:void 0,iconName:void 0,title:"Accordion Header",titleTag:"div",iconSize:"",ariaControls:"expand-collapse--accordion_content",headerIcon:void 0,headerSubContent:void 0,disabled:!1};var O=_,w=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"onToggleClick",(function(){var e=n.props,t=e.isControlled,a=e.onToggle;if(t)a({isExpanded:!n.props.isExpanded});else{var r=n.state.isExpanded;n.setState({isExpanded:!r},(function(){return a({isExpanded:n.state.isExpanded})}))}})),e.isControlled||(n.state={isExpanded:e.isExpanded&&!e.disabled}),t.count+=1,n.id=e.id||"accordion-".concat(t.count),n}return f()(t,e),s()(t,[{key:"expand",value:function(){var e=this.props,t=e.isControlled,n=e.onToggle;(t?this.props.isExpanded:this.state.isExpanded)||(t?n({isExpanded:!0}):this.setState({isExpanded:!0},(function(){return n({isExpanded:!0})})))}},{key:"collapse",value:function(){var e=this.props,t=e.isControlled,n=e.onToggle;(t?this.props.isExpanded:this.state.isExpanded)&&(t?n({isExpanded:!1}):this.setState({isExpanded:!1},(function(){return n({isExpanded:!1})})))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconName,a=e.renderAdditionalAccordionHeaderContent,r=e.children,i=e.iconSize,s=e.className,o=e.titleTag,l=e.headerSubContent,c=e.disabled,u=e.lazyInitContent,d=e.isControlled,p=!c&&d?this.props.isExpanded:this.state.isExpanded,h=k()("spark-panel__content",{show:p,hide:!p}),f=k()("ducp-component-accordion","spark-panel spark-panel--expand",s,{expanded:p});return E.a.createElement("div",{className:f},E.a.createElement(O,{iconSize:i,title:t,titleTag:o,iconName:n,onClick:this.onToggleClick,isExpanded:p,renderRightContent:a,ariaControls:this.id,headerIcon:this.props.headerIcon,headerSubContent:l,disabled:c}),E.a.createElement("div",{id:this.id,"aria-hidden":!p,className:h},u?p&&r:r))}}]),t}(b.Component);g()(w,"count",0),g()(w,"defaultProps",{iconName:"",renderAdditionalAccordionHeaderContent:y.a,children:void 0,isExpanded:!1,isControlled:!1,titleTag:"div",iconSize:"",className:"",onToggle:y.a,id:void 0,headerIcon:void 0,headerSubContent:void 0,disabled:!1,lazyInitContent:!1});t.a=w},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(77),s=n.n(i),o=n(246),l=n.n(o),c=n(1412),u=n(177);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t,n=e.query,a=e.pathname,r=e.method,i=void 0===r?"push":r,o=e.replaceQuery,d=void 0!==o&&o,h=e.force,f=void 0!==h&&h,m=a||c.a.location.pathname,g=l()(c.a.location.search,"?")?c.a.location.search.substring(1):c.a.location.search,v=Object(u.parse)(g);if(t=void 0!==n?{pathname:m,search:Object(u.stringify)(d?n:p({},v,{},n))}:{pathname:m,search:c.a.location.search},!f){var y={pathname:c.a.location.pathname,search:g};if(s()(y,t))return!1}return c.a[i](t)}},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(50)),s=n(1305),o=function(e){var t=e.crumbState,n=e.breadcrumbConfiguration,a=e.pageName,o=t===s.a.COMPLETED||t===s.a.ACTIVE,l=t===s.a.COMPLETED?n.getIn(["flowIcons","completed"]):n.getIn(["flowIcons",a]);return r.a.createElement(i.c,{name:l,fill:o})};n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";t.a={CONFIRMED:"CONFIRMED",REJECTED:"REJECTED",NOT_OFFERED:"NOT_OFFERED",WAITLISTED:"WAITLISTED",ALREADY_WAITLISTED:"ALREADY_WAITLISTED",ALREADY_CONFIRMED:"ALREADY_CONFIRMED",NOT_REQUESTED:"NOT_REQUESTED"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(122),r=n.n(a);function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,i=n.headerOffset,s=void 0===i?0:i,o=n.smoothScroll,l=void 0===o||o;if(t&&t.getBoundingClientRect){var c=t.getBoundingClientRect().top;e.scrollBy({top:c-s,behavior:l?"smooth":"auto"})}a()}}).call(this,n(41))},function(e,t,n){"use strict";var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!a.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:a},function(e,t,n){var a=n(1254),r=n(1291),i="".split;e.exports=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var a=n(1255),r=n(1259),i=a.document,s=r(i)&&r(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t,n){var a=n(1277),r=n(1284),i=n(1339),s=function(e){return function(t,n,s){var o,l=a(t),c=r(l.length),u=i(s,c);if(e&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){var a=n(1259),r=n(1314),i=n(1253)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?a(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var a,r,i=n(1255),s=n(1386),o=i.process,l=o&&o.versions,c=l&&l.v8;c?r=(a=c.split("."))[0]+a[1]:s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(r=a[1]),e.exports=r&&+r},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1265)),o=a(n(1282)),l=a(n(1238)),c=a(n(1239)),u=a(n(1323)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1247)),g=a(n(1251)),v=a(n(1257)),y=a(n(1351)),b=a(n(1295)),E=a(n(1267)),C=n(1271),k=a(n(1454));function S(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(){},O=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(S()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),t=n.call(this,e,r),e?(t._bindEventListenerCallbacks(),t._addEventListeners(),t):(0,p.default)(t,(0,u.default)(t))}return(0,c.default)(a,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null),this._checkFixedPosition(),this.affix?(this.affix.targetEl=e.affixTo||this.affix.targetEl,this.affix.update()):this.affix=new k.default({el:this.contentEl,targetEl:e.affixTo||this.el,caretEl:this.caretEl,anchorX:this.anchorX,anchorY:this.anchorY,isFixed:this.isFixed}),this._addWindowEventListeners(),this.isActive=!0,this.isMultiAction&&this.toggleEl.setAttribute("aria-expanded","true");var t=document.createEvent("Event");return t.initEvent("spark.visible-children",!0,!0),this.contentEl.dispatchEvent(t),this._updateAttributes(),this.focusableElements&&this.focusableElements.length>0&&this.firstPopoverFocusableEl.focus(),(e.complete||_)(),(this.onOpen||_)(),this}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.affix?(this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null),this._removeWindowEventListeners(),this.isActive=!1,this.isMultiAction&&this.toggleEl.setAttribute("aria-expanded","false"),this._updateAttributes(),this.closeTimer=(0,o.default)((function(){e._finishClose(t)}),250),this):this}},{key:"toggle",value:function(){return this[this.isActive?"close":"open"]()}},{key:"setContent",value:function(e,t){return t=t||{},(0,y.default)(this.contentEl,e.length?e:[e],!t.append),this}},{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._addEventListeners(),this.affix&&this.affix.update(),this}},{key:"parseFocusableElements",value:function(){var e=this.contentEl.querySelectorAll('a[href]:not([tabindex="-1"]), area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');e.length>0&&(this.focusableElements=(0,s.default)(Array.prototype).call(e),this.firstPopoverFocusableEl=this.focusableElements[0],this.lastPopoverFocusableEl=this.focusableElements[this.focusableElements.length-1])}},{key:"_cacheElements",value:function(e){this.contentEl&&(0,m.default)(this.contentEl,"spark-popover__content"),this.el=e,this.isActive=(0,g.default)(this.el,"popover-active"),this.toggleEl=this.el.querySelector('.spark-popover__toggle, [data-role="toggle"]')||this.el,this.contentEl=this.contentEl||this.el.querySelector('.spark-popover__content, [class*="spark-popover__content--"]')||this._createContentEl(),this.caretEl=this.contentEl.querySelector(".spark-popover__caret")||this._createCaretEl(),this.isMultiAction=(0,g.default)(this.toggleEl,"spark-btn--multi-action")||(0,g.default)(this.toggleEl,"spark-btn-combo__secondary"),this.parseFocusableElements()}},{key:"_parseParams",value:function(){this.anchorY=null!==this.anchorY?this.anchorY:(0,C.string)(this.contentEl,"data-anchor-y",null),this.anchorX=null!==this.anchorX?this.anchorX:(0,C.string)(this.contentEl,"data-anchor-x",null),this.anchorY||this.anchorX||((0,g.default)(this.contentEl,"spark-popover__content--left")?(this.anchorY="middle",this.anchorX="left"):(0,g.default)(this.contentEl,"spark-popover__content--right")?(this.anchorY="middle",this.anchorX="right"):(0,g.default)(this.contentEl,"spark-popover__content--top")?(this.anchorY="top",this.anchorX="center"):(this.anchorY="bottom",this.anchorX="center"))}},{key:"_checkFixedPosition",value:function(){for(var e=this.el;e&&e!==document;){if("fixed"===getComputedStyle(e).position)return this.isFixed=!0;e=e.parentNode}return this.isFixed=!1}},{key:"_updateAttributes",value:function(){(0,v.default)(this.el,"popover-active",this.isActive),(0,v.default)(this.contentEl,"active",this.isActive),(0,v.default)(this.toggleEl,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l;this._onTouchStartBound=(0,i.default)(e=this._onTouchStart).call(e,this),this._onTouchEndBound=(0,i.default)(t=this._onTouchEnd).call(t,this),this._onClickBound=(0,i.default)(n=this._onClick).call(n,this),this._onKeydownBound=(0,i.default)(a=this._onKeydown).call(a,this),this._onContentClickBound=(0,i.default)(r=this._onContentClick).call(r,this),this._onWindowClickBound=(0,i.default)(s=this._onWindowClick).call(s,this),this._onWindowKeyupBound=(0,i.default)(o=this._onWindowKeyup).call(o,this),this._onWindowKeydownBound=(0,i.default)(l=this._onWindowKeydown).call(l,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound),this.contentEl.addEventListener("click",this._onContentClickBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound),this.contentEl.removeEventListener("click",this._onContentClickBound)}},{key:"_addWindowEventListeners",value:function(){this._removeWindowEventListeners(),window.addEventListener("click",this._onWindowClickBound),window.addEventListener("keyup",this._onWindowKeyupBound),window.addEventListener("keydown",this._onWindowKeydownBound),window.addEventListener("touchstart",this._onTouchStartBound),window.addEventListener("touchend",this._onTouchEndBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("click",this._onWindowClickBound),window.removeEventListener("keyup",this._onWindowKeyupBound),window.removeEventListener("keydown",this._onWindowKeydownBound),window.removeEventListener("touchstart",this._onTouchStartBound),window.removeEventListener("touchend",this._onTouchEndBound)}},{key:"_onTouchStart",value:function(e){e.target===this.el||e.target===this.contentEl||(0,b.default)(e.target,this.el)||(0,b.default)(e.target,this.contentEl)||(this._tapStart=e.target)}},{key:"_onTouchEnd",value:function(e){e.target===this._tapStart&&this.close(),this._tapStart=void 0}},{key:"_createContentEl",value:function(){var e=document.createElement("div");return(0,m.default)(e,"spark-popover__content"),e.setAttribute("role","tooltip"),e}},{key:"_createCaretEl",value:function(){var e=document.createElement("div");return e.className="spark-popover__caret",this.contentEl.appendChild(e),e}},{key:"_finishClose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.closeTimer=null,this.el.appendChild(this.contentEl),this.affix.remove({keepEl:!0}),this.affix=null,(e.complete||_)(),(this.onClose||_)()}},{key:"_onClick",value:function(e){if(e.target===this.el||!e.target.hasAttribute("disabled")&&!(0,E.default)(e.target,".spark-popover__toggle",this.toggleEl).hasAttribute("disabled"))return e.target===this.toggleEl||(0,b.default)(e.target,this.toggleEl)?(e.preventDefault(),void this.toggle()):void 0}},{key:"_onKeydown",value:function(e){var t=e.target.nodeName.toLowerCase();if("a"!==t&&"button"!==t)return 13===e.keyCode&&e.target===this.toggleEl?(e.preventDefault(),e.stopPropagation(),void this.toggle()):void 0}},{key:"_onWindowKeyup",value:function(e){27===e.keyCode&&(this.close(),this.toggleEl.focus())}},{key:"_onWindowKeydown",value:function(e){9===e.keyCode&&(1===this.focusableElements.length&&e.preventDefault(),e.shiftKey?this._onBackwardTab(e):this._onForwardTab(e)),13===e.keyCode&&(e.target===document.querySelector(".spark-popover__close")||(0,E.default)(e.target,".spark-popover__close",this.contentEl))&&(e.preventDefault(),this.close(),this.toggleEl.focus())}},{key:"_onBackwardTab",value:function(e){document.activeElement===this.firstPopoverFocusableEl&&(e.preventDefault(),this.lastPopoverFocusableEl.focus())}},{key:"_onForwardTab",value:function(e){document.activeElement===this.lastPopoverFocusableEl&&(e.preventDefault(),this.firstPopoverFocusableEl.focus())}},{key:"_onContentClick",value:function(e){((0,E.default)(e.target,".spark-popover__list-link",this.contentEl)||(0,E.default)(e.target,".spark-popover__close",this.contentEl))&&this.close()}},{key:"_onWindowClick",value:function(e){e.target===this.el||e.target===this.contentEl||(0,b.default)(e.target,this.el)||(0,b.default)(e.target,this.contentEl)||this.close()}}]),a}(f.default);O.prototype._whitelistedParams=["anchorX","anchorY","toggleEl","contentEl","onOpen","onClose"],O.prototype.defaults={el:null,toggleEl:null,contentEl:null,caretEl:null,affix:null,isActive:!1,isMultiAction:!1,isPaused:!1,isFixed:!1,anchorX:null,anchorY:null,closeTimer:null,focusableElements:null,onOpen:null,onClose:null,_onClickBound:null,_onContentClickBound:null,_onKeydownBound:null,_onWindowKeyupBound:null,_onWindowKeydownBound:null,_onWindowClickBound:null,_onWindowResizeBound:null,_onWindowScrollBound:null};var w=O;t.default=w,e.exports=t.default},function(e,t,n){var a=n(329),r=n(61);e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),a(e,t,{leading:i,maxWait:t,trailing:s})}},function(e,t,n){var a=n(1287);e.exports=a("navigator","userAgent")||""},function(e,t){e.exports=function(){}},function(e,t,n){var a=n(1563);e.exports=function(e,t){if(null==e)return{};var n,r,i=a(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1265)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1257)),f=a(n(1247)),m=a(n(1248)),g=a(n(1251));function v(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(v()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"open",value:function(){return this.onBeforeOpen.call(this),this.isActive=!0,document.activeElement&&(this.focusedElBeforeOpen=document.activeElement),this._addWindowEventListeners(),this._updateClasses(),(0,f.default)(document.body,"spark-modal-open"),this.focusableElements&&this.focusableElements.length>0&&this.firstModalFocusableEl.focus(),this.onAfterOpen.call(this),this}},{key:"close",value:function(){return this.onBeforeClose.call(this),this.isActive=!1,this.focusedElBeforeOpen&&this.focusedElBeforeOpen.focus(),this._removeWindowEventListeners(),this._updateClasses(),(0,m.default)(document.body,"spark-modal-open"),this.onAfterClose.call(this),this}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),this._cacheElements(e||this.el,t),this._addEventListeners(),this._updateClasses(),this._removeWindowEventListeners(),this.isActive&&this._addWindowEventListeners(),this}},{key:"parseFocusableElements",value:function(){var e=this.modalEl.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');e.length>0&&(this.focusableElements=(0,s.default)(Array.prototype).call(e),this.firstModalFocusableEl=this.focusableElements[0],this.lastModalFocusableEl=this.focusableElements[this.focusableElements.length-1])}},{key:"_cacheElements",value:function(e,t){var n=(0,g.default)(e,"spark-modal"),a=t.modalEl;n?this.modalEl=e:(this.el=e,this.modalEl=a||document.querySelector(e.getAttribute("data-modal"))),this.scrollEl=this.modalEl.querySelector(".spark-modal__scroll")||this.modalEl,this.isActive=(0,g.default)(this.modalEl,"active"),this.parseFocusableElements()}},{key:"_updateClasses",value:function(){(0,h.default)(this.modalEl,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onKeyupBound=(0,i.default)(t=this._onKeyup).call(t,this),this._onKeydownBound=(0,i.default)(n=this._onKeydown).call(n,this),this._onModalClickBound=(0,i.default)(a=this._onModalClick).call(a,this),this._onMouseDownBound=(0,i.default)(r=this._onMouseDown).call(r,this)}},{key:"_addEventListeners",value:function(){this.el&&this.el.addEventListener("click",this._onClickBound),this.modalEl&&(this.modalEl.addEventListener("click",this._onModalClickBound),this.modalEl.addEventListener("mousedown",this._onMouseDownBound))}},{key:"_removeEventListeners",value:function(){this.el&&this.el.removeEventListener("click",this._onClickBound),this.modalEl&&(this.modalEl.removeEventListener("click",this._onModalClickBound),this.modalEl.removeEventListener("mousedown",this._onMouseDownBound))}},{key:"_addWindowEventListeners",value:function(){this._removeWindowEventListeners(),window.addEventListener("keyup",this._onKeyupBound),window.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("keyup",this._onKeyupBound),window.removeEventListener("keydown",this._onKeydownBound)}},{key:"_onClick",value:function(){this.open()}},{key:"_onMouseDown",value:function(e){this._mouseDownTargetEl=e.target}},{key:"_onModalClick",value:function(e){(this._mouseDownTargetEl===e.target&&this._mouseDownTargetEl===this.modalEl||(0,g.default)(this._mouseDownTargetEl,"spark-modal__close")||(0,g.default)(this._mouseDownTargetEl,"spark-modal__scroll"))&&this.close()}},{key:"_onBackwardTab",value:function(e){document.activeElement===this.firstModalFocusableEl&&(e.preventDefault(),this.lastModalFocusableEl.focus())}},{key:"_onForwardTab",value:function(e){document.activeElement===this.lastModalFocusableEl&&(e.preventDefault(),this.firstModalFocusableEl.focus())}},{key:"_onKeyup",value:function(e){27===e.keyCode&&this.close()}},{key:"_onKeydown",value:function(e){9===e.keyCode&&(1===this.focusableElements.length&&e.preventDefault(),e.shiftKey?this._onBackwardTab(e):this._onForwardTab(e)),13===e.keyCode&&(e.target!==document.querySelector(".spark-modal__close")&&e.target!==document.querySelector(".spark-modal__dismiss")||(e.preventDefault(),this.close()))}}]),a}(p.default);y.prototype._whitelistedParams=["onBeforeOpen","onAfterOpen","onBeforeClose","onAfterClose"],y.prototype.defaults={el:null,modalEl:null,scrollEl:null,isActive:!1,focusableElements:null,onBeforeOpen:function(){},onAfterOpen:function(){},onBeforeClose:function(){},onAfterClose:function(){},_onClickBound:null,_onKeyupBound:null,_onKeydownBound:null,_onModalClickBound:null};var b=y;t.default=b,e.exports=t.default},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(43),s=n.n(i);t.a=function(e){var t=e.passenger,n=e.eligibilityCategory,a=r()(t,"eligibilities.eligibility",[]);return s()(a,(function(e){return s()(e.reason,(function(e){return e.category===n}))}))}},,,function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(39)),l=n.n(o),c=function(e){var t=e.className,n=e.initial,a=e.isLight,i=e.size,o=e.ariaLabel,c=e.notification,u=e.notificationAriaLabel,d=e.notificationType,p=l()("ducp-component-initial-circle",t,i,{light:a});return s.a.createElement("span",{className:p,"aria-hidden":r()(o),"aria-label":o},n,c&&s.a.createElement("span",{className:l()("spark-badge--notification",d),"aria-label":u},c))};c.defaultProps={className:void 0,initial:"",isLight:!0,size:"",ariaLabel:void 0,notification:void 0,notificationAriaLabel:void 0,notificationType:"neutral"};var u=c;t.a=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n;document.createEvent?((n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),n.eventName=t,e.dispatchEvent(n)):((n=document.createEventObject()).eventType=t,n.eventName=t,e.fireEvent("on"+n.eventType,n))};t.default=a,e.exports=t.default},function(e,t,n){e.exports=n(1773)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1278)),i=a(n(1263)),s=["-webkit-","-moz-","-o-","-ms-",""];var o=function(e,t){var n="";return(0,i.default)(s,(function(a){if("object"===(0,r.default)(t))for(var i in n+=a+"transform: ",t)n+=i+"("+t[i]+"); ";else n+=a+"transform: "+e+"("+t+"); "})),n};t.default=o,e.exports=t.default},function(e,t,n){e.exports=n(1781)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260)),i=a(n(1263)),s=["marginTop","marginBottom","borderTop","borderBottom"];var o=function(e,t){t=t||window.getComputedStyle(e);var n=e.clientHeight;return(0,i.default)(s,(function(e){n+=(0,r.default)(t[e]||0,10)})),n};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1354)),h=a(n(1257)),f=a(n(1251)),m=a(n(1267));function g(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(){},y=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(g()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,c.default)(t)):(0,c.default)(t)}return(0,o.default)(a,[{key:"expand",value:function(){(this.onBeforeExpand||v)(),(0,p.default)({el:this.el,toggleClass:"expanded",toggleEl:".spark-expand__content, .spark-panel__content"}),this.isExpanded=!0,this._updateClasses();var e=document.createEvent("Event");return e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e),this.el.querySelector("input")&&this.el.querySelector("input").focus(),(this.onAfterExpand||v)(),this}},{key:"collapse",value:function(){return(this.onBeforeCollapse||v)(),(0,p.default)({el:this.el,toggleEl:".spark-expand__content, .spark-panel__content",toggleValue:"none",action:"collapse"}),this.isExpanded=!1,this._updateClasses(),(this.onAfterCollapse||v)(),this}},{key:"toggle",value:function(){return this[this.isExpanded?"collapse":"expand"]()}},{key:"_cacheElements",value:function(e){this.el=e,this.isExpanded=(0,f.default)(this.el,"expanded"),this.accordionHeading=this.el.querySelector('[role="heading"]'),this.accordionContent=this.el.querySelector(".spark-panel__content"),this.panelContent=this.el.querySelector(".spark-expand__content"),this.panelCollapsedButton=this.el.querySelector(".spark-expand__hide--expanded"),this.panelExpandedButton=this.el.querySelector(".spark-expand__show--expanded")}},{key:"_updateClasses",value:function(){(0,h.default)(this.el,"expanded",this.isExpanded),this._updateAriaAttributes()}},{key:"_updateAriaAttributes",value:function(){this.isExpanded?(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","true"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","false"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","false"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","true"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","false")):(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","false"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","true"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","true"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","false"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","true"))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onKeydownBound=(0,i.default)(t=this._onKeydown).call(t,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound)}},{key:"_onClick",value:function(e){(0,m.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)&&(e.stopImmediatePropagation(),e.preventDefault(),this.toggle())}},{key:"_onKeydown",value:function(e){if((0,m.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)){var t=e.keyCode||e.which;32!==t&&13!==t||(e.stopImmediatePropagation(),e.preventDefault(),this.toggle())}}}]),a}(d.default);y.prototype._whitelistedParams=["onBeforeExpand","onAfterExpand","onBeforeCollapse","onAfterCollapse"],y.prototype.defaults={el:null,isExpanded:!1,onBeforeExpand:null,onAfterExpand:null,onBeforeCollapse:null,onAfterCollapse:null,_onClickBound:null,_onKeydownBound:null};var b=y;t.default=b,e.exports=t.default},function(e,t,n){e.exports=n(1835)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1309)),o=a(n(1265)),l=a(n(1326)),c=a(n(1400)),u=a(n(1240)),d=a(n(1311)),p=a(n(1341)),h=a(n(1310)),f=a(n(1238)),m=a(n(1239)),g=a(n(1258)),v=a(n(1244)),y=a(n(1245)),b=a(n(1241)),E=a(n(1242)),C=a(n(1353)),k=a(n(1247)),S=a(n(1248)),_=a(n(1266)),O=a(n(1843)),w=a(n(1844)),P=a(n(1845)),A=a(n(1263)),x=a(n(1846)),N=a(n(1261)),T=a(n(1273)),I=a(n(1275));function B(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var L=document.createEvent("Event"),D=document.createEvent("Event"),j=document.createEvent("Event");L.initEvent("type",!0,!0),D.initEvent("valid",!0,!0),j.initEvent("invalid",!0,!0);var F={amex:{name:"American Express",length:15,cvv:4,prefix:[34,37],pattern:[4,6,5]},china:{name:"China UnionPay",length:[16,19],cvv:3,prefix:62,pattern:[[4,4,4,4],[6,13]]},discover:{name:"Discover",length:16,cvv:3,prefix:[6011,[622126,622925],[644,649],65],pattern:[4,4,4,4]},jcb:{name:"JCB",length:16,cvv:3,prefix:[[3528,3589]],pattern:[4,4,4,4]},mc:{name:"MasterCard",length:16,cvv:3,prefix:[[51,55]],pattern:[4,4,4,4]},uatp:{name:"UATP",length:15,cvv:3,prefix:1,pattern:[4,5,6]},dc:{name:"Diners Club International",length:14,cvv:3,prefix:[[300,305],309,36,[38,39]],pattern:[4,6,4]},visa:{name:"Visa",length:[16,19],cvv:3,prefix:[4,4026,417500,4405,4508,4844,4913,4917],pattern:[[4,4,4,4],[6,4,8,1]]}},M=function(){this.el.dataset.cardType=this.type,this.multiPattern=!1,this.type="",this._initTypeAhead()},R=function(e){(0,v.default)(a,e);var t,n=(t=a,function(){var e,n=(0,b.default)(t);if(B()){var a=(0,b.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,y.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t._initTypeAhead(),t}return(0,m.default)(a,[{key:"_parseParams",value:function(){if(this.disableCardDefaults){var e,t=this.disableCardDefaults,n={},a=(0,h.default)(e=(0,p.default)(F)).call(e,(function(e){return!(0,d.default)(t).call(t,(function(t){return t===e}))}));(0,A.default)(a,(function(e){return n[e]=(0,O.default)({},F[e])})),this._cardTypes=(0,O.default)(n,this.cardTypes||{})}else this._cardTypes=(0,O.default)(F,this.cardTypes||{})}},{key:"_cacheElements",value:function(e){this.el=e,this.inputEl=e.querySelector("input"),this.inputEl.value&&(0,k.default)(this.el,"active"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,_.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._onInputBound=(0,u.default)(e=this._onInput).call(e,this),this._onCardTypeBound=(0,u.default)(t=this._onCardType).call(t,this),this._onBlurBound=(0,u.default)(n=this._onBlur).call(n,this),this._onFocusBound=(0,u.default)(a=this._onFocus).call(a,this),this._onInvalidBound=(0,u.default)(r=this._onInvalid).call(r,this),this._onValidBound=(0,u.default)(i=this._onValid).call(i,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("type",this._onCardTypeBound,!1),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("invalid",this._onInvalidBound,!1),this.inputEl.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("input",this._onInputBound,!1),this.inputEl.removeEventListener("type",this._onCardTypeBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("focus",this._onFocusBound,!1),this.inputEl.removeEventListener("invalid",this._onInvalidBound,!1),this.inputEl.removeEventListener("valid",this._onValidBound,!1)}},{key:"_onInvalid",value:function(){this.onInvalid.call(this)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"_onBlur",value:function(){this.inputEl.value||(0,S.default)(this.el,"active"),this.onBlur.call(this),this.inputEl.hasAttribute("data-novalidate")&&this.inputEl.removeAttribute("data-novalidate"),this.valid||this.inputEl.dispatchEvent(j)}},{key:"_onFocus",value:function(){(0,k.default)(this.el,"active"),this.onFocus.call(this)}},{key:"_onCardType",value:function(){if(this.type){var e,t=this._cardTypes[this.type];this.multiPattern=(0,d.default)(e=t.pattern).call(e,(function(e){return(0,c.default)(e)})),this.activePattern!==this.previousPattern&&this._initTypeAhead()}else this.multiPattern=!1;this.onCardType.call(this)}},{key:"_initTypeAhead",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.inputEl&&this.type){var t,n=this._cardTypes[this.type],a=this.multiPattern?n.pattern[e]:n.pattern,r=(0,l.default)(a).call(a,(function(e){return(0,w.default)("\\d",e)})).join(" ");if(this.inputEl.setAttribute("placeholder",(0,l.default)(t=(0,o.default)(a).call(a,0)).call(t,(function(e){return(0,w.default)("0",e)})).join(" ")),this.inputEl.dataset.typeaheadFormat=r,this.multiPattern&&0===e?(this.inputEl.setAttribute("minlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("maxlength",this.inputEl.placeholder.length+4),this.inputEl.dataset.typeaheadFormat+=" \\d\\d\\d"):(this.inputEl.setAttribute("minlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("maxlength",this.inputEl.placeholder.length)),this.multiPattern?e>0?this.inputEl.setAttribute("pattern","(\\d\\s?){"+n.length[e]+"}"):this.inputEl.setAttribute("pattern",r+"\\s?"):this.inputEl.setAttribute("pattern",r),this.typeahead){this.typeahead.remove(!0);var i=this.el.querySelector(".spark-input__placeholder");i.parentNode.removeChild(i)}this.typeahead=new C.default(this.el)}else this.inputEl&&(this.multiPattern=!1,this.inputEl.setAttribute("placeholder","0000 0000 0000 0000"),this.inputEl.setAttribute("minlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("maxlength",this.inputEl.placeholder.length),this.inputEl.setAttribute("pattern","\\d\\d\\d\\d ?\\d\\d\\d\\d ?\\d\\d\\d\\d ?\\d\\d\\d\\d"),this.inputEl.dataset.typeaheadFormat="\\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d",this.typeahead?(this.typeahead.format=this.typeahead._parseFormat("\\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d \\d\\d\\d\\d"),this.typeahead.updateValue(),this.typeahead.run()):this.typeahead=new C.default(this.el))}},{key:"_onInput",value:function(){if(this.value){var e;(0,k.default)(this.el,"active");var t=(0,p.default)(this._cardTypes),n=!1;(0,A.default)(t,(0,u.default)(e=function(e){var t=this._cardTypes[e];if((0,x.default)(t.prefix)){if((0,P.default)(this.value,t.prefix.toString()))return e!==this.type&&(this.type=e),void(n=!0);var a;(0,A.default)(t.prefix,(0,u.default)(a=function(t){if((0,x.default)(t)){if((0,P.default)(this.value,t.toString()))return e!==this.type&&(this.type=e),void(n=!0)}else{var a=t[0].toString().length,r=this.value.substr(0,a);if(r.length<a)return;if(r>=t[0]&&r<=t[1])return e!==this.type&&(this.type=e),void(n=!0)}}).call(a,this))}else{var r;(0,A.default)(t.prefix,(0,u.default)(r=function(t){if((0,x.default)(t)){if((0,P.default)(this.value,t.toString()))return e!==this.type&&(this.type=e),void(n=!0)}else{var a=t[0].toString().length,r=this.value.substr(0,a);if(r.length<a)return;if(r>=t[0]&&r<=t[1])return e!==this.type&&(this.type=e),void(n=!0)}}).call(r,this))}}).call(e,this)),(!n||!this.type&&this.el.dataset.cardType)&&M.call(this)}else this.el.dataset.cardType&&(M.call(this),this.type="",this.el.removeAttribute("data-card-type"));var a;this.multiPattern&&(0,s.default)(a=this._cardTypes[this.type].length).call(a,(function(e,t,n){var a=this.value;a.length===e?(this._initTypeAhead(t),this.typeahead.setValue(a)):a.length>e&&n[t+1]?(this._initTypeAhead(t+1),this.typeahead.setValue(a)):t>0&&a.length<n[t-1]&&(this._initTypeAhead(t-1),this.typeahead.setValue(a))}),this);this.onInput.call(this),this._checkValidity()}},{key:"_checkValidity",value:function(){this.inputEl.hasAttribute("data-novalidate")||this.inputEl.dispatchEvent(this.valid?D:j)}},{key:"focus",value:function(){this.inputEl.focus()}},{key:"validate",value:function(){return this.validatePattern&&this.inputEl.setAttribute("pattern",this.validatePattern),"function"==typeof this.onValidate&&this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,k.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,S.default)(this.el,"active"),this}},{key:"setValue",value:function(e){return this.value=e,e?this.show():this.hide(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.value="",this}},{key:"disable",value:function(){return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return(0,g.default)((0,b.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return(0,g.default)((0,b.default)(a.prototype),"update",this).call(this,e)}},{key:"type",get:function(){if(this.activeCardType)return this.activeCardType},set:function(e){e&&e!==this.activeCardType?(this.previousPattern=this.activePattern,this.activePattern=this._cardTypes[e].pattern,this.activeCardType=e,this.el.dataset.cardType="cc-"+e,this.inputEl&&this.inputEl.dispatchEvent(L)):e||(this.previousPattern=this.activePattern,this.activePattern=void 0,this.activeCardType="",this.multiPattern=!1)}},{key:"value",get:function(){return this.inputEl.value.replace(/\D/g,"")},set:function(e){this.typeahead?this.typeahead.setValue(e):this.inputEl.value=e}},{key:"valid",get:function(){var e=this.value;if(/[^0-9-\s]+/.test(e))return!1;for(var t=0,n=0,a=!1,r=(e=e.replace(/\D/g,"")).length-1;r>=0;r--){var s=e.charAt(r);n=(0,i.default)(s,10),a&&(n*=2)>9&&(n-=9),t+=n,a=!a}var o=this.inputEl,l=new RegExp(o.getAttribute("pattern"));return o.willValidate&&o.value.length>=o.getAttribute("minlength")&&l.test(o.value)&&t%10==0}}]),a}(E.default);R.prototype._whitelistedParams=["cardTypes","disableCardDefaults","onInput","onBlur","onFocus","onValidate","validate","validatePattern","onInvalid","onValid","onCardType"],R.prototype.defaults={el:null,inputEl:null,type:null,cardTypes:null,disableCardDefaults:null,validatePattern:null,onInput:function(){},onBlur:function(){},onFocus:function(){},onValidate:function(){},onInvalid:function(){},onValid:function(){},onCardType:function(){}},(0,N.default)(R.prototype,T.default,I.default);var V=R;t.default=V,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1325)),s=a(n(1265)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1353)),m=a(n(1261)),g=a(n(1247)),v=a(n(1248)),y=a(n(1257)),b=a(n(1266)),E=a(n(1273)),C=a(n(1275));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var S=document.createEvent("Event"),_=document.createEvent("Event");S.initEvent("valid",!0,!0),_.initEvent("invalid",!0,!0);var O=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(k()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t._initTypeahead(),t}return(0,c.default)(a,[{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=e?e.querySelector("input"):void 0,!this.el||!this.inputEl)throw new Error("CardExpiration markup missing");this.inputEl.value&&(0,g.default)(this.el,"active"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,b.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onBlurBound=(0,o.default)(e=this._onBlur).call(e,this),this._onFocusBound=(0,o.default)(t=this._onFocus).call(t,this),this._onInputBound=(0,o.default)(n=this._onInput).call(n,this),this._onInvalidBound=(0,o.default)(a=this._onInvalid).call(a,this),this._onValidBound=(0,o.default)(r=this._onValid).call(r,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("invalid",this._onInvalidBound,!1),this.inputEl.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("input",this._onInputBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("focus",this._onFocusBound,!1),this.inputEl.removeEventListener("invalid",this._onInvalidBound,!1),this.inputEl.removeEventListener("valid",this._onValidBound,!1)}},{key:"_initTypeahead",value:function(){this.inputEl&&(this.inputEl.dataset.typeaheadFormat="\\d\\d - \\d\\d",this.typeahead=new f.default(this.el))}},{key:"_onBlur",value:function(){this.inputEl.value||(0,v.default)(this.el,"active"),this.onBlur.call(this),this.inputEl.hasAttribute("data-novalidate")&&this.inputEl.removeAttribute("data-novalidate"),this.valid||this.inputEl.dispatchEvent(_)}},{key:"_onFocus",value:function(){(0,g.default)(this.el,"active"),this.onFocus.call(this)}},{key:"_onInput",value:function(){var e=this.inputEl?this.inputEl.value:0;switch((0,g.default)(this.el,"active"),e.length){case 0:this.month=void 0,this.year=void 0;break;case 1:if(e>1){var t="0".concat(this.inputEl.value," - ");this.inputEl.value=t,this.typeahead.setValue(t),this.typeahead.placeholderEl.innerHTML="&nbsp;&nbsp; - YY",this.typeahead.moveCaret(5),this.month=(0,s.default)(e).call(e,0,2),this.year=void 0}else this.year=void 0;break;case 5:var n,a=(0,s.default)(e).call(e,0,2);if(a>=1&&a<=12)this.month=a,this.typeahead.moveCaret(5);else this.typeahead.setValue(a.charAt(0)),this.typeahead.moveCaret(1),this.inputEl.value=a.charAt(0),this.typeahead.placeholderEl.innerHTML="&nbsp;"+(0,s.default)(n=this.inputEl.placeholder).call(n,1);this.year=void 0;break;case 6:this.month=(0,s.default)(e).call(e,0,2),this.year=void 0;break;case 7:this.month=(0,s.default)(e).call(e,0,2),this.year=e.substr(-2)}this.onInput.call(this),this._checkValidity()}},{key:"_checkValidity",value:function(){this.inputEl.hasAttribute("data-novalidate")||this.inputEl.dispatchEvent(this.valid?S:_)}},{key:"_onInvalid",value:function(){this.onInvalid.call(this)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"focus",value:function(){this.inputEl.focus()}},{key:"valueOf",value:function(){return this.inputEl.value.replace(/\D/g,"")}},{key:"validate",value:function(){return this.validatePattern&&this.inputEl.setAttribute("pattern",this.validatePattern),this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,g.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,v.default)(this.el,"active"),this}},{key:"setValue",value:function(e){return this.value=e,e?this.show():this.hide(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.value=void 0,this}},{key:"disable",value:function(){return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"month",get:function(){if(void 0===this._month&&this.inputEl.value&&this.inputEl.value.length>=2){var e,t=(0,s.default)(e=this.inputEl.value).call(e,0,2);return t>=1&&t<=12?t:this._month}return this._month},set:function(e){var t;if(e&&e>=1&&e<=12?(e=e.toString(),this._month=2===e.length?e:"0".concat(e)):this._month=void 0,this._month&&2===this._month.length)switch(this.inputEl.value.length){case 0:case 1:(0,g.default)(this.el,"active"),this.value=this._month;break;case 2:(0,g.default)(this.el,"active"),this.value=this._month,this.inputEl===document.activeElement&&this.typeahead.moveCaret(5);break;default:this.value=this._month+(0,s.default)(t=this.inputEl.value).call(t,2)}else this._month=void 0,this._year=void 0,this.typeahead.clearValue()}},{key:"year",get:function(){return void 0===this._year&&this.inputEl.value&&7===this.inputEl.value.length?this.inputEl.value.substr(-2):this._year},set:function(e){var t;if(e>=0&&e<=99?(e=e.toString(),this._year=2===e.length?e:"0".concat(e)):this._year=void 0,this._year&&2===this._year.length)switch(this.inputEl.value.length){case 0:case 1:this._year=void 0;break;default:var n;if(this._month)this.value=(0,i.default)(n=this._month).call(n," - ",this._year)}else this.value=(0,s.default)(t=this.inputEl.value).call(t,0,5)}},{key:"value",get:function(){return this.valid?{month:this.month,year:this.year}:void 0},set:function(e){e?e.hasOwnProperty("year")||e.hasOwnProperty("month")?(this.month=e.month||this.month,this.year=e.year||this.year):this.typeahead&&e&&"string"==typeof e&&this.typeahead.setValue(e):(this._month=void 0,this._year=void 0,this.inputEl&&(this.inputEl.value=""),this.typeahead&&(this.typeahead.clearValue(),this.typeahead.placeholderEl.innerText=this.inputEl.placeholder)),this.inputEl===document.activeElement?(0,g.default)(this.el,"active"):(0,y.default)(this.el,"active",this.inputEl.value)}},{key:"valid",get:function(){var e=new RegExp(this.inputEl.getAttribute("pattern"));return!(!this.month||!this.year)&&(this.inputEl.willValidate&&e.test(this.inputEl.value))}}]),a}(h.default);O.prototype._whitelistedParams=["onInput","onBlur","onFocus","onInvalid","onValid","onValidate","validate","validatePattern"],O.prototype.defaults={el:null,inputEl:null,validate:null,validatePattern:null,onInput:function(){},onBlur:function(){},onFocus:function(){},onInvalid:function(){},onValid:function(){},onValidate:function(){}},(0,m.default)(O.prototype,E.default,C.default);var w=O;t.default=w,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1258)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1384)),f=a(n(1261)),m=a(n(1247)),g=a(n(1248)),v=a(n(1266)),y=a(n(1273)),b=a(n(1275));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var C=document.createEvent("Event"),k=document.createEvent("Event");C.initEvent("valid",!0,!0),k.initEvent("invalid",!0,!0);var S=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(E()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,o.default)(a,[{key:"_cacheElements",value:function(e,t){if(this.el=e,this.inputEl=e?e.querySelector("input"):void 0,t.info&&(this.infoPopoverEl=document.querySelector(t.info)),!this.el||!this.inputEl)throw new Error("SecurityCode markup missing");if(this.inputEl.value&&(0,m.default)(this.el,"active"),this.infoPopoverEl){var n,a,r=this.el.querySelector(".spark-payment__info--toggle");r?this.infoEl=r:(this.infoToggleAriaLabel=t.infoToggleAriaLabel||"Show Card Security Code instructions",this.infoEl=(0,v.default)('<button aria-label="'+this.infoToggleAriaLabel+'" class="spark-payment__info--toggle spark-icon-question-mark-circle spark-icon--md"></button>'),this.el.appendChild(this.infoEl)),this.infoPopover=new h.default(this.infoPopoverEl,{anchorX:"center",anchorY:"bottom",toggleEl:this.infoEl,onOpen:(0,i.default)(n=function(){(0,m.default)(this.infoEl,"spark-icon--fill")}).call(n,this),onClose:(0,i.default)(a=function(){(0,g.default)(this.infoEl,"spark-icon--fill"),this.infoEl.focus()}).call(a,this)})}this.messageEl=this.el.querySelector(".spark-input__message")||(0,v.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s;this._onBlurBound=(0,i.default)(e=this._onBlur).call(e,this),this._onFocusBound=(0,i.default)(t=this._onFocus).call(t,this),this._onInputBound=(0,i.default)(n=this._onInput).call(n,this),this._onInfoBound=(0,i.default)(a=this._onInfo).call(a,this),this._onInvalidBound=(0,i.default)(r=this._onInvalid).call(r,this),this._onValidBound=(0,i.default)(s=this._onValid).call(s,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.inputEl.addEventListener("invalid",this._onInvalidBound,!1),this.inputEl.addEventListener("valid",this._onValidBound,!1),this.infoEl&&(this.infoEl.addEventListener("click",this._onInfoBound,!1),this.infoEl.addEventListener("blur",this._onInfoBlurBound,!1))}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("input",this._onInputBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("focus",this._onFocusBound,!1),this.inputEl.removeEventListener("invalid",this._onInvalidBound,!1),this.inputEl.removeEventListener("valid",this._onValidBound,!1),this.infoEl&&(this.infoEl.removeEventListener("click",this._onInfoBound,!1),this.infoEl.removeEventListener("blur",this._onInfoBlurBound,!1))}},{key:"_onBlur",value:function(){this.value||this.hide(),this.onBlur.call(this),this.inputEl.hasAttribute("data-novalidate")&&this.inputEl.removeAttribute("data-novalidate"),this.valid||this.inputEl.dispatchEvent(k)}},{key:"_onFocus",value:function(){this.show(),this.onFocus.call(this)}},{key:"_onInput",value:function(){if(this.value=this.toString().replace(/\D/g,""),this.value&&this.show(),this.onInput.call(this),!this.inputEl.hasAttribute("data-novalidate")){var e=this.valid?C:k;this.inputEl.dispatchEvent(e)}}},{key:"_onInfo",value:function(e){e.preventDefault(),e.stopPropagation(),this.infoPopover&&this.infoPopover.open({affixTo:this.infoEl})}},{key:"_onInvalid",value:function(){this.onInvalid.call(this)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"focus",value:function(){this.inputEl.focus()}},{key:"toString",value:function(){return this.inputEl.value}},{key:"validate",value:function(){return this.validatePattern&&this.inputEl.setAttribute("pattern",this.validatePattern),this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,m.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,g.default)(this.el,"active"),this}},{key:"setValue",value:function(e){return this.value=e,e?this.show():this.hide(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.value="",this}},{key:"disable",value:function(){return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return(0,l.default)((0,d.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return(0,l.default)((0,d.default)(a.prototype),"update",this).call(this,e)}},{key:"value",get:function(){return this.inputEl?this.inputEl.value:void 0},set:function(e){this.inputEl&&(isNaN(e)?""!==e&&null!=e||((0,g.default)(this.el,"active"),this.inputEl.value=""):((0,m.default)(this.el,"active"),this.inputEl.value=e))}},{key:"maxLength",set:function(e){this.inputEl.maxLength=e&&e>=3&&e<=4?e:4}},{key:"valid",get:function(){return this.inputEl.willValidate&&this.inputEl.value.length>=this.inputEl.getAttribute("minlength")&&this.inputEl.value.length<=this.inputEl.getAttribute("maxlength")}}]),a}(p.default);S.prototype._whitelistedParams=["onInput","onBlur","onFocus","onInvalid","onValid","validate","onValidate","validatePattern"],S.prototype.defaults={el:null,inputEl:null,validatePattern:null,validate:null,onInput:function(){},onBlur:function(){},onFocus:function(){},onInvalid:function(){},onValid:function(){},onValidate:function(){}},(0,f.default)(S.prototype,y.default,b.default);var _=S;t.default=_,e.exports=t.default},function(e,t,n){e.exports=n(1855)},function(e,t,n){e.exports=n(1864)},function(e,t,n){"use strict";var a=n(1285),r=function(e){var t,n;this.promise=new e((function(e,a){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=a})),this.resolve=a(t),this.reject=a(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(0),s=n.n(i),o=n(1554),l=n(522),c=n(523),u=n(1361),d=n(1463),p=n(1474),h=n(1464),f=n(1358),m=n(1475),g=n(43),v=n.n(g),y=n(55),b=n.n(y),E=n(4),C=n.n(E),k=n(2),S=n.n(k),_=function(e){var t=e.passenger,n=e.flightsAdditionalInfo,a=void 0===n?[]:n,r=Object(f.a)({passenger:t});if(S()(a))return!S()(r)&&b()(r,"checkedIn");var i=C()(a,(function(e,t){if(!t.isOtherAirlineFlight){var n=s()(r,t.id);n&&e.push({checkedIn:n.checkedIn})}return e}),[]);return!S()(i)&&!b()(i,"checkedIn")&&v()(i,"checkedIn")},O=function(e){var t=e.segments;return v()(t,"isStandBy")},w=function(e){var t=e.segments,n=e.boardingPassFormat,a=e.boardingPassInhibitedStatuses,r=void 0===a?{}:a;return b()(t,(function(e){return b()(e.passengerFlight,(function(e){return("IMAGE"===n?!S()(s()(e,["boardingPass","formattedBoardingPass"])):!S()(e.boardingPass))&&!S()(e.boardingPass.barCode)&&(!r[e.id]||!r[e.id].isBoardingPassInhibited)}))}))},P=n(1922),A=function(e){var t=e.segments,n=e.boardingPassFormat,a=e.boardingPassInhibitedStatuses,r=void 0===a?{}:a;return b()(t,(function(e){return b()(e.passengerFlight,(function(e){return("IMAGE"===n?!S()(s()(e,["boardingPass","formattedBoardingPass"])):!S()(e.boardingPass))&&!S()(e.boardingPass.barCode)&&(!r[e.id]||!r[e.id].isMobileBoardingPassInhibited)}))}))},x=function(e){var t=e.segments,n=e.boardingPassFormat,a=e.boardingPassInhibitedStatuses,r=void 0===a?{}:a;return v()(t,(function(e){return v()(e.passengerFlight,(function(e){return("IMAGE"===n?!S()(s()(e,["boardingPass","formattedBoardingPass"])):!S()(e.boardingPass))&&!S()(e.boardingPass.barCode)&&(!r[e.id]||!r[e.id].isMobileBoardingPassInhibited)}))}))},N=n(144),T=n.n(N),I=n(1923);function B(e){var t=e.passenger,n=s()(t,"passengerSegments.passengerSegment"),a=T()(n,(function(e){return s()(e,"passengerFlight")}));return Object(I.a)({flights:a})}var L=n(1924);function D(e){var t=e.passenger,n=s()(t,"passengerSegments.passengerSegment"),a=T()(n,(function(e){return s()(e,"passengerFlight")}));return Object(L.a)({flights:a})}var j=n(1481),F=n(95),M=n.n(F),R=n(5),V=n.n(R),H=n(27),U=n.n(H),W=n(19),q=n.n(W),z=n(81),G=n(21),K=n.n(G),Y=function(e){var t=e.airExtras,n=e.allowedAirExtrasMap;return q()(t,(function(e){var t,a,r=s()(e,"ancillary",{}),i=r.group,o=r.subCode;return(t="SA"===i?s()(n,"seats",{}):"BG"===i?s()(n,"bags",{}):s()(n,"ancillaries",{})).subCodes&&(a=K()(t.subCodes,o)),a||K()(t.groupCodes||[],i)}))},Q=n(54),X=n.n(Q),J=n(35),Z=n.n(J),$=n(110),ee=n.n($),te=n(18),ne=n.n(te),ae=n(79),re=n.n(ae),ie=n(201),se=function(e){var t=Object(ie.a)(V()(e,"quantity")),n=U()(e);return[ne()({},n,{quantity:t})]},oe=function(e){var t=ee()(e,(function(e){return s()(e,["ancillary","group"])})),n=[];s()(t,"BG")&&(n=se(s()(t,"BG")));var a=[];s()(t,"SA")&&(a=se(s()(t,"SA")));var r=T()(Z()(t,["BG","SA"])),i=ee()(r,(function(e){return s()(e,"ancillary.subCode")})),o=C()(i,(function(e,t){var n=se(t);return e.push.apply(e,X()(n)),e}),[]);return re()([],n,a,o)},le=n(1726),ce=n.n(le),ue=function(e){var t=e.passenger,n=e.itineraryParts,a=e.packageName,r=function(e){var t=e.itineraryParts,n=T()(t,(function(e){return T()(e.segment,(function(e){return e.flightDetail}))}));return ce()(n,"id")}({itineraryParts:n}),i=Object(z.a)(a)||{},o=i.allowedAirExtrasMap,l=i.ancillaryIconsPerSubCode,c=void 0===l?{}:l,u=i.seatsExtrasSeparator,d=s()(t,["passengerSegments","passengerSegment"],[]),p=T()(d,"airExtra"),h=function(e,t,n){var a=s()(e,["airExtra"],[]),r=Y({airExtras:[].concat(X()(a),X()(t)),allowedAirExtrasMap:n}),i=oe(r),o=q()(i,(function(e){return"99"!==s()(e,["ancillary","group"])&&"STANDALONE"!==s()(e,["ancillary","electronicMiscDocType","value"])}));if(!S()(o))return o}(t,q()(p,(function(e){return"BG"===s()(e,["ancillary","group"])})),o),f="",m="",g=!1,v=T()(d,(function(e){var t=s()(e,["passengerFlight"]);return m&&(g=!0),V()(t,(function(t){var n=U()(t.flightRefs),a=r[n]||{},i=a.arrivalAirport,l=a.departureAirport;f||(f=l),m=i;var d=s()(e,["airExtra"],[]),p=Y({airExtras:d,allowedAirExtrasMap:o}),h=q()(p,(function(e){return"BG"!==s()(e,["ancillary","group"])})),g=oe(h),v=M()(V()(g,(function(e){var t=e.ancillary,n=t.group,a=t.subCode;return{iconName:c[a],name:a,group:n,subCode:a,quantity:e.quantity}})));return{arrivalAirport:i,departureAirport:l,separator:u,seat:s()(t,["seat","value"]),extras:v}}))}));if(!S()(v))return{arrivalAirport:m,departureAirport:f,isMultipleSegment:g,segments:v,additionalExtras:h}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function e(t){var n=t.passenger,a=t.index,i=t.packageName,g=t.flightsAdditionalInfo,v=t.boardingPassInhibitedStatuses,y=t.airExtraPricings,b=t.itineraryParts,E=Object(l.a)(i,"showPassengerInitial"),k=Object(l.a)(c.a,"boardingPassFormat"),N=Object(l.a)(c.a,"isSelecteeAtReservationLevel"),T=s()(n,"type",{}),I=Object(h.a)({personName:s()(n,"personName",{}),passenger:n,passengerType:T,packageName:i}),L=s()(n,"id"),F=a+1,M=Object(o.b)({passenger:n,packageName:i}),R=Object(j.a)({passenger:n,packageName:i}),V=s()(n,"transportationSecurity"),H=s()(V,["knownTraveler","number"])||s()(V,"knownTravelerNumber"),U=Object(m.a)({passenger:n,flightsAdditionalInfo:g}),W=_({passenger:n,flightsAdditionalInfo:g}),G=n.infant&&e({passenger:n.infant,index:a,packageName:i,flightsAdditionalInfo:g,boardingPassInhibitedStatuses:v}),K=s()(n,"passengerSegments.passengerSegment"),Q=ue({passenger:n,itineraryParts:b,packageName:i}),X=function(e){var t=e.passenger,n=e.packageName,a=s()(t,["airExtra"],[]),i=(Object(z.a)(n)||{}).allowedAirExtrasMap,o=Y({airExtras:a,allowedAirExtrasMap:i}),l=oe(o),c=q()(l,(function(e){return"99"===s()(e,["ancillary","group"])&&"STANDALONE"===s()(e,["ancillary","electronicMiscDocType","value"])})),u=C()(c,(function(e,t){var n=t.ancillary,a=n.group,i=n.subCode;return pe({},e,r()({},"".concat(a,".").concat(i),{group:a,subCode:i,quantity:t.quantity}))}),{});return S()(u)?void 0:pe({},u)}({passenger:n,packageName:i}),J=Object(f.a)({passenger:n,airExtraPricings:y});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},I,{showPassengerInitial:E,passengerId:L,passengerIndex:F,isPccPassenger:Object(p.a)(n),loyalty:M,knownTravelerNumber:H,isPassengerCheckedIn:U,isPassengerPartialCheckedIn:W,passengerDetails:R,passengerEntityMap:J,isInfant:Object(d.a)(n),infant:G,isSelecteeForSomeSegments:B({passenger:n}),isSelecteeForAllSegments:D({passenger:n})||N&&B({passenger:n}),someSegmentIsStandBy:O({segments:K}),everySegmentHasBoardingPass:w({segments:K,boardingPassFormat:k,boardingPassInhibitedStatuses:v,passengerEntityMap:J}),someSegmentsHaveBoardingPass:Object(P.a)({segments:K,boardingPassFormat:k,boardingPassInhibitedStatuses:v,passengerEntityMap:J}),everySegmentHasMobileBoardingPass:A({segments:K,boardingPassFormat:k,boardingPassInhibitedStatuses:v,passengerEntityMap:J}),someSegmentsHaveMobileBoardingPass:x({segments:K,boardingPassFormat:k,boardingPassInhibitedStatuses:v,passengerEntityMap:J}),seatsExtras:Q,standaloneExtras:X,passengerNameHash:Object(u.b)(I)})}},function(e,t,n){"use strict";n(1574),n(1462),n(144);var a=n(0),r=n.n(a);n(43),n(1434),n(1390);n(1575);var i=n(1463),s=n(2),o=n.n(s),l=function(e){return!o()(r()(e,"infant"))},c=(n(1547),n(1576),n(1464)),u=(n(1465),n(1407),n(1435)),d=(n(4),n(55),n(1475));n(5),n(19),n(137),n(18),n(1474),n(1358),n(1481);n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c.a})),n.d(t,"d",(function(){return u.a})),n.d(t,"a",(function(){return d.a}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=(n(6),n(1)),f=n.n(h),m=n(39),g=n.n(m),v=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={error:!1},n}return p()(t,e),s()(t,[{key:"onError",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.src,r=t.errorSrc,i=t.alt,s=t.width,o=t.height;return f.a.createElement("img",{className:g()("dxp-image",n),onError:function(){return e.onError()},width:s,height:o,src:this.state.error?r:a,alt:i})}}]),t}(h.Component);v.defaultProps={alt:"",width:void 0,height:void 0,className:"",errorSrc:""};var y=v;n.d(t,"a",(function(){return y}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(3),r=n.n(a),i=n(2),s=n.n(i),o=n(215),l=n.n(o),c=n(0),u=n.n(c),d=n(11);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var h=function(e,t){return s()(e)?t:e};function f(e,t){var n=u()(t,"location.query",{}),a=e.metadata.get("pnrQueryRequiredParameters",Object(d.Map)()).reduce((function(t,a,r){var i,s,o,l,c,u,p;return a&&(t[r]=n[r]||(s=(i=e).tripDetails,o=void 0===s?Object(d.Map)():s,l=i.sessionStorage,c=(void 0===l?Object(d.Map)():l).get("pnrQuery",Object(d.Map)()),u=o.getIn(["passengers","0"],Object(d.Map)()),p={pnr:function(){return c.get("pnr")||o.get("pnr")},firstName:function(){return h(c.get("firstName"),u.getIn(["passengerDetails","firstName"],""))},lastName:function(){return h(c.get("lastName"),u.getIn(["passengerDetails","lastName"],""))},email:function(){return h(c.get("email"),u.getIn(["passengerInfo","emails","0"],""))}},function(e){return p[e]()})(r)),t}),{});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{pnr:l()(a.pnr),carReservation:n.carReservation,hotelReservation:n.hotelReservation})}},function(e,t,n){"use strict";var a=n(160),r=n(177);t.a=Object(a.b)({parseQueryString:r.parse,stringifyQuery:r.stringify})},function(e,t,n){"use strict";var a=n(81),r=n(523),i=n(1925);t.a=function(e){var t=e.dispatch,n=e.errorCode,s=void 0===n?"UNKNOWN":n,o=e.returnedCode,l=void 0===o?"500":o,c=e.message;if(new RegExp(Object(a.a)(r.a,"systemErrorCodeRegEx")).test(l)){var u=Object(a.a)(r.a,"systemErrorCodeMessageMap",c);return t(Object(i.a)({errorType:"system",errorCode:u?"DXCI.".concat(u):s})),!0}return!1}},function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"LEFT",(function(){return A})),n.d(a,"RIGHT",(function(){return x})),n.d(a,"TOP",(function(){return N})),n.d(a,"BOTTOM",(function(){return T}));var r={};n.r(r),n.d(r,"LEFT",(function(){return I})),n.d(r,"RIGHT",(function(){return B})),n.d(r,"TOP",(function(){return L})),n.d(r,"BOTTOM",(function(){return D}));var i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(539),y=n.n(v),b=n(122),E=n.n(b),C=n(1),k=n.n(C),S=(n(6),n(39)),_=n.n(S),O=n(111),w=n(1455),P=n.n(w),A="left",x="right",N="top",T="bottom",I={anchorY:"middle",anchorX:"left"},B={anchorY:"middle",anchorX:"right"},L={anchorY:"top",anchorX:"center"},D={anchorY:"bottom",anchorX:"center"};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var F=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.createToolTip()}},{key:"componentDidUpdate",value:function(){this.sparkInstance&&(this.sparkInstance.remove(!0),this.createToolTip())}},{key:"componentWillUnmount",value:function(){this.sparkInstance&&this.sparkInstance._removeEventListeners()}},{key:"createToolTip",value:function(){if(this.tooltip){var e=Object(O.j)(),t=this.props.position;e&&(t===A?t=x:t===x&&(t=A)),this.sparkInstance=new P.a(this.tooltip,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r[y()(t)],{contentEl:this.tooltipContent,caretEl:this.tooltipCaret}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.innerClassName,r=t.tooltip,i=t.id,s=t.ariaLabel,o=t.ariaControls,l=t.disabled,c=t.onClick,u=t.onMouseDown,d=_()("ducp-component-tooltip","spark-tooltip spark-tooltip__toggle",n);return r?k.a.createElement("button",{type:"button",ref:function(t){e.tooltip=t},"aria-describedby":i,"aria-label":s,className:d,disabled:l,"aria-controls":o,onClick:c,onMouseDown:u},this.props.children,k.a.createElement("span",{ref:function(t){e.tooltipContent=t},id:i,className:_()("spark-tooltip__content",g()({},"".concat(a||n,"-content"),a||n)),role:"tooltip"},r,k.a.createElement("span",{ref:function(t){e.tooltipCaret=t},className:"spark-tooltip__caret"}))):this.props.children||!1}}]),t}(C.Component);g()(F,"POSITION",a),g()(F,"defaultProps",{tooltip:void 0,className:void 0,innerClassName:void 0,children:void 0,position:F.POSITION.LEFT,ariaLabel:void 0,ariaControls:void 0,disabled:!1,onClick:E.a,onMouseDown:E.a}),n.d(t,"a",(function(){return a}));t.b=F},function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=n(50),l=n(12),c=(n(2091),n(2092),{SUCCESS:o.a.CHECK,ERROR:o.a.BAN,WARNING:o.a.ALERT_TRIANGLE,INFO:o.a.NOTE,TAGS:o.a.TAGS}),u=function(e){var t=e.className,n=e.type,a=e.title,i=e.children,u=e.size,d=e.id,p=s()("dxp-inline-message",n,t);return r.a.createElement("div",{className:p,id:d},r.a.createElement(o.c,{name:c[n.toUpperCase()],fill:!0,className:"icon",size:u}),r.a.createElement("div",{className:"title-content",role:"note"},a&&r.a.createElement("b",{className:"title"},Object(l.a)(a)),i))};u.defaultProps={title:"",children:"",className:"",id:"",size:"sm"};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(17),r=n.n(a),i=n(155);function s(e){var t=function(e){return[{price:[[e.carPaymentSummary.totalPrice]],label:o(e)}]}(e),n=function(e){return[[e.carPaymentSummary.totalPrice]]}(e);return{label:i.a.CARS,breakdownElements:t,total:n}}function o(e){var t=r()(e.pickupDateTime);return r()(e.dropOffDateTime).diff(t.add(1,"minutes"),"days")+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="SabreDxContainerCheckInLookup"},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(1388),s=n.n(i),o=n(26),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(22),g=n.n(m),v=n(30),y=n.n(v),b=n(3),E=n.n(b),C=n(1),k=n.n(C),S=(n(6),n(39)),_=n.n(S),O=function(e){function t(e){var n;return l()(this,t),(n=u()(this,p()(t).call(this,e))).state=t.extractPropsForState(e),n.onChange=n.onChange.bind(f()(n)),n.onFocus=n.onFocus.bind(f()(n)),n.onBlur=n.onBlur.bind(f()(n)),n}return y()(t,e),g()(t,null,[{key:"extractPropsForState",value:function(e){return{checked:e.defaultValue||e.checked||!1,focused:e.focused||!1,indeterminate:e.indeterminate||!1}}}]),g()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.syncStateWithProp&&this.setState(t.extractPropsForState(e))}},{key:"onChange",value:function(){var e=this,t=this.props,n=t.disabled,a=t.loading,r=t.onChange,i=this.state.checked;return!n&&!a&&this.setState({checked:!i,indeterminate:!1},(function(){return r&&r({target:e.input,isChecked:!i,value:!i,state:"success"})}))}},{key:"onFocus",value:function(e){var t=this.props,n=t.disabled,a=t.loading;return!n&&!a&&(this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e))}},{key:"onBlur",value:function(e){var t=this.props,n=t.disabled,a=t.loading;return!n&&!a&&(this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e))}},{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.disabled,i=t.id,o=t.label,l=t.loading,c=t.children,u=t.ariaProps,d=(t.onBlur,t.onChange,t.onFocus,t.syncStateWithProp,t.indeterminate,s()(t,["className","disabled","id","label","loading","children","ariaProps","onBlur","onChange","onFocus","syncStateWithProp","indeterminate"])),p=a||l,h=_()("ducp-component-checkbox","spark-checkbox",n,{"spark-progress":l,indeterminate:this.state.indeterminate,checked:this.state.checked,focused:this.state.focused},"Checkbox");return k.a.createElement("label",{className:h,htmlFor:i},k.a.createElement("input",r()({},d,{ref:function(t){e.input=t,t&&(e.input.indeterminate=e.state.indeterminate)},id:i,type:"checkbox",className:"spark-checkbox__input",disabled:p,checked:this.state.checked,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur},u)),k.a.createElement("span",{className:"spark-checkbox__box"}),o&&k.a.createElement("span",{className:"spark-label"},o),c)}}]),t}(C.Component);E()(O,"defaultProps",{className:void 0,label:void 0,disabled:!1,loading:!1,onFocus:void 0,onBlur:void 0,id:void 0,children:void 0,syncStateWithProp:!0,ariaProps:void 0,indeterminate:void 0,onChange:void 0});t.a=O},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=n(17),l=n.n(o),c=n(12);var u=function(e){var t=e.duration,n=s()("dxp-duration",e.className),a=function(e){var t=e.hours?e:l.a.duration(e),n="P";return n+=Math.floor(t.asHours())?"".concat(t.hours(),"H"):"",n+=t.minutes()?"".concat(t.minutes(),"M"):""}(t),i=t.asHours?t:l.a.duration(t);return r.a.createElement("time",{className:n,dateTime:a,dir:"ltr"},Object(c.a)("app.duration",{hours:Math.floor(i.asHours()),minutes:i.minutes()}))};u.defaultProps={className:""};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){var a=n(1269),r=n(1254),i=n(1379);e.exports=!a&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var a=n(1268),r=n(1277),i=n(1380).indexOf,s=n(1329);e.exports=function(e,t){var n,o=r(e),l=0,c=[];for(n in o)!a(s,n)&&a(o,n)&&c.push(n);for(;t.length>l;)a(o,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var a=n(1255),r=n(1622),i=a["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=i},function(e,t,n){"use strict";var a=n(1285),r=n(1259),i=[].slice,s={},o=function(e,t,n){if(!(t in s)){for(var a=[],r=0;r<t;r++)a[r]="a["+r+"]";s[t]=Function("C,a","return new C("+a.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=a(this),n=i.call(arguments,1),s=function(){var a=n.concat(i.call(arguments));return this instanceof s?o(t,a.length,a):t.apply(e,a)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){var a=n(1367);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){"use strict";var a=n(1246),r=n(1624),i=n(1332),s=n(1428),o=n(1299),l=n(1276),c=n(1318),u=n(1253),d=n(1302),p=n(1288),h=n(1426),f=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v=function(){return this};e.exports=function(e,t,n,u,h,y,b){r(n,t,u);var E,C,k,S=function(e){if(e===h&&A)return A;if(!m&&e in w)return w[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},_=t+" Iterator",O=!1,w=e.prototype,P=w[g]||w["@@iterator"]||h&&w[h],A=!m&&P||S(h),x="Array"==t&&w.entries||P;if(x&&(E=i(x.call(new e)),f!==Object.prototype&&E.next&&(d||i(E)===f||(s?s(E,f):"function"!=typeof E[g]&&l(E,g,v)),o(E,_,!0,!0),d&&(p[_]=v))),"values"==h&&P&&"values"!==P.name&&(O=!0,A=function(){return P.call(this)}),d&&!b||w[g]===A||l(w,g,A),p[t]=A,h)if(C={values:S("values"),keys:y?A:S("keys"),entries:S("entries")},b)for(k in C)!m&&!O&&k in w||c(w,k,C[k]);else a({target:t,proto:!0,forced:m||O},C);return C}},function(e,t,n){"use strict";var a,r,i,s=n(1332),o=n(1276),l=n(1268),c=n(1253),u=n(1302),d=c("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(r=s(s(i)))!==Object.prototype&&(a=r):p=!0),null==a&&(a={}),u||l(a,d)||o(a,d,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var a=n(1254);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var a=n(1270),r=n(1626);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return a(n),r(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){n(1256)("iterator")},function(e,t,n){var a=n(1421),r=n(1364).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},function(e,t,n){e.exports=n(1682)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;var r=function(e){return e.replace(a,"")};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1257)),h=a(n(1261)),f=a(n(1273)),m=a(n(1275)),g=a(n(1266));function v(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(v()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,c.default)(t)):(0,c.default)(t)}return(0,o.default)(a,[{key:"getValue",value:function(){return this.selectEl.value}},{key:"setValue",value:function(e){e+="";for(var t=0,n=this.selectEl.children.length;t<n;t++)if(this.selectEl.children[t].value===e)return this.selectEl.children[t].selected=!0,this._updateClass(),this.onChange.call(this,e,this),this;return this}},{key:"clearValue",value:function(){for(var e=0,t=this.selectEl.children.length;e<t;e++)if(!0===this.selectEl.children[e].selected)return this.selectEl.children[e].selected=!1,this._updateClass(),this.onChange.call(this,"",this),this;return this}},{key:"setOptions",value:function(e){for(var t=0,n=e.length,a="",r=this.selectEl.selectedIndex;t<n;t++)a+="<option "+(void 0!==e[t].value?'value="'+(e[t].value||"")+'"':"")+">"+(e[t].text||"")+"</option>";return this.selectEl.innerHTML=a,this.selectEl.selectedIndex=Math.min(n-1,r),this}},{key:"setLabel",value:function(e){return this.labelEl?(this.labelEl.innerHTML=e,this):this}},{key:"disable",value:function(){return this.selectEl.setAttribute("disabled",""),this}},{key:"enable",value:function(){return this.selectEl.removeAttribute("disabled"),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.selectEl=this.el.querySelector("select"),this.labelEl=this.el.querySelector(".spark-label"),this.messageEl=this.el.querySelector(".spark-select__message")||(0,g.default)('<span class="spark-select__message"></span>'),!this.selectEl)throw new Error("A <select> element must be present!",this.el);this._updateClass()}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onFocusBound=(0,i.default)(e=this._onFocus).call(e,this),this._onBlurBound=(0,i.default)(t=this._onBlur).call(t,this),this._onInputBound=(0,i.default)(n=this._onInput).call(n,this),this._onKeydownBound=(0,i.default)(a=this._onKeydown).call(a,this),this._onClickBound=(0,i.default)(r=this._onClick).call(r,this)}},{key:"_addEventListeners",value:function(){this.selectEl.addEventListener("focus",this._onFocusBound),this.selectEl.addEventListener("blur",this._onBlurBound),this.selectEl.addEventListener("input",this._onInputBound),this.selectEl.addEventListener("keydown",this._onKeydownBound),this.selectEl.addEventListener("click",this._onClickBound)}},{key:"_removeEventListeners",value:function(){this.selectEl.removeEventListener("focus",this._onFocusBound),this.selectEl.removeEventListener("blur",this._onBlurBound),this.selectEl.removeEventListener("input",this._onInputBound),this.selectEl.removeEventListener("keydown",this._onKeydownBound),this.selectEl.removeEventListener("click",this._onClickBound)}},{key:"_updateClass",value:function(){this.hasValue=!!this.selectEl.value,(0,p.default)(this.el,"has-value",this.hasValue),(0,p.default)(this.el,"active",this.isActive)}},{key:"_onFocus",value:function(){this.isActive=!0,this._updateClass();var e=this.getValue();this.onFocus.call(this,e,this)}},{key:"_onBlur",value:function(){this.isActive=!1,this._updateClass();var e=this.getValue();this.onBlur.call(this,e,this)}},{key:"_onInput",value:function(){this._updateClass();var e=this.getValue();e!==this.previousValue&&(this.previousValue=e,this.onChange.call(this,e,this))}},{key:"_onKeydown",value:function(e){var t=this.getValue();this.onKeydown.call(this,e,t,this)}},{key:"_onClick",value:function(e){var t=this.getValue();this.onClick.call(this,e,t,this)}}]),a}(d.default);y.prototype._whitelistedParams=["validate","onValidate","onChange","onFocus","onBlur","onKeydown","onClick"],y.prototype.defaults={el:null,messageEl:null,selectEl:null,labelEl:null,hasValue:!1,isActive:!1,onChange:function(){},onFocus:function(){},onBlur:function(){},onKeydown:function(){},onClick:function(){},previousValue:null,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onKeydownBound:null},(0,h.default)(y.prototype,f.default,m.default);var b=y;t.default=b,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}));var a="BOARDING_PASS_INHIBITED_SELECTEE",r="INFANT",i="BOARDING_PASS_INHIBITED_CREDIT_CARD_VALIDATION_REQUIRED",s="NON_REVENUE"},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(5),r=n.n(a),i=n(0),s=n.n(i),o=n(18),l=n.n(o),c=n(1559),u=n(1556),d=n(547),p=n(1407);function h(e){var t=e.pnr,n=e.results,a=e.packageName,i=void 0===a?"SabreDxContainerCheckInPassengerList":a,o=Object(d.a)({pnr:t}),h=s()(t,["passengers","passenger"],[]),f=Object(c.a)({pnr:t}),m=Object(u.a)({pnr:t,results:n}),g=s()(t,["itinerary","itineraryPart"],[]);return r()(h,(function(e,t){var n=Object(p.a)({passenger:e,index:t,packageName:i,flightsAdditionalInfo:f,boardingPassInhibitedStatuses:m,airExtraPricings:o,itineraryParts:g});return e.infant?l()(n,{infant:Object(p.a)({passenger:e.infant,index:t,packageName:i,flightsAdditionalInfo:f,boardingPassInhibitedStatuses:m,airExtraPricings:o,itineraryParts:g})}):n}))}},function(e,t,n){"use strict";var a=n(27),r=n.n(a);t.a=function(e){var t=e.results;return"SUCCESS"===r()(r()(t).status).type}},,function(e,t,n){"use strict";var a=n(12),r=function(e){var t=e.code,n=function(e){var t=e.code;return Object(a.i)(["SabreDxContainerCities","cities",t],{code:t},void 0,void 0,["SabreDxContainerCities","default"])}({code:t});return Object(a.i)(["SabreDxContainerCities","name"],{code:t,name:n})},i=n(130),s=n.n(i),o=n(15),l=n.n(o),c=n(81),u=function(e){var t=e.airportCode,n=Object(c.a)("SabreDxContainerCities","cities");return s()(n,(function(e){return l()(e.airports||{},(function(e,n){return t===n}))}))};n(49),n(5);n.d(t,"a",(function(){return"SabreDxContainerCities"})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return u}))},,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(12),s=n(1415);n(2161);var o=function(){return r.a.createElement("div",{className:"note"},r.a.createElement(s.a,{type:"info",title:"app.fieldsNote"},Object(i.a)("app.fieldsRequired")))};n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";t.a={BASE_FARE:"baseFare",SEATS:"seats",ANCILLARIES:"ancillaries",CAR_PRICE:"carPrice",SURCHARGES:"surcharges",DISCOUNT:"discount",TAXES:"taxes",ORIGINAL_BOOKING_TOTAL:"originalBookingTotal",REFUNDABLE_ITEMS:"refundableItems",NON_REFUNDABLE_ITEMS:"nonRefundableItems",NON_REFUNDABLE_AMOUNT:"nonRefundableAmount",CHANGE_FEES:"changeFees",FEES:"fees",UPGRADES:"upgrades",WAITLISTED_UPGRADES:"waitListedUpgrades",VCR_REFUND_AMOUNT:"vcrRefundAmount",EMD_REFUND_AMOUNT:"emdRefundAmount",CANCELLATION_FEE:"cancellationFee",PAYMENT_SURCHARGE:"paymentSurcharge"}},function(e,t,n){var a=n(1254),r=/#|\.prototype\./,i=function(e,t){var n=o[s(e)];return n==c||n!=l&&("function"==typeof t?a(t):!!t)},s=i.normalize=function(e){return String(e).replace(r,".").toLowerCase()},o=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){e.exports=n(1616)},function(e,t,n){n(1617);var a=n(1252).Object,r=e.exports=function(e,t,n){return a.defineProperty(e,t,n)};a.defineProperty.sham&&(r.sham=!0)},function(e,t,n){var a=n(1287);e.exports=a("document","documentElement")},function(e,t,n){"use strict";var a=n(1246),r=n(1254),i=n(1314),s=n(1259),o=n(1272),l=n(1284),c=n(1340),u=n(1381),d=n(1317),p=n(1253),h=n(1382),f=p("isConcatSpreadable"),m=h>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=d("concat"),v=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)};a({target:"Array",proto:!0,forced:!m||!g},{concat:function(e){var t,n,a,r,i,s=o(this),d=u(s,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?s:arguments[t],v(i)){if(p+(r=l(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,p++)n in i&&c(d,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,p++,i)}return d.length=p,d}})},function(e,t,n){"use strict";var a=n(1277),r=n(1387),i=n(1288),s=n(1337),o=n(1425),l=s.set,c=s.getterFor("Array Iterator");e.exports=o(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:a(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,a=e.index++;return!t||a>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:a,done:!1}:"values"==n?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var a=n(1422),r=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(e){return r.call(e)}),e.exports=a.inspectSource},function(e,t,n){var a=n(1313),r="["+n(1383)+"]",i=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),o=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:o(1),end:o(2),trim:o(3)}},function(e,t){},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(1687);var a=n(1252).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1296)),c=a(n(1689)),u=a(n(1274)),d=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),this.el=n.el,this.targetEl=n.targetEl,this.caretEl=n.caretEl,this.anchorY=n.anchorY||"top",this.anchorX=n.anchorX||"center",this.isFixed=n.isFixed||!1,this._addEventListeners(),this._insertEl(),this._setPosition(),this._updateDebounced=(0,u.default)((0,i.default)(t=this.update).call(t,this),500)}return(0,o.default)(e,[{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.keepEl||this._removeEl(),this._removeEventListeners(),this}},{key:"update",value:function(){return this._setPosition(),this}},{key:"_addEventListeners",value:function(){var e,t;this._onResizeBound=(0,i.default)(e=this._onResize).call(e,this),this._onScrollBound=(0,i.default)(t=this._onScroll).call(t,this),window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound)}},{key:"_insertEl",value:function(){this.el.setAttribute("data-affixed",""),this._getRootEl().appendChild(this.el)}},{key:"_removeEl",value:function(){this.el.parentNode.removeChild(this.el),this.el.removeAttribute("data-affixed")}},{key:"_setPosition",value:function(){this.el.style.setProperty("position",this.isFixed?"fixed":"absolute","important");var e=(0,l.default)(this.targetEl,this.isFixed),t=e.top,n=e.left,a=this.targetEl.offsetWidth,r=this.targetEl.offsetHeight,i=this.el.offsetWidth,s=this.el.offsetHeight,o=document.documentElement.offsetHeight,c=document.documentElement.offsetWidth,u=this._calculatePosition({anchorX:this.anchorX,anchorY:this.anchorY,targetTop:t,targetLeft:n,elHeight:s,elWidth:i,targetHeight:r,targetWidth:a,minX:0,minY:0,maxX:c-i,maxY:Math.max(o-s,0)}),d=u.elTop,p=u.elLeft,h=this._positionCaret({elLeft:p,elTop:d,elWidth:i,elHeight:s,targetHeight:r,targetWidth:a,targetLeft:n,targetTop:t}),f=h.extraLeft,m=h.extraTop;this.el.style.left=p+f+"px",this.el.style.top=d+m+"px"}},{key:"_calculatePosition",value:function(e){e.previousAttempts=(e.previousAttempts||0)+1,e.previousChecks=e.previousChecks||[];var t,n,a=e.previousAttempts>3;switch(e.anchorY){case"bottom":t=e.targetTop+e.targetHeight;break;case"middle":t=e.targetTop-(e.elHeight-e.targetHeight)/2;break;default:t=e.targetTop-e.elHeight}if(t<e.minY){var i;if(!a&&-1===(0,r.default)(i=e.previousChecks).call(i,"overY"))return e.previousChecks.push("underY"),e.anchorY=this._getNewAnchorY(!0,e.anchorY,e.anchorX),this._calculatePosition(e);t=e.minY}switch(e.anchorX){case"right":n=e.targetLeft+("middle"===e.anchorY||e.isOverlapping?e.targetWidth:0);break;case"center":n=e.targetLeft-(e.elWidth-e.targetWidth)/2;break;default:n=e.targetLeft-e.elWidth+("middle"!==e.anchorY?e.targetWidth:0)}if(n<e.minX){var s;if(!a&&-1===(0,r.default)(s=e.previousChecks).call(s,"overX"))return e.previousChecks.push("underX"),e.anchorX=this._getNewAnchorX(!0,e.anchorX,e.anchorY),this._calculatePosition(e);n=e.minX}if(n>e.maxX){var o;if(!a&&-1===(0,r.default)(o=e.previousChecks).call(o,"underX"))return e.previousChecks.push("overX"),e.anchorX=this._getNewAnchorX(!1,e.anchorX,e.anchorY),this._calculatePosition(e);n=e.maxX}if("overlap"===(0,c.default)({width:e.elWidth,height:e.elHeight,left:n,top:t},{width:e.targetWidth,height:e.targetHeight,left:e.targetLeft,top:e.targetTop})){if(e.isOverlapping=!0,!1!==e.repositionY)return e.repositionY=!e.repositionY,e.anchorY=this._getNewAnchorY(e.repositionY,"middle",e.anchorX),e.previousAttempts--,this._calculatePosition(e);if(!1!==e.repositionX)return e.repositionX=!e.repositionX,e.anchorX=this._getNewAnchorX(e.repositionX,"center",e.anchorY),e.previousAttempts--,this._calculatePosition(e)}return{elTop:t,elLeft:n,anchorX:e.anchorX,anchorY:e.anchorY}}},{key:"_getNewAnchorY",value:function(e,t,n){return"center"===n||"middle"===t?e?"bottom":"top":"middle"}},{key:"_getNewAnchorX",value:function(e,t,n){return"middle"===n||"center"===t?e?"left":"right":"center"}},{key:"_positionCaret",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.caretEl){var t=(0,c.default)({width:e.elWidth,height:e.elHeight,left:e.elLeft,top:e.elTop},{width:e.targetWidth,height:e.targetHeight,left:e.targetLeft,top:e.targetTop}),n=this.caretEl.getBoundingClientRect(),a=n.width,r=n.height,i=Math.min(e.elWidth,Math.max(0,e.targetLeft-e.elLeft+e.targetWidth/2)),s=Math.min(e.elHeight,Math.max(0,e.targetTop-e.elTop+e.targetHeight/2));this.caretEl.style.left=Math.round(i)+"px",this.caretEl.style.top=Math.round(s)+"px";var o=0,l=0;switch(this.caretEl.setAttribute("data-position",t),t){case"above":l=-a/2;break;case"below":l=a/2;break;case"left":o=-r/2;break;default:o=r/2}return{extraLeft:o,extraTop:l}}}},{key:"_getRootEl",value:function(){var e=document.querySelector("body > form");return e&&null===e.getAttribute("data-affixed")?e:document.body}},{key:"_onResize",value:function(){this.update()}},{key:"_onScroll",value:function(){this._updateDebounced()}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1258)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1247)),f=a(n(1248)),m=a(n(1251)),g=a(n(1257)),v=a(n(1295)),y=n(1271),b=a(n(1454)),E=a(n(1266));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(C()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,o.default)(a,[{key:"open",value:function(){return this.affix||(this.affix=new b.default({el:this.contentEl,targetEl:this.toggleEl,caretEl:this.caretEl,anchorX:this.anchorX,anchorY:this.anchorY}),(0,h.default)(this.contentEl,"active"),this.isActive=!0,this.toggleEl.setAttribute("aria-expanded","true")),this}},{key:"close",value:function(){return this.affix?((0,f.default)(this.contentEl,"active"),this.el.appendChild(this.contentEl),this.affix.remove({keepEl:!0}),this.affix=null,this.isActive=!1,this.toggleEl.setAttribute("aria-expanded","false"),this):this}},{key:"toggle",value:function(){return this[this.isActive?"close":"open"]()}},{key:"update",value:function(e){return this.affix&&this.affix.update(),this._removeEventListeners(),this._cacheElements(e||this.el),this._addEventListeners(),this}},{key:"remove",value:function(e){return this.close(),(0,f.default)(this.el,"tooltip-initialized"),(0,l.default)((0,d.default)(a.prototype),"remove",this).call(this,e)}},{key:"_cacheElements",value:function(e){this.el=e,this.toggleEl=this.el.querySelector('.spark-tooltip__toggle, [data-role="toggle"]')||this.el,this.contentEl=this.contentEl||this.el.querySelector('[class*="spark-tooltip__content--"]')||this._createContentEl(),this.caretEl=this.el.querySelector(".spark-tooltip__caret")||this._createCaretEl(),(0,v.default)(this.caretEl,this.contentEl)||this.contentEl.appendChild(this.caretEl),this.isActive=(0,m.default)(this.toggleEl,"tooltip-active"),(0,h.default)(this.el,"tooltip-initialized")}},{key:"_parseParams",value:function(){this.anchorY=null!==this.anchorY?this.anchorY:(0,y.string)(this.el,"data-anchor-y",null),this.anchorX=null!==this.anchorX?this.anchorX:(0,y.string)(this.el,"data-anchor-x",null),this.anchorY||this.anchorX||((0,m.default)(this.contentEl,"spark-tooltip__content--left")?(this.anchorY="middle",this.anchorX="left"):(0,m.default)(this.contentEl,"spark-tooltip__content--right")?(this.anchorY="middle",this.anchorX="right"):(0,m.default)(this.contentEl,"spark-tooltip__content--top")?(this.anchorY="top",this.anchorX="center"):(0,m.default)(this.contentEl,"spark-tooltip__content--bottom")&&(this.anchorY="bottom",this.anchorX="center"))}},{key:"_updateAttributes",value:function(){(0,g.default)(this.el,"tooltip-active",this.isActive),(0,g.default)(this.contentEl,"tooltip-active",this.isActive),(0,g.default)(this.toggleEl,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onMouseoverBound=(0,i.default)(e=this._onMouseover).call(e,this),this._onMouseoutBound=(0,i.default)(t=this._onMouseout).call(t,this),this._onWindowMouseoverBound=(0,i.default)(n=this._onWindowMouseover).call(n,this),this._onFocusBound=(0,i.default)(a=this._onFocus).call(a,this),this._onBlurBound=(0,i.default)(r=this._onBlur).call(r,this)}},{key:"_addEventListeners",value:function(){this.toggleEl.addEventListener("mouseover",this._onMouseoverBound),this.toggleEl.addEventListener("mouseout",this._onMouseoutBound),this.toggleEl.addEventListener("focus",this._onFocusBound),this.toggleEl.addEventListener("blur",this._onBlurBound)}},{key:"_removeEventListeners",value:function(){this.toggleEl.removeEventListener("mouseover",this._onMouseoverBound),this.toggleEl.removeEventListener("mouseout",this._onMouseoutBound),this.toggleEl.removeEventListener("focus",this._onFocusBound),this.toggleEl.removeEventListener("blur",this._onBlurBound)}},{key:"_addWindowEventListeners",value:function(){window.addEventListener("mouseover",this._onWindowMouseoverBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("mouseover",this._onWindowMouseoverBound)}},{key:"_createContentEl",value:function(){return(0,E.default)('<div class="spark-tooltip__content"></div>')}},{key:"_createCaretEl",value:function(){return(0,E.default)('<div class="spark-tooltip__caret"></div>')}},{key:"_onMouseover",value:function(){this._addWindowEventListeners(),this.open()}},{key:"_onMouseout",value:function(){this._removeWindowEventListeners(),this.close()}},{key:"_onFocus",value:function(){this._addWindowEventListeners(),this.open()}},{key:"_onBlur",value:function(){this._removeWindowEventListeners(),this.close()}},{key:"_onWindowMouseover",value:function(e){e.target===this.el||(0,v.default)(e.target,this.el)||this._onMouseout()}}]),a}(p.default);k.prototype._whitelistedParams=["anchorY","anchorX","contentEl","toggleEl"],k.prototype.defaults={el:null,toggleEl:null,contentEl:null,caretEl:null,isActive:!1,affix:null,anchorY:null,anchorX:null,_onMouseoverBound:null,_onMouseoutBound:null,_onFocusBound:null,_onBlurBound:null,_onWindowMouseoverBound:null};var S=k;t.default=S,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"j",(function(){return V})),n.d(t,"i",(function(){return H})),n.d(t,"f",(function(){return W})),n.d(t,"d",(function(){return q})),n.d(t,"e",(function(){return z})),n.d(t,"c",(function(){return G})),n.d(t,"h",(function(){return K})),n.d(t,"g",(function(){return Y})),n.d(t,"b",(function(){return Q}));var a=n(562),r=n.n(a),i=n(43),s=n.n(i),o=n(110),l=n.n(o),c=n(79),u=n.n(c),d=(n(13),n(336),n(156),n(15),n(98),n(137)),p=n.n(d),h=n(4),f=n.n(h),m=n(5),g=n.n(m),v=(n(49),n(115),n(77),n(2),n(23)),y=n.n(v),b=(n(21),n(52),n(0)),E=n.n(b),C=n(76),k=n.n(C),S=n(1939),_=n.n(S),O=n(82),w=n.n(O),P=n(18),A=n.n(P),x=n(34),N=n.n(x),T=n(546),I=n.n(T),B=n(1),L=n.n(B),D=n(12),j=n(50),F=function(e){return p()(e,(function(e){return E()(e,"pricedItineraryExchangeCharge.priceDifferenceWaived",!1)?0:I()(f()(e.total,(function(e,t){return e.push(E()(t,"0.amount",1/0)),e}),[]))}))},M=function(e){var t=e.brands,n=e.displayBrandSoldOut,a=e.sortBrandsByPrice,r=e.currencySymbol,i=N()(function(e){return f()(e,(function(e,t){return u()(e,E()(t,"offers",[]))}),[])}(t)).filter((function(e){return!e.sold||n})).filter((function(e){return!w()(e)&&!E()(e,"pricedItineraryExchangeCharge.priceDifferenceWaived",!1)}));a||(i=F(i)),k()(i,(function(e,t){A()(e,{currencySymbol:_()(r,t+1)})}));var s=l()(i,"brandId"),o=f()(s,(function(e,n,a){var r=E()(t,a);return e[a]={offers:n,soldOut:r.soldOut,class:r.class},e}),{});return A()(t,o)};function R(e){var t="@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarned.Miles.None"===e?"||@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarnedAward.None":e;return g()(t.split("||"),(function(e){return Object(D.a)(e)}))}function V(e){var t="@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarned.Miles.None"===e?"||@STAN|custom.js.FlightsResultsPage.BrandedFare.MilesEarnedAward.None":e;return g()(t.split("||"),(function(e){return Object(D.i)(e)}))}function H(e){return g()(e.split("||"),(function(e){return Object(D.i)(e)}))}function U(e,t,n,a){return L.a.createElement("span",{className:"amenity-value"},L.a.createElement("span",null,"string"==typeof e&&"Yes"===X(e,a)&&L.a.createElement("div",{classname:"check-icon-wrapper"},L.a.createElement(j.c,{className:"check-mark",srOnlyText:"Yes"})),"string"==typeof e&&"No"===X(e,a)&&L.a.createElement("div",{classname:"cross-icon-wrapper"},L.a.createElement(j.c,{className:"cross-mark",srOnlyText:"No"})),"string"==typeof e&&"Yes"!=X(e,a)&&"No"!=X(e,a)&&Object(D.i)(e),e.codeshare&&t&&R(e.codeshare),e.etihad&&!t&&R(e.etihad)),e.changeable&&"Yes"===X(e.changeable,a)&&L.a.createElement("div",{classname:"check-icon-wrapper"},L.a.createElement(j.c,{className:"check-mark",srOnlyText:"Yes"})),e.changeable&&"No"===X(e.changeable,a)&&L.a.createElement("div",{classname:"cross-icon-wrapper"},L.a.createElement(j.c,{className:"cross-mark",srOnlyText:"No"})),e.refundable&&"Yes"===X(e.refundable,a)&&L.a.createElement("div",{classname:"check-icon-wrapper"},L.a.createElement(j.c,{className:"check-mark",srOnlyText:"Yes"})),e.refundable&&"No"===X(e.refundable,a)&&L.a.createElement("div",{classname:"cross-icon-wrapper"},L.a.createElement(j.c,{className:"cross-mark",srOnlyText:"No"})),e.charge&&(r=e.charge,g()(r.split("||"),(function(e){return Object(D.a)(e)}))));var r}var W=function(e,t,n){var a=e[E()(Object.keys(e),[0],{cabin:""})].cabin;return r()(p()(f()(E()(t,[0]),(function(e,t,n){return E()(t,"isEnabled[".concat(a,"]"),!1)&&e.push({title:n,position:E()(t,"attributePosition",0)}),e}),[]),(function(e){return e.position})))},q=function(e,t,n,a,r){var i=W(e,t,0);return f()(i,(function(a,i){return a[i.title]=function(e,t,n,a,r){return g()(e,(function(e,i){var s=E()(n,"".concat(i.toLowerCase(),"Values"),"-");return{brandId:i,icon:t.icon,key:t.title,title:Object(D.i)("brandComparison.legend.".concat(t.title)),value:U(s,a,0,r)}}))}(e,i,E()(t,"[".concat(0,"][",i.title,"]"),""),n,r),a}),{})},z=function(e,t,n,a,r){var i=W(e,n,0);return g()(i,(function(e){var i=E()(n,"[0]".concat(e.title,".").concat(t.toLowerCase(),"Values"),"-");return{icon:"",key:e.title,title:Object(D.a)("brandComparison.legend.".concat(e.title)),value:U(i,a,0,r)}}))},G=function(e,t,n,a,r,i){var s=W(e,n,0),o=E()(n,"[0]".concat(r,".").concat(t.toLowerCase(),"Values"),"-");return g()(s,(function(e){return{icon:"",key:e.title,title:Object(D.a)("brandComparison.legend.".concat(e.title)),value:U(o,a)}}))};function K(){return L.a.createElement("div",{className:"dxp-price"},L.a.createElement("span",{className:"big-price"},Object(D.a)("app.free")))}function Y(e){return L.a.createElement("div",{className:"dxp-price"},L.a.createElement("span",{className:"big-price"},e))}function Q(e){return s()(e,(function(e){return E()(e,"pricedItineraryExchangeCharge.priceDifferenceWaived")}))}function X(e,t){var n=y()(e)?e.join("."):e,a=E()(t,n);return void 0===a?n:a}},function(e,t,n){var a=n(762),r=n(1458);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=a(r.prototype),i.prototype.constructor=i,e.exports=i},function(e,t){e.exports=function(){}},function(e,t,n){var a=n(762),r=n(1458);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=a(r.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(2),s=n.n(i),o=n(215),l=n.n(o),c=n(1603);t.a=function(e,t,n,a){var i,o,u,d=n||{},p=d.virtualCouponRecordNumber,h=d.firstName,f=d.lastName,m=d.recordLocator,g=d.flightNumber,v=d.departAirport,y=d.arrivalCity,b=d.departureDate,E=d.frequentFlyerNumber,C=d.frequentFlyerAirline,k=d.recordLocatorOrFFNumber,S=function(e){return r()(e,(function(e){return{firstName:e.firstName,lastName:e.lastName,id:e.index}}))}(e),_=m&&l()(m);p&&(i="TICKET_NUMBER",o=p),k&&(k.match(a)?_=l()(k):(i="FREQUENT_FLYER",o=k)),E&&(i="FREQUENT_FLYER",o=E,C&&(u=C));var O=s()(o)?void 0:{type:i,prefix:u,number:o};return{body:{reservationCriteria:{recordLocator:_,firstName:h,lastName:f,flightNumber:g,departureAirport:v,departureDate:b&&Object(c.a)(b),arrivalAirport:y,passengerIdentification:O},passengerCriteria:S,outputFormat:t}}}},function(e,t,n){"use strict";var a=n(8),r=n.n(a),i=n(4),s=n.n(i),o=n(18),l=n.n(o),c=n(15),u=n.n(c),d=n(1408);t.a=function(e){return s()(e,(function(t,n){if(Object(d.b)(n)){var a=u()(e,(function(e){return e.id===n.passengerRef})),i=a.id,s=a.personName;return r()(n,["adult"],{id:i,personName:s}),l()(a,{infant:n}),t}return t.push(n),t}),[])}},function(e,t,n){"use strict";t.a=function(e){var t=e.firstName,n=e.lastName,a=[];return t&&a.push(t.substring(0,1).toUpperCase()),n&&a.push(n.substring(0,1).toUpperCase()),a.join("")}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1434);t.a=function(e,t){var n=t||"type.value";return r()(e,n,"").toUpperCase()===i.c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(3),r=n.n(a),i=n(0),s=n.n(i),o=n(18),l=n.n(o),c=n(251),u=n(1462),d=n(1465);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){var t=e.personName,n=void 0===t?{}:t,a=e.passengerType,i=e.packageName,o=void 0===i?"SabreDxContainerCheckInPassengerList":i,h=a?{passengerType:s()(a,"value"),showPassengerType:Object(d.a)({type:a,packageName:o})}:{},f={prefix:n.prefix||"",firstName:n.first||"",lastName:n.last||"",suffix:n.suffix||""},m=Object(c.a)([o,"fullName"],f);return l()(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f,{initial:Object(u.a)({firstName:n.first,lastName:n.last}),formattedName:m}),h)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),i=n(21),s=n.n(i),o=n(81);function l(e){var t=e.type,n=e.packageName,a=void 0===n?"SabreDxContainerCheckInPassengerList":n,i=r()(t,"value",""),l=Object(o.a)(a,"showPassengerTypes");return s()(l,i)}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(522),s=n(1467);t.a=function(e){var t=e.passenger,n=e.packageName,a=r()(t,["loyaltyAccount",0]);if(a){var o=r()(a,"memberId"),l=r()(a,"memberAirline");return{tier:r()(a,["loyaltyTierLevel","name"],""),memberAirline:l,memberId:o&&Object(s.a)({memberId:o,format:new RegExp(Object(i.a)(n,"frequentFlyerIdFormat"))})}}}},function(e,t,n){"use strict";t.a=function(e){var t=e.format;return e.memberId.replace(t,"")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="SabreDxContainerCheckInAirports"},function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(2),s=n.n(i),o=n(18),l=n.n(o),c=n(12);t.a=function(e){var t=e.field,n=e.packageName;return s()(t)||s()(t.rules)?t:l()({},t,{rules:r()(t.rules,(function(e){return l()({},e,{error:Object(c.i)([n,e.error],{rule:e})})}))})}},function(e,t,n){"use strict";var a=n(8),r=n.n(a),i=n(0),s=n.n(i),o=n(34),l=n.n(o),c=n(12);t.a=function(e){var t=e.field,n=e.packageName,a=s()(t,"options.input.placeholder"),i=s()(t,"options.input.placeholderLabel");if(a||!i)return t;var o=l()(t);return r()(o,"options.input.placeholder",Object(c.i)([n,i])),o}},function(e,t,n){"use strict";var a=n(18),r=n.n(a),i=n(2),s=n.n(i),o=n(12);t.a=function(e){var t=e.field,n=e.packageName;return s()(t)||!s()(t.label)?t:r()({},t,{label:Object(o.i)([n,t.name])})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var a="TRANSLATIONS_LOCALE_DETECTED",r="TRANSLATION_LOAD_LANGUAGE_RS",i="TRANSLATION_CHANGE_LANGUAGE_RQ",s="TRANSLATION_CHANGE_LANGUAGE_RS"},function(e,t,n){"use strict";var a=n(246),r=n.n(a),i=n(12);t.a=function(e){var t=e.packageName,n=e.loyalty,a=n.memberAirline,s=n.memberId,o=n.tier,l=e.PACKAGE_NAME_CLASSIFIED,c=void 0===l?"SabreDxComponentFrequentFlyerNumber":l,u=Object(i.i)([t,"frequentFlyer","programs",a],void 0,void 0,void 0,[c,"frequentFlyer","programs",a]);r()(u,c)&&(u=a);var d=Object(i.i)([t,"frequentFlyer","tiers",a,o||"default"],void 0,void 0,void 0,[c,"frequentFlyer","tiers",a,o||"default"]);return r()(d,c)&&(d=o),{memberAirline:a,memberId:s,tier:o,memberAirlineTranslated:u,tierTranslated:d}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1434),r=n(1390);function i(e){return Object(r.a)({passenger:e,eligibilityCategory:a.a})}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(55),s=n.n(i),o=n(4),l=n.n(o),c=n(2),u=n.n(c),d=n(1358);t.a=function(e){var t=e.passenger,n=e.flightsAdditionalInfo,a=void 0===n?[]:n,i=Object(d.a)({passenger:t});if(u()(a))return!u()(i)&&s()(i,"checkedIn");var o=l()(a,(function(e,t){if(!t.isOtherAirlineFlight){var n=r()(i,t.id);n&&e.push({checkedIn:n.checkedIn})}return e}),[]);return!u()(o)&&s()(o,"checkedIn")}},function(e,t,n){"use strict";var a=n(1301);t.a=function(e){return function(){return Object(a.a)(e)}}},,,function(e,t,n){"use strict";var a=n(18),r=n.n(a),i=n(2),s=n.n(i),o=n(5),l=n.n(o),c=n(12),u=n(1913),d=n(0),p=n.n(d),h=n(81),f=n(1468),m=n(1894),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.a,t=Object(h.a)(e,"airports")||{};return l()(t,(function(t,n){return{value:n,label:Object(m.a)({code:n,packageName:e,asText:!0}),default:p()(t,"default",!1)}}))},v=n(3),y=n.n(v),b=n(522),E=function(e){var t=e.code,n=function(e){var t=e.code;return Object(c.i)(["SabreDxContainerCheckInFrequentFlyerPrograms","programs",t])}({code:t});return Object(c.i)(["SabreDxContainerCheckInFrequentFlyerPrograms","name"],{code:t,name:n})};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var k=function(){var e=Object(b.a)("SabreDxContainerCheckInFrequentFlyerPrograms","programs")||{};return l()(e,(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{value:e.id,label:E({code:e.id})})}))},S=n(1555),_=n(4),O=n.n(_),w=n(137),P=n.n(w),A=function(e){var t=e.code;return Object(c.i)(["SabreDxContainerNationality","nationalityCodes",t])},x=n(1906);function N(e){var t,n,a,i=e.field,o=e.packageName;return s()(i)||s()(i.items)&&s()(i.dataSource)?i:s()(i.items)?i.dataSource===u.a?r()({},i,{items:g()}):i.dataSource===S.a?r()({},i,{items:Object(S.c)()}):"SabreDxContainerNationality"===i.dataSource?r()({},i,{items:(t=Object(b.a)("SabreDxContainerNationality","nationalityCodes")||[],n=O()(t,(function(e,t,n){return e.push({value:n,label:A({code:n}),default:p()(t,"default",!1)}),e}),[]),P()(n,["label"]))}):i.dataSource===x.a?r()({},i,{items:Object(x.b)()}):"SabreDxContainerCheckInFrequentFlyerPrograms"===i.dataSource?r()({},i,{items:k()}):"SabreDxContainerRelations"===i.dataSource?r()({},i,{items:(a=Object(b.a)("SabreDxContainerRelations","relations")||[],l()(a,(function(e){return{value:e,label:Object(c.i)(["SabreDxContainerRelations",e])}})))}):i:r()({},i,{items:l()(i.items,(function(e){return r()({},e,{label:e.label||Object(c.i)([o,e.value])})}))})}n.d(t,"a",(function(){return N}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(31),p=n.n(d),h=n(28),f=n.n(h),m=n(339),g=n.n(m),v=n(30),y=n.n(v),b=n(3),E=n.n(b),C=n(67),k=n.n(C),S=n(16),_=n.n(S),O=n(0),w=n.n(O),P=n(18),A=n.n(P),x=n(2),N=n.n(x),T=n(6),I=n.n(T),B=n(1),L=n.n(B),D=n(244),j=n(1725),F=n(17),M=n.n(F),R=n(197),V=n.n(R),H=n(39),U=n.n(H),W=n(12),q=n(50),z=function(e,t){return D.a.is(D.a.code.special.enter,e.which)&&t},G=function(e){var t=e.onPrev,n=e.onNext,a=e.colspan,r=e.viewName,i=e.onChange,s=e.children;return L.a.createElement("div",{className:"dp-header"},L.a.createElement("div",{className:"dp-nav-table"},L.a.createElement("div",{className:"dp-row"},L.a.createElement("button",{type:"button",className:"dp-prev-nav dp-nav-cell dp-cell",onClick:t,onKeyPress:function(e){return z(e,t(e))}},L.a.createElement(q.c,{name:q.a.ARROW_CHEVRON_LEFT,srOnlyText:Object(W.i)("datePicker.".concat(r,".prevText"))})),L.a.createElement("button",{type:"button",className:"dp-nav-view dp-cell",title:Object(W.i)("datePicker.headerInstruction"),colSpan:a,onClick:i,onKeyPress:function(e){return z(e,i(e))}},s),L.a.createElement("button",{type:"button",className:"dp-next-nav dp-nav-cell dp-cell",onClick:n,onKeyPress:function(e){return z(e,n(e))}},L.a.createElement(q.c,{name:q.a.ARROW_CHEVRON_RIGHT,srOnlyText:Object(W.i)("datePicker.".concat(r,".nextText"))})))))},K=n(35),Y=n.n(K),Q=n(145),X=n.n(Q),J=n(23),Z=n.n(J),$=n(5),ee=n.n($),te=n(79),ne=n.n(te),ae=n(176),re=n.n(ae),ie=function(e){function t(){return s()(this,t),u()(this,f()(t).apply(this,arguments))}return y()(t,e),l()(t,[{key:"getDaysInMonth",value:function(e){var t=this.props,n=t.toMoment,a=t.weekStartDay,r=n(e).startOf("month"),i=n(e).startOf("month").add(-1,"days"),s=n(r).day(a);return!i.isBefore(s)||!this.props.alwaysShowPrevWeek&&s.isSame(r)||s.add(-1,"weeks"),re()(42,(function(){var e=n(s);return s.add(1,"days"),e}))}},{key:"getWeekDayNames",value:function(){var e=this.props,t=e.weekDayNames,n=e.weekStartDay,a=e.locale;if(V()(t))return t(n,a);if(Z()(t)){var r=[].concat(t);return re()(n,r.push(r.shift())),r}return t}},{key:"handleClick",value:function(e,t,n){var a=this.props,r=a.minDate,i=a.maxDate,s=a.onChange;r&&t<r||i&&t>i||(n.preventDefault(),n.target.value=e,s&&s(e,n))}},{key:"renderDay",value:function(e,t){var n=this,a=this.props,r=a.format,i=a.dayFormat,s=a.maxDate,o=a.minDate,l=a.toMoment,c=a.highlightWeekends,u=r.day(t,i),d=l(t,null,{locale:this.props.locale}).format("MMMM"),p=+t,h=o&&t<o,f=s&&t>s,m=l(t),g=m.day(),v={key:u,text:u,date:m,moment:m,className:U()("dp-cell dp-day",{"dp-current":p===e.today,"dp-prev":p<e.monthFirst,"dp-next":p>e.monthLast,"dp-before-min":h,"dp-after-max":f,"dp-disabled":h||f,"dp-value":p===e.moment,"dp-weekend":0===g||6===g,"dp-weekend-highlight":c&&(0===g||6===g)}),children:L.a.createElement("button",{type:"button",disabled:h||f,className:"dp-cell-btn",onKeyPress:function(e){return D.a.is(D.a.code.special.enter,e.which)&&n.handleClick(t,p,e)},"aria-pressed":p===e.moment,onClick:function(e){return n.handleClick(t,p,e)}},u,L.a.createElement("span",{className:"sr-only"}," ",d)),beforeMinDate:h,afterMaxDate:f};V()(this.props.onRenderDay)&&(v=this.props.onRenderDay(v));var y=L.a.createElement("td",Y()(v,"beforeMinDate","afterMaxDate")),b=this.props.renderDay||y;return this.props.renderDay&&b(v)||y}},{key:"renderDays",value:function(e){var t=this,n=this.props,a=n.weekNumbers,r=n.date,i=n.viewDate,s=n.toMoment,o=s(i,n.dateFormat),l={monthFirst:+s(o).startOf("month"),monthLast:+s(o).endOf("month"),today:+s().startOf("day"),moment:+s(r).startOf("day")},c=ee()(e,(function(e){return t.renderDay(l,e)})),u=Math.ceil(e.length/7),d=ee()(X()(u),(function(n){var r=7*n,i=7*(n+1);return ne()([a&&t.renderWeekNumber(e.slice(r,i))],c.slice(r,i))}));return ee()(d,(function(e,t){return L.a.createElement("tr",{key:"row".concat(t),className:"dp-week dp-row"},e)}))}},{key:"renderWeekDayNames",value:function(){var e=this.props.weekNumbers?[this.props.weekNumberName]:[],t=ne()(e,this.getWeekDayNames());return L.a.createElement("tr",{className:"dp-row dp-week-day-names"},ee()(t,(function(e,t){return L.a.createElement("th",{key:t,className:"dp-cell dp-week-day-name",scope:"col"},e)})))}},{key:"renderWeekNumber",value:function(e,t){var n=t[0],a=n.weeks(),r={key:"week",className:"dp-cell dp-weeknumber",week:a,days:t,date:n,children:a};return this.props.renderWeekNumber&&this.props.renderWeekNumber(r)||L.a.createElement("div",r)}},{key:"render",value:function(){var e=this.props,t=e.viewDate,n=(0,e.toMoment)(t,e.dateFormat);return L.a.createElement("table",{className:"dp-table dp-month-view"},L.a.createElement("thead",{className:"dp-table-header"},this.renderWeekDayNames()),L.a.createElement("tbody",{className:"dp-table-body"},this.renderDays(this.getDaysInMonth(n))))}}]),t}(B.Component);E()(ie,"defaultProps",{weekNumbers:void 0,weekNumberName:void 0,highlightWeekends:!1,onRenderDay:void 0,renderDay:void 0,renderWeekNumber:void 0,alwaysShowPrevWeek:!1,weekDayNames:void 0,onChange:void 0});var se=function(e){function t(){return s()(this,t),u()(this,f()(t).apply(this,arguments))}return y()(t,e),l()(t,[{key:"handleClick",value:function(e,t){t.target.value=e,this.props.onSelect&&this.props.onSelect(e,t)}},{key:"renderMonth",value:function(e,t){var n=this,a=this.props,r=a.format,i=a.monthFormat,s=r.month(t,i),o=+t,l=U()("dp-cell dp-month",{"dp-value":o===e}),c=function(e){return n.handleClick(t,e)};return L.a.createElement("td",{className:l,key:s},L.a.createElement("button",{type:"button",className:"month-button",onKeyPress:function(e){return z(e,c(e))},onClick:c,"aria-pressed":o===e},s))}},{key:"renderMonths",value:function(e){var t=this,n=this.props.date&&+M()(this.props.date).startOf("month"),a=ee()(e,(function(e){return t.renderMonth(n,e)})),r=Math.ceil(e.length/4),i=ee()(X()(r),(function(e){return a.slice(4*e,4*(e+1))}));return ee()(i,(function(e,t){return L.a.createElement("tr",{key:"row".concat(t),className:"dp-row"},e)}))}},{key:"render",value:function(){var e=t.getMonthsInYear(M()(this.props.viewDate));return L.a.createElement("table",{className:"dp-table dp-year-view"},L.a.createElement("tbody",{className:"dp-table-body"},this.renderMonths(e)))}}],[{key:"getMonthsInYear",value:function(e){var t=M()(e).startOf("year");return ee()(X()(12),(function(){var e=M()(t);return t.add(1,"month"),e}))}}]),t}(B.Component);E()(se,"defaultProps",{onSelect:void 0});var oe=function(e){function t(){return s()(this,t),u()(this,f()(t).apply(this,arguments))}return y()(t,e),l()(t,[{key:"handleClick",value:function(e,t){t.target.value=e,this.props.onSelect&&this.props.onSelect(e,t)}},{key:"renderYear",value:function(e,t,n,a){var r=this,i=this.props,s=i.format,o=i.yearFormat,l=s.year(t,o),c=+t,u=U()("dp-cell dp-year",{"dp-value":c===e,"dp-prev":!n,"dp-next":n===a.length-1}),d=function(e){return r.handleClick(t,e)};return L.a.createElement("td",{className:u,key:l},L.a.createElement("button",{type:"button",className:"year-button",onClick:d,onKeyPress:function(e){return z(e,d(e))},"aria-pressed":c===e},l))}},{key:"renderYears",value:function(e){var t=this,n=this.props.date&&+M()(this.props.date).startOf("year"),a=ee()(e,(function(e,a,r){return t.renderYear(n,e,a,r)})),r=Math.ceil(e.length/4),i=ee()(X()(r),(function(e){return a.slice(4*e,4*(e+1))}));return ee()(i,(function(e,t){return L.a.createElement("tr",{key:"row".concat(t),className:"dp-row"},e)}))}},{key:"render",value:function(){var e=t.getYearsInDecade(M()(this.props.viewDate));return L.a.createElement("table",{className:"dp-table dp-decade-view"},L.a.createElement("tbody",{className:"dp-table-body"},this.renderYears(e)))}}],[{key:"getYearsInDecade",value:function(e){var t=M()(e).get("year");t=t-t%10-1;var n=M()(t,"YYYY").startOf("year");return ee()(X()(12),(function(){var e=M()(n);return n.add(1,"year"),e}))}}]),t}(B.Component);E()(oe,"defaultProps",{date:void 0,onSelect:void 0});n(2098),n(2099);var le=function(e){function t(e){var n;return s()(this,t),(n=u()(this,f()(t).call(this,e))).state={view:e.defaultView,viewDate:e.defaultViewDate,defaultDate:e.defaultDate},n}return y()(t,e),l()(t,null,[{key:"getWeekDayNames",value:function(e,t){var n,a=1*M()().startOf("week").format("d");if(t){var r=M.a.localeData(t);n=r&&r._weekdaysShort?r._weekdaysShort:void 0}n=(n||M.a.weekdaysShort()).concat();for(var i=null===e?a:e;i>0;)n.push(n.shift()),i-=1;return n}}]),l()(t,[{key:"getDate",value:function(){var e=w()(this.props,"date",this.state.defaultDate);return e?this.toMoment(e):e}},{key:"getHeaderElement",value:function(e,t){return L.a.createElement("div",{className:"dp-header-text"},L.a.createElement("span",{className:"sr-only"},Object(W.a)("datePicker.".concat(e,".header"))),L.a.createElement("span",{"aria-live":"polite"},this.getHeaderText(e,t)))}},{key:"getHeaderText",value:function(e,t){if("month"===e)return this.toMoment(t,null,{locale:this.props.locale}).format("MMMM YYYY");if("year"===e)return this.toMoment(t,null,{locale:this.props.locale}).format("YYYY");if("decade"===e){var n=M()(t).get("year");return"".concat(n=n-n%10-1," - ").concat(n+11)}return""}},{key:"getNextViewName",value:function(){return this.getViewOrder()[this.addViewIndex(1)]}},{key:"getPrevViewName",value:function(){return this.getViewOrder()[this.addViewIndex(-1)]}},{key:"getProps",value:function(){var e=this,n=this.getDate(),a={day:function(t,n){return e.toMoment(t).format(n||e.props.dayFormat)},month:function(t,n){return e.toMoment(t).format(n||e.props.monthFormat)},year:function(t,n){return e.toMoment(t).format(n||e.props.yearFormat)}},r=M.a.localeData(this.props.locale);return _()({},this.props,{date:n,viewDate:this.getViewDate(),style:_()({},this.props.defaultStyle,this.props.style),dateString:n?n.format(this.props.dateFormat):"",toMoment:function(t){return e.toMoment(t)},format:a,weekDayNames:t.getWeekDayNames,weekStartDay:this.props.weekStartDay||(r._week?r._week.dow:null),onChange:function(t,n){return e.handleChange(t,n)},onSelect:function(t,n){return e.handleSelect(t,n)}})}},{key:"getView",value:function(){var e=this.props.views||t.Views;return e[this.getViewName()]||e.month}},{key:"getViewColspan",value:function(){return w()({month:5,year:2,decade:2},this.getViewName())}},{key:"getViewDate",value:function(){var e=this.props.viewDate||this.state.viewDate||this.getDate()||new Date;return M.a.isMoment(e)&&(e=+e),this.toMoment(e)}},{key:"getViewFactory",value:function(){var e=this.getView();return L.a.createFactory&&e&&e.prototype&&V()(e.prototype.render)&&(e.factory=e.factory||L.a.createFactory(e),e=e.factory),e}},{key:"getViewMomentByDirection",value:function(e){var t=this,n=this.getViewDate();return{month:function(){return t.toMoment(n).add(1*e,"month")},year:function(){return t.toMoment(n).add(1*e,"year")},decade:function(){return t.toMoment(n).add(10*e,"year")}}[this.getViewName()]()}},{key:"getViewName",value:function(){return(null!==this.props.view?this.props.view:this.state.view)||"month"}},{key:"getViewOrder",value:function(){return this.props.viewOrder||["month","year","decade"]}},{key:"setView",value:function(e){this.props.onViewChange&&this.props.onViewChange(e),this.props.view||this.setState({view:e})}},{key:"setViewDate",value:function(e){var t=this.toMoment(e);this.props.onViewDateChange&&this.props.onViewDateChange(t.format(this.props.dateFormat),t,this.getViewName()),this.props.viewDate||this.setState({viewDate:t})}},{key:"addViewIndex",value:function(e){var t=this.getViewName(),n=this.getViewOrder();return(n.indexOf(t)+e)%n.length}},{key:"gotoDate",value:function(e){this.setView("month"),this.setViewDate(e)}},{key:"handleChange",value:function(e,t){t.preventDefault();var n=this.toMoment(e);if(this.props.navOnDateClick){var a=this.toMoment(this.getViewDate()).format("YYYY-MM"),r=n.format("YYYY-MM");r>a?this.handleNavigation(1,t):r<a&&this.handleNavigation(-1,t)}var i=n.format(this.props.dateFormat);this.props.date||this.setState({defaultDate:i}),this.props.onChange&&this.props.onChange(i,n,t)}},{key:"handleNavigation",value:function(e,t){var n=this.getViewMomentByDirection(e);if(this.setViewDate(n),V()(this.props.onNav)){var a=n.format(this.props.dateFormat),r=this.getViewName();this.props.onNav(a,n,r,e,t)}}},{key:"handleSelect",value:function(e,t){t.preventDefault();var n={decade:"year",year:"month"}[this.getViewName()],a=e.get(n),r=this.toMoment(this.getViewDate()).set(n,a),i=this.getPrevViewName();if(this.setViewDate(r),this.setView(i),this.container&&this.container.focus(),V()(this.props.onSelect)){var s=r.format(this.props.dateFormat);this.props.onSelect(s,r,i,t)}}},{key:"handleViewChange",value:function(){this.setView(this.getNextViewName())}},{key:"toMoment",value:function(e){var t=this.props,n=t.dateFormat,a=t.locale;return"string"==typeof e?M()(e,n,a):M()(e||new Date,void 0,a)}},{key:"renderFooter",value:function(){var e=this;if(this.props.hideFooter)return null;var t={todayText:Object(W.a)("datePicker.todayText"),gotoSelectedText:Object(W.a)("datePicker.gotoSelectedText"),gotoToday:function(t){return t.preventDefault(),e.gotoDate(+new Date)},gotoSelected:function(t){return t.preventDefault(),e.gotoDate(e.props.date||+new Date)},date:this.props.date,viewDate:this.getViewDate()};return this.props.footerFactory&&this.props.footerFactory(t)||L.a.createElement("div",{className:"dp-footer"},L.a.createElement("button",{type:"button",className:"dp-footer-today",onClick:t.gotoToday},t.todayText),L.a.createElement("button",{type:"button",className:"dp-footer-selected",onClick:t.gotoSelected},t.gotoSelectedText))}},{key:"renderHeader",value:function(){var e=this;if(this.props.hideHeader)return null;var t=this.getViewName(),n=this.getHeaderElement(t,this.getViewDate()),a=this.getViewColspan();return G({onPrev:function(t){t.preventDefault(),e.handleNavigation(-1)},onNext:function(t){t.preventDefault(),e.handleNavigation(1)},colspan:a,viewName:t,onChange:function(t){t.preventDefault(),e.handleViewChange()},children:n},this.context)}},{key:"render",value:function(){var e=this,t=this.getViewFactory(),n=this.getProps();return L.a.createElement("div",{className:U()("date-picker",this.props.className,{"open-up":this.props.renderDatepickerOnTop}),style:n.style},this.renderHeader(),L.a.createElement("div",{className:"dp-body",tabIndex:"-1",ref:function(t){e.container=t},style:{flex:1}},t(n)),this.renderFooter())}}]),t}(B.Component);E()(le,"defaultProps",{navOnDateClick:!0,defaultStyle:{boxSizing:"border-box"},dateFormat:"YYYY-MM-DD",weekStartDay:null,dayFormat:"D",monthFormat:"MMMM",yearFormat:"YYYY",locale:null,view:null,date:null,viewDate:null,onChange:void 0,onNav:void 0,onSelect:void 0,viewOrder:void 0,defaultView:void 0,onViewDateChange:void 0,onViewChange:void 0,footerFactory:void 0,defaultViewDate:void 0,defaultDate:void 0,className:"",hideHeader:!1,hideFooter:!1,views:void 0,style:void 0}),E()(le,"Views",{month:ie,year:se,decade:oe});var ce=n(1890),ue=n(550),de=n(441),pe=n(439),he=n(153),fe=n(1289),me=n(553);n(2100);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ve=["ar-AE","hi-IN","km-KM"],ye=function(e){function t(e,n){var a;if(s()(this,t),a=u()(this,f()(t).call(this,e,n)),E()(p()(a),"name","field-date"),E()(p()(a),"handleKeyPress",(function(e){e.preventDefault(),e.key===j.b&&a.onComponentClick()})),E()(p()(a),"onDatePickerClose",(function(e){("click"===e.type||D.a.is(D.a.code.special.esc,e.which))&&(e.preventDefault(),a.setState({isDatePickerOpen:!1},(function(){return a.setFocusToTheInput()})))})),E()(p()(a),"onComponentClick",(function(){var e={status:"active"};a.props.isDatePickerDisabled||(a.state.isDatePickerOpen?e.status="default":e.isDatePickerOpen=!0),a.setState(e)})),a.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.state,{status:"default",isDatePickerOpen:!1,isExpanded:!1,validators:e.validators||[]}),!N()(e.defaultValue)){var r=M()(e.defaultValue,a.props.dateFormat),i=null;Object(fe.m)(r)&&a.isInRange(r)&&(i=r),a.value=i||r}return a}return y()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){g()(f()(t.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,e),e.isDatePickerDisabled||void 0===e.value&&void 0===e.defaultValue||this.setValue(e.value||e.defaultValue)}},{key:"componentDidMount",value:function(){this.wrapMaskedInput()}},{key:"getValue",value:function(){return this.value?k()(this.value)?this.value:this.value.format(this.getFormat()):""}},{key:"setValue",value:function(e){var t=e;M.a.isMoment(e)||(t=M()(e,this.getFormat())),N()(e)&&(this.value=e),Object(fe.m)(t)&&this.isInRange(t)&&(this.value=t,this.inputRef.value=this.getDisplayValue(t,this.getFormat()))}},{key:"renderChildren",value:function(){var e=this.getElementId("input");return(this.props.children||[]).concat([this.renderLabel(e),this.renderInput(e)])}},{key:"renderInput",value:function(e){var t=this,n=this.isDOBOrExpirationDate();return this.isMobile()?L.a.createElement("div",{className:"dxp-field-date",role:"button",ref:function(e){t.fieldInput=e},key:this.getKey("input"),"aria-label":Object(me.a)(Object(W.i)(this.props.label)),tabIndex:n?void 0:0},L.a.createElement("div",{className:"dxp-field-date-field-container"},L.a.createElement("div",{className:"dxp-field-date-value"},this.renderDateInput(e),this.shouldRenderDatePicker()&&this.renderDatePicker()))):L.a.createElement("div",{className:"dxp-field-date",role:"button","aria-label":Object(W.i)(this.props.label),ref:function(e){t.fieldInput=e},onClick:this.onComponentClick,onKeyPress:function(e){t.handleKeyPress(e)},key:this.getKey("input"),tabIndex:n?-1:0,onFocus:n?function(){return t.setState({status:"active"})}:null},!this.props.isDatePickerDisabled&&L.a.createElement("button",{type:"button",className:"dxp-field-date-icon","aria-expanded":this.state.isDatePickerOpen,onClick:this.onComponentClick},L.a.createElement(q.c,{name:q.a.CALENDAR,srOnlyText:Object(W.i)(this.props.srLabel)})),L.a.createElement("div",{className:"dxp-field-date-field-container"},L.a.createElement("div",{className:"dxp-field-date-value"},this.renderDateInput(e),this.shouldRenderDatePicker()&&this.renderDatePicker())))}},{key:"isDOBOrExpirationDate",value:function(){return"dateOfBirth"===this.props.keyProp||"expirationDate"===this.props.keyProp}},{key:"renderLabel",value:function(e){var t=this,n=this.props.id?"".concat(e,"-").concat(this.props.id):e;return L.a.createElement("label",{className:"field-label dxp-field-date-label",htmlFor:n,key:this.getKey("label")},this.getLabel(),L.a.createElement("span",{className:"field-label-optional-indicator",ref:function(e){t.labelOptionalIndicator=e},hidden:!this.props.isOptional,"aria-hidden":!this.props.isOptional},Object(W.a)("app.optional")))}},{key:"shouldRenderDatePicker",value:function(){return!this.props.isDatePickerDisabled&&this.state.isDatePickerOpen}},{key:"renderDatePicker",value:function(){var e=this,t=w()(this.props,"renderDatepickerOnTop",!1);return L.a.createElement(ue.a,{onOutsideClick:this.onDatePickerClose,onKeyPress:this.onDatePickerClose},L.a.createElement(le,{key:"".concat(this.props.keyProp,"DatePicker"),date:this.value,locale:this.props.defaultLocale,weekStartDay:this.props.weekStartDay,maxDate:this.props.maxDate,minDate:this.props.minDate,onChange:function(t,n){return e.onDatePickerChange(n)},renderDatepickerOnTop:t}))}},{key:"isMobile",value:function(){return this.context.isMobile||this.context.isTablet}},{key:"isSupportedLanguage",value:function(){var e=this.context.language;return-1===ve.indexOf(e)}},{key:"getFormat",value:function(){return(this.isMobile()||!this.isSupportedLanguage())&&!this.isDOBOrExpirationDate()?"YYYY-MM-DD":this.props.dateFormat||"YYYY-MM-DD"}},{key:"getDisplayValue",value:function(e,t){var n=this.props.isDatePickerDisabled||this.isSupportedLanguage()?this.context.language:"en-US",a=M()(e,t).locale(n);return Object(fe.m)(a)?a.format(t):""}},{key:"renderDateInput",value:function(e){var t=this,n=this.getFormat(),a=this.props,i=a.minDate,s=a.maxDate,o=this.props.id?"".concat(e,"-").concat(this.props.id):e,l={ref:function(e){t.maskedInputRef=e,t.inputRef=e?e.input:void 0},type:this.isMobile()?"date":"text",className:"field-input dxp-field-date-input",placeholder:n,mask:n.replace(/[a-zA-Z]/g,"1"),id:o,value:this.getDisplayValue(this.value,n),onChange:function(e){return t.onChange(e)},key:this.props.keyProp,onBlur:function(e){return t.onInputChange(e,n)},min:this.getDisplayValue(i,n),max:this.getDisplayValue(s,n)};if(N()(this.props.disabled)&&!this.props.disabled||this.isMobile()||(l=A()(l,{disabled:this.props.disabled})),this.isMobile()||!this.isSupportedLanguage()){var c={ref:function(e){t.maskedInputRef=e,t.inputRef=e},type:"text",defaultValue:this.getDisplayValue(this.value,n),className:"field-input dxp-field-date-input",placeholder:this.props.dateFormat||"YYYY-MM-DD",id:o,key:this.props.keyProp};return this.isDOBOrExpirationDate()?(c=_()({},c,{onChange:function(e){return t.onChange(e)},onBlur:function(e){return t.onInputChange(e,t.props.dateFormat||"YYYY-MM-DD")}}),L.a.createElement("input",c)):(c=_()({},c,{type:"date",min:this.getDisplayValue(this.props.minDate,n),max:this.getDisplayValue(this.props.maxDate,n),onChange:function(e){return t.onInputChange(e,n)}}),N()(this.props.disabled)&&!this.props.disabled||this.isMobile()||(c=A()(c,{disabled:this.props.disabled})),L.a.createElement("input",c))}return L.a.createElement(ce.a,r()({},l,{"data-test-id":this.props.keyProp}))}},{key:"isInRange",value:function(e){var t=this.props,n=t.minDate,a=void 0!==n&&n,r=t.maxDate,i=void 0!==r&&r,s=t.dateFormat,o=t.defaultLocale;if(a){var l=M()(a,s).locale(o);if(Object(fe.m)(l)&&e&&e.isBefore(l,"day"))return!1}if(i){var c=M()(i,s).locale(o);if(Object(fe.m)(c)&&e&&e.isAfter(c,"day"))return!1}return!0}},{key:"isValid",value:function(){var e=Object(he.e)(this.state.validators,this.getValue(),this.getFormat()),t=this.value?M()(this.value):this.value;return e.isValid&&!this.isInRange(t)&&(e.isValid=!1,e.error=this.getInvalidRangeErrorLabel()),this.setComponentState(e.isValid?"success":"error",e.error,e.isValid),e.isValid||N()(this.getInput())||this.getInput().focus(),e.isValid}},{key:"markAsValid",value:function(){this.setComponentState("success",void 0,!0)}},{key:"markAsInvalid",value:function(e){this.setComponentState("error",e,!1)}},{key:"onInputChange",value:function(e,t){if(N()(e.target.value))this.value=e.target.value,this.onInactive();else{var n=M()(e.target.value,t,!0).locale(this.props.defaultLocale);this.value=n,n.isValid()?this.isInRange(n)?(this.markAsValid(),this.onInactive()):this.markAsInvalid(this.getInvalidRangeErrorLabel()):this.markAsInvalid("passengers.dob.isDate")}this.onChange()}},{key:"wrapMaskedInput",value:function(){var e=this,t=this.maskedInputRef.onChange;this.maskedInputRef.onChange=function(n){return e.isMobile()?e.onInputChange(n,e.getFormat()):t(n)}}},{key:"onDatePickerChange",value:function(e){var t=this;this.setState({isDatePickerOpen:!1},(function(){return t.setFocusToTheInput()})),N()(e)||(this.isInRange(e)?(this.markAsValid(),this.value=e,this.onInactive()):this.markAsInvalid(this.getInvalidRangeErrorLabel())),this.inputRef.value=this.getDisplayValue(e,this.getFormat()),this.onChange()}},{key:"onChange",value:function(e){M()(w()(e,"target.value")).isValid()&&this.props.onChange&&this.props.onChange(this.value)}},{key:"getElementId",value:function(e){return[t.name,this.props.keyProp,this.props.index,e].join("-")}},{key:"getInput",value:function(){return this.inputRef}},{key:"getLabel",value:function(){return this.state.error&&this.props.useLabelFeedback?Object(W.a)(this.state.error):Object(W.a)(this.props.label)||Object(W.a)("baseWidgets.date.label")}},{key:"isOverlayNeeded",value:function(){return"active"===this.state.status&&this.props.isDatePickerDisabled}},{key:"isFieldHasValue",value:function(){return!N()(this.getValue()||this.props.defaultValue||this.getFormat())}},{key:"validate",value:function(){var e=this,t=Object(he.e)(this.state.validators,this.getValue(),this.getFormat());return new Promise((function(n){return e.setState({status:t.isValid?"success":"error",isValid:t.isValid,error:t.error,field:e.getInput()},n)}))}},{key:"onInactive",value:function(){var e=this,t=this;return new Promise((function(n){N()(t.getValue())&&t.props.isOptional?e.setComponentState("success",void 0,!0):N()(t.props.validators)?e.setComponentState("default",void 0,void 0):t.validate().then(n).then((function(){e.isInRange(e.value)||e.setComponentState("error",e.getInvalidRangeErrorLabel(),!1)}))}))}},{key:"setComponentState",value:function(e,t,n){this.setState({status:e,error:t,isValid:n})}},{key:"getInvalidRangeErrorLabel",value:function(){return this.props.invalidRangeErrorLabel?this.props.invalidRangeErrorLabel:"baseWidgets.date.isInvalid"}}]),t}(de.a);E()(ye,"propTypes",{label:I.a.string,defaultValue:I.a.oneOfType([I.a.number,I.a.string,I.a.shape({})]),minDate:I.a.oneOfType([I.a.number,I.a.shape({}),I.a.string]),maxDate:I.a.oneOfType([I.a.number,I.a.shape({}),I.a.string]),isDatePickerDisabled:I.a.bool,defaultLocale:I.a.string,weekStartDay:I.a.number,index:I.a.number,type:I.a.string,renderDatepickerOnTop:I.a.bool,invalidRangeErrorLabel:I.a.string,disabled:I.a.oneOfType([I.a.bool,I.a.string]),onChange:I.a.func,srLabel:I.a.string}),E()(ye,"defaultProps",{type:void 0,isDatePickerDisabled:!1,defaultLocale:pe.a,disabled:!1,srLabel:"baseWidgets.date.pickDate"}),E()(ye,"contextTypes",{isMobile:I.a.bool,isTablet:I.a.bool,language:I.a.string}),n.d(t,"a",(function(){return ye}))},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(27),s=n.n(i),o=n(15),l=n.n(o),c=n(1466),u=n(81),d=n(1293),p=function(e){var t=e.passenger,n=l()(r()(t,"passengerDocument"),(function(e){return"PASSPORT"===r()(e,"document.type")}));return n||(n=l()(r()(t,"passengerDocument"),(function(e){return"NATIONAL_ID"===r()(e,"document.type")}))),r()(n,"document")},h=n(1346);t.a=function(e){var t=e.passenger,n=e.packageName,a=function(e){var t=e.passenger,n=e.packageName,a=p({passenger:t}),i=r()(t,"dateOfBirth")||r()(a,"dateOfBirth")||r()(t,"transportationSecurity.preScreeningData.dateOfBirth"),s=Object(d.b)({value:i,format:Object(u.a)(n,"dateOfBirthFormat")}),o=i&&{dateOfBirth:i,formattedDateOfBirth:s},l=r()(t,"gender")||r()(a,"gender")||r()(t,"transportationSecurity.preScreeningData.gender")||r()(t,"weightCategory");return"CHILD"!==l&&"INFANT"!==l||(l=void 0),(o||l)&&{dateOfBirth:o,gender:l}}({passenger:t,packageName:n}),i=function(e){var t=e.passenger,n=l()(r()(t,"contactDetails.phone"),(function(e){return"MOBILE"===r()(e,"type")}));n||(n=s()(r()(t,"contactDetails.phone",[])));var a=s()(r()(t,"contactDetails.email",[]));return(n||a)&&{phone:n,email:a}}({passenger:t}),o=function(e){var t=e.passenger,n=e.packageName,a=Object(c.a)({passenger:t,packageName:n});if(a)return{memberAirline:a,memberId:a}}({passenger:t,packageName:n}),f=function(e){var t=e.passenger,n=r()(t,"transportationSecurity.knownTravelerNumber");if(n)return{knownTravelerNumber:n}}({passenger:t,packageName:n}),m=function(e){var t=e.passenger,n=e.packageName,a=p({passenger:t}),i=r()(l()(r()(t,"passengerDocument"),(function(e){return"VISA"===r()(e,"document.type")})),"document");if(a||i){var s={};if(a)a.formattedExpirationDate=Object(d.b)({value:r()(a,"expiryDate"),format:Object(u.a)(n,"expirationDateFormat")}),s["NATIONAL_ID"===r()(a,"type","Unknown")?"nationalId":"passport"]=a;return i&&(i.formattedIssueDate=Object(d.b)({value:r()(i,"issueDate"),format:Object(u.a)(n,"issueDateFormat")}),i.formattedApplicableCountry=Object(h.a)({code:i.applicableCountry}),s.visa=i),s}}({passenger:t,packageName:n}),g={passengerDetails:(a||i)&&{basicInfo:a,contactInfo:i},additionalInfo:(m||o||f)&&{travelDocuments:m,loyaltyInfo:o,knownTravelerInfo:f}};if(g.additionalInfo||g.passengerDetails)return g}},function(e,t,n){"use strict";var a=n(19),r=n.n(a),i=n(35),s=n.n(i),o=n(5),l=n.n(o),c=n(334),u=n.n(c),d=n(76),p=n.n(d),h=n(0),f=n.n(h),m=n(17),g=n.n(m),v=n(11),y=n(125),b=n(1607),E=n(60),C=n(1492),k=-1;n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return N}));var S=function(e){var t=[];return p()(e,(function(e){if(e.subjectToGovernmentApproval){var n="".concat(f()(e,"flight.airlineCode")).concat(f()(e,"flight.flightNumber"));n&&t.push(n)}})),t},_=function(e){return"".concat(f()(e,"flight.airlineCode")).concat(f()(e,"flight.flightNumber"))},O=function(e,t,n){for(var a=e.clone();a.diff(t)<0;){if(a.hour()>=n.starts||a.hour()<n.ends)return!0;a.add(5,"m")}return!1},w=function(e,t){var n=g()(t).startOf("day"),a=g()(e).startOf("day");return n.diff(a,"days")},P=function(e,t){return e.clone().startOf("day").diff(t.clone().startOf("day"),"days")},A=function(e){return f()(e,"defaultSortEnabled",!1)?{field:e.defaultSortColumn,direction:e.defaultSortOrder,operatingCarrierSortPriority:e.operatingCarrierDefaultSortPriority,operatingCarrierSortOrder:k,operatingCarrierSortSecondarySort:e.operatingCarrierDefaultSortSecondarySort}:{}};var x=function(e){return e.length>1?function(e){return r()(e,(function(e){return 1===e.length}))}(e):e},N=function(e,t,n,a,r,i,o){var c="true"===f()(n,"awardBooking"),d=u()(l()(s()(n.passengers,y.a.INF),(function(e){return e}))),p=f()(n,"itineraryParts",[]).length,h=(1===e.size||c&&o.size<1||e.size!==p?e:e.slice(0,e.size-1)).reduce((function(e,n,r){var i=Object(b.a)(Object(b.b)(n.cabins,t.get(r)));if(i.hasMultipleOffers){var s=function(e,t){return t===C.a.LOWEST?f()(e,"brandPriceMin"):f()(e,"brandPriceMax")}(i,a);return x(Object(E.c)(e,s))}return x(Object(E.c)(e,i.brandPriceTotal))}),[]);return r&&!c||i&&c?Object(v.fromJS)(Object(E.p)(h,d)):Object(v.fromJS)(h)}},function(e,t,n){"use strict";var a=n(1698),r=n.n(a),i=n(1699),s=n(1595),o=n(173),l=n.n(o),c=n(13),u=n.n(c),d=n(16),p=n.n(d),h=n(8),f=n.n(h),m=n(5),g=n.n(m),v=n(0),y=n.n(v),b=n(1343);var E=function(e){var t=y()(e,"revenueType","")===b.f,n=y()(e,"itinerary.itineraryPart.0.segment",[]),a=g()(n,(function(n){var a=t&&y()(n,"status.code")===b.g.CONFIRMED,r=t&&y()(n,"status.code")===b.g.NON_REVENUE,i=p()({},n,{isPositiveSpace:a,isStandBy:r});return function(e){var t=e.reservation,n=e.segmentId,a=e.isPositiveSpace,r=e.isStandBy;u()(t.passengers.passenger,(function(e,i){var s=l()(e.passengerSegments.passengerSegment,{segmentRef:n}),o=y()(t,"passengers.passenger.".concat(i,".passengerSegments.passengerSegment.").concat(s)),c=p()({},o,{isPositiveSpace:a,isStandBy:r});f()(t,"passengers.passenger.".concat(i,".passengerSegments.passengerSegment.").concat(s),c)}))}({reservation:e,segmentId:n.id,isPositiveSpace:a,isStandBy:r}),i}));return f()(e,"itinerary.itineraryPart.0.segment",a),e};t.a=function(e){return r()([i.a,s.a,E])(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));var a="marketing",r="./images/airlines/default.png",i=["BUS","TRN"]},function(e,t,n){"use strict";var a=n(1298);t.a=function(e){var t=e.value,n=e.format,r=e.locale;return r&&Object(a.a)().locale(r),Object(a.a)().parseZone(t).format(n)}},function(e,t,n){"use strict";var a=n(27),r=n.n(a),i=n(15),s=n.n(i);t.a=function(e){var t=e.flows;return s()(t,{priority:0})||r()(t)}},function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(1476);t.a=function(e){var t=r()(e,(function(e,t){return e[t]=void 0,e}),{});return Object(i.a)({query:t})}},function(e,t,n){"use strict";t.a=function(e){var t=e.reason;return{errorCode:t.category||t.code,status:500}}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=function(e){var t=e.className,n=e.name,a=e.code,i=e.showStacked,o=s()("ducp-component-airport",t,{stacked:i});return r.a.createElement("span",{className:o,"data-code":a},n||a)};o.defaultProps={className:void 0,code:"",name:void 0,showStacked:!1};var l=o;t.a=l},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(15),E=n.n(b),C=n(23),k=n.n(C),S=n(67),_=n.n(S),O=n(35),w=n.n(O),P=n(1),A=n.n(P),x=n(6),N=n.n(x),T=n(39),I=n.n(T),B=n(1297),L=n.n(B),D=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onClick",(function(e){n.props.onClick&&n.props.onClick(e,n.props)})),y()(f()(n),"onKeyPress",(function(e){return L.a.isEventKey(e,"enter")?n.onClick(e):null})),n}return g()(t,e),l()(t,[{key:"getTitle",value:function(){var e=this;if(!(_()(this.props.children)&&this.props.title===this.props.children||k()(this.props.children)&&E()(this.props.children,(function(t){return _()(t)&&t===e.props.title}))))return this.props.title}},{key:"render",value:function(){var e=this.props.className,n=I()("ducp-component-link",e,"spark-link--underline"),a=w()(this.props,Object.keys(t.propTypes)),i=this.getTitle();return A.a.createElement("a",r()({id:this.props.id,href:this.props.href,title:i,className:n,onClick:this.onClick,onKeyPress:this.onKeyPress},a),this.props.children)}}],[{key:"propTypes",get:function(){return{className:N.a.string,href:N.a.string,onClick:N.a.func,title:N.a.string,id:N.a.string,children:N.a.oneOfType([N.a.array,N.a.string,N.a.element,N.a.arrayOf(N.a.element)])}}}]),t}(P.Component);y()(D,"defaultProps",{className:void 0,children:void 0,onClick:void 0,title:void 0,id:void 0,href:void 0});t.a=D},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=n(50),l=n(524),c=(n(2085),{SUCCESS:o.a.CHECK,ERROR:o.a.BAN,WARNING:o.a.ALERT_TRIANGLE,INFO:o.a.NOTE,"SUCCESS-PROFILE":o.a.USER,"NO-RESULTS":o.a.BRIEFCASE}),u=function(e){var t=e.className,n=e.type,a=e.title,i=e.children,u=e.icon,d=s()("dxp-container-message",n,t);return r.a.createElement(l.a,null,r.a.createElement("div",{className:d},r.a.createElement("span",{className:"icon-container"},r.a.createElement(o.c,{name:u||c[n.toUpperCase()],fill:!0,className:"icon"})),r.a.createElement("span",{className:"content"},r.a.createElement("span",null,r.a.createElement("b",{className:"title"},a)),r.a.createElement("span",{className:"description"},i))))};u.defaultProps={title:void 0,className:void 0,icon:void 0,children:void 0};var d=u;n.d(t,"a",(function(){return d}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={LOWEST:"lowest",HIGHEST:"highest",RANGE:"range"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var a=n(3),r=n.n(a),i=n(49),s=n.n(i),o=n(15),l=n.n(o),c=n(5),u=n.n(c),d=n(2),p=n.n(d),h=n(23),f=n.n(h),m=n(0),g=n.n(m),v=n(11),y=n(442),b=n.n(y),E=n(150),C=n(131),k=n(60);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){var n=t.currencies,a=t.countries,r=g()(e,"currency",function(e,t){var n=E.a.get("country"),a=g()(e,"defaultCurrency");if(p()(n)||"undefined"===n)return a;var r=g()(t,"".concat(n,".currencies"),{});return l()(s()(r),(function(e){return r[e].isDefault}))||a}(n,a));return _({isPoints:r===C.b},g()(n,r,g()(n,"DEFAULT")),{currency:r})}function w(t,n,a){if(f()(t))return u()(t,(function(e){return w(e,n,a)}));var r=O(t,n);return _({},function(t,n,a){var r,i=t.amount<0?-1*t.amount:t.amount,s=n.localeForPriceDisplay,o=n.displayPriceBasedOnLocation,l=n.session,c=o?l.locale||s:void 0,u=Object(k.g)(i,a);return{integer:Object(k.h)(i,a),abbreviation:b()(i).format("0.0a"),intlAmount:e.Intl.NumberFormat(c,{style:"decimal"}).format(i),displayLocalePrice:o,isNegative:t.amount<0,showDecimal:(r=a,r.currency===C.b?r.ffCurrencyShowDecimal:r.decimalPlaceDisplay),decimal:u,value:i}}(t,n,r),{},r,{showAbbreviation:a.showAbbreviation})}function P(e,t,n){return w(Object(v.isImmutable)(e)?e.toJS():e,t,n)}}).call(this,n(41))},function(e,t,n){e.exports=n(1765)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260)),i=a(n(1250)),s=a(n(1496)),o=a(n(1327)),l={d:"day",m:"month",y:"year","-":"divider","/":"divider"," ":"space"};var c=function(e){for(var t=e.toLowerCase(),n=0,a=t.length,c={parts:[]};n<a;n++)l[t[n]]&&c.parts.length&&c.parts[c.parts.length-1].name===l[t[n]]?(c.parts[c.parts.length-1].length++,c.parts[c.parts.length-1].value+=e[n]):c.parts.push({name:l[t[n]]?l[t[n]]:"",value:e[n],length:1});return c.getValues=function(e){return function(t){for(var n=0,a=0,s=e.length,l={};n<s;n++){var c;if(-1!==(0,i.default)(c=["day","month","year"]).call(c,e[n].name)){if(t.length<a+e[n].length)return;l[e[n].name]=(0,r.default)(t.substr(a,e[n].length),10)}a+=e[n].length}return o.default.create(l)}}(c.parts),c.getString=function(e){return function(t){for(var n=0,a=e.length,r="";n<a;n++)t[e[n].name]?r+=(0,s.default)(t[e[n].name],e[n].length):r+=e[n].value;return r}}(c.parts),c};t.default=c,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1296)),i=a(n(1771));var s=function(e){var t,n,a,s=(e=e||{}).target||window,o=s!==window?s.scrollLeft:s.pageXOffset,l=s!==window?s.scrollTop:s.pageYOffset;e instanceof HTMLElement?(n=(t=(0,r.default)(e)).left,a=t.top,e=arguments[1]||{}):(n=e.x||0,a=e.y||0),(0,i.default)({target:s,prop:"scrollTo",start:[o,l],end:[n,a],duration:e.duration,callback:e.callback})};t.default=s,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(;e=e.previousElementSibling;)if((0,r.default)(e,t))return e;return null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(;e=e.nextElementSibling;)if((0,r.default)(e,t))return e;return null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(var n=[],a=0,i=e.children.length;a<i;a++)(0,r.default)(e.children[a],t)&&n.push(e.children[a]);return n};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1267));var i=function(e,t,n){for(var a=[];e=(0,r.default)(e.parentNode,t,n);)a.push(e);return a};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1778));var i=function(){var e=!1;try{var t=(0,r.default)({},"passive",{get:function(){return e=!0,!1}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1282)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1354)),f=a(n(1396)),m=a(n(1247)),g=a(n(1248)),v=a(n(1251)),y=a(n(1295)),b=a(n(1267)),E=a(n(1501)),C=a(n(1789)),k=a(n(1790));function S(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(){},O=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(S()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._checkAnimation(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,this.toggleEl=this.el.querySelector(".spark-menu__toggle")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._onClickBound=(0,s.default)(e=this._onClick).call(e,this),this._onFocusBound=(0,s.default)(t=this._onFocus).call(t,this),this._onBlurBound=(0,s.default)(n=this._onBlur).call(n,this),this._onKeydownBound=(0,s.default)(a=this._onKeydown).call(a,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.el.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("keydown",this._onKeydownBound)}},{key:"_toggleItem",value:function(e){(0,v.default)(e,"open")?this._closeItem(e):this._openItem(e)}},{key:"_toggleAriaCheckedState",value:function(e){if(e.hasAttribute("aria-checked")){var t="true"===e.getAttribute("aria-checked");e.setAttribute("aria-checked",String(!t))}}},{key:"_checkAnimation",value:function(){this.el.querySelector(".spark-menu__list-next")&&(this.cachedList=this.cachedList||[],this._createMenuAnimationWrapper(),this._animateListChange())}},{key:"_createMenuAnimationWrapper",value:function(){if(!this.wrapperEl){var e=document.createElement("div");(0,m.default)(e,"spark-menu__animation-wrapper"),(0,k.default)(this.el.querySelector(".spark-menu__list"),e),this.wrapperEl=e}}},{key:"_animateListChange",value:function(e){var t;(e&&(0,m.default)(this.wrapperEl,"no-animate"),this.wrapperEl.setAttribute("style",(0,f.default)("translateX","-"+100*this.cachedList.length+"%")),e)&&(0,i.default)((0,s.default)(t=function(){(0,g.default)(this.wrapperEl,"no-animate")}).call(t,this),1)}},{key:"_appendList",value:function(e,t){this._createMenuAnimationWrapper();var n=e.cloneNode(!0);(0,m.default)(n,"nestedList"),n.setAttribute("data-nested-list-id",n.getAttribute("id")),n.removeAttribute("id"),this.wrapperEl&&(this.wrapperEl.appendChild(n),this.cachedList.push(n),this._animateListChange(t))}},{key:"_removeLastList",value:function(){if(this.cachedList.length){var e=this.cachedList.pop();this.wrapperEl&&this._animateListChange(),window.setTimeout((function(){e.parentNode.removeChild(e)}),250)}}},{key:"_removeAllCachedLists",value:function(){if(this.cachedList)for(;this.cachedList.length;)this._removeLastList()}},{key:"_getNextList",value:function(e){return e.querySelector(".spark-menu__list-next")?document.querySelector(e.querySelector(".spark-menu__list-next").getAttribute("data-menu")):null}},{key:"_openItem",value:function(e){(0,v.default)(e,"open")||((0,h.default)({el:e,toggleEl:".spark-menu__list"}),(0,m.default)(e,"open"))}},{key:"_closeItem",value:function(e){(0,v.default)(e,"open")&&((0,h.default)({el:e,toggleEl:".spark-menu__list",toggleValue:"none",action:"collapse"}),(0,g.default)(e,"open"))}},{key:"_activateItem",value:function(e){if(!(0,v.default)(e,"active")){var t=(0,E.default)(e,".spark-menu__list",this.el);this._deactivateItems(t[t.length-1]),this._deactivateItemSiblings(e),(0,m.default)(e,"active"),this._activateItemParents(e,this.el)}}},{key:"_activateItemParents",value:function(e,t){for(var n=(0,E.default)(e.parentNode,'[class*="list-item"]',t),a=n.length,r=0;r<a;r++)this._openItem(n[r]),(0,m.default)(n[r],"child-active")}},{key:"_deactivateItemParents",value:function(e){for(var t=e.querySelectorAll('[class*="list-item"].child-active'),n=t.length,a=0;a<n;a++)(0,g.default)(t.item(a),"child-active")}},{key:"_deactivateItems",value:function(e){for(var t=e.querySelectorAll('[class*="list-item"].active'),n=t.length,a=0;a<n;a++)(0,g.default)(t.item(a),"active");this._deactivateItemParents(e)}},{key:"_deactivateItemSiblings",value:function(e){for(var t=e.parentNode.querySelectorAll('[class*="list-item"].child-active'),n=t.length,a=0;a<n;a++)(0,g.default)(t[a],"child-active"),(0,g.default)(t[a],"open")}},{key:"_openActiveParents",value:function(){var e=this.el.querySelector(".active");if(e)for(var t,n,a=(0,E.default)(e,".spark-menu__list-item",this.el),r=a.length-1;r>=0;r--)(t=(0,C.default)(a[r],".spark-menu__list-links"))&&t.querySelector(".spark-menu__list-next")?(n=this._getNextList(a[r]))&&!this._cachedListContainsID(n.getAttribute("id"))&&this._appendList(n,!0):(0,m.default)(a[r],"open")}},{key:"_cachedListContainsID",value:function(e){for(var t=this.cachedList.length;t--;)if(this.cachedList[t].getAttribute("data-nested-list-id")===e)return!0;return!1}},{key:"_onClick",value:function(e){if(!(0,b.default)(e.target,"form",this.el)&&"UL"!==e.target.nodeName.toUpperCase()){if(e.target===this.toggleEl||(0,y.default)(e.target,this.toggleEl))return(this.onToggle||_)(e,this);var t=(0,b.default)(e.target,".spark-menu__list-expand",this.el),n=(0,b.default)(e.target,".spark-menu__list-item",this.el);if(n&&!(0,b.default)(e.target,".spark-menu__ignore",this.el)){if(t)return this._toggleAriaCheckedState(t),this._toggleItem(n);if(n&&!(0,y.default)(e.target,document.querySelector(".spark-header--visible"))){var a=this._getNextList(n);if(a&&(0,v.default)(e.target,"spark-menu__list-next"))return this._activateItem(n),void this._appendList(a);if((0,b.default)(e.target,".spark-menu__list-back",n)&&(0,v.default)(e.target,"spark-menu__list-back"))return void this._removeLastList()}this._activateItem(n)}}}},{key:"_onKeydown",value:function(e){var t=e.keyCode||e.which;if(!(0,b.default)(e.target,"form",this.el)){if((e.target===this.toggleEl||(0,y.default)(e.target,this.toggleEl))&&(32===t||13===t))return(this.onToggle||_)(e,this);var n=(0,b.default)(e.target,".spark-menu__list-expand",this.el),a=(0,b.default)(e.target,".spark-menu__list-item",this.el);if(a&&!(0,b.default)(e.target,".spark-menu__ignore",this.el)){if(n&&(32===t||13===t))return e.preventDefault(),this._toggleAriaCheckedState(n),this._toggleItem(a);if(a&&!(0,y.default)(e.target,document.querySelector(".spark-header--visible"))){var r=this._getNextList(a);if(r&&(0,v.default)(e.target,"spark-menu__list-next")&&(32===t||13===t))return e.preventDefault(),this._activateItem(a),void this._appendList(r);if((0,b.default)(e.target,".spark-menu__list-back",a)&&(0,v.default)(e.target,"spark-menu__list-back")&&(32===t||13===t))return e.preventDefault(),void this._removeLastList()}32!==t&&13!==t||this._activateItem(a),this.onKeydown.call(this,e,this)}}}},{key:"_onFocus",value:function(e){for(var t=e.target,n=t;t&&(t=(0,b.default)(n.parentNode,".spark-menu__list-item",this.el))&&t!==n;)(0,m.default)(t,"has-focus"),n=t}},{key:"_onBlur",value:function(e){for(var t=e.target,n=t;t&&(t=(0,b.default)(n.parentNode,".spark-menu__list-item",this.el))&&t!==n;)(0,g.default)(t,"has-focus"),n=t}}]),a}(p.default);O.prototype._whitelistedParams=["onToggle","onKeydown"],O.prototype.defaults={cachedList:null,el:null,toggleEl:null,wrapperEl:null,onToggle:function(){},onKeydown:function(){},_onClickBound:null,_onFocusBound:null,_onBlurBound:null,_onKeydownBound:null};var w=O;t.default=w,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260));var i=function(e,t){if(e=Number(e),(t=Number(t))<=0)return NaN;var n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,i=n>a?n:a,s=(0,r.default)(e.toFixed(i).replace(".","")),o=(0,r.default)(t.toFixed(i).replace(".",""));return(s%o+o)%o/Math.pow(10,i)};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1355)),o=a(n(1260)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1353)),g=a(n(1257)),v=a(n(1261)),y=a(n(1273)),b=a(n(1275)),E=a(n(1266));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(){},S=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(C()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._createTypeahead(),t.inputEl.value&&(t.show(),t._onInput()),(0,p.default)(t)):(0,p.default)(t)}return(0,c.default)(a,[{key:"show",value:function(){return this.isActive=!0,this._updateClass(),this}},{key:"hide",value:function(){return this.isActive=!1,this._updateClass(),this}},{key:"setValue",value:function(e){return this.typeahead?this.typeahead.setValue(e):(this.inputEl.value=e,e?this.show():this.hide()),this}},{key:"getValue",value:function(){return this.inputEl.value}},{key:"clearValue",value:function(){return this.typeahead?this.typeahead.clear():this.inputEl.value="",this}},{key:"disable",value:function(){return this.typeahead?this.typeahead.disable():this.inputEl.setAttribute("disabled",""),this}},{key:"enable",value:function(){return this.typeahead?this.typeahead.enable():this.inputEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return this.typeahead&&this.typeahead.remove(e),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return this.typeahead&&this.typeahead.remove(),(0,u.default)((0,h.default)(a.prototype),"update",this).call(this,e)}},{key:"_createTypeahead",value:function(){!0!==this.typeahead&&null===this.inputEl.getAttribute("data-typeahead")||(this.typeahead=new m.default(this.el,{onBlur:this._onBlurBound}))}},{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=this.el.querySelector("input, textarea"),this.passwordToggleEl=this.el.querySelector(".spark-input__password-toggle"),!this.inputEl)throw new Error("No <input> or <textarea> element present in input container!",this.el);this.messageEl=this.el.querySelector(".spark-input__message")||(0,E.default)('<span class="spark-input__message"></span>'),this.clearEl=this.el.querySelector(".spark-input__clear")}},{key:"_parseParams",value:function(){this.validatePattern=this.validatePattern||this.inputEl.getAttribute("data-validate"),this.type=this.inputEl.getAttribute("type")||"text",this.showCharacters=null!==this.el.getAttribute("data-characters"),this.showCharactersRemaining=null!==this.el.getAttribute("data-characters-remaining"),this.maxlength=this.inputEl.getAttribute("maxlength")||this.inputEl.getAttribute("data-maxlength-soft")||null,this.isTextarea="textarea"===this.inputEl.nodeName.toLowerCase(),this.isActive=!!this.inputEl.value}},{key:"_setCharactersCount",value:function(){if(this.showCharacters)this.el.setAttribute("data-characters",this.inputEl.value.length);else if(this.showCharactersRemaining){var e=this.maxlength-this.inputEl.value.length;this.el.setAttribute("data-characters-remaining",e),e<1?this.el.setAttribute("data-characters-remaining-danger",!0):this.el.removeAttribute("data-characters-remaining-danger")}}},{key:"_setTextareaHeight",value:function(){var e=window.getComputedStyle(this.inputEl),t=(0,o.default)(e.borderTopWidth,10)+(0,o.default)(e.borderBottomWidth,10);this.inputEl.style.height=null;var n,a=this.inputEl.scrollHeight;a||(n=this.inputEl.innerHTML.split("\n"),a=Math.max((0,s.default)(e.lineHeight))*n.length+(0,s.default)(e.paddingTop)+(0,s.default)(e.paddingBottom)),this.inputEl.style.height=a+t+"px"}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onFocusBound=(0,i.default)(e=this._onFocus).call(e,this),this._onBlurBound=(0,i.default)(t=this._onBlur).call(t,this),this._onInputBound=(0,i.default)(n=this._onInput).call(n,this),this._onTogglePasswordViewHideBound=(0,i.default)(a=this._onTogglePasswordViewHide).call(a,this),this._onClearClickBound=(0,i.default)(r=this._onClearClick).call(r,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("focus",this._onFocusBound),this.inputEl.addEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.addEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.addEventListener("click",this._onClearClickBound)}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.removeEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.removeEventListener("click",this._onClearClickBound)}},{key:"_updateClass",value:function(){(0,g.default)(this.el,"active",this.isActive)}},{key:"_onFocus",value:function(){document.activeElement===this.inputEl&&(this.show(),this._setCharactersCount(),(0,g.default)(this.el,"focus",!0),(this.onFocus||k)(this.inputEl.value,this))}},{key:"_onBlur",value:function(){this.inputEl.value||this.hide(),(0,g.default)(this.el,"focus",!1),(this.onBlur||k)(this.inputEl.value,this)}},{key:"_onInput",value:function(){this.validate(),this._setCharactersCount(),this.isTextarea&&this._setTextareaHeight(),(this.onChange||k)(this.inputEl.value,this)}},{key:"_onClearClick",value:function(){this.inputEl.value="",this.hide(),(this.onChange||k)(this.inputEl.value,this)}},{key:"_onTogglePasswordViewHide",value:function(e){e.preventDefault(),this.inputEl.setAttribute("type","password"===this.inputEl.getAttribute("type")?"text":"password")}}]),a}(f.default);S.prototype._whitelistedParams=["validate","validatePattern","onValidate","onChange","onFocus","onBlur"],S.prototype.defaults={el:null,messageEl:null,inputEl:null,passwordToggleEl:null,clearEl:null,isActive:!1,isTextarea:!1,validatePattern:!1,type:null,showCharacters:!1,showCharactersRemaining:!1,maxlength:null,typeahead:null,onValidate:k,onChange:k,onFocus:k,onBlur:k,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onTogglePasswordViewHideBound:null,_onClearClickBound:null},(0,v.default)(S.prototype,y.default,b.default);var _=S;t.default=_,e.exports=t.default},function(e,t,n){n(1821);var a=n(1252);e.exports=a.Array.isArray},function(e,t,n){n(1342),n(1825);var a=n(1252);e.exports=a.Array.from},function(e,t,n){var a=n(1270);e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&a(i.call(e)),t}}},function(e,t,n){var a=n(1253),r=n(1288),i=a("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[i]===e)}},function(e,t,n){var a=n(1304),r=n(1288),i=n(1253)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[a(e)]}},function(e,t,n){var a=n(1253)("iterator"),r=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){r=!0}};s[a]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i={};i[a]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1260)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1247)),m=a(n(1248)),g=a(n(1398)),v=a(n(1251)),y=a(n(1274)),b=n(1283),E=n(1271);function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(C()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addListeners(),t._setPanelLocation(),(0,d.default)(t)):(0,d.default)(t)}return(0,c.default)(a,[{key:"_parseParams",value:function(){this.hideOnScroll=this.hideOnScroll||(0,E.boolean)(this.el,"data-hide-on-scroll",!1),this.fixToBottom=this.fixToBottom||(0,E.boolean)(this.el,"data-fixed-to-bottom",!1),this.condenseOnScroll=this.condenseOnScroll||(0,E.boolean)(this.el,"data-condense",!1),this.unlockBreakPoint=this.unlockBreakPoint||(0,E.string)(this.el,"data-breakpoint",null),this.documentBody=document.querySelector("body"),null!==this.headerEl?this.foreignHeader=!0:(this.headerEl=document.querySelector(".spark-header:not(.spark-header__placeholder)"),this.headerEl&&(this.headerHideOnScroll=(0,E.boolean)(this.headerEl,"data-hide-on-scroll",!1)))}},{key:"_addListeners",value:function(){window.addEventListener("scroll",this._onScrollBound),window.addEventListener("resize",this._onResizeBound),this.headerEl&&""!==window.getComputedStyle(this.headerEl).getPropertyValue("transition")&&this.headerEl.addEventListener("transitionend",this._onResizeBound)}},{key:"_removeListeners",value:function(){window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("resize",this._onResizeBound),this.headerEl&&""!==window.getComputedStyle(this.headerEl).getPropertyValue("transition")&&this.headerEl.removeEventListener("transitionend",this._onResizeBound)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onScrollBound=(0,o.default)(e=this._onScroll).call(e,this),this._onResizeBound=(0,y.default)((0,o.default)(t=this._onResize).call(t,this),100)}},{key:"_cacheElements",value:function(e){this.el=e}},{key:"_setPanelLocation",value:function(){this.currentScrollPosition=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop,this._getPanelDimensions(),this.fixToBottom?this.documentBody&&(this.documentBody.style["padding-bottom"]=this.panelHeight+"px"):this.headerEl&&(this.pageContent=this.el.nextSibling.nextSibling),this.headerPositionFixed&&(this.headerEl.appendChild(this.el),this.headerEl.parentNode.style["margin-top"]=(0,g.default)(this.headerEl)+this.panelHeight+24+"px",this.headerHideOnScroll&&this.scrolledToEl?((0,f.default)(this.el,"fix-to-fixed-header"),(0,f.default)(this.headerEl,"hide-top-show-panel")):this.headerHideOnScroll&&this.hideOnScroll&&(0,f.default)(this.headerEl,"hide-top-with-panel"))}},{key:"_checkBreakPoint",value:function(){var e=window.innerWidth,t=(0,b.get)(e);return this.unlockBreakPoint!==t&&(("sm"!==this.unlockBreakPoint||"xs"!==t)&&(("md"!==this.unlockBreakPoint||"sm"!==t&&"xs"!==t)&&(("lg"!==this.unlockBreakPoint||"md"!==t&&"sm"!==t&&"xs"!==t)&&"xl"!==this.unlockBreakPoint)))}},{key:"_fixToTopViewport",value:function(){var e=this._checkBreakPoint();this.currentScrollPosition>this.headerHeight?e&&((0,v.default)(this.el,"is-fixed-top")||((0,f.default)(this.el,"is-fixed-top"),this.pageContent.style["margin-top"]=this.panelHeight+"px"),this.condensePanel()):(0!==this.headerHeight&&(0,v.default)(this.el,"is-fixed-top")&&((0,m.default)(this.el,"is-fixed-top"),this.pageContent.style["margin-top"]="0px"),this.extendPanel())}},{key:"_showPanelOnScroll",value:function(){var e=this.headerHeight+this.panelHeight;this.currentScrollPosition>e&&(this.currentScrollPosition<this.previousScrollPosition?this.showPanel():this.currentScrollPosition>=this.previousScrollPosition&&this.hidePanel())}},{key:"showPanel",value:function(){this.fixToBottom?(0,m.default)(this.el,"hide-panel-bottom"):(0,m.default)(this.el,"hide-panel-top")}},{key:"hidePanel",value:function(){this.fixToBottom?(0,f.default)(this.el,"hide-panel-bottom"):(0,f.default)(this.el,"hide-panel-top")}},{key:"condensePanel",value:function(){this.condenseOnScroll&&(this.customCondenseClass?(0,f.default)(this.el,this.customCondenseClass):(0,f.default)(this.el,"spark-panel--condensed"))}},{key:"extendPanel",value:function(){this.condenseOnScroll&&(this.customCondenseClass?(0,m.default)(this.el,this.customCondenseClass):(0,m.default)(this.el,"spark-panel--condensed"))}},{key:"_getPanelDimensions",value:function(){if(this.panelHeight=this.el.getBoundingClientRect().height,this.fixToBottom)(0,f.default)(this.el,"is-fixed-bottom");else if(this.headerEl){this.headerTop=this.headerEl.getBoundingClientRect().top+this.currentScrollPosition,this.headerBottom=this.headerEl.getBoundingClientRect().bottom+this.currentScrollPosition,this.headerHeight=this.headerTop+(0,g.default)(this.headerEl);var e=(0,v.default)(this.headerEl,"spark-header--fixed")?"fixed":window.getComputedStyle(this.headerEl,null).getPropertyValue("position"),t=this._checkBreakPoint();"fixed"===e?this.headerPositionFixed=!0:this.headerHeight=(0,g.default)(this.headerEl)+this.headerTop,t||((0,m.default)(this.el,"is-fixed-top"),this.pageContent&&(this.pageContent.style["margin-top"]=0))}else{this._checkBreakPoint()&&((0,f.default)(this.el,"is-fixed-top"),this.el.style["margin-bottom"]=this.panelHeight+"px",this.headerHeight=0)}}},{key:"_updatePanels",value:function(){this.fixToBottom&&(this.documentBody.style["padding-bottom"]=this.panelHeight+"px");var e=this._checkBreakPoint();this.headerEl||this.fixToBottom||!e||((0,f.default)(this.el,"is-fixed-top"),this.documentBody.style["padding-top"]=this.panelHeight+"px"),this.headerPositionFixed&&(this.headerEl.parentNode.style["margin-top"]=(0,g.default)(this.headerEl)+this.panelHeight+24+"px")}},{key:"_onResize",value:function(){this._getPanelDimensions(),this.panelHeight=this.el.getBoundingClientRect().height,this.pageContent&&(0,s.default)(this.pageContent.style["margin-top"])>0&&(this.pageContent.style["margin-top"]=this.panelHeight+"px"),this._updatePanels()}},{key:"_onScroll",value:function(){this.previousScrollPosition=this.currentScrollPosition,this.currentScrollPosition=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop,this._getPanelDimensions(),this.fixToBottom?this.condenseOnScroll&&this._condensePanelonScroll():this.headerPositionFixed?this.condenseOnScroll&&(this.foreignHeader?this._condensePanelonScroll():this._onHeaderCondense()):this.headerPositionFixed||(this.hideOnScroll?(this._showPanelOnScroll(),this._fixToTopViewport()):this._fixToTopViewport()),this._showUntilElement()}},{key:"_condensePanelonScroll",value:function(){this.currentScrollPosition>this.panelHeight?this.condensePanel():this.extendPanel()}},{key:"_showUntilElement",value:function(){var e;if(this.scrolledToEl&&!this.fixToBottom)if(e=this.headerEl&&(0,v.default)("spark-header--fixed")?this.scrolledToEl.getBoundingClientRect().top+window.pageYOffset-((0,g.default)(this.el)+(0,g.default)(this.headerEl)):this.scrolledToEl.getBoundingClientRect().top+window.pageYOffset-(0,g.default)(this.el),this.currentScrollPosition>=e&&this.currentScrollPosition>0){if(this.transitionComplete&&this.hidePanel(),this.transitionComplete&&this.headerHideOnScroll&&this.scrolledToEl&&this.headerEl.contains(this.el)){this.transitionComplete=!1;var t=this;window.addEventListener("transitionend",(function e(n){!n||t.el.getBoundingClientRect().bottom>=0||(t.headerEl.parentNode.insertBefore(t.el,t.headerEl.nextElementSibling),t.transitionComplete=!0,this.window.removeEventListener("transitionend",e,!1),t.currentScrollPosition>0||t.showPanel())}),!1)}}else if(this.transitionComplete&&this.showPanel(),this.transitionComplete&&this.headerHideOnScroll&&this.scrolledToEl&&!this.headerEl.contains(this.el)){this.transitionComplete=!1;var n=this;window.addEventListener("transitionend",(function t(a){var r;!a||n.el.getBoundingClientRect().top<0||(n.headerEl.appendChild(n.el),(0,i.default)(r=this.navigator.userAgent).call(r,"Edge")>-1&&this.addEventListener("transitionstart",(function t(a){!a||n.el.getBoundingClientRect().top>=e||(n.el.style.transform="none",n.el.style.transition="0s",this.addEventListener("transitionend",(function e(t){t&&(n.el.removeAttribute("style"),this.removeEventListener("transitionend",e,!1))}),!1),this.removeEventListener("transitionstart",t,!1))}),!1),n.transitionComplete=!0,this.window.removeEventListener("transitionend",t,!1))}),!1)}}},{key:"_onHeaderCondense",value:function(){(0,v.default)(this.headerEl,"spark-header--condensed")?this.condensePanel():this.extendPanel()}}]),a}(h.default);k.prototype._whitelistedParams=["headerEl","scrolledToEl","unlockBreakPoint","hideOnScroll","condenseOnScroll","fixToBottom","customCondenseClass"],k.prototype.defaults={el:null,scrolledToEl:null,headerEl:null,headerPosition:null,headerHeight:null,headerTop:null,headerPositionFixed:null,previousScrollPosition:null,currentScrollPosition:null,hideOnScroll:null,condenseOnScroll:null,fixToBottom:null,unlockBreakPoint:null,customCondenseClass:null,foreignHeader:null,panelHeight:null,transitionComplete:!0,documentBody:null,_onScrollBound:null,_onResizeBound:null};var S=k;t.default=S,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1247)),f=a(n(1248)),m=a(n(1274)),g=a(n(1251)),v=a(n(1837)),y=a(n(1296)),b=n(1283);function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(E()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),t=n.call(this,e,r),e?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initCarousel(),t):(0,u.default)(t)}return(0,l.default)(a,[{key:"_addControls",value:function(){this._forwards=document.createElement("div"),(0,h.default)(this._forwards,"spark-panel-carousel__forwards"),this._forwards.innerHTML='<button type="button" aria-label='+this.nextLabel+'><i class="spark-icon-arrow-chevron-right spark-icon--fill"></i></button>',this._backwards=document.createElement("div"),(0,h.default)(this._backwards,"spark-panel-carousel__backwards"),this._backwards.innerHTML='<button type="button" aria-label='+this.previousLabel+'><i class="spark-icon-arrow-chevron-left spark-icon--fill"></i></button>',this.el.appendChild(this._backwards),this.el.appendChild(this._forwards),!0===this._hasTabs&&(this._forwards.querySelector("button").setAttribute("tabIndex",-1),this._backwards.querySelector("button").setAttribute("tabIndex",-1),this._panelCarouselList.addEventListener("click",this._onTabListClickBound)),(0,h.default)(this._backwards,"spark-panel-carousel__limit")}},{key:"_removeEventListeners",value:function(){this._forwards.removeEventListener("click",this._onControlClickBound),this._backwards.removeEventListener("click",this._onControlClickBound),this._panelCarouselList.removeEventListener("touchstart",this._onMoveStartBound),this.el.removeEventListener("mousedown",this._onMoveStartBound),this._panelCarouselList.removeEventListener("keyup",this._onKeyUpBound),window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("resize",this._onResizeBound)}},{key:"_addCarouselListeners",value:function(){var e,t,n,a,r;this._onKeyUpBound=(0,s.default)(e=this._onKeyUp).call(e,this),this._onControlClickBound=(0,s.default)(t=this._onControlClick).call(t,this),this._onMoveStartBound=(0,s.default)(n=this._onMoveStart).call(n,this),this._onMoveBound=(0,s.default)(a=this._onMove).call(a,this),this._onMoveEndBound=(0,s.default)(r=this._onMoveEnd).call(r,this),this._forwards.addEventListener("click",this._onControlClickBound),this._backwards.addEventListener("click",this._onControlClickBound),this._panelCarouselList.addEventListener("touchstart",this._onMoveStartBound),this.el.addEventListener("mousedown",this._onMoveStartBound),this._panelCarouselList.addEventListener("keyup",this._onKeyUpBound)}},{key:"_removeCarouselListeners",value:function(){this._forwards.removeEventListener("click",this._onControlClickBound),this._backwards.removeEventListener("click",this._onControlClickBound),this.el.removeEventListener("mousedown",this._onMoveStartBound),this._panelCarouselList.removeEventListener("keyup",this._onKeyUpBound)}},{key:"_addMoveListeners",value:function(e){e.touches?(this._panelCarouselList.addEventListener("touchmove",this._onMoveBound),this._panelCarouselList.addEventListener("touchend",this._onMoveEndBound)):(window.addEventListener("mouseup",this._onMoveEndBound),window.addEventListener("mousemove",this._onMoveBound))}},{key:"_removeMoveListeners",value:function(e){e.touches?(this._panelCarouselList.removeEventListener("touchmove",this._onMoveBound),this._panelCarouselList.removeEventListener("touchend",this._onMoveEndBound)):(window.removeEventListener("mouseup",this._onMoveEndBound),window.removeEventListener("mousemove",this._onMoveBound))}},{key:"_addEventListeners",value:function(){window.addEventListener("scroll",this._onScrollBound),window.addEventListener("resize",this._onResizeBound),this.el.addEventListener("scroll",(function(e){return 0!==this.scrollLeft&&(this.scrollLeft=0),e.stopImmediatePropagation(),e.preventDefault(),!1}))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onScrollBound=(0,s.default)(e=this._onScroll).call(e,this),this._onResizeBound=(0,m.default)((0,s.default)(t=this._onResize).call(t,this),90)}},{key:"_cacheElements",value:function(e){this.el=e,this._panelCarouselList=this.el.querySelector(".spark-panel-carousel__list"),this._panelCarouselItems=this.el.querySelectorAll(".spark-panel-carousel__item"),this.listTransitionDuration=window.getComputedStyle(this._panelCarouselList).getPropertyValue("transition-duration")||"800ms"}},{key:"_calcWidth",value:function(){this._panelCarouselWidth=(0,v.default)(this._panelCarouselList),this._panelCarouselItemsWidth=0;for(var e=this._panelCarouselItems.length-1;e>-1;e--)this._panelCarouselItemsWidth+=(0,v.default)(this._panelCarouselItems[e]),this._panelCarouselItems.offsetWidth;this.maxX=this._panelCarouselWidth-this._panelCarouselItemsWidth,this._panelCarouselItemsWidth>this._panelCarouselWidth||this._panelCarouselWidth<=0?(this._overflow=!0,this.el.setAttribute("data-overflow",!0)):(this._overflow=!1,this.el.removeAttribute("data-overflow"))}},{key:"_calcBreakpoint",value:function(){this.currentBreakpoint=(0,b.get)(window.innerWidth);var e=["xs","sm","md","lg","xl"],t=(0,i.default)(e).call(e,this.currentBreakpoint),n=(0,i.default)(e).call(e,this.noCarouselBreakPoint),a=(0,i.default)(e).call(e,this.controlBreakPoint);this._useCarousel=!(t<=n&&-1!==n),this._useControls=!(t<=a)}},{key:"_initCarousel",value:function(){this.currentBreakpoint=(0,b.get)(window.innerWidth),this._calcWidth(),this._calcBreakpoint(),this._addControls(),this._showControls(),this._addCarouselListeners()}},{key:"_onScroll",value:function(){this.isFixed!==(0,g.default)(this.el,"is-fixed-top")&&((0,g.default)(this.el,"is-fixed-top")?this.isFixed=!0:this.isFixed=!1,this._calcWidth(),!0===this._forwardLimit&&this._updateCarousel(this.maxX))}},{key:"_onKeyUp",value:function(e){var t=e.target;9===e.keyCode&&(this._panelCarouselList.style["transition-duration"]="0s",!0===e.shiftKey?(0,y.default)(t).left<=(0,v.default)(this._backwards)?this._backwards.click():(0,y.default)(t).left>(0,v.default)(this._panelCarouselList)&&(this._forwardLimit=!0,this._calcWidth(),this._updateCarousel(this.maxX)):(0,y.default)(t).left+(0,v.default)(t)>(0,v.default)(this._panelCarouselList)-(0,v.default)(this._forwards)?!0!==this._forwardLimit&&this._forwards.click():(0,y.default)(t).left+(0,v.default)(t)<0&&(this._backwardLimit=!0,this._updateCarousel(0)),this._panelCarouselList.style["transition-duration"]=this.listTransitionDuration)}},{key:"_onResize",value:function(){this._calcWidth(),this._calcBreakpoint(),this._updateCarousel(0),this._calcWidth()}},{key:"_onMoveEnd",value:function(e){var t,n=this._startX;t=e.changedTouches?(n=e.changedTouches[0].screenX)-this._startX+this._positionX:(n=e.screenX)-this._startX+this._positionX,this._moving=!1,this._removeMoveListeners(e),this._panelCarouselList.style["transition-duration"]=this.listTransitionDuration,!1!==this._useCarousel&&0!==Math.round(n-this._startX)&&(t>this._positionX?this._backwards.click():this._forwards.click())}},{key:"_onMove",value:function(e){var t;!1!==this._moving&&(t=e.changedTouches?e.changedTouches[0].screenX-this._startX+this._positionX:e.screenX-this._startX+this._positionX,!1!==this._useCarousel&&(t>0&&(t=0),t<this.maxX&&(t=this.maxX),this._panelCarouselList.style["transition-duration"]="0s",this._panelCarouselList.style.transform="translateX("+t+"px)",e&&e.preventDefault()))}},{key:"_onMoveStart",value:function(e){!1!==this._useCarousel&&(this._moving=!0,this._addMoveListeners(e),e.changedTouches?(this._startX=e.changedTouches[0].screenX,this._startY=e.changedTouches[0].screenY):(this._startX=e.screenX,this._startY=e.screenY),this._elRect=this.el.getBoundingClientRect(),!0===this._useControls?this.maxX=-(this._panelCarouselItemsWidth-this._elRect.width+(0,v.default)(this._forwards)+(0,v.default)(this._backwards)):this.maxX=this._elRect.width-this._panelCarouselItemsWidth,this.maxX=Math.round(this.maxX))}},{key:"_updateCarousel",value:function(e){e===this.maxX?this._forwardLimit=!0:this._forwardLimit=!1,this._backwardLimit=0===e,this._panelCarouselList.style.transform="translateX("+e+"px)",this._positionX=e,this._showControls()}},{key:"_onControlClick",value:function(e){e.preventDefault();var t=e.currentTarget,n=0;if((0,g.default)(t,"spark-panel-carousel__forwards"))n=!1===this.singleCarouselAdvance&&!0===this._useControls?this._setForwardClick(e):this._singleForwardClick(e);else{if(!(0,g.default)(t,"spark-panel-carousel__backwards"))return;n=!1===this.singleCarouselAdvance&&!0===this._useControls?this._setBackwardClick(e):this._singleBackwardClick(e)}this._updateCarousel(Math.round(n)),e.preventDefault()}},{key:"_setForwardClick",value:function(e){var t=e.currentTarget,n=(0,y.default)(t).left,a=(0,v.default)(t),r=(0,y.default)(this._panelCarouselItems[0]).left,i=(0,v.default)(this._panelCarouselList),s=n,o=0,l=0;this._backwardLimit=!1;for(var c=0;c<this._panelCarouselItems.length;c++)l+=(0,v.default)(this._panelCarouselItems[c]);this.maxX=Math.round(-l+i),o=this.maxX;for(var u=0;u<this._panelCarouselItems.length;u++)if((0,y.default)(this._panelCarouselItems[u]).left+(0,v.default)(this._panelCarouselItems[u])-a>s){-(o=r-((0,y.default)(this._panelCarouselItems[u]).left-a))>l-i&&(o=-l+i,this.maxX=Math.round(o));break}return this.maxX===o&&(this._forwardLimit=!0),o}},{key:"_setBackwardClick",value:function(e){var t=e.currentTarget,n=(0,v.default)(this._panelCarouselList);this._forwardLimit=!1;for(var a=this._panelCarouselItems.length-1;a>-1;a--)(0,y.default)(this._panelCarouselItems[a]).left<=(0,y.default)(this.el).left&&(n-=(0,v.default)(this._panelCarouselItems[a]));return(n-=(0,v.default)(t))>=-(0,v.default)(t)&&(n=0),n}},{key:"_showControls",value:function(){!0===this._overflow&&!0===this._useCarousel?(!0===this._backwardLimit?(0,h.default)(this._backwards,"spark-panel-carousel__limit"):(0,f.default)(this._backwards,"spark-panel-carousel__limit"),!0===this._forwardLimit?(0,h.default)(this._forwards,"spark-panel-carousel__limit"):(0,f.default)(this._forwards,"spark-panel-carousel__limit"),!1===this._useControls?((0,h.default)(this._backwards,"spark-panel-carousel-no-controls"),(0,h.default)(this._forwards,"spark-panel-carousel-no-controls")):((0,f.default)(this._backwards,"spark-panel-carousel-no-controls"),(0,f.default)(this._forwards,"spark-panel-carousel-no-controls"))):((0,h.default)(this._backwards,"spark-panel-carousel__limit"),(0,h.default)(this._forwards,"spark-panel-carousel__limit"))}},{key:"_singleBackwardClick",value:function(e){for(var t=e.currentTarget,n=(0,v.default)(t),a=(0,y.default)(t).left,r=(0,y.default)(this._panelCarouselList).left,i=0,s=this._panelCarouselItems.length-1;s>0;s--)if((0,y.default)(this._panelCarouselItems[s]).left<a+n){(i=r-(0,y.default)(this._panelCarouselItems[s]).left+n)>n-2&&(i=0);break}return i}},{key:"_singleForwardClick",value:function(e){var t=e.currentTarget,n=0,a=(0,v.default)(t),r=this._panelCarouselWidth+(0,y.default)(this.el).left,i=0;!0===this._useControls&&(r-=a),n=r;for(var s=(0,y.default)(this._panelCarouselItems[0]).left-(0,y.default)(this.el).left,o=0;o<this._panelCarouselItems.length;o++)i+=(0,v.default)(this._panelCarouselItems[o]);this.maxX=Math.round(-i+this._panelCarouselWidth),n=this.maxX;for(var l=0;l<this._panelCarouselItems.length;l++){var c=(0,y.default)(this._panelCarouselItems[l]).left+(0,v.default)(this._panelCarouselItems[l]);if(c>r){n=r-c+s,void 0===this._panelCarouselItems[l+1]&&(!0===this._useControls&&(n+=a),this.maxX=Math.round(n));break}}return this.maxX===n&&(this._forwardLimit=!0),n}}]),a}(p.default);C.prototype._whitelistedParams=["singleCarouselAdvance","noCarouselBreakPoint","controlBreakPoint","nextLabel","previousLabel","hasTabs"],C.prototype.defaults={el:null,singleCarouselAdvance:!1,noCarouselBreakPoint:null,controlBreakPoint:"xs",nextLabel:"Show next",previousLabel:"Show previous",_useControls:!0,_panelCarouselItemsWidth:0,_panelCarouselWidth:0,_positionX:0,_forwardLimit:!1,_backwardLimit:!0,_overflow:!1,_hasTabs:!1};var k=C;t.default=k,e.exports=t.default},function(e,t,n){e.exports=n(1848)},function(e,t,n){e.exports=n(1854)},function(e,t,n){var a=n(1255);e.exports=a.Promise},function(e,t,n){var a=n(1270),r=n(1509),i=n(1284),s=n(1316),o=n(1510),l=n(1508),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var p,h,f,m,g,v,y,b=s(t,n,u?2:1);if(d)p=e;else{if("function"!=typeof(h=o(e)))throw TypeError("Target is not iterable");if(r(h)){for(f=0,m=i(e.length);m>f;f++)if((g=u?b(a(y=e[f])[0],y[1]):b(e[f]))&&g instanceof c)return g;return new c(!1)}p=h.call(e)}for(v=p.next;!(y=v.call(p)).done;)if("object"==typeof(g=l(p,b,y.value,u))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var a=n(1270),r=n(1285),i=n(1253)("species");e.exports=function(e,t){var n,s=a(e).constructor;return void 0===s||null==(n=a(s)[i])?t:r(n)}},function(e,t,n){var a,r,i,s=n(1255),o=n(1254),l=n(1291),c=n(1316),u=n(1446),d=n(1379),p=n(1520),h=s.location,f=s.setImmediate,m=s.clearImmediate,g=s.process,v=s.MessageChannel,y=s.Dispatch,b=0,E={},C=function(e){if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}},k=function(e){return function(){C(e)}},S=function(e){C(e.data)},_=function(e){s.postMessage(e+"",h.protocol+"//"+h.host)};f&&m||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return E[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(b),b},m=function(e){delete E[e]},"process"==l(g)?a=function(e){g.nextTick(k(e))}:y&&y.now?a=function(e){y.now(k(e))}:v&&!p?(i=(r=new v).port2,r.port1.onmessage=S,a=c(i.postMessage,i,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||o(_)?a="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),C(e)}}:function(e){setTimeout(k(e),0)}:(a=_,s.addEventListener("message",S,!1))),e.exports={set:f,clear:m}},function(e,t,n){var a=n(1386);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},function(e,t,n){var a=n(1270),r=n(1259),i=n(1406);e.exports=function(e,t){if(a(e),r(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1405)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1881)),h=a(n(1242)),f=a(n(1247)),m=a(n(1251)),g=a(n(1266)),v=a(n(1248)),y=a(n(1257)),b=a(n(1261)),E=a(n(1356));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(C()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)(this,a),a.instance?(a.instance.config=t,(0,u.default)(e,a.instance)):((e=n.call(this,void 0,t))._cacheElements(),e._bindEventListenerCallbacks(),e._addEventListeners(),e.style=t.style?t.style:"dark",void 0!==t.interactive&&(e.interactive=t.interactive),void 0!==t.display&&(e.display=t.display),e.animate=!1,(0,u.default)(e))}return(0,l.default)(a,[{key:"_cacheElements",value:function(){a.instance=this,this.el=document.getElementById("spark-underlay"),this.el||(this.el=(0,g.default)('<div id="spark-underlay" data-interactive hidden></div>'),document.body.appendChild(this.el))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._onMouseDownBound=(0,s.default)(e=this._onMouseDown).call(e,this),this._onTouchMoveBound=(0,s.default)(t=this._onTouchMove).call(t,this),this._onClickBound=(0,s.default)(n=this._onClick).call(n,this),this._onDismissBound=(0,s.default)(a=this._onDismiss).call(a,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("mousedown",this._onMouseDownBound,!0),this.el.addEventListener("touchmove",this._onTouchMoveBound,!0),this.el.addEventListener("click",this._onClickBound,!0),this.el.addEventListener("dismiss",this._onDismissBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("mousedown",this._onMouseDownBound,!0),this.el.removeEventListener("touchmove",this._onTouchMoveBound,!0),this.el.removeEventListener("click",this._onClickBound,!0),this.el.removeEventListener("dismiss",this._onDismissBound,!0)}},{key:"_onMouseDown",value:function(e){if(!this.interactive)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_onTouchMove",value:function(e){(0,m.default)(document.body,"spark-no-scroll")&&e.preventDefault()}},{key:"_onClick",value:function(e){this.interactive?this.trigger("dismiss"):(e.preventDefault(),e.stopPropagation())}},{key:"_onDismiss",value:function(){this.hide().then((function(){a.instance.trigger("change",{display:a.instance.display})})).catch((function(){}))}},{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.default((function(t,n){void 0!==e.animate&&(a.instance.animate=e.animate),void 0!==e.interactive&&(a.instance.interactive=e.interactive),void 0!==e.display&&e.style!==a.instance.style?e.display?(a.instance.style=e.style,a.instance.show().then(t).catch((function(){n(new Error("Underlay not visible"))}))):a.instance.hide().then((function(){a.instance.style=e.style,t()})).catch((function(){n(new Error("Underlay is visible"))})):(e.style&&(a.instance.style=e.style),void 0!==e.display&&!1===e.display?a.instance.hide().then(t).catch((function(){n(new Error("Underlay is visible"))})):!0===e.display&&a.instance.show().then(t).catch((function(){n(new Error("Underlay not visible"))})),t())}))}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.default((function(t,n){a.instance.el.hidden||!(0,m.default)(a.instance.el,"no-animate")&&(0,m.default)(a.instance.el,"hide")?(a.instance.trigger("reveal"),void 0!==e.animate&&(a.instance.animate=e.animate),a.instance.animate&&a.instance.el.addEventListener("animationend",(function e(r){a.instance.el.removeEventListener("animationend",e),"reveal-underlay"===r.animationName?(a.instance.trigger("show"),t()):n(new Error("Underlay was hidden"))})),e.style&&(a.instance.style=e.style),void 0!==e.interactive&&(a.instance.interactive=e.interactive),(0,f.default)(document.body,"spark-no-scroll"),(0,f.default)(document.body,"spark-no-select"),a.instance.el.hidden=!1,a.instance.animate||(a.instance.trigger("show"),t())):t()}))}},{key:"hide",value:function(){return new i.default((function(e,t){a.instance.el.hidden||(0,m.default)(a.instance.el,"hide")?e():a.instance.animate?(a.instance.el.addEventListener("animationend",(function n(r){a.instance.el.removeEventListener("animationend",n),"dismiss-underlay"===r.animationName?((0,v.default)(document.body,"spark-no-scroll"),(0,v.default)(document.body,"spark-no-select"),a.instance.el.hidden=!0,(0,v.default)(a.instance.el,"hide"),a.instance.trigger("hide"),e()):t(new Error("Underlay was shown"))})),(0,f.default)(a.instance.el,"hide")):((0,v.default)(document.body,"spark-no-scroll"),(0,v.default)(document.body,"spark-no-select"),a.instance.el.hidden=!0,a.instance.trigger("hide"),e())}))}},{key:"disable",value:function(){return a.instance.el.hasAttribute("data-interactive")&&(a.instance.el.removeAttribute("data-interactive"),a.instance.trigger("change",{interactive:!1})),i.default.resolve()}},{key:"enable",value:function(){return a.instance.el.hasAttribute("data-interactive")||(a.instance.el.attributes.setNamedItem(document.createAttribute("data-interactive")),a.instance.trigger("change",{interactive:!0})),i.default.resolve()}},{key:"config",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.configure(e).catch((function(){}))},get:function(){return{animate:this.animate,display:this.display,interactive:this.interactive,style:this.style}}},{key:"animate",get:function(){return!(0,m.default)(this.el,"no-animate")},set:function(e){(0,y.default)(this.el,"no-animate",!0)}},{key:"display",get:function(){return!this.el.hidden},set:function(e){e&&this.el.hidden?this.show().then((function(){a.instance.trigger("change",{display:!0})})).catch((function(){})):this.el.hidden||this.hide().then((function(){a.instance.trigger("change",{display:!1})})).catch((function(){}))}},{key:"interactive",get:function(){return this.el.hasAttribute("data-interactive")},set:function(e){e?this.enable():this.disable()}},{key:"style",get:function(){return this.el.dataset.style||"dark"},set:function(e){e&&e!==this.el.dataset.style?(this.el.dataset.style=e,a.instance.trigger("change",{style:e})):this.el.removeAttribute("data-style")}},{key:"active",get:function(){return"block"===window.getComputedStyle(a.instance.el).display}}]),a}(h.default);(0,p.default)(k,"instance",void 0),(0,b.default)(k.prototype,E.default);var S=k;t.default=S,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b}));var a=n(286),r=n.n(a),i=n(27),s=n.n(i),o=n(565),l=n.n(o),c=n(2),u=n.n(c),d=n(52),p=n.n(d),h=n(24),f=n(1305),m=n(14),g=function(e,t){return t===e||e===h.a.B2C?"/".concat(t):"/".concat(e,"/").concat(t)},v=function(e,t){return u()(e.get(t))},y=function(e,t,n,a){return e===t?f.a.ACTIVE:e!==t&&l()(p()(a,e),n)?f.a.COMPLETED:f.a.DISABLED},b=function(e,t){for(var n=[],a=e.size,i=e.get("start");i&&n.length<a&&!v(e,i);)n.push(i),i=e.get(i);return t&&s()(n)!==m.a.HOME?r()(n.unshift(m.a.HOME),m.a.DATE_SELECTION,m.a.MATRIX):r()(n,m.a.DATE_SELECTION,m.a.MATRIX),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(66),r=function(e,t){return function(n){n(Object(a.c)("URL_UPDATE_HASH",e,t))}}},function(e,t,n){"use strict";var a=n(14),r=n(174),i=n(60);t.a=function(e,t){var n=e.shoppingCart.getIn(["data","total"]);if(Object(r.b)(e,t)===a.a.PAYMENT){var s=e.payment.get("totalSurcharge");return Object(i.b)(n,s)}return n}},function(e,t,n){e.exports={default:n(2861),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(2451),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,i.default)(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()},function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(2452),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(2888)),r=s(n(2892)),i=s(n(2452));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a.default?(0,a.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="PENDING",r="FULFILLED"},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(2),s=n.n(i),o=n(9),l=n(114),c=n(45),u=n(1718),d=n(1737),p=n(1911),h=n(36),f=n.n(h),m=n(128),g=n.n(m),v=n(0),y=n.n(v),b=function(e){return 1===e.length},E=function(e){if(2!==e.length)return!1;var t=y()(g()(e),"segments",[]),n=y()(f()(e),"segments",[]),a=y()(g()(t),"origin"),r=y()(f()(t),"destination"),i=y()(g()(n),"origin");return a===y()(f()(n),"destination")&&r===i},C=function(e){return!s()(e)&&!b(e)&&!E(e)},k=function(e){return{isRoundTrip:E(e),isOneWayTrip:b(e),isMultiCityTrip:C(e)}},S=n(5),_=n.n(S),O=n(17),w=n.n(O),P=function(e){return _()(e,(function(e){var t=function(e){var t=y()(e,"fareBasis","");return f()(t.split("/"))}(e);return{origin:e.origin,destination:e.destination,departure:w()(e.departure),arrival:w()(e.arrival),flight:e.flight,duration:w.a.duration(e.duration,"minute"),equipment:e.equipment,fareBasis:e.fareBasis,brandId:t,cabinClass:e.cabinClass}}))},A=function(e){return _()(e,(function(e){var t=y()(e,"segments",[]);return{origin:y()(g()(t),"origin"),destination:y()(f()(t),"destination"),departure:w()(y()(g()(t),"departure")),arrival:w()(y()(f()(t),"arrival")),stops:y()(e,"stops"),duration:y()(e,"totalDuration"),connectionInfo:y()(e,"connectionInformations"),segments:P(e.segments)}}))},x=n(37),N=n.n(x),T=n(1538);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){var t=c.a;if(t.get(e)&&"undefined"!==t.get(e))return JSON.parse(t.get(e))}function L(e,t){s()(e)||s()(t)||c.a.set(e,JSON.stringify(t))}n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return M})),n.d(t,"f",(function(){return R})),n.d(t,"c",(function(){return V}));var D=function(e){!function(e){s()(e)||c.a.remove(e)}(Object(u.a)(e))},j=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=Object(u.a)(e);if(n){var d=B(c);if(!s()(d))return Promise.resolve(d)}var h="".concat(Object(o.l)("pnr"),"?").concat(Object(l.l)(e));return Object(o.g)(h,o.b,{ignoreExecKey:n}).then((function(e){var n=Object(p.a)(e,t,a,r,i);return L(c,n),n}))},F=function(e){var t=e.pnr,n=e.firstName,a=e.lastName,r=e.email,i="".concat(Object(o.l)("bnplPNR"),"?").concat(Object(l.l)({pnr:t,firstName:n,lastName:a,email:r}));return Object(o.g)(i,"GET").then((function(e){return function(e){var t=e.pnr.itinerary.itineraryParts;return{pnr:e.pnr.reloc,itineraryType:k(t),itinerary:{itineraryParts:A(t)},pnrInfo:e.pnr}}(e)}))},M=function(e,t,n,a,i){var c=Object(u.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{flow:a}));if(n)D(c);else{var d=B(c);if(!s()(d))return Promise.resolve(d)}var p="".concat(Object(o.l)(t,a),"?").concat(Object(l.l)(e));return Object(o.g)(p,o.b,{clearExecKey:n}).then((function(e){var t=i?i(e):e;return L(c,t),t}))},R=function(e,t){var n=Object(o.l)("exchangeIropConfirmAll").concat("?").concat(Object(l.l)(e));return Object(o.g)(n.toString(),o.c).then((function(e){return function(e,t){return N()(Object(T.a)(e,t),{pnrInfo:e.pnr})}(e,t)}))},V=function(e,t,n){return j(e,t,n).then((function(e){return Object(d.a)(e)}))}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(56),g=n.n(m),v=n(2),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(39)),k=n.n(C),S=n(50),_=(n(1292),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.separator,a=e.tag,r=e.children,i=e.separatorAriaLabel;if(y()(r)||g()(r)<=1)return!1;var s=k()("ducp-component-from-to",t);return E.a.createElement(a,{className:s},E.a.createElement("div",{className:"from left-content"},r[0]),E.a.createElement("div",{className:"right-content"},E.a.createElement("div",{className:"separator","aria-label":i},n),E.a.createElement("div",{className:"to"},r[1])))}}]),t}(b.PureComponent));f()(_,"defaultProps",{separatorAriaLabel:"to",className:void 0,separator:E.a.createElement(S.c,{name:S.a.ARROW_BASIC_RIGHT}),tag:"div"}),f()(_,"TYPES",{ONWARD:S.a.AIRPLANE_ROUTE,RETURN:S.a.AIRPLANE_ROUTE_RETURN,ROUND:S.a.AIRPLANE_ROUTE_ROUND});t.a=_},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(12)),E=n(1286),C=n(84),k=n(14),S=n(1305),_=n(1360),O=n(1320),w=n(1374),P=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(w.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PAYMENT})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(_.a,{pageName:k.a.PAYMENT,flowName:C.a.B2C})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(w.a,{crumbState:S.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PAYMENT})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.PAYMENT,".").concat(S.a.HOVER));return y.a.createElement(O.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(E.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onPaymentCrumbClick(e.props.url)},className:"dxp-breadcrumb-item payment-breadcrumb-item"})}}]),t}(v.Component);n.d(t,"a",(function(){return P}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),E=n.n(b),C=n(12),k=n(78),S=n(88),_=n(341),O=(n(2047),function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={active:!1},n.deactivate=n.deactivate.bind(p()(n)),n}return f()(t,e),s()(t,[{key:"onToggle",value:function(e){e&&e.preventDefault(),this.setState((function(e){return{active:!e.active}}))}},{key:"deactivate",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.position,a=t.children,r=t.trigger,i=t.hasCloseButton,s=t.id,o=t.className,l=this.state.active;return y.a.createElement(_.a,{active:l,closeOnEsc:!0,focusOnOpen:!1,onClick:this.deactivate,onCloseTrigger:this.deactivate},y.a.createElement("div",{id:s,className:E()("dxp-popover",{"popover-active":l},o)},y.a.createElement(k.a,{className:"trigger ".concat(s,"-trigger"),id:"".concat(s,"-trigger"),onClick:function(t){return e.onToggle(t)},"aria-describedby":"".concat(s,"-content")},r),y.a.createElement("div",{className:E()("dxp-popover-content-".concat(n)),id:"".concat(s,"-content"),role:"tooltip"},a,i&&y.a.createElement(S.a,{className:"medium primary",onClick:function(t){t.preventDefault(),e.onToggle()}},Object(C.a)("app.ok")),y.a.createElement("span",{className:"dxp-popover-caret"}))))}}]),t}(v.Component));g()(O,"defaultProps",{position:void 0,children:void 0,trigger:void 0,hasCloseButton:void 0,id:void 0,className:""}),n.d(t,"a",(function(){return O}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(122),s=n.n(i),o=n(2),l=n.n(o),c=n(1),u=n.n(c),d=n(39),p=n.n(d),h=n(123),f=(n(6),n(1558)),m=n(2065),g=n(1281),v=n(536),y=n(1944),b=n(1542);n(2248),n(2249);function E(e){var t=e.title,n=e.children,a=e.className,i=e.isCartEnabled,s=e.location,o=e.authorableAttributes,c=e.background,d=e.id,h=e.currentFlow,b=e.breadcrumbs,E=e.onCartItemRemove,C=function(e,t,n,a,r,i,s,o){var c=p()("left-side-panel",i,{"is-cart-enabled":a}),d=p()("dxp-breadcrumbs-container",i);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:d,id:Object(y.a)(i),key:"breadcrumb-container"},s),u.a.createElement("div",{className:"main-content centered-content",key:"main-content"},u.a.createElement("div",{className:"title-wrapper"},!l()(e)&&u.a.createElement(g.a,{className:"dxp-view-title",tag:"h2",title:e}),!l()(t)&&u.a.createElement("p",{className:"dxp-view-subtitle"},t)),u.a.createElement("div",{className:c},u.a.createElement(f.a,null),n),a&&u.a.createElement("div",{className:"cart"},u.a.createElement(m.a,{location:r,onCartItemRemove:o,id:"dxp-shopping-cart"}))))}(t,e.subtitle,n,i,s,h,b,E);return u.a.createElement("div",r()({className:p()("dxp-view",a),role:"main"},o,{id:d}),l()(c)?C:function(e,t){return u.a.createElement(v.a,e,t)}(c,C))}E.defaultProps={className:"",background:{},children:[],authorableAttributes:{},title:"",subtitle:void 0,isCartEnabled:!0,breadcrumbs:void 0,onCartItemRemove:s.a};var C=Object(h.b)(b.a)(E);n.d(t,"a",(function(){return C}))},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(34),s=n.n(i),o=n(77),l=n.n(o),c=n(344),u=n.n(c),d=n(533),p=n.n(d),h=n(36),f=n.n(h),m=n(51),g=n.n(m),v=n(541),y=n.n(v),b=n(98),E=n.n(b),C=n(58),k=n.n(C),S=n(15),_=n.n(S),O=n(1739),w=n.n(O),P=n(27),A=n.n(P),x=n(5),N=n.n(x),T=n(4),I=n.n(T),B=n(13),L=n.n(B),D=n(19),j=n.n(D),F=n(2),M=n.n(F),R=n(0),V=n.n(R),H=n(17),U=n.n(H),W=n(47),q=n(530),z=n(1375),G=n(1482),K=n(1719),Y=n(11),Q=n(1484),X=n(63),J=n(558),Z=n(85),$=n(117),ee=n(1361),te=n(330),ne=n(1416),ae=n(54),re=n.n(ae),ie=n(176),se=n.n(ie),oe=function(e){return{hotelName:e.hotelName,checkinDate:e.checkinDate,checkoutDate:e.checkoutDate,hotelRoomType:{rooms:se()(e.roomCount,Number)},total:e.totalPrice}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){var t=e.pnr,n=e.messages,a=[];if(_()(t.payments,(function(e){return"BPC"===e.paymentCode}))&&a.push({type:"BPC",data:V()(t,"timeToTicket")}),t.fraudCheckResult&&V()(t,"fraudCheckResult.fraudCheckStatus")===K.a.REJECT&&V()(t,"fraudCheckResult.shouldPresentCard")){var r=M()(V()(t,"reloc",""));a.push({type:q.d.INFO,code:W.b.FRAUDCHECK,hardFail:r,data:"fraudCheckReject"})}var i=j()(n,(function(e){return"warn"===e.level}));M()(i)||L()(i,(function(e){a.push({type:q.d.WARNING,data:e.code})}));var s=j()(n,(function(e){return"error"===e.level}));M()(s)||L()(s,(function(e){a.push({type:q.d.ERROR,data:e.code})}));var o=_()(n,(function(e){return"accountCreated"===e.code}));return M()(o)||a.push({type:"accountCreated"}),a}function de(e){return N()(e,(function(e){var t,n,a=ce({},e);return M()(V()(e,"price"))||(a.price=(t=e.price,1===(n=k()(t.alternatives)).length?A()(n):[n])),M()(V()(e,"subElements"))||(a.subElements=de(e.subElements)),a}))}function pe(e){return{origin:e.origin,destination:e.destination,departure:U()(e.departure),arrival:U()(e.arrival),flight:e.flight,duration:U.a.duration(e.duration,"minute"),equipment:e.equipment,segmentStatusCode:e.segmentStatusCode,fareBasis:e.fareBasis}}function he(e){return I()(e,(function(e,t){return"EMD"===V()(t,"documentDetails.documentType")&&N()(V()(t,"documentDetails.additionalDetails",[]),(function(t){var n=V()(t,"subCode"),a=V()(t,"quantity");n&&a&&e.push({code:n,quantity:a})})),e}),[])}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=V()(e.flightAncillaries,"flightAncillary",[]).map((function(e){return{name:e.id,icon:n.get("".concat(e.subCode),Object(Y.fromJS)({icon:"icon-".concat(e.subCode)})).get("icon")}}));return y()(a.concat(N()(t,(function(e){return{icon:e.get("icon"),name:e.get("name")}}))),"name")}function me(e,t,n){return N()(e,(function(e){var a=t.get("displayCarrierLogo")===Q.b?e.flight.airlineCode:e.flight.operatingAirlineCode;a=Q.c.includes(e.equipment)?e.equipment:a;var r=t.get("displayLogo");return{logoPath:r?Object(X.a)("./images/airlines/".concat(a,".png")):void 0,defaultImagePath:r?Object(X.a)(Q.a):void 0,airlineCode:e.flight.airlineCode,flightNumber:"".concat(e.flight.flightNumber),flightEquipment:n?e.equipment:void 0,operatedBy:t.get("alwaysDisplayOperatingCarrier")&&e.flight.operatingAirlineCode?e.flight.operatingAirlineCode:void 0}}))}n.d(t,"a",(function(){return Ee}));function ge(e,t,n,a,r,i,s){return N()(e,(function(e,o){var l,c=e.origin,u=e.destination,d=e.departure,h=e.arrival,f=e.duration,m=e.segmentOfferInformation,g=e.cabinClass,v=e.bookingClass,y=t&&t[o]&&t[o].duration,b=s&&function(e){if(e.status===z.a.CONFIRMED||e.status===z.a.WAITLISTED)return{status:e.status,bookingClass:e.bookingClass,oldBookingClass:e.segment.bookingClass}}(s[o]),E="P"===v?"Residence":g;return{operatingAirline:n[o],origin:c,destination:u,departureTime:U()(d).format(a),departureTimeUnFormatted:d,arrivalTime:U()(h).format(a),arrivalTimeUnFormatted:h,duration:f,fareBasis:e.fareBasis,stopAirports:(l=V()(e.flight,"stopAirports",[]),N()(l,(function(e){return ce({},e,{duration:U.a.duration(U()(e.departure).diff(U()(e.arrival)))||void 0})}))),cabin:p()(E),upgradeCabinLabel:b,layOver:y,amenities:fe(m,r,i),flightHash:Object(ee.a)({origin:c,destination:u,flightNumber:V()(n[o],"flightNumber"),departureTime:d})}}))}function ve(e){var t=[];e.length>1?t=function(e){return I()(e,(function(e,t){return e.push({code:t.origin}),t.flight.stopAirports.forEach((function(t){return e.push({code:t.airport})})),e}),[])}(u()(e)):V()(e,["0","flight","stopAirports"],[]).forEach((function(e){return t.push({code:e.airport})}));return t.length>0?{stops:t,locationsLabel:"".concat(t.map((function(e){return e.code})).join(","))}:{stops:t}}function ye(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,s=r?e.cancelledSegments:e.segments,o=t.get("timeFormat"),c=t.get("dateFormat"),u=A()(s).origin,d=f()(s).destination,p=A()(s).departure,h=U()(p),m=U()(f()(s).arrival),v=me(s,t.get("operatedBy"),t.get("displayFlightSummaryAircraftType")),b=ge(s,e.connectionInformations,v,o,g()(t.get("amenities"),"toArray"),n,i),E=_()(a,(function(e){return l()(e.segmentKey,{origin:u,destination:A()(s).destination,departure:p,arrival:A()(s).arrival})}));return{departure:{date:h.format(c),time:h.format(o),code:u},arrival:{date:m.format(c),time:m.format(o),code:d},operatingAirlines:v,amenities:y()(I()(b,(function(e,t){return e.concat(t.amenities)}),[]),"name"),duration:{totalDuration:e.totalDuration,value:"".concat(Math.floor(U.a.duration(e.totalDuration,"minute").asHours())," ").concat(U.a.duration(e.totalDuration,"minute").minutes()),nightFlight:Object(G.g)(h,m,t.get("nightTime"))},stopInfo:ve(s),flightSegmentDetail:b,classToDisplay:E&&E.description?E.description.replace("/",""):void 0}}function be(e,t){return V()(A()(e),["passengers",t.passengerIndex-1,"eticketNumber"],"")}function Ee(e,t){var n,a,r,i=e.pnr,o=i.priceBreakdown,l=i.reloc,c=i.itinerary,u=i.passengers,d=i.travelPartsAdditionalDetails,p=i.payments,h=i.insuranceInformation,m=i.documents,g=i.carReservationSummary,v=i.hotelReservationSummary,y=i.upgradeInfo,b=i.businessLoyalty,C=v?(n=V()(o,"price.alternatives"),a=v.totalPrice,[[].concat(re()(A()(n)),[a])]):V()(o,"price.alternatives"),k=V()(h,"policyNumber"),S=function(e){return N()(e,(function(e){var t={};return t.segments=e.segments.map((function(e){return pe(e)})),e.cancelledSegments&&(t.cancelledSegments=e.cancelledSegments.map((function(e){return pe(e)}))),t}))}(c.itineraryParts),O=function(e,t,n,a){var r=t.flightDetails,i=t.ancillaryMap,o=a&&s()(a);return N()(e,(function(e){var t={},a=o&&o.segmentUpgradeInfos.splice(0,e.segments.length);return t.flightSegments=e.segments.length>0?ye(e,r,i,n,!1,a):{},e.cancelledSegments&&(t.cancelledFlightSegments=ye(e,r,i,n,!0,a)),t}))}(c.itineraryParts,t,j()(e.pnr.specialServiceRequests,{code:W.l}),y),P=g?[Object(ne.a)(g)]:[],x=(r=o.subElements,I()(r,(function(e,t){var n=V()(t,"price.alternatives",[]),a=V()(t,"subElements",[]);return e.push({label:t.label,breakdownElements:de(a),total:n}),e}),[])),T=Object(J.a)(Object(Y.fromJS)(S)),B=function(e){var t=A()(e);return M()(t.segments)?A()(t.cancelledSegments).origin:A()(t.segments).origin}(c.itineraryParts),L=function(e,t){var n=f()(e),a=M()(n.segments)?n.cancelledSegments:n.segments;return t===Z.a.ROUND_TRIP?A()(a).origin:f()(a).destination}(S,T),D=t.ancillaryMap,F=Object(te.a)({passengers:u}),R=j()(d,(function(e){return V()(e,["travelPart","@type"])===$.a.ITINERARY_PART})),H=j()(d,(function(e){return V()(e,["travelPart","@type"])===$.a.SEGMENT})),U=j()(d,(function(e){return V()(e,["travelPart","@type"])===$.a.ITINERARY}));return{pnr:l,totalPaid:C,itineraryParts:S,flights:O,origin:B,tripType:T,destination:L,paymentOptionsDetails:p,policyNumber:k,cart:{products:E()(x,P),hotelProduct:v?oe(v):void 0,total:C,paymentCompleted:l,passengerTypeCount:F},passengers:N()(u,(function(e){return ce({},e,{eticketNumber:be(H,e),standAloneAncillaries:V()(U.find((function(e){return e.passengers}),w()({passenger:e})),"passengers[".concat(e.passengerIndex-1,"].ancillaries"),[]),flights:c.itineraryParts.map((function(t){var n=E()(V()(t,"segments",[]),V()(t,"cancelledSegments",[])),a=e.passengerIndex,r=A()(n).origin,i=f()(n).destination,s=_()(R,(function(e){return e.travelPart===t&&e.passengers}),w()({passenger:e}));return{origin:r,destination:i,ancillaries:V()(s,"passengers[".concat(a-1,"].ancillaries"),[]),segments:n.map((function(t){var n=_()(H,(function(e){return e.travelPart===t&&e.passengers}),w()({passenger:e})),r=V()(n,"passengers[".concat(a-1,"].ancillaries"),[]),i=V()(n,"passengers[".concat(a-1,"].seat"),[]);return{origin:t.origin,destination:t.destination,departure:t.departure,ancillaries:r,seat:i,airlineCode:V()(n,"travelPart.flight.airlineCode",""),flightNumber:V()(n,"travelPart.flight.flightNumber","")}})),ancillaryMap:D,eticketNumber:be(H,e)}}))})})),EMDs:he(m),alerts:ue(e),carReservationSummary:g,businessLoyalty:b}}},function(e,t,n){"use strict";var a=n(1590);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1250)),o=a(n(1817)),l=a(n(1326)),c=a(n(1240)),u=a(n(1238)),d=a(n(1239)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1247)),v=a(n(1248)),y=a(n(1251)),b=a(n(1267)),E=a(n(1274));function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(){},S=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(C()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._calculateStyle(),(0,h.default)(t)):(0,h.default)(t)}return(0,d.default)(a,[{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this._calculateStyle(),this}},{key:"_cacheElements",value:function(e){this.el=e,this.containerEl=this.containerEl||e.parentNode,this._body=this.el.querySelector(".spark-step-indicator__body"),this._list=this.el.querySelector(".spark-step-indicator__list"),this._items=this._list.querySelectorAll(".spark-step-indicator__item"),this._checkPadding()}},{key:"_parseParams",value:function(){this.type=null!==this.type?this.type:this.el.attributes["data-type"]&&this.el.attributes["data-type"].value,this.el.attributes["data-dropdownlabel"]&&this.el.attributes["data-dropdownlabel"].value&&(this.dropdownLabel=this.el.attributes["data-dropdownlabel"].value),this.el.attributes["data-stepprogressionlabel"]&&this.el.attributes["data-stepprogressionlabel"].value&&(this.stepProgressionLabel=this.el.attributes["data-stepprogressionlabel"].value),this.el.attributes["data-currentlabel"]&&this.el.attributes["data-currentlabel"].value&&(this.currentLabel=this.el.attributes["data-currentlabel"].value),this.el.attributes["data-completedlabel"]&&this.el.attributes["data-completedlabel"].value&&(this.completedLabel=this.el.attributes["data-completedlabel"].value)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;(this._onResizeBound=(0,c.default)(e=this._onResize).call(e,this),this._onVisibleBound=(0,c.default)(t=this._onVisible).call(t,this),this._toggleDropdownBound=(0,c.default)(n=this._toggleDropdown).call(n,this),this._onKeydownBound=(0,E.default)((0,c.default)(a=this._onKeydown).call(a,this),100),"function"==typeof this.onStepClick)&&this.bindStepClickCallback((0,l.default)(r=(0,o.default)(new Array(this._items.length))).call(r,(function(e,t){return t})),this.onStepClick)}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),this.el.addEventListener("keydown",this._onKeydownBound),document.addEventListener("spark.step-indicator",this._toggleDropdownBound,!0)}},{key:"_removeEventListeners",value:function(){var e;(window.removeEventListener("resize",this._onResizeBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),document.removeEventListener("click",this._toggleDropdownBound),this.el.removeEventListener("keydown",this._onKeydownBound),document.removeEventListener("spark.step-indicator",this._toggleDropdownBound,!0),"function"==typeof this.onStepClick)&&this.removeStepClickCallback((0,l.default)(e=(0,o.default)(new Array(this._items.length))).call(e,(function(e,t){return t})),this.onStepClick)}},{key:"_resetStepState",value:function(e){if(!(e<0||e>=this._items.length)){var t=this._items[e].querySelector(".spark-step-indicator__icon");(0,v.default)(this._items[e],["spark-step-indicator__item--completed","spark-step-indicator__item--current","spark-step-indicator__item--disabled"]),this._items[e].removeAttribute("tabindex"),t.setAttribute("aria-hidden",!0),t.removeAttribute("aria-label")}}},{key:"setStepState",value:function(e,t){if(e<0||e>=this._items.length)return this;var n,a,r=this._items[e].querySelector(".spark-step-indicator__icon");switch(t){case"completed":this._resetStepState(e),(0,g.default)(this._items[e],"spark-step-indicator__item--completed"),r.removeAttribute("aria-hidden"),r.setAttribute("aria-label",this.completedLabel);break;case"current":a=(n=this._list.querySelector(".spark-step-indicator__item--current")).querySelector(".spark-step-indicator__icon"),(0,v.default)(n,"spark-step-indicator__item--current"),(0,y.default)(n,"spark-step-indicator__item--completed")?a.setAttribute("aria-label",this.completedLabel):(a.setAttribute("aria-hidden",!0),a.removeAttribute("aria-label")),(0,g.default)(this._items[e],"spark-step-indicator__item--current"),r.removeAttribute("aria-hidden"),(0,y.default)(this._items[e],"spark-step-indicator__item--completed")?r.setAttribute("aria-label",this.completedLabel+", "+this.currentLabel):r.setAttribute("aria-label",this.currentLabel);break;case"disabled":this._resetStepState(e),(0,g.default)(this._items[e],"spark-step-indicator__item--disabled"),this._items[e].setAttribute("tabindex","-1");break;case"incomplete":(0,v.default)(this._items[e],["spark-step-indicator__item--completed","spark-step-indicator__item--disabled"]),this._items[e].removeAttribute("tabindex")}return this._calculateStyle(),this}},{key:"_onKeydown",value:function(e){if((0,b.default)(e.target,".spark-step-indicator__list",this.el)||(0,b.default)(e.target,".spark-step-indicator__body--dropdown",this.el)){var t=e.keyCode||e.which;13===t&&(0,y.default)(e.target,"spark-step-indicator__item--dropdown__header")&&(e.preventDefault(),this._toggleDropdown(e)),9===t&&!1===(0,y.default)(document.activeElement,"spark-step-indicator__item")&&!0===this._dropdownExpand&&this._toggleDropdown(e)}}},{key:"bindStepClickCallback",value:function(e,t){t=t||k;for(var n=0;n<e.length;n++)this._items[e[n]].addEventListener("click",(0,c.default)(t).call(t,this._items[e[n]],e[n],this));return this}},{key:"removeStepClickCallback",value:function(e,t){t=t||k;for(var n=0;n<e.length;n++)this._items[e[n]].removeEventListener("click",t);return this}},{key:"_isOverWidth",value:function(){for(var e=this._list.offsetWidth,t=this._listPaddingTotal,n=0;n<this._items.length;n++)t+=this._items[n].offsetWidth;return e<t}},{key:"_calculateStyle",value:function(){switch(this._switchFromDropdown(),this.type){case"standard-dropdown":this._calculateRespStyle();break;case"large":this._calculateLargeStyle();break;case"condensed":this._calculateCondensedStyle();break;case"dropdown":this._calculateDropdownStyle();break;default:this._calculateStandardStyle()}!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/))&&this._addItemWidth()}},{key:"_addItemWidth",value:function(){if((0,y.default)(this._list,"spark-step-indicator__list--condensed")||(0,y.default)(this._body,"spark-step-indicator__body--dropdown"))this._switchWidthForIe11(0,!1);else{for(var e=this._list.offsetWidth,t=this._listPaddingTotal,n=0;n<this._items.length;n++)t+=this._items[n].offsetWidth;e-t>2?this._switchWidthForIe11(0,!0):this._switchWidthForIe11(0,!1)}}},{key:"_switchWidthForIe11",value:function(e,t){for(var n=e;n<this._items.length;n++)this._items[n].style.width=t?"100%":""}},{key:"_calculateLargeStyle",value:function(){this._list.style["flex-wrap"]="wrap";for(var e=this._list.offsetWidth,t=this._listPaddingTotal,n=0;n<this._items.length;n++)(0,v.default)(this._items[n],"noline"),e<(t+=this._items[n].offsetWidth)&&n>0&&((0,g.default)(this._items[n-1],"noline"),t=this._items[n].offsetWidth+this._listPaddingTotal)}},{key:"_calculateCondensedStyle",value:function(){(0,g.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()}},{key:"_calculateDropdownStyle",value:function(){this._switchToDropdown()}},{key:"_calculateStandardStyle",value:function(){this._list.style.visibility="hidden";for(var e=0;e<this._items.length;e++)(0,v.default)(this._items[e],"noline");(0,v.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,g.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()),this._list.style.visibility="visible"}},{key:"_calculateRespStyle",value:function(){this._list.style.visibility="hidden",(0,v.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,g.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,v.default)(this._list,"spark-step-indicator__list--condensed"),this._switchToDropdown())),this._list.style.visibility="visible"}},{key:"_createDropdownHeader",value:function(){var e=document.createElement("a"),t=this._list.querySelector(".spark-step-indicator__item--current");t||(t=this._items[0]),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false");var n=null!==this._list.getAttribute("id")&&""!==this._list.getAttribute("id")?this._list.getAttribute("id"):"";e.setAttribute("aria-controls",n),e.innerHTML=t.innerHTML,e.innerHTML+='<span class="spark-step-indicator__notice">'+this.dropdownLabel+"</span>";var a=document.createElement("span"),r=(0,s.default)(Array.prototype).call(this._items,t)+1,i=this._items.length;a.innerHTML=this.stepProgressionLabel.replace("{current}",r).replace("{total}",i),a.className="spark-step-indicator__label--dropdown",e.appendChild(a),e.className=t.className,e.setAttribute("tabindex","0"),(0,g.default)(e,"spark-step-indicator__item--dropdown__header"),this._dropdownHeader=e}},{key:"_switchToDropdown",value:function(){(0,g.default)(this._body,"spark-step-indicator__body--dropdown"),this._createDropdownHeader(),this._list.parentNode.insertBefore(this._dropdownHeader,this._list),document.removeEventListener("click",this._toggleDropdownBound),document.addEventListener("click",this._toggleDropdownBound),(0,g.default)(this._list,"collapse");for(var e=0;e<this._items.length;e++)(0,y.default)(this._items[e],"spark-step-indicator__item--disabled")||this._items[e].setAttribute("tabindex","-1")}},{key:"_switchFromDropdown",value:function(){(0,v.default)(this._body,"spark-step-indicator__body--dropdown");var e=this._list.parentNode.querySelector(".spark-step-indicator__item--dropdown__header");document.removeEventListener("click",this._toggleDropdownBound),e&&this._list.parentNode.removeChild(e),(0,v.default)(this._list,"collapse");for(var t=0;t<this._items.length;t++)(0,y.default)(this._items[t],"spark-step-indicator__item--disabled")||this._items[t].removeAttribute("tabindex")}},{key:"toggle",value:function(){if(this._dropdownHeader){var e=document.createEvent("Event");e.initEvent("spark.step-indicator",!0,!0),this._dropdownHeader.dispatchEvent(e)}}},{key:"_toggleDropdown",value:function(e){var t=e.target||e.srcElement;if(this._dropdownHeader.contains(t))if(this._dropdownExpand){(0,g.default)(this._list,"collapse"),(0,v.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1,this._dropdownHeader.setAttribute("aria-expanded","false");for(var n=0;n<this._items.length;n++)(0,y.default)(this._items[n],"spark-step-indicator__item--disabled")||this._items[n].setAttribute("tabindex","-1")}else{(0,v.default)(this._list,"collapse"),(0,g.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!0,this._dropdownHeader.setAttribute("aria-expanded","true");for(var a=0;a<this._items.length;a++)(0,y.default)(this._items[a],"spark-step-indicator__item--disabled")||this._items[a].removeAttribute("tabindex")}else{(0,g.default)(this._list,"collapse"),(0,v.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1,this._dropdownHeader.setAttribute("aria-expanded","false");for(var r=0;r<this._items.length;r++)(0,y.default)(this._items[r],"spark-step-indicator__item--disabled")||this._items[r].setAttribute("tabindex","-1")}if(this._list.offsetHeight>0)for(var i=0,s=0;s<this._items.length;s++){if((0,y.default)(this._items[s],"spark-step-indicator__item--current")){this._list.scrollTop=i;break}i+=this._items[s].offsetHeight}}},{key:"_onResize",value:function(){this._checkPadding(),this._calculateStyle()}},{key:"_checkPadding",value:function(){var e=getComputedStyle(this._list),t=(0,i.default)(e.getPropertyValue("padding-left"),10),n=(0,i.default)(e.getPropertyValue("padding-right"),10);this._listPaddingTotal=t+n}},{key:"_onVisible",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,c.default)(t=function(){this._calculateStyle()}).call(t,this),0)}}]),a}(m.default);S.prototype._whitelistedParams=["type","dropdownLabel","stepProgressionLabel","currentLabel","completedLabel","onStepClick"],S.prototype.defaults={el:null,containerEl:null,dropdownLabel:"Select a Step",type:null,stepProgressionLabel:"{current} of {total}",completedLabel:"Completed",currentLabel:"Current",onStepClick:null,_body:null,_list:null,_listPaddingTotal:0,_dropdownExpand:!1,_dropdownHeader:null,_items:null,_onResizeBound:null,_onVisibleBound:null};var _=S;t.default=_,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(7);function r(){return function(e){return e({type:a.Ub})}}},function(e,t,n){"use strict";var a=n(42),r=n(174),i=n(531);t.a=function(){return Object(a.b)({background:Object(i.a)(),currentPage:r.b,currentFlow:r.a})}},,function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(2451),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAP="__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.MARKER="__SECRET_MARKER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.MARKER_WITH_LABEL="__SECRET_MARKER_WITH_LABEL_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.RECTANGLE="__SECRET_RECTANGLE_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.POLYLINE="__SECRET_POLYLINE_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.POLYGON="__SECRET_POLYGON_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.CIRCLE="__SECRET_CIRCLE_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.KML_LAYER="__SECRET_KML_LAYER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.DIRECTIONS_RENDERER="__SECRET_DIRECTIONS_RENDERER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.HEATMAP_LAYER="__SECRET_HEATMAP_LAYER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.FUSION_TABLES_LAYER="__SECRET_FUSION_TABLES_LAYER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.ANCHOR="__SECRET_ANCHOR_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.INFO_WINDOW="__SECRET_INFO_WINDOW_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.OVERLAY_VIEW="__SECRET_OVERLAY_VIEW_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.GROUND_LAYER="__SECRET_GROUND_LAYER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.DRAWING_MANAGER="__SECRET_DRAWING_MANAGER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.SEARCH_BOX="__SECRET_SEARCH_BOX_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.MARKER_CLUSTERER="__SECRET_MARKER_CLUSTERER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.INFO_BOX="__SECRET_INFO_BOX_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.TRAFFIC_LAYER="__SECRET_TRAFFIC_LAYER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.STREET_VIEW_PANORAMA="__SECRET_STREET_VIEW_PANORAMA_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",t.BICYCLING_LAYER="__SECRET_BICYCLING_LAYER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var a=n(15),r=n.n(a),i=n(4),s=n.n(i),o=n(0),l=n.n(o);t.a=function(e){var t=l()(e,"results");return t?s()(t,(function(e,t){return!!r()(l()(t,"status",[]),(function(e){return"ERROR"===e.type?"ERR.DCCI.PASSENGER_RETRIEVAL_OPTIONS_MISMATCH"===e.code:"WARNING"===e.type&&"PASSENGER_NAME_NOT_FOUND"===e.code}))&&e.push(l()(t,"designator.value","po0")),e}),[]):e&&"ERR.DCCI.PASSENGER_RETRIEVAL_OPTIONS_MISMATCH"===e.errorCode?["po1"]:[]}},function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(19),s=n.n(i),o=n(2),l=n.n(o),c=n(55),u=n.n(c);t.a=function(e){var t=e.passengers,n=void 0===t?[]:t,a=e.selectedPassengerIds,i=s()(n,(function(e){return r()(a,e.passengerId)}));return!l()(i)&&u()(i,(function(e){return e&&(e.isSelecteeForAllSegments||e.isPccPassenger)}))}},,,,,,,function(e,t,n){"use strict";var a=function(e){var t=e.airline,n=e.frequentFlyerNumber,a=e.knownTravelerNumber;return{returnSession:!0,passengerDetails:[{passengerId:e.passengerId,loyaltyAccounts:n?[{memberAirline:t||void 0,memberId:n}]:void 0,transportationSecurity:a?{knownTravelerNumber:a}:void 0}]}},r=n(1466),i=n(83),s=n.n(i),o=n(137),l=n.n(o),c=n(1293),u=function(e){var t=e.packageName,n=e.fields;return Object(c.d)({packageName:t,fields:l()(s()(n),"index")})},d=(n(1467),n(27)),p=n.n(d),h=n(18),f=n.n(h),m=n(21),g=n.n(m),v=n(4),y=n.n(v),b=n(0),E=n.n(b),C=function(e){return(function(e){var t=e.pnr,n=e.knownTraveler,a=void 0===n?"KNOWN_TRAVELER":n,r=E()(t,["itinerary","itineraryPart"],[]);return y()(r,(function(e,t){var n=E()(t,"segment",[]);return y()(n,(function(e,t){var n={};return g()(t.applicableTransportationSecurity,a)&&(f()(n,{segmentId:t.id,flightId:p()(t.flightDetail).id}),e.push(n)),e}),e)}),[])}({pnr:e.pnr})||[]).length>0},k=n(43),S=n.n(k),_=n(144),O=n.n(_),w=function(e){var t=O()(E()(e,"results"),"status");return S()(t,(function(e){return"ERROR"===e.type}))};n(1473);n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r.a})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return w}))},function(e,t,n){"use strict";n(1438);var a=n(130),r=n.n(a),i=n(15),s=n.n(i),o=n(522),l=n(1333),c=function(e){var t=e.cityCode,n=Object(o.a)(l.a,"countries");return r()(n,(function(e){return s()(e.cities||{},(function(e,n){return t===n}))}))},u=n(4),d=n.n(u),p=n(0),h=n.n(p),f=n(137),m=n.n(f),g=n(1346),v=function(){var e=Object(o.a)(l.a,"countries")||[],t=d()(e,(function(e,t,n){return e.push({value:n,label:Object(g.a)({code:n}),default:h()(t,"default",!1)}),e}),[]);return m()(t,["label"])},y=n(12),b=function(e){var t=e.code,n=Object(g.a)({code:t});return Object(y.i)([l.a,"name"],{code:t,name:n})};n.d(t,"a",(function(){return l.a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return b}))},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(54),s=n.n(i),o=n(2),l=n.n(o),c=n(18),u=n.n(c),d=n(5),p=n.n(d),h=n(4),f=n.n(h),m=n(0),g=n.n(m),v=n(144),y=n.n(v),b=n(81),E=n(523),C=n(245),k=n.n(C),S=n(21),_=n.n(S),O=n(15),w=n.n(O),P=n(43),A=n.n(P);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(e){var t=e.pnr,n=e.results,a=Object(b.a)(E.a,"boardingPassErrorCodes")||[],i=Object(b.a)(E.a,"mobileBoardingPassErrorCodes")||[],o=Object(b.a)(E.a,"pccErrorCode")||[],c=g()(t,"itinerary.itineraryPart",[]),d=y()(c,(function(e){return g()(e,"segment",[])})),h=f()(d,(function(e,t){var n=g()(t,"eligibilities.eligibility"),a=y()(n,(function(e){return g()(e,"reason")}));return e[t.id]=p()(a,"category"),e}),{}),m=g()(t,"selectedPassengers");l()(m)&&(m=g()(t,["passengers","passenger"],[]));var v=f()(m,(function(e,t){return e.push.apply(e,s()(g()(t,"passengerSegments.passengerSegment",[]))),t.infant&&e.push.apply(e,s()(g()(t.infant,"passengerSegments.passengerSegment",[]))),e}),[]),C=f()(v,(function(e,t){var s=h[t.segmentRef],o=g()(t,"passengerFlight");return f()(o,(function(e,t){var o=t.id,l=g()(t,"eligibilities.eligibility"),c=y()(l,(function(e){return g()(e,"reason")})),u=p()(c,"category"),d=g()(t,"boardingPass.supplementaryData.selectee")||function(e){var t=e.segmentEligibilityCodes,n=e.flightEligibilityCodes,a=e.boardingPassErrorCodes,r=w()(a,(function(e){return _()(t,e)})),i=w()(a,(function(e){return _()(n,e)}));return!k()(r)||!k()(i)}({segmentEligibilityCodes:s,flightEligibilityCodes:u,boardingPassErrorCodes:a}),h=d||function(e){var t=e.segmentEligibilityCodes,n=e.flightEligibilityCodes,a=e.mobileBoardingPassErrorCodes,r=w()(a,(function(e){return _()(t,e)})),i=w()(a,(function(e){return _()(n,e)}));return!k()(r)||!k()(i)}({segmentEligibilityCodes:s,flightEligibilityCodes:u,mobileBoardingPassErrorCodes:i})||function(e){var t=e.passengerFlightId,n=e.results,a=e.mobileBoardingPassErrorCodes,r=w()(n,(function(e){var n=e.passengerFlightRef||e.update&&e.update.value;return n?n===t:e.designator&&e.designator.value&&e.designator.value===t.slice(0,t.lastIndexOf("."))}))||{};return A()(r.status,(function(e){return _()(a,g()(e,"code"))}))}({passengerFlightId:o,results:n,mobileBoardingPassErrorCodes:i});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,r()({},o,{isBoardingPassInhibited:d,isMobileBoardingPassInhibited:h}))}),e)}),{});return u()({},C,function(e){var t=e.passengers,n=e.pccErrorCode;return f()(t,(function(e,t){var a=g()(t,["eligibilities","eligibility"]),r=y()(a,"reason"),i=w()(r,(function(e){return e&&_()(n,e.category)}));return e[t.id]={isPccBoardingPassInhibited:!k()(i)},t.infant&&(e[t.infant.id]={isPccBoardingPassInhibited:!k()(i)}),e}),{})}({passengers:m,pccErrorCode:o}))}},function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(1),s=n.n(i),o=n(194),l=n.n(o),c=n(39),u=n.n(c),d=n(57),p=n.n(d),h=n(23),f=n.n(h),m=n(5),g=n.n(m),v=n(51),y=n.n(v),b=n(21),E=n.n(b),C=n(36),k=n.n(C),S=n(12),_=n(319),O=n(564),w=n(530),P=(n(1543),function(e){var t=e.level,n=e.code,a=t.toLowerCase(),r=k()(n.split(".")),i=E()(O.a,r)?"fnf":a;return s.a.createElement(_.a,{type:a,title:"flightAdvisory.".concat(i),className:r},Object(S.a)("flightAdvisory.".concat(r)))});P.defaultProps={level:w.d.WARNING,code:""};var A=P,x=function(e){var t=e.advisories,n=e.direction,a=function(e){return y()(e,"toJS",[])}(t),r=g()(a,(function(e,t){return f()(e)?parseInt(n,10)===t?g()(e,(function(e){return s.a.createElement(A,p()({},e,{key:t}))})):"":s.a.createElement(A,p()({},e,{key:t}))}));return s.a.createElement("span",null,r)},N=n(1916);function T(e,t,n){return s.a.createElement("div",{className:u()("dxp-advisory-container",t)},s.a.createElement(x,{advisories:e,direction:n}))}var I=function(e){var t=e.advisories,n=e.isFareAdvisories,a=e.className,r=e.direction,i=null;return 0!==t.size&&(i=n?function(e){return s.a.createElement("div",{className:"fare-advisories"},s.a.createElement(N.a,{advisories:e}))}(t):T(t,a,r)),i};I.propTypes={advisories:Object(a.oneOfType)([l.a.list,r.a.array]).isRequired,isFareAdvisories:r.a.bool,className:r.a.string,direction:r.a.number},I.defaultProps={isFareAdvisories:!1,className:"",direction:0};var B=I;n.d(t,"a",(function(){return B}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(321),g=n.n(m),v=n(1),y=n.n(v),b=n(11),E=n(123),C=(n(6),n(194),n(12)),k=n(1541),S=n(319),_=n(530),O=n(42),w=(n(1979),{info:_.d.INFO,warn:_.d.WARNING,error:_.d.ERROR}),P=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"componentWillUnmount",value:function(){this.props.clearViewMessages()}},{key:"render",value:function(){var e=this.props.messages;return 0===e.size?null:y.a.createElement("div",{className:"dxp-messages-container"},e.map((function(e){return t.renderMessage(e)})))}}],[{key:"getMessageBody",value:function(e){var n=e.toObject(),a=n.level,r=n.descriptionKey,i=n.descriptionElement,s=n.descriptionElementProps,o=n.isValidationError,l=n.details,c=void 0===l?Object(b.Map)():l;return i?y.a.createElement(i,s):o&&!c.isEmpty()?t.createValidationErrorDescription(c,a):Object(C.a)(r)}},{key:"renderMessage",value:function(e){var n=e.toObject(),a=n.titleKey,r=n.level;return y.a.createElement(S.a,{key:t.getItemKey(e.code,r),className:"dxp-view-message",type:w[r],title:a},t.getMessageBody(e))}}]),t}(v.Component);f()(P,"createValidationErrorDescription",(function(e,t){return e.reduce((function(e,n,a){return e.concat(y.a.createElement("ul",{className:"".concat(t,"-description"),key:P.getItemKey(a,"list")},n.map((function(e){return y.a.createElement("li",{key:P.getItemKey(a,e)},Object(C.a)(a)," ",Object(C.a)(e))}))))}),[])})),f()(P,"getItemKey",(function(e,t){return g()("".concat(e,"-").concat(t))})),f()(P,"defaultProps",{messages:Object(b.List)()});var A=Object(E.b)((function(){return Object(O.b)({messages:function(e){return e.view.get("messages")}})}),{clearViewMessages:k.a})(P);n.d(t,"a",(function(){return A}))},function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(0),s=n.n(i),o=n(144),l=n.n(o),c=n(79),u=n.n(c),d=n(538),p=n(1700),h=n(1701);t.a=function(e){var t=e.pnr,n=function(e){return l()(s()(e,"flightDetail",[]),(function(e){return function(e){var t=e.flight,n=Object(d.a)(),a=Object(h.a)({nativeAirline:n,airline:t.airline,operatingAirline:t.operatingAirline,isCommuter:t.commuter}),r=Object(p.a)({nativeAirline:n,airline:t.airline,operatingAirline:t.operatingAirline});return{id:t.id,isOperatedByOtherAirline:a,isInterline:r,isOtherAirlineFlight:a||r}}({flight:e})}))};return r()(s()(t,"itinerary.itineraryPart",[]),(function(e,t){return u()(e,function(e){return l()(s()(e,"segment",[]),n)}(t))}),[])}},function(e,t,n){"use strict";var a=n(51),r=n.n(a),i=n(2),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(11),d=n(17),p=n.n(d),h=n(45),f=n(1718);function m(e){var t=Object(f.a)({pnr:e.get("pnr"),firstName:e.get("firstName"),lastName:e.get("lastName")});if(h.a.get(t))return JSON.parse(h.a.get(t))}var g=n(214),v=Object(c.a)(Object(g.a)(),(function(e){return e})),y=Object(c.a)((function(e){return l()(e,"changeFlight",Object(u.Map)())}),(function(e){return s()(e.get("reservation"))?{}:r()(e.getIn(["reservation","itineraryType"]),"toJS")})),b=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.isOneWay||e.isRoundTrip?e.itineraryParts[0].destination:e.itineraryParts[e.itineraryParts.length-1].destination})),E=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.itineraryParts[0].origin})),C=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.itineraryParts[0].date})),k=Object(c.a)(v,(function(e){return s()(e.itineraryParts)?"":e.itineraryParts[e.itineraryParts.length-1].date})),S=function(e){var t=m(e.sessionStorage.get("pnrQuery")||Object(u.Map)())||{};return{origin:t.origin,destination:t.destination,tripType:t.tripType}},_=function(e){var t=m(e.sessionStorage.get("pnrQuery")||Object(u.Map)()),n=l()(t,"itineraryParts");if(!t||s()(n))return{};var a=l()(n,[0,"segments",0,"departure"]),r=l()(n,[n.length-1,"segments"]),i=l()(r,[r.length-1,"departure"]);return{originDate:p()(a),destinationDate:p()(i)}};t.a=function(){return Object(c.b)({origin:E,destination:b,destinationDate:k,originDate:C,reservationTripType:y,reservationRoute:S,reservationDates:_})}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(39)),s=n.n(i),o=n(12),l=function(e){var t=e.showPageLoadingMessage,n=e.isModalSpinner,a=e.id,i=e.className,l=e.loadingMessage,c=r.a.createElement("div",{className:s()("page-loading-message",{"spark-assistive-text":!t}),role:"alert","aria-busy":"true"},Object(o.a)(l||"spinner.defaultMessage")),u=s()("dxp-spinner",i,{"dxp-modal-spinner":n});return r.a.createElement("div",null,r.a.createElement("div",{className:u,id:a},r.a.createElement("span",{className:"bounce1"}),r.a.createElement("span",{className:"bounce2"}),r.a.createElement("span",{className:"bounce3"})),c)};l.defaultProps={id:"dxp-spinner",className:"",loadingMessage:"",showPageLoadingMessage:!1,isModalSpinner:!1};var c=l;t.a=c},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1812)),i=a(n(1350)),s=a(n(1240)),o=a(n(1341)),l=a(n(1250)),c=a(n(1238)),u=a(n(1239)),d=a(n(1274)),p=a(n(1263)),h=a(n(1247)),f=a(n(1251)),m=a(n(1248)),g=n(1271),v=a(n(1267)),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.default)(this,e),t&&(this.setParams(this.defaults||{},!0),this.setParams(n),this._init(t),this._windowInnerWidth=window.innerWidth)}return(0,u.default)(e,[{key:"setParams",value:function(e,t){var n=this;return(0,p.default)(e,(function(e,a){var r;(-1!==(0,l.default)(r=n._whitelistedParams).call(r,e)||t)&&(n[e]=a)})),this}},{key:"unsetParams",value:function(e,t){return e=e instanceof Array?e:(0,o.default)(e),t=t||this,(0,p.default)(e,(function(e){delete t[e]})),this}},{key:"change",value:function(){if(!this.el)return this;this._closeAll(),(0,m.default)(this.el,["ready","show-more","measured"]);for(var e=document.createDocumentFragment(),t=0;t<this.items.length;t++)e.appendChild(this.items[t].el);return this.visibleContainer.appendChild(e),this._initItems(),(0,h.default)(this.el,"measured"),this._calculateStyles(),(0,h.default)(this.el,"ready"),this}},{key:"update",value:function(e){return e?(this.remove(!0),this._init(e)):this.change(),this}},{key:"remove",value:function(e){this._removeListeners(),delete this.el.sparktoolbarcon,delete this.showMoreButton.sparktoolbarshowmore;for(var t=0;t<this.items.length;t++)this.items[t].remove();return!e&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=void 0),this}},{key:"toolbarItem",value:function(e,t,n){var a={};return a.parent=e,a.el=t,a.priority=a.el.attributes["data-priority"]?a.el.attributes["data-priority"].value:0,a.order=a.el.attributes["data-order"]?a.el.attributes["data-order"].value:n,a.hasContent=!!a.el.querySelector(".spark-toolbar__item--content"),a.helper=a.el.querySelector(".spark-toolbar__item-helper"),a.label=!!a.el.attributes.label&&a.el.attributes.label.value,a.closeOnClick=(0,f.default)(a.el,"spark-toolbar__item--close-more-on-click"),a.width=a.el.offsetWidth,a.height=a.el.offsetHeight,a.dropdown=t.querySelector(".spark-toolbar__item--content"),a.dropdown&&(a.dropdown.sparktoolbardropdown=!0),a.toggleDropdown=function(e){if(void 0!==e?!e:a.toggleDropdown.open)a.toggleDropdown.open=!1,(0,m.default)(a.el,"animate"),window.setTimeout((function(){(0,m.default)(a.el,"open")}),100);else if(a.hasContent){a.toggleDropdown.open=!0,(0,h.default)(a.el,"open"),a.positionDropdown();var t=document.createEvent("Event");t.initEvent("spark.visible-children",!0,!0),a.dropdown.dispatchEvent(t),window.setTimeout((function(){(0,h.default)(a.el,"animate")}),0)}else a.parent._toggleShowMore(!1)},a.handleClick=function(e){if((0,g.boolean)(a.el,"disabled"))e.preventDefault();else if(a.toggleDropdown.open)if(e.target===a.el||e.target===a.helper)a.toggleDropdown();else for(var t=e.target;t!==a.el;){if((0,f.default)(t,"spark-toolbar__item--close-on-click")){a.toggleDropdown(!1),a.parent._toggleShowMore(!1);break}t=t.parentElement}else a.toggleDropdown(!0)},a.positionDropdown=function(){if(a.dropdown){a.dropdown.style.left="",a.dropdown.style.right="";var e=a.dropdown.getBoundingClientRect(),t=window.pageXOffset,n=window.pageXOffset+document.documentElement.clientWidth;e.right>n&&(a.dropdown.style.left="inherit",a.dropdown.style.right=0),e.left<t&&(a.dropdown.style.left=0,a.dropdown.style.right="inherit")}},a.remove=function(){a.el&&delete a.el.sparktoolbar,a.dropdown&&delete a.dropdown.sparktoolbardropdown},a.el.sparktoolbar=a,a}},{key:"_closeAll",value:function(){this._closeItems(),this._toggleShowMore(!1)}},{key:"_getOpenItems",value:function(){for(var e=[],t=0;t<this.items.length;t++)this.items[t].toggleDropdown.open&&e.push(this.items[t]);return e}},{key:"_closeItems",value:function(e){e=void 0===e?this._getOpenItems():e;for(var t=0;t<e.length;t++)e[t].toggleDropdown(!1)}},{key:"_init",value:function(e){this.el=e,this.el.sparktoolbarcon=this,this.visibleContainer=this.el.querySelector(".spark-toolbar__container--visible"),this.hiddenContainer=this.el.querySelector(".spark-toolbar__container--hidden"),this.showMoreButton=this.el.querySelector(".spark-toolbar__show-more"),this.showMoreButton.sparktoolbarshowmore=!0,this.isOpen=!1,this.isFocus=!1,this._setupListeners(),this.el.style.width="100%",this._initItems(),(0,h.default)(this.el,"measured"),this._calculateStyles(),this.tabindex=this.el.attributes.tabindex?this.el.attributes.tabindex.value:0,(0,h.default)(this.el,"ready")}},{key:"_initItems",value:function(){var e=this.el.querySelectorAll(".spark-toolbar__item");this.items=[];for(var t=0;t<e.length;t++)this.items[t]=new this.toolbarItem(this,e[t],t)}},{key:"_onTouchStart",value:function(e){this.el.contains(e.target)||(this._tapStart=e.target)}},{key:"_onTouchEnd",value:function(e){e.target===this._tapStart&&this._closeAll(),this._tapStart=void 0}},{key:"_setupListeners",value:function(){var e,t,n,a,r,i,o,l;this._handleWindowClick=(0,s.default)(e=this._handleWindowClickH).call(e,this),document.addEventListener("click",this._handleWindowClick),this._onTouchStartBound=(0,s.default)(t=this._onTouchStart).call(t,this),document.addEventListener("touchstart",this._onTouchStartBound,!0),this._onTouchEndBound=(0,s.default)(n=this._onTouchEnd).call(n,this),document.addEventListener("touchend",this._onTouchEndBound,!0),this._handleResize=(0,d.default)((0,s.default)(a=this._handleResizeH).call(a,this),100),window.addEventListener("resize",this._handleResize),this._handleKeyDown=(0,s.default)(r=this._handleKeyDownH).call(r,this),this.el.addEventListener("keydown",this._handleKeyDown),this._handleFocus=(0,s.default)(i=this._handleFocusH).call(i,this),document.addEventListener("focus",this._handleFocus,!0),this._handleBlur=(0,s.default)(o=this._handleBlurH).call(o,this),document.addEventListener("blur",this._handleBlur,!0),this._handleVisibleChildren=(0,s.default)(l=this._handleVisibleChildrenH).call(l,this),document.addEventListener("spark.visible-children",this._handleVisibleChildren,!0)}},{key:"_removeListeners",value:function(){document.removeEventListener("click",this._handleWindowClick),document.removeEventListener("touchstart",this._onTouchStartBound,!0),document.removeEventListener("touchend",this._onTouchEndBound,!0),window.removeEventListener("resize",this._handleResize),this.el.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("blur",this._handleBlur,!0),document.removeEventListener("focus",this._handleFocus,!0),document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0)}},{key:"_handleBlurH",value:function(e){this.el.contains(e.target)&&(this.el.attributes.tabindex.value=this.tabindex)}},{key:"_handleFocusH",value:function(e){if(this.el.contains(e.target)){if(this.el.attributes.tabindex.value=-1,e.target.sparktoolbarcon)return void this._focusLast();if(e.target.sparktoolbar)return void e.target.sparktoolbar.el.focus();for(var t=e.target;!t.sparktoolbarcon&&!t.sparktoolbar;){if(t.sparktoolbardropdown)return void(this.el.attributes.tabindex.value=this.tabindex);t=t.parentElement}}else this._closeAll(),this.el.attributes.tabindex.value=this.tabindex}},{key:"_focusLast",value:function(){if(!this._lastFocus){var e=this.visibleContainer.querySelector(".spark-toolbar__item")||this.hiddenContainer.querySelector(".spark-toolbar__item");this._lastFocus=e.sparktoolbar}this.hiddenContainer.contains(this._lastFocus.el)&&this._toggleShowMore(!0),this._lastFocus.el.focus()}},{key:"_handleKeyDownH",value:function(e){for(var t=e.target;!t.sparktoolbarcon&&!t.sparktoolbar;){if(t.sparktoolbardropdown)return;t=t.parentElement}if(t.sparktoolbar)switch(e.keyCode){case 37:case 38:t.previousSibling&&t.previousSibling.sparktoolbar?(this._lastFocus=t.previousSibling.sparktoolbar,t.previousSibling.focus()):this.visibleContainer.querySelector(".spark-toolbar__item")!==t.sparktoolbar.el&&(t=this.visibleContainer.querySelector(".spark-toolbar__item:last-of-type"))&&(this._toggleShowMore(!1),this._lastFocus=t.sparktoolbar,t.focus()),this._closeItems(),e.preventDefault();break;case 39:case 40:t.nextSibling&&t.nextSibling.sparktoolbar?(this._lastFocus=t.nextSibling.sparktoolbar,t.nextSibling.focus()):this.hiddenContainer.querySelector(".spark-toolbar__item:last-of-type")!==t.sparktoolbar.el&&(t=this.hiddenContainer.querySelector(".spark-toolbar__item"))&&(this._toggleShowMore(!0),this._lastFocus=t.sparktoolbar,t.focus()),this._closeItems(),e.preventDefault();break;case 32:e.preventDefault(),e.target.sparktoolbar&&e.target.sparktoolbar.el.click();break;case 13:e.target.sparktoolbar&&e.target.sparktoolbar.el.click()}}},{key:"_handleVisibleChildrenH",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,s.default)(t=function(){this.change()}).call(t,this),0)}},{key:"_handleWindowClickH",value:function(e){if((0,g.boolean)(e.target,"disabled"))e.preventDefault();else if(this.el.contains(e.target)){var t=e.target,n=(0,f.default)(t,"spark-toolbar__item")?t:(0,v.default)(t,".spark-toolbar__item",this.el);if(n&&this.onClick.call(this,n,this),t===this.visibleContainer||t===this.el)return e.stopPropagation(),void e.preventDefault();for(;t!==this.el;){if(t.sparktoolbar){var a=this._getOpenItems();return(0,l.default)(a).call(a,t.sparktoolbar)>=0&&(0,i.default)(a).call(a,(0,l.default)(a).call(a,t.sparktoolbar),1),this._closeItems(a),this.hiddenContainer.contains(e.target)||this._toggleShowMore(!1),t.sparktoolbar.handleClick(e)}if(t.sparktoolbarshowmore)return this._closeItems(),void this._toggleShowMore();t=t.parentElement}this._closeAll()}else this._closeItems(),this._toggleShowMore(!1)}},{key:"_toggleShowMore",value:function(e){var t,n;(void 0!==e?!e:this.isOpen)?((0,m.default)(this.el,"animate"),window.setTimeout((0,s.default)(t=function(){(0,m.default)(this.el,"open"),this.isOpen=!1}).call(t,this),100)):(this.isOpen=!0,(0,h.default)(this.el,"open"),this._positionShowMore(),window.setTimeout((0,s.default)(n=function(){(0,h.default)(this.el,"animate")}).call(n,this),0))}},{key:"_positionShowMore",value:function(){this.hiddenContainer.style.right="0px";var e=this.hiddenContainer.getBoundingClientRect(),t=window.pageXOffset,n=window.pageXOffset+document.documentElement.clientWidth;e.right>n&&(this.hiddenContainer.style.right="calc("+(e.right-n)+"px + 1rem)"),e.left<t&&(this.hiddenContainer.style.right="calc("+(e.left-t)+"px - 1rem)")}},{key:"_handleResizeH",value:function(){this.el&&this._windowInnerWidth!==window.innerWidth&&(this._windowInnerWidth=window.innerWidth,this._closeAll(),this._calculateStyles())}},{key:"_calculateStyles",value:function(e){var t;this.el.style.width="100%",(e=void 0!==e&&e)||(0,m.default)(this.el,"show-more");var n,a=[],i=[];(0,r.default)(t=this.items).call(t,this._prioritySort);var s=this.visibleContainer.clientWidth;for(n=0;n<this.items.length;n++)if(s-this.items[n].width>0)a.push(this.items[n]),s-=this.items[n].width;else{if(!e)return(0,h.default)(this.el,"show-more"),this._calculateStyles(!0);i.push(this.items[n])}(0,r.default)(a).call(a,this._orderSort),(0,r.default)(i).call(i,this._orderSort);var o=document.createDocumentFragment(),l=document.createDocumentFragment();for(n=0;n<a.length;n++)o.appendChild(a[n].el);for(n=0;n<i.length;n++)l.appendChild(i[n].el);this.visibleContainer.appendChild(o),this.hiddenContainer.appendChild(l),this.el.style.width=""}},{key:"_prioritySort",value:function(e,t){return t.priority-e.priority}},{key:"_orderSort",value:function(e,t){return e.order-t.order}}]),e}();y.prototype._whitelistedParams=["onClick"],y.prototype.defaults={el:null,onClick:function(){},_windowInnerWidth:0};var b=y;t.default=b,e.exports=t.default},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){var a=n(147),r=n(126);e.exports=function(e){return!0===e||!1===e||r(e)&&"[object Boolean]"==a(e)}},function(e,t,n){e.exports=n(1941)},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return c}));var a=function(e){return"".concat(e,"-selected-flights")},r=function(e){return"".concat(e,"-passengers")},i=function(e){return"".concat(e,"-travel-extras")},s=function(e){return"".concat(e,"-trip-total-cost")},o="shopping-cart-selected-car-offer",l="shopping-cart-selected-hotel-offer",c="terms-agree"},function(e,t,n){"use strict";var a=n(51),r=n.n(a),i=n(42),s=n(11),o=n(10),l=n(101),c=[o.G,o.H],u=Object(i.b)({seatsTotal:function(e){var t=e.shoppingCart.getIn(["data","products"],Object(s.Map)()).find((function(e){return c.includes(e.get("label").toUpperCase())}));if(t)return t.get("seatsTotal")},hasSeats:function(e){return e.shoppingCart.getIn(["data","cartHasProduct","seat"])>0},seatsOnExtrasPageConfig:function(e,t){return r()(e.metadata.getIn(["seatsOnExtrasPage",Object(l.a)(t.location.pathname)]),"toJS")}});t.a=u},,,,,function(e,t,n){var a=n(1919),r=n(122),i=a?function(e){return a.get(e)}:r;e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(2171)),r=c(n(197)),i=c(n(4)),s=c(n(76)),o=c(n(2920)),l=c(n(65));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){if((0,l.default)(e.prevProps,n)){var a=n.match(/^default(\S+)/);if(a){var r=(0,o.default)(a[1]);(0,l.default)(e.nextProps,r)||(e.nextProps[r]=e.prevProps[n])}else e.nextProps[n]=e.prevProps[n]}return e}function d(e,t,n,a){(0,s.default)(e,(function(e,r){var i=n[r];i!==t[r]&&e(a,i)}))}function p(e,t,n){var o=(0,i.default)(n,(function(n,a,i){return(0,r.default)(e.props[i])&&n.push(google.maps.event.addListener(t,a,e.props[i])),n}),[]);e.unregisterAllEvents=(0,a.default)(s.default,null,o,h)}function h(e){google.maps.event.removeListener(e)}t.construct=function(e,t,n,a){var r=(0,i.default)(e,u,{nextProps:{},prevProps:n}).nextProps;d(t,{},r,a)},t.componentDidMount=function(e,t,n){p(e,t,n)},t.componentDidUpdate=function(e,t,n,a,r){e.unregisterAllEvents(),d(a,r,e.props,t),p(e,t,n)},t.componentWillUnmount=function(e){e.unregisterAllEvents()}},function(e,t,n){"use strict";var a=n(56),r=n.n(a),i=n(0),s=n.n(i),o=n(19),l=n.n(o);t.a=function(e){var t=e.pnr,n=l()(s()(t,"selectedPassengers"),(function(e){return e.infant}));return r()(s()(t,"selectedPassengers"))+r()(n)}},function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(19),s=n.n(i),o=n(43),l=n.n(o);t.a=function(e){var t=e.passengers,n=void 0===t?[]:t,a=e.selectedPassengerIds,i=s()(n,(function(e){return r()(a,e.passengerId)}));return l()(i,(function(e){return e.isSelecteeForSomeSegments||e.isPccPassenger}))}},function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(55),s=n.n(i);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!r()(e)&&s()(e,"isPassengerCheckedIn")}},function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(0),s=n.n(i),o=n(144),l=n.n(o),c=n(43),u=n.n(c),d=n(1436);t.a=function(e){var t=e.results,n=e.reservation,a=e.blockEligibilityCodes;if(Object(d.a)({results:t})){var i=s()(n,["passengers","passenger"]),o=l()(i,(function(e){return s()(e,["eligibilities","eligibility"])})),c=l()(o,"reason");return!u()(c,(function(e){return e&&r()(a,e.category)}))}return!1}},function(e,t,n){"use strict";t.a=function(e){return{body:{returnSession:!0,passengerIds:e.passengerIds}}}},,,,,,,function(e,t,n){"use strict";var a=n(62),r=n.n(a),i=n(91),s=n.n(i),o=n(0),l=n.n(o),c=n(34),u=n.n(c),d=n(323),p=(n(1460),n(1546)),h=n(144),f=n.n(h),m=n(4),g=n.n(m),v=n(43),y=n.n(v),b=n(1343),E=function(e){var t=e.passengers,n=void 0===t?[]:t,a=e.passengerEligibilitesPreventingTimaticCall,r=void 0===a?[]:a;return g()(n,(function(e,t){return function(e){var t=e.eligibilities,n=e.passengerEligibilitesPreventingTimaticCall,a=f()(t,"reason");return!y()(a,(function(e){return n.includes(e.category)}))&&y()(a,["category",b.a])}({eligibilities:l()(t,"eligibilities.eligibility"),passengerEligibilitesPreventingTimaticCall:r})&&e.push(t.id),e}),[])},C=n(1483),k=n(1605),S=n(1702),_=function(e){var t=e.reservation,n=e.results,a=e.packageName;try{return void Object(S.a)({reservation:t,results:n,packageName:a})}catch(e){return{error:e,reservation:t,results:n}}};t.a=function(e){var t=e.request,n=e.isCorporatePnrLookup,a=void 0!==n&&n,i=e.packageName,o=void 0===i?"SabreDxContainerCheckInLookup":i,c=e.passengerEligibilitesPreventingTimaticCall,h=e.dispatch;return d.checkin.passenger.passengerDetails(t,!1).then(function(){var e=s()(r.a.mark((function e(t){var n,i,s,d,f,m,g,v,y,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.reservation,i=t.results,!a){e.next=5;break}if(!((s=Object(p.a)(t)).length>0)){e.next=5;break}return e.abrupt("return",Promise.resolve({reservation:n,results:i,warningNameIndices:s}));case 5:if(void 0===(d=_({reservation:n,results:i,packageName:o}))){e.next=8;break}return e.abrupt("return",Promise.resolve(d));case 8:if(!((f=E({passengers:l()(n,"passengers.passenger"),passengerEligibilitesPreventingTimaticCall:c})).length>0)){e.next=20;break}return e.next=12,Object(k.a)({passengers:f,dispatch:h});case 12:if(m=e.sent,g=m.timaticResults,v=m.timaticReservation,void 0===(y=_({reservation:v,results:g,packageName:o}))){e.next=18;break}return e.abrupt("return",Promise.resolve(y));case 18:i=g,n=v;case 20:return b=u()(n),e.abrupt("return",Promise.resolve({reservation:Object(C.a)(n),results:i,rawReservation:b}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},function(e,t,n){"use strict";var a=n(9),r=n(45),i=n(14),s=n(37),o=n.n(s),l=n(36),c=n.n(l),u=n(27),d=n.n(u),p=n(338),h=n.n(p),f=n(4),m=n.n(f),g=n(0),v=n.n(g),y=function(e){return"".concat(e.origin,"-").concat(e.destination)};function b(e){return m()(v()(e,"passengerBaggageDisclosure"),(function(e,t){var n=v()(t,["checkedInBaggage","freeBaggageAllowance"],{}),a=parseInt(v()(n,"totalUnits",0),10),r=v()(n,"totalWeight");return e[t.passengerType]={totalUnits:a,totalWeight:r},e}),{})}function E(e){var t=e.segmentDisclosure,n=e.passengerAllowance,a=m()(t,(function(e,t){return e[y(t.segment)]={disclosure:b(t)},e}),{}),r=m()(n,(function(e,t){var n=function(e){return m()(e.passengerBaggageInfo,(function(e,t){var n=h()(v()(t,["checkedInBaggage","baggageAllowanceDefinition"],0),(function(e){return"OVERRIDE"===e.baggageAllowanceType?0:parseInt(e.totalUnits,10)}));return e[t.passengerIndex]={totalUnits:n},e}),{})}(t),a={origin:d()(t.segments).origin,destination:c()(t.segments).destination};return e[y(a)]={passengerAllowance:n},e}),{});return o()({},a,r)}var C=function(e,t){return t===i.a.CONFIRMATION?new Promise((function(e){e(JSON.parse(r.a.get("bagFee")))})):Object(a.g)(Object(a.l)("bags",e),a.b).then((function(e){return r.a.set("bagFee",JSON.stringify(e)),e})).catch((function(){return JSON.parse(r.a.get("bagFee"))}))},k=function(e){return Object(a.g)(Object(a.l)("bags",e),a.b).then((function(e){return E(e)}))},S=n(7);n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return O}));var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){return n({type:S.l}),C(e,t).then((function(e){return n({type:S.m,results:e})}))}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c";return function(t){return t({type:S.n}),k(e).then((function(e){return t({type:S.o,bagAllowance:e})}))}}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(12)),E=n(1286),C=n(50),k=n(14),S=n(1305),_=n(1320),O=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){var e=n.props.breadcrumbConfiguration.getIn(["flowIcons","home"]);return y.a.createElement(C.c,{name:e})})),g()(p()(n),"getCrumbTitle",(function(){return n.props.hideTitle?y.a.createElement("span",{className:"sr-only"},Object(b.i)("breadcrumbsFlows.postBookingHomeButtonTitle")):y.a.createElement("span",{className:"dxp-breadcrumb-title-container"},y.a.createElement("span",{className:"dxp-breadcrumb-header"},Object(b.i)("breadcrumbsFlows.postBookingHomeButtonTitle")))})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.HOME,".").concat(S.a.HOVER));return y.a.createElement(_.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(E.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onHomeCrumbClick(e.props.url)},className:"dxp-home-breadcrumb-item"})}}]),t}(v.Component);g()(O,"defaultProps",{hideTitle:!1}),n.d(t,"a",(function(){return O}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(21),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(194),n(12)),k=n(11),S=n(1286),_=n(84),O=n(14),w=n(1305),P=n(1360),A=n(1320),x=n(1374),N=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbCompletedData",(function(){var e=n.props.seatsCrumbData,t=e.passengers,a=e.seatSelectionSkipped;if(0===t.size&&!a)return"";var r=n.props.seatsCrumbData,i=r.passengersExcludedFromSeatSelection,s=r.selectedSeats,o=t.count((function(e){return!y()(i,e.get("passengerInfo").get("type"))})),l=(s.size?s.groupBy((function(e){return e.getIn(["segmentKey","departure"])})):Object(k.OrderedMap)()).filter((function(e){return e.size===o})).size;return Object(C.i)("summaryBar.flowCrumbs.".concat(O.a.SEAT_SELECTION,".").concat(w.a.COMPLETED),{flightsWithAllSeatsSelectedCount:l,flightsCount:n.props.seatsCrumbData.flightsCount})})),g()(p()(n),"getCrumbIcon",(function(){return E.a.createElement(x.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:O.a.SEAT_SELECTION})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props.crumbState===w.a.COMPLETED?n.getCrumbCompletedData():"";return E.a.createElement(A.a,{crumbSubTitle:e})})),g()(p()(n),"getCrumbTitle",(function(){return E.a.createElement(P.a,{pageName:O.a.SEAT_SELECTION,flowName:_.a.B2C,breadCrumbTitleOverride:n.props.breadCrumbTitleOverride})})),g()(p()(n),"getHoverIcon",(function(){return E.a.createElement(x.a,{crumbState:w.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:O.a.SEAT_SELECTION})})),g()(p()(n),"getHoverSubTitle",(function(){var e=Object(C.i)("summaryBar.flowCrumbs.".concat(O.a.SEAT_SELECTION,".").concat(w.a.HOVER));return E.a.createElement(A.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return E.a.createElement(S.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubTitle(),onClick:function(){return e.props.onSeatSelectionCrumbClick(e.props.url)},className:"dxp-breadcrumb-item seat-selection-breadcrumb-item"})}}]),t}(b.Component);g()(N,"defaultProps",{seatsCrumbData:{passengers:Object(k.List)(),passengersExcludedFromSeatSelection:[],seats:Object(k.Map)(),seatSelectionSkipped:!1},breadCrumbTitleOverride:void 0}),n.d(t,"a",(function(){return N}))},function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(5),s=n.n(i),o=n(1479),l=n(1469),c=n(1470),u=n(1471),d=n(2),p=n.n(d),h=n(18),f=n.n(h),m=n(12),g=function(e){var t=e.field,n=e.packageName;return p()(t)||p()(t.radioButtons)?t:f()({},t,{radioButtons:s()(t.radioButtons,(function(e){return f()({},e,{label:Object(m.i)([n,e.label],{radioButton:e})})}))})};function v(e){var t=e.fields,n=e.packageName,a=[u.a,c.a,o.a,l.a,g];return s()(t,(function(e){return r()(a,(function(e,t){return t({field:e,packageName:n})}),e)}))}n.d(t,"a",(function(){return v}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(36),g=n.n(m),v=n(19),y=n.n(v),b=n(122),E=n.n(b),C=n(2),k=n.n(C),S=n(145),_=n.n(S),O=n(5),w=n.n(O),P=n(0),A=n.n(P),x=n(73),N=n.n(x),T=n(1),I=n.n(T),B=n(6),L=n(1720),D=n.n(L),j=n(1721),F=n.n(j),M=n(123),R=n(50),V=n(136),H=n(1370),U=n(521),W=n(195),q=n(12),z=n(1491),G=n(1456),K=n(16),Y=n.n(K),Q=n(51),X=n.n(Q),J=n(324),Z=n(101),$=n(1592);n(2086),n(2087);var ee=/(\r\n|\n\r|\r|\n)/g,te=function(e){function t(){var e;return r()(this,t),(e=s()(this,l()(t).call(this))).state={selectedRule:0},e}return p()(t,e),u()(t,null,[{key:"getRules",value:function(e){return A()(e,"fareRules",[]).map((function(e){return[I.a.createElement("h3",null,e.ruleCode),I.a.createElement("p",null,F()({text:t.newLinesToBR(e.ruleText)}))]}))}},{key:"newLinesToBR",value:function(e){return e.split(ee).map((function(e){return e.match(ee)?I.a.createElement("br",null):I.a.createElement("span",null,e)}))}},{key:"renderNoFareRulesWarning",value:function(){return I.a.createElement(z.a,{type:"warning"},Object(q.a)("fareRules.warning.description"))}},{key:"getTabLabel",value:function(e){return w()(e,(function(t,n){return I.a.createElement("span",{key:t,className:"airport-code"},t,e.length-1!==n&&I.a.createElement(R.c,{name:R.a.ARROW_CHEVRON_RIGHT,className:"dxp-fare-rules-tab-icon"}))}))}},{key:"newLinesToBR",value:function(e){return e.split(ee).map((function(e){return e.match(ee)?I.a.createElement("br",null):I.a.createElement("span",null,e)}))}},{key:"renderNoFareRulesWarning",value:function(){return I.a.createElement(z.a,{type:"warning"},Object(q.a)("fareRules.warning.description"))}},{key:"getFee",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=A()(e,"".concat(t,"Values"),{isChangeable:!1,isRefundable:!1,charge:""}),a=""===n.charge?n.charge:Object(G.i)(n.charge),r=Object(q.i)("fareRules.notAllowed",{value:a,spacer:""===a?"":" / "});return(n.isChangeable||n.isRefundable)&&(r=Object(q.i)("fareRules.allowed",{value:a,spacer:""===a?"":" / "})),r}},{key:"getValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(G.i)(A()(e,"".concat(t,"Values"),""))}},{key:"getMiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return Object(G.j)(A()(e,"".concat(t,"Values.").concat(n?"codeshare":"etihad"),""))}}]),u()(t,[{key:"componentDidMount",value:function(){this.props.fetchFareRules(this.props.currentFlow,this.props.currentPage,this.props.itineraryParts)}},{key:"getRulesCategories",value:function(e){var t=this;return A()(e,"fareRules",[]).map((function(e,n){return I.a.createElement("span",{className:"category-title ".concat(t.state.selectedRule===n?"selected":""),onClick:function(){return t.selectRule(n)}},e.ruleCode)}))}},{key:"getRules",value:function(e){var n=A()(e,"fareRules[".concat(this.state.selectedRule,"]"),{ruleText:""});return I.a.createElement("p",null,I.a.createElement("h3",null,n.ruleCode),F()({text:t.newLinesToBR(n.ruleText)}))}},{key:"selectRule",value:function(e){this.setState({selectedRule:e}),D()(document.getElementsByClassName("fare-rules-content"),"scroll",{container:document.getElementsByClassName("dxp-fare-rules-tabs-tab-panel"),offset:0,easing:"ease-in-out"})}},{key:"getElementKey",value:function(e){for(var t=this.props.segments[e],n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return N()([].concat(a,[t]).join(" "))}},{key:"getTabs",value:function(){return I.a.createElement(H.c,{className:"dxp-fare-rules-tabs"},I.a.createElement(H.e,{className:"dxp-fare-rules-tabs-tabs-list"},this.getTabsList(this.props.segments)),I.a.createElement(H.d,null,this.getTabsPanels(this.props.segments.length,this.props.rules,this.props.selectedBrands)))}},{key:"getTabsList",value:function(e){var n=this;return e.map((function(e,a){return I.a.createElement(H.a,{key:n.getElementKey(a,"tab"),className:"dxp-fare-rules-tabs-tab"},t.getTabLabel(e))}))}},{key:"getTabsPanels",value:function(e,t,n){var a=this;return w()(_()(e),(function(e){return I.a.createElement(H.b,{key:a.getElementKey(e,"panel"),className:"dxp-fare-rules-tabs-tab-panel"},a.renderFareRulesMini(t[e].fareBasis,e,n[e]),I.a.createElement("div",{className:"fare-rules"},I.a.createElement("div",{className:"fare-rules-categories"},a.getRulesCategories(t[e])),I.a.createElement("div",{className:"fare-rules-content"},a.getRules(t[e]))))}))}},{key:"getSelectedBrands",value:function(e,t){var n=e.includes("/")&&g()(e.split("/")).toLowerCase();return k()(t)||"DEFAULT"===t?n||null:t}},{key:"renderFareRulesMini",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=A()(this.props.fareRulesMini,0,{}),i=!k()(this.getSelectedBrands(e,a))&&this.getSelectedBrands(e,a).toLowerCase(),s=y()(A()(this.props.selectedFlights,"".concat(n,".operatingAirlines"),[]),(function(e){return"EY"!==e})).length>0,o=k()(t.getMiles(r.milesEarned,i,s)[0])?t.getMiles(r.milesEarned,i,s)[1]:t.getMiles(r.milesEarned,i,s);return I.a.createElement("p",{className:"fare-rules-mini"},I.a.createElement("h4",null,Object(q.a)("fareRules.fareBasis",{fareBasis:e})," ",i&&Object(q.a)("brand.".concat(i.toUpperCase()))),!k()(i)&&I.a.createElement("div",{className:"rules-table"},I.a.createElement("div",{className:"rules-column"},r.changeTravel&&Object(q.a)("fareRules.changesFees.beforeFee",{value:t.getFee(r.changeTravel,i)}),r.changeNoShow&&Object(q.a)("fareRules.changesFees.afterFee",{value:t.getFee(r.changeNoShow,i)}),r.refund&&Object(q.a)("fareRules.refundFees.beforeFee",{value:t.getFee(r.refund,i)})),I.a.createElement("div",{className:"rules-column"},r.refundNoShow&&Object(q.a)("fareRules.refundFees.afterFee",{value:t.getFee(r.refundNoShow,i)}),r.baggage&&Object(q.a)("fareRules.baggage",{value:t.getValue(r.baggage,i)}),r.milesEarned&&Object(q.a)("fareRules.milesEarned",{value:o}))),!k()(i)&&I.a.createElement("div",{className:"disclaimers"},Object(q.a)("brandComparison.shoppingDisclaimer"),Object(q.a)("brandComparison.shoppingDisclaimerNote")))}},{key:"renderModal",value:function(){return I.a.createElement(V.a,{className:"dxp-fare-rules",onCloseClick:this.props.onCloseClick},this.renderFareRules())}},{key:"renderFareRules",value:function(){return I.a.createElement("div",null,I.a.createElement("h2",null,Object(q.a)("fareRules.title")),I.a.createElement("p",null,Object(q.a)("fareRules.description")),(this.props.isFetching||this.props.isFetchingMini)&&I.a.createElement(U.a,{className:"dark"}),!(this.props.isFetching||this.props.isFetchingMini)&&k()(this.props.rules)&&t.renderNoFareRulesWarning(),!(this.props.isFetching||this.props.isFetchingMini)&&!k()(this.props.rules)&&this.getTabs())}},{key:"render",value:function(){var e=Object(W.a)(this.props.isAuthorable,"fareRules");return I.a.createElement("div",e,this.props.renderWithinModal?this.renderModal():I.a.createElement("div",{className:"dxp-fare-rules"},this.renderFareRules()))}}]),t}(T.Component);f()(te,"defaultProps",{isFetching:!1,currentPage:void 0,isFetchingMini:!1,fareRulesMini:Object(B.shape)({}),selectedFlightIds:[],segments:[],rules:[],isAuthorable:!0,currentFlow:void 0,onCloseClick:E.a,titleTag:"h2",renderWithinModal:!0});t.a=Object(M.b)((function(e,t){var n=Object(Z.a)(Object(Z.c)(window.location.href)),a=Object(Z.b)(Object(Z.c)(window.location.href));return Y()({currentFlow:t.currentFlow||n,currentPage:t.currentPage||a,itineraryParts:A()(X()(e,"shoppingCart.toJS"),"data.itineraryPartAirports",[]),selectedFlights:A()(X()(e,"flightSelection.toJS"),"selectedFlights",[]),selectedBrands:A()(X()(e,"flightSelection.toJS"),"selectedBrands",[])},Object(J.c)(e),X()(e,"fareRules.toJS"))}),(function(e){return{fetchFareRules:function(t,n,a){e(Object($.a)(t,n,a))}}}))(te)},function(e,t,n){"use strict";function a(e){return function(){return e}}var r=function(){};r.thatReturns=a,r.thatReturnsFalse=a(!1),r.thatReturnsTrue=a(!0),r.thatReturnsNull=a(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1734),r=n(7);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return function(i,s){i({type:r.sc}),Object(a.a)(e,t).then((function(e){i({type:r.rc,response:e})})).catch((function(){return i({type:r.nc})})),i({type:r.pc}),Object(a.b)(n,s().metadata).then((function(e){i({type:r.qc,fareRulesMini:e})})).catch((function(){return i({type:r.oc})}))}}},function(e,t,n){"use strict";var a=n(115),r=n.n(a),i=n(4),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(569);t.a=function(){var e=Object(c.a)(Object(u.a)(),(function(e){return e}));return Object(c.a)((function(e,t){return l()(t,"location.query",{})}),e,(function(e,t){return s()(t,(function(t,n,a){var i="flight".concat(a>0?a:""),s=parseInt(e[i],10);return r()(s)&&t.push(s),t}),[])}))}},function(e,t,n){var a=n(1951),r=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=a[t],i=r.call(a,t)?n.length:0;i--;){var s=n[i],o=s.func;if(null==o||o==e)return s.name}return t}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(18),s=n.n(i),o=n(1461);t.a=function(e){var t=r()(e,["passengers","passenger"],[]),n=Object(o.a)(t);return s()(e,{passengers:s()(e.passengers,{passenger:n})})}},function(e,t,n){"use strict";var a=n(1960);t.a=a.a},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(15),s=n.n(i),o=n(144),l=n.n(o),c=n(1343),u=[c.c,c.b];t.a=function(e){var t=r()(e,["itinerary","itineraryPart"]),n=l()(t,"segment"),a=l()(n,(function(e){return r()(e,["eligibilities","eligibility"])})),i=l()(a,"reason");return s()(i,(function(e){return e&&u.includes(e.category)}))}},,,function(e,t,n){"use strict";var a=n(54),r=n.n(a),i=n(3),s=n.n(i),o=n(82),l=n.n(o),c=n(21),u=n.n(c),d=n(222),p=n.n(d),h=n(79),f=n.n(h),m=n(38),g=n.n(m),v=n(16),y=n.n(v),b=n(36),E=n.n(b),C=n(27),k=n.n(C),S=n(128),_=n.n(S),O=n(56),w=n.n(O),P=n(19),A=n.n(P),x=n(2),N=n.n(x),T=n(76),I=n.n(T),B=n(83),L=n.n(B),D=n(15),j=n.n(D),F=n(4),M=n.n(F),R=n(5),V=n.n(R),H=n(0),U=n.n(H),W=n(11),q=n(131),z=n(1442),G=n(10),K=n(60),Y=n(117),Q=n(47),X=n(43),J=n.n(X),Z=function(e){return J()(e,(function(e){return!N()(e)&&J()(e,(function(e){return U()(e,["passenger","seatNumber"])&&N()(U()(e,["passenger","price"],[]))}))}))};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"e",(function(){return re})),n.d(t,"f",(function(){return ie})),n.d(t,"u",(function(){return se})),n.d(t,"t",(function(){return le})),n.d(t,"q",(function(){return ce})),n.d(t,"s",(function(){return de})),n.d(t,"k",(function(){return pe})),n.d(t,"p",(function(){return he})),n.d(t,"a",(function(){return fe})),n.d(t,"w",(function(){return me})),n.d(t,"b",(function(){return ge})),n.d(t,"c",(function(){return be})),n.d(t,"d",(function(){return Ee})),n.d(t,"o",(function(){return Ce})),n.d(t,"A",(function(){return we})),n.d(t,"z",(function(){return Pe})),n.d(t,"m",(function(){return Ae})),n.d(t,"i",(function(){return xe})),n.d(t,"y",(function(){return Ne})),n.d(t,"x",(function(){return Te})),n.d(t,"g",(function(){return Ie})),n.d(t,"j",(function(){return Be})),n.d(t,"h",(function(){return Le})),n.d(t,"n",(function(){return De})),n.d(t,"l",(function(){return je})),n.d(t,"r",(function(){return Fe})),n.d(t,"v",(function(){return Me})),n.d(t,"B",(function(){return Re}));var te=function(e,t){var n=M()(e.flights,(function(e,t){return e.concat(t.segments)}),[]);return j()(n,(function(e){return e.origin===t.origin&&e.destination===t.destination&&e.departure===t.departure}))};function ne(e,t,n){var a=U()(e,"breakdownElements",[]),r=j()(a,(function(e){var a=function(e,t){return"ItineraryPart"===e["@type"]?(e.segments||[]).find((function(e){return e.origin===t.origin&&e.destination===t.destination&&e.departure===t.departure}))||{}:e}(U()(e,"breakdownElementAssignment.travelPart",{}),t),r=U()(e,"breakdownElementAssignment.passenger",{});return e.label===G.I&&a.origin===t.origin&&a.destination===t.destination&&a.departure===t.departure&&r.passengerIndex===n.passengerIndex}));if(r){if(r.subElements){var i=r.subElements.find((function(e){return e.label===G.g||e.label===G.f}));return i?i.price:r.price}return r.price}return[]}var ae=function(e){return{label:U()(e,"label"),price:U()(e,"total",[]),subElements:U()(e,"breakdownElements",[])}},re=function(e,t,n,a){var r=ae(e),i=ae(t);return{breakdownElements:f()(r,i,{label:G.g,subElements:n}),label:G.a,total:a}},ie=function(e,t,n){var a=[],r=M()(f()(e,t,n),(function(e,t){var n=j()(k()(U()(t,["total"])),(function(e){return e.currency!==q.b})),a=U()(n,"amount",0);return{totalAmountInCurrency:e.totalAmountInCurrency+a,maxDecimalPointsInCurrency:e.maxDecimalPointsInCurrency<Object(K.f)(a)?Object(K.f)(a):e.maxDecimalPointsInCurrency,priceCurrency:N()(e.priceCurrency)?U()(n,"currency",void 0):e.priceCurrency,totalAmountInFFCurrency:e.totalAmountInFFCurrency+U()(j()(k()(U()(t,["total"])),(function(e){return e.currency===q.b})),"amount",0)}}),{totalAmountInCurrency:0,totalAmountInFFCurrency:0,maxDecimalPointsInCurrency:0,priceCurrency:void 0});return 0!==r.totalAmountInFFCurrency&&a.push({amount:r.totalAmountInFFCurrency,currency:q.b}),0===r.totalAmountInCurrency||N()(r.priceCurrency)||a.push({amount:p()(r.totalAmountInCurrency,r.maxDecimalPointsInCurrency),currency:r.priceCurrency}),[a]},se=function(e){return M()(e,(function(e,t){return e.concat(function(e){var t=N()(e.segments)?e.cancelledSegments:e.segments;return V()(t,(function(e){return ee({airlineCode:U()(e,"flight.airlineCode")},g()(e,["origin","destination","departure"]))}))}(t))}),[])},oe=function(e,t,n){var a=e.origin,r=e.destination;return A()(t,(function(e){var t=function(e){var t=U()(e,["breakdownElementAssignment","travelPart","@type"]),n=U()(e,["breakdownElementAssignment","travelPart"]);return{origin:t===Y.a.SEGMENT?U()(n,"origin"):U()(k()(U()(n,"segments",[])),"origin"),destination:t===Y.a.SEGMENT?U()(e,["breakdownElementAssignment","travelPart","destination"]):U()(E()(U()(n,"segments",[])),"destination")}}(e),i=t.origin,s=t.destination,o=U()(e,["breakdownElementAssignment","passenger","passengerIndex"]);return i===a&&s===r&&o===n.passengerIndex}))},le=function(e,t,n){return M()(e,(function(e,a,r){var i=M()(t,(function(e,t){var r=te(t,a);return r&&e.push({passenger:ee({passenger:g()(t,["passengerDetails","passengerIndex","passengerInfo","preferences"])},g()(a,["origin","destination","departure"]),{seatNumber:U()(r,"seat.seatCode"),price:ne(n,a,t)})}),e}),[]);return e["".concat(a.origin).concat(a.destination).concat(r)]=i,e}),{})},ce=function(e,t,n){return M()(e,(function(e,a,r){var i=M()(t,(function(e,t){var r=te(t,a),i=oe(r,U()(n,"breakdownElements",[]),t),s=Se(i);if(r){var o=k()(i)&&k()(i).subElements?k()(i).subElements:i;e.push({passenger:ee({passenger:g()(t,["passengerDetails","passengerIndex","passengerInfo","preferences"])},g()(a,["origin","destination","departure"]),{seatNumber:U()(r,"seat.seatCode"),price:s,subElements:U()(r,"seat.seatCode")?o:[]})})}return e}),[]);return e["".concat(a.origin).concat(a.destination).concat(r)]=i,e}),{})};function ue(e,t){var n=U()(e,"breakdownElements",[]);return k()(A()(n,(function(e){return u()(t,e.label)})))}function de(e,t){var n=ue(e,t),a=U()(n,"subElements");if(a){var r=j()(a,(function(e){return e.label===G.f}));if(r)return r.label=U()(n,"label",r.label),{label:G.K,breakdownElements:[r],total:U()(r,"price",[])}}return{label:G.K,breakdownElements:n?[n]:[],total:U()(n,"price",[])}}function pe(e){return e||Object(W.Map)()}function he(e,t){var n=U()(e,"breakdownElements",[]),a=ue(e,t),r=k()(A()(n,(function(e){return void 0===U()(e,["breakdownElementAssignment","travelPart"])&&e.label===G.e}))),i=A()(f()(a,r),(function(e){return void 0!==e}));return{label:G.K,breakdownElements:i,total:N()(i)?[]:Se(i)}}function fe(e){var t=U()(e,"breakdownElements",[]);return A()(t,(function(e){return U()(e,["breakdownElementAssignment","travelPart","@type"])===Y.a.ITINERARY}))}function me(e,t){var n=U()(e,"breakdownElements",[]);return M()(n,(function(e,n){var a=U()(n,"breakdownElementAssignment",{}),r=a.passenger,i=a.travelPart;return!r||i||u()(t,n.label)||e.push(ee({},n,{},n.breakdownElementAssignment)),e}),[])}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=U()(t,"breakdownElements",[]),r=A()(a,(function(e){return U()(e,["breakdownElementAssignment","travelPart","@type"])===Y.a.ITINERARY_PART}));return ve(e,r,n)}function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return M()(e,(function(e,a,r){var i=A()(t,(function(e){var t=k()(e.breakdownElementAssignment.travelPart.segments).origin,n=E()(e.breakdownElementAssignment.travelPart.segments).destination;return t===a.origin&&n===a.destination}));return e["".concat(a.origin).concat(a.destination).concat(r)]=i.map((function(e){return ye(e,n)})),e}),{})}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y()(ee({label:e.label,price:Object(W.fromJS)([[ee({},e.price)]])},e.breakdownElementAssignment));if(e.subElements)if(t){var a=U()(j()(U()(e,"subElements",[]),(function(e){return e.label===G.f})),"price",{});y()(n,{price:Object(W.fromJS)([[ee({},a)]])})}else y()(n,{subElements:e.subElements});return n}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=U()(t,"breakdownElements",[]),r=A()(a,(function(e){return e.breakdownElementAssignment.travelPart&&e.breakdownElementAssignment.travelPart["@type"]===Y.a.SEGMENT}));return M()(e,(function(e,t,a){var i=A()(r,(function(e){var n=e.breakdownElementAssignment.travelPart.origin,a=e.breakdownElementAssignment.travelPart.destination;return n===t.origin&&a===t.destination}));return e["".concat(t.origin).concat(t.destination).concat(a)]=i.map((function(e){return ye(e,n)})),e}),{})}var Ee=function(e,t){var n=L()(M()(e,(function(e,t){var n=ee({},e),a=t.passengerInfo,r=n[a.type];return n[a.type]=r?ee({},r,{breakdownElementAssignment:ee({},r.breakdownElementAssignment,{quantity:r.breakdownElementAssignment.quantity+1})}):{breakdownElementAssignment:{passengerType:a.type,quantity:1},label:a.type},n}),{})),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakdownElements,n=void 0===t?[]:t;return M()(n,(function(e,t){var n=t.label,a=t.breakdownElementAssignment.passengerType;return n===G.f&&(e[a]?e[a]=[].concat(r()(e[a]),[t]):e[a]=[t]),e}),{})}(t);return n.map((function(e){return ee({},e,{price:Se(a[e.label])})}))},Ce=function(e,t){var n=t.reduce((function(e,t){return e.concat(function(e){return e.passengerUpgradePrices.map((function(t){return{label:G.P,price:U()(t,["upgradePrice","alternatives"],{}),breakdownElementAssignment:{travelPart:{segments:[e.segment],bookingClass:e.bookingClass,departure:U()(e,"segment.departure")},passenger:t.passenger,passengerType:t.passenger.passengerInfo.type}}}))}(t))}),[]);return{label:z.a.WAITLISTED_UPGRADES,breakdownElements:n,total:e.totalWaitlistedSegmentsUpgradePrice.alternatives}};function ke(e){return M()(e,(function(e,t){return{amount:t.price.amount+e.amount,currency:t.price.currency}}),{amount:0,currency:""})}function Se(e){var t=[],n=[];I()(e,(function(e){var a=U()(e,"price",[]);if(a.length>0&&!N()(k()(k()(a))))t.push(ee({},e,{price:j()(k()(a),(function(e){return e.currency===q.b}))})),n.push(ee({},e,{price:j()(k()(a),(function(e){return e.currency!==q.b}))}));else{var r=U()(e,"price.currency");l()(r)||l()(U()(e,"price.amount"))||(r===q.b?t.push(e):n.push(e))}}));var a=w()(t)>0?[ke(t)]:[],r=w()(n)>0?[ke(n)]:[];return N()(a)&&N()(r)?[]:[[].concat(a,r)]}function _e(e,t){return M()(U()(e,"breakdownElements",[]),(function(e,n){if(n.subElements){var a=j()(n.subElements,(function(e){return e.label===t}));a&&e.push(a)}else n.label===t&&e.push(n);return e}),[])}function Oe(e){return e&&e.total?(_()(e.total)||[]).map((function(e){return{price:e}})):[]}var we=function(e,t,n,a){var i=_e(t,G.J),s=_e(n,G.e),o=_e(a,G.d),l=[].concat(r()(U()(e,"breakdownElements",[])),r()(i),r()(s),r()(o)),c=N()(U()(e,"breakdownElements",Oe(e)))?Oe(e):U()(e,"breakdownElements",Oe(e));return ee({},e,{breakdownElements:l,total:Se([].concat(r()(c),r()(i),r()(s),r()(o)))})},Pe=function(e,t){return{total:Se(_e(e,k()(U()(e,"breakdownElements"))&&k()(U()(e,"breakdownElements")).subElements?G.f:G.I)),label:G.p,breakdownElements:Z(t)?t:U()(e,"breakdownElements",[])}},Ae=function(e,t){return ee({},e,{subElements:U()(e,"breakdownElements",[]),breakdownElements:Z(t)?t:U()(e,"breakdownElements",[])})},xe=function(e,t){var n=U()(e,"breakdownElements",[]),a=k()(A()(n,(function(e){return void 0===U()(e,["breakdownElementAssignment","travelPart"])&&e.label===G.e})))?A()(n,(function(e){return void 0!==U()(e,["breakdownElementAssignment","travelPart"])})):A()(n,(function(e){return!u()(t,e.label)}));return{label:U()(e,"label"),subElements:U()(e,"breakdownElements",[]),total:Se(a),breakdownElements:a}},Ne=function(e){return e?{breakdownElements:U()(e,"breakdownElements"),label:G.n,total:U()(e,"total")}:Object(W.Map)()},Te=function(e,t){var n=U()(e,"breakdownElements",[]),a=[],r=A()(n,(function(e){return e.label!==G.e&&!u()(t,e.label)}));return I()(r,(function(e){if(e.subElements){var t=j()(e.subElements,(function(e){return e.label===G.f}));t?a.push(t):a.push(e)}else a.push(e)})),{label:U()(e,"label",G.k),breakdownElements:a,total:Se(a)}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ee({},e,{breakdownElements:e.breakdownElements?e.breakdownElements:[]})},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=U()(e,"breakdownElements",[]),n=A()(t,(function(e){return e.label!==G.e&&!u()(e.label,G.L)}));return{label:e.label,total:e.total,breakdownElements:n}},Le=function(e){if(!e)return null;var t=e.breakdownElements.map((function(e){var t=U()(e,["breakdownElementAssignment","travelPart"]);return!t.departure&&t.segments&&(t.departure=U()(k()(t.segments),"departure")),ee({price:e.price,label:e.label},e.breakdownElementAssignment,{travelPart:t})}));return ee({},e,{breakdownElements:t})},De=function(e){if(!e)return null;var t=A()(U()(e,"breakdownElements",[]),(function(e){return e.label!==G.d&&!N()(e)}));if(t&&t.length>0){var n={label:G.r,breakdownElements:t,total:e.total};return Le(n)}return null},je=function(e){if(!e)return null;var t=U()(e,["total","0","0"]),n=U()(e,"breakdownElements");return t&&N()(n)?ee({},e,{breakdownElements:[{label:G.y,price:{alternatives:[[t]]}}]}):e},Fe=function(e,t){return M()(t,(function(t,n){var a=U()(n,"segments",[]),r=U()(a,["0","origin"]),i=U()(a,["0","departure"]),s=j()(e,(function(e){return e.origin===r&&e.departure===i}));return s?t.push(ee({},n,{brand:U()(s,"brand")})):t.push(ee({},n)),t}),[])},Me=function(e){return M()(A()(e,(function(e){return e.code===Q.l})),(function(e,t){return N()(t.description)||e.push(ee({brand:t.description.replace(/[^A-Za-z-0-9-]/g,"")},t.segmentKey)),e}),[])},Re=function(e,t,n){var a=ae(n),r=f()(a,{label:G.g,breakdownElements:Ee(e,t)});return{label:G.a,breakdownElements:r,total:t.total||[]}}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2),g=n.n(m),v=n(0),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(50)),k=n(39),S=n.n(k),_=n(12),O=n(63),w=n(1409),P=n(1484),A=n(51),x=n.n(A),N=n(5),T=n.n(N),I=function(e){var t=e.advisories,n=t.length>1?"li":"div",a=T()(t,(function(e){return E.a.createElement(n,{className:"flight-advisory",key:"flight-advisory-".concat(e.level)},E.a.createElement(C.c,{name:C.a.INFO_CIRCLE,size:"sm",fill:!0}),E.a.createElement("span",{className:S()("advisory-message",x()(e,"level.toLoweCase"))},Object(_.i)(e.code)))}));return"li"===n?E.a.createElement("ul",{className:"flight-advisories"},a):a},B=(n(2097),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.tag=this.props.tag}},{key:"render",value:function(){var e=this.props,n=e.className,a=e.segment,r=e.id,i=e.flightProps,s=e.displayFlightAdvisories,o=e.operatedBy,l=y()(a,"flight",i),c="marketing"===y()(o,"displayCarrierLogo")?l.airlineCode:l.operatingAirlineCode;c=P.c.includes(a.equipment)?a.equipment:c;var u=y()(a,"flight.advisories",[]),d=y()(a,"aircraftLeaseText",void 0),p={airline:Object(_.i)("airlines.".concat(l.operatingAirlineCode))};return d&&o.displayAircraftLeaseText&&(p.airline=d),E.a.createElement(this.tag,{className:S()("dxp-operated-by",n),id:r},E.a.createElement("span",{className:S()("flight-number",{"fits-row":o.displayAircraft})},o.displayLogo&&E.a.createElement(w.a,{alt:Object(_.i)("airlines.".concat(l.operatingAirlineCode)),src:Object(O.a)("./images/airlines/".concat(c,".png")),errorSrc:Object(O.a)("./images/airlines/default.png"),className:"logo"}),E.a.createElement("span",{className:"airlines-code"},l.airlineCode),E.a.createElement("span",{className:"airline-flight-number"},l.flightNumber),o.displayAircraft&&E.a.createElement("span",{className:"airline-flight-equipment"},Object(_.i)("aircrafts.".concat(a.equipment)))),t.displayOperatingAirlineCode(l,o)&&E.a.createElement("span",{className:"name"},d&&o.displayAircraftLeaseText&&E.a.createElement(C.c,{name:C.a.DOCUMENTS,size:"sm",fill:!0}),Object(_.a)("flightSelection.operatedBy",p)),!g()(u)&&s&&E.a.createElement(I,{advisories:u}))}}],[{key:"displayOperatingAirlineCode",value:function(e,t){return e.airlineCode!==e.operatingAirlineCode||y()(t,"alwaysDisplayOperatingCarrier")}}]),t}(b.Component));f()(B,"defaultProps",{id:void 0,tag:"div",className:"",displayFlightAdvisories:!1,flightProps:{},operatedBy:{alwaysDisplayOperatingCarrier:!1,displayAircraftLeaseText:!0,displayCarrierLogo:"marketing",displayLogo:!0,displayAircraft:!1}}),n.d(t,"a",(function(){return B}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(145),y=n.n(v),b=n(43),E=n.n(b),C=n(19),k=n.n(C),S=n(65),_=n.n(S),O=n(15),w=n.n(O),P=n(2),A=n.n(P),x=n(95),N=n.n(x),T=n(73),I=n.n(T),B=n(61),L=n.n(B),D=n(23),j=n.n(D),F=n(321),M=n.n(F),R=n(35),V=n.n(R),H=n(4),U=n.n(H),W=n(5),q=n.n(W),z=n(0),G=n.n(z),K=(n(6),n(1)),Y=n.n(K),Q=n(123),X=n(39),J=n.n(X),Z=n(1371),$=n(50),ee=n(1348),te=n(12),ne=n(136),ae=n(1370),re=n(1249),ie=n(521),se=n(114),oe=n(195),le=n(37),ce=n.n(le),ue=n(51),de=n.n(ue),pe=n(324),he=n(1586);n(2088);var fe="checkedInBaggage",me="carryOnBaggage",ge="none",ve=function(e){function t(e){var n;return r()(this,t),n=s()(this,l()(t).call(this,e)),g()(u()(n),"state",{accordionExpansionState:fe}),g()(u()(n),"onAccordionToggle",(function(e){return function(){n.setState((function(t){return{accordionExpansionState:t.accordionExpansionState===e?ge:e}}))}})),g()(u()(n),"calculateTotalUnits",(function(e){var t=G()(e,"freeBaggageAllowance");return A()(t)?0:G()(t,"totalUnits",1)})),g()(u()(n),"renderTabs",(function(e,a){return Y.a.createElement(ae.c,{className:"dxp-fare-rules-tabs dxp-bagfee-tabs"},Y.a.createElement(ae.e,{className:"tabs-list"},t.renderTabList(e)),Y.a.createElement(ae.d,{dir:"auto"},n.renderTabsPanels(e,a)))})),g()(u()(n),"renderBagIcons",(function(e,t){return 0===e?Y.a.createElement($.c,{name:$.a.MATH_SUBTRACT,size:"lg",key:"".concat(t,"-unavailable")}):q()(y()(e),(function(e){return Y.a.createElement($.c,{name:$.a.SUITCASE,size:"lg",key:"".concat(t,"-").concat(e)})}))})),e.fetch(e.currentFlow,e.currentPage),n}return f()(t,e),p()(t,null,[{key:"renderEmbargoInformationRestrictionList",value:function(e){var t=e.airlineIataCode,n=e.restrictionList,a=Object(te.i)(["airlines",t]);return Y.a.createElement("div",{className:"embargo-restriction-list-container"},Y.a.createElement("h4",{className:"title"},Object(te.a)("bagfee.embargoInformation",{airline:a})),Y.a.createElement("ul",{className:"embargo-restriction-list"},q()(n,(function(e,t){return Y.a.createElement("li",{className:"embargo-restriction",key:"embargo-".concat(t)},e)}))))}},{key:"renderItem",value:function(e,t){return Y.a.createElement("li",{className:J()("li","item",M()(t)),key:t},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.".concat(t),{value:e})))}},{key:"renderTabList",value:function(e){return q()(e,(function(e,t){return Y.a.createElement(ae.a,{key:["tab",t].join("-"),className:"tab"},Y.a.createElement("div",{className:"tab-nav-item-container"},Y.a.createElement("span",null,G()(e,"segment.origin")),Y.a.createElement($.c,{name:$.a.ARROW_CHEVRON_RIGHT,className:"icon bagfee-icon"}),Y.a.createElement("span",null,G()(e,"segment.destination"))))}))}}]),p()(t,[{key:"onCloseClick",value:function(e){return this.props.onCloseClick&&this.props.onCloseClick(e)}},{key:"getCarryOnBaggageSegmentDisclosures",value:function(){var e=G()(this,"props.results.segmentDisclosure",[]),t=G()(this,"props.results.segments",[]);return q()(t,(function(t){return w()(e,{segment:{origin:t.origin,destination:t.destination}})}))}},{key:"getCheckedInBaggageSegmentDisclosures",value:function(){var e=G()(this,"props.results.segmentDisclosure",[]);return k()(e,(function(e){return E()(e.passengerBaggageDisclosure,(function(e){return _()(e,"checkedInBaggage")}))}))}},{key:"renderCollection",value:function(e,n){var a=this,r=V()(e,"segment");return j()(e)||L()(e)||(r=[e]),U()(r,(function(e,r,i){var s="".concat(I()(N()(["render",n,i])));return Object(se.g)(r,n)?"function"==typeof a[s]?(e.push(a[s](r,i)),e):j()(r)?(e.concat(a.renderCollection(r,i)),e):L()(r)?(e.push(a.renderGroup(r,i)),e):("additionalInfo"===i?e.push(t.renderAdditionalInfo(r,i)):e.push(t.renderItem(r,i)),e):e}),[])}},{key:"renderContent",value:function(){return!this.props.isLoading&&this.renderAccordion()}},{key:"renderEmbargoInformation",value:function(e,t){return Object(se.g)(e,t)?Y.a.createElement("div",{className:M()(t),key:t},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},this.renderCollection(e,t))):null}},{key:"renderExcessBaggage",value:function(e,t){var n=this;return q()(e,(function(e){var a=G()(e,"bagPrice.alternatives"),r=V()(G()(e,"baggageRestriction"),"@type");return Y.a.createElement("li",{className:J()("li",M()(t)),key:t},Y.a.createElement("div",{className:"excess-baggage-title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},a&&Y.a.createElement("li",{className:"li price"},Object(te.a)("bagfee.excessBaggagePrice")," ",Y.a.createElement(re.a,{price:a})),!A()(r)&&n.renderCollection(r,"baggageRestriction")))}))}},{key:"renderFreeBaggageAllowanceBaggageRestrictions",value:function(e,t){return this.renderBaggageRestrictions(e,t)}},{key:"renderGroup",value:function(e,t){return Y.a.createElement("li",{className:J()("li","group",M()(t)),key:t},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},this.renderCollection(e,t)))}},{key:"renderBaggageRestrictions",value:function(e,t){var n=this;return q()(e,(function(e,a){var r=V()(e,"@type");return Y.a.createElement("li",{className:J()("li",M()(a)),key:"li-".concat(t,"-").concat(a)},Y.a.createElement("ul",{className:"ul restriction",key:"ul-".concat(t,"-").concat(a)},n.renderCollection(r,a)))}))}},{key:"renderPassengerBaggageDisclosure",value:function(e,t){var n=U()(e,(function(e,t,n){return Object(se.g)(V()(t,"passengerType",n))&&(e[n]=t),e}),[]);return Object(se.g)(n,t)?Y.a.createElement("div",{className:M()(t),key:t},this.renderPassengerBaggageDisclosureForAllPassengers(n,t)):null}},{key:"renderPassengerBaggageDisclosureForAllPassengers",value:function(e,t){var n=this;return Y.a.createElement("ul",{className:J()("ul",M()(t))},q()(e,(function(e,a){if(Object(se.g)(e,a)){var r=V()(e,"passengerType");return Y.a.createElement("li",{className:J()("li",M()(a)),key:a},Y.a.createElement("div",{className:"title"},Object(te.a)("bagfee.passengerType",{value:Object(te.i)("passengerType.codes.".concat(G()(e,"passengerType")))})),Y.a.createElement("ul",{className:"ul"},n.renderCollection(r,t)))}return null})))}},{key:"renderSpinner",value:function(){return this.props.isLoading&&Y.a.createElement(ie.a,{className:"dark"})}},{key:"renderCheckedInBaggage",value:function(e){return Y.a.createElement(Z.a,{title:Object(te.a)("bagfee.checkedInBaggage"),isControlled:!0,isExpanded:this.state.accordionExpansionState===fe,onToggle:this.onAccordionToggle(fe),titleTag:"h3",id:"accordion-checkedIn-baggage"},Y.a.createElement("h4",null,Object(te.a)("bagfee.accordionHeader.checkedInBaggage")),this.renderTabs(e,fe))}},{key:"renderCarryOnBaggage",value:function(e){return Y.a.createElement(Z.a,{title:Object(te.a)("bagfee.carryOnBaggage"),isControlled:!0,isExpanded:this.state.accordionExpansionState===me,onToggle:this.onAccordionToggle(me),titleTag:"h3",id:"accordion-carryOn-baggage"},Y.a.createElement("h4",null,Object(te.a)("bagfee.accordionHeader.carryOnBaggage")),this.renderTabs(e,me))}},{key:"renderAccordion",value:function(){var e=this.getCheckedInBaggageSegmentDisclosures(),t=this.getCarryOnBaggageSegmentDisclosures();return Y.a.createElement("div",null,!A()(e)&&this.renderCheckedInBaggage(e),!A()(t)&&this.renderCarryOnBaggage(t))}},{key:"renderPassengerDisclosure",value:function(e,t){var n=e[t];if(A()(n))return null;var a=e.passengerType,r=parseInt(this.calculateTotalUnits(n),10);return Y.a.createElement(ee.b,{className:"carousel-item-container",key:"".concat(t,"-").concat(a)},Y.a.createElement("div",{className:"passenger-type"},Object(te.a)("bagfee.passengerType",{value:Object(te.i)("passengerType.codes.".concat(a))})),Y.a.createElement("div",{className:"bags-icon-container"},this.renderBagIcons(r,"".concat(t,"-").concat(a))),0===r&&Y.a.createElement("div",{className:"no-free-bag-allowance"},Object(te.a)("bagfee.noFreeBagAllowance")),Y.a.createElement("ul",{className:"passenger-baggage-info"},this.renderCollection(n)))}},{key:"renderSegment",value:function(e,n){var a=this,r=e.passengerBaggageDisclosure,i=e.embargoInformation;return Y.a.createElement("div",{className:"segment-container"},Y.a.createElement("div",{className:"passenger-disclosure-container"},q()(r,(function(e){return a.renderPassengerDisclosure(e,n)}))),!A()(i)&&t.renderEmbargoInformationRestrictionList(i))}},{key:"renderTabsPanels",value:function(e,t){var n=this;return q()(e,(function(e,a){return Y.a.createElement(ae.b,{key:["panel",a].join("-"),className:"panel"},n.renderSegment(e,t))}))}},{key:"render",value:function(){var e=this,t=Object(oe.a)(this.props.isAuthorable,"bagFee");return Y.a.createElement("div",t,Y.a.createElement(ne.a,{className:"dxp-bagfee",onCloseClick:function(t){return e.onCloseClick(t)}},Y.a.createElement("h2",null,Object(te.a)("bagfee.title")),Y.a.createElement("p",null,Object(te.a)("bagfee.description")),this.renderSpinner(),this.renderContent()))}}],[{key:"renderAdditionalInfo",value:function(e,t){return Y.a.createElement("li",{className:J()("li","item",M()(t)),key:t},Y.a.createElement("div",{className:"additional-info-title"},Object(te.a)("bagfee.".concat(t))),Y.a.createElement("ul",{className:"ul"},e))}}]),t}(K.Component);g()(ve,"defaultProps",{isLoading:!1,isAuthorable:!0,onCloseClick:function(){},currentPage:""});var ye=Object(Q.b)((function(e){var t=de()(e.metadata.get("bagfee"),"toJS"),n=G()(e,"bagfee"),a=de()(n,"toJS",n);return ce()(t,a,Object(pe.c)(e))}),(function(e){return{fetch:function(t,n){return e(Object(he.b)(t,n))}}}))(ve);n.d(t,"a",(function(){return ye}))},function(e,t,n){"use strict";var a=n(1298);t.a=function(e){var t=Object(a.a)().locale(),n=Object(a.a)();n.locale(t);var r=n.parseZone(e);return r.locale("en"),r.format("YYYY-MM-DD")}},function(e,t,n){"use strict";var a=n(1438),r=n(1555),i=n(12),s=n(1468);t.a=function(e){var t,n=e.code,o=function(e){var t=e.PACKAGE_NAME_CLASSIFIED,n=void 0===t?s.a:t,a=e.code;return Object(i.i)([n,"airports",a],{code:a},void 0,void 0,[n,"default"])}({code:n}),l=Object(a.b)({airportCode:n}),c="",u="";return l&&(c=Object(a.c)({code:l}),(t=Object(r.b)({cityCode:l}))&&(u=Object(r.d)({code:t}))),{code:n,name:o,cityCode:l||"",cityName:c||"",countryCode:t||"",countryName:u||""}}},function(e,t,n){"use strict";var a=n(62),r=n.n(a),i=n(91),s=n.n(i),o=n(81),l=n(1413),c=n(1577),u=n(1578),d=n(323),p=function(){var e=s()(r.a.mark((function e(t){var n,a,i,s,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.passengerIds,a=t.dispatch,e.prev=1,i=Object(u.a)({passengerIds:n}),e.next=5,d.checkin.timatic.timaticVerify(i,!1);case 5:return s=e.sent,o=s.results,c=s.reservation,e.abrupt("return",{timaticResults:o,timaticReservation:c});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Object(l.a)({dispatch:a,errorCode:"SELF_SERVICE_CHECK_IN_NOT_AVAILABLE",returnedCode:500}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();t.a=function(e){return h.apply(this,arguments)};function h(){return(h=s()(r.a.mark((function e(t){var n,a,i,s,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.passengers,a=t.dispatch,e.next=3,p({passengerIds:n,dispatch:a});case 3:if(i=e.sent,s=i.timaticResults,u=i.timaticReservation,d=Object(o.a)("SabreDxContainerCheckInVisa","blockEligibilityCodes"),Object(c.a)({results:s,reservation:u,blockEligibilityCodes:d})){e.next=10;break}return a&&Object(l.a)({dispatch:a,errorCode:"SELF_SERVICE_CHECK_IN_NOT_AVAILABLE",returnedCode:500}),e.abrupt("return",{timaticResults:s,timaticReservation:u,success:!1});case 10:return e.abrupt("return",{timaticResults:s,timaticReservation:u,success:!0});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),E=n.n(b),C=(n(2095),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isFocused:!1}),g()(p()(n),"onBlur",(function(){n.setState({isFocused:!1})})),g()(p()(n),"onChange",(function(e){return n.props.onChange&&n.props.onChange(e,n.getInputRef())})),g()(p()(n),"onFocus",(function(){n.setState({isFocused:!0})})),n}return f()(t,e),s()(t,[{key:"getInputRef",value:function(){return this.radioRef}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.id,r=t.name,i=t.value,s=t.disabled,o=t.checked,l=E()("radio-button-box",{"is-focused":this.state.isFocused});return y.a.createElement("label",{className:E()("dxp-radio-button",n,l),htmlFor:a},y.a.createElement("input",{className:"radio-button-input",id:a,ref:function(t){e.radioRef=t},type:"radio",name:r,value:i,disabled:s,checked:o,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),y.a.createElement("span",{className:"radio-button-box"}),this.props.children&&y.a.createElement("span",{className:"radio-button-label"},this.props.children))}}]),t}(v.PureComponent));g()(C,"defaultProps",{className:void 0,disabled:void 0,onChange:void 0,checked:void 0,children:void 0,name:void 0}),n.d(t,"a",(function(){return C}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(128),r=n.n(a),i=n(0),s=n.n(i),o=n(13),l=n.n(o),c=function(e,t){var n={};return l()(e,(function(e){return l()(e.offers,(function(e,a){a===t&&(n=e)}))})),n},u=function(e){return{brandPriceTotal:s()(r()(e.offers),"total"),brandPriceTotalWithoutDiscount:s()(r()(e.offers),"totalWithoutDiscount"),brandPriceMin:s()(e.minOffer,"total"),brandPriceMax:s()(e.maxOffer,"total"),hasMultipleOffers:e.offers.length>1,offerToShow:e.offers.length>1?e.minOffer:r()(e.offers),brandMaxOffer:s()(e,"maxOffer"),brandMinOffer:s()(e,"minOffer"),firstBrandOffer:r()(e.offers)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a="dxp-page-navigation-continue-button",r="dxp-passenger-view-skip",i="dxp-page-navigation-back-button",s="dxp-page-cancel-action-button"},function(e,t,n){var a=n(1610);e.exports=a},function(e,t,n){n(1611);var a=n(1252);e.exports=a.Object.keys},function(e,t,n){var a=n(1246),r=n(1272),i=n(1335);a({target:"Object",stat:!0,forced:n(1254)((function(){i(1)}))},{keys:function(e){return i(r(e))}})},function(e,t,n){var a=n(1613);e.exports=a},function(e,t,n){var a=n(1614),r=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===r||e instanceof Array&&t===r.indexOf?a:t}},function(e,t,n){n(1615);var a=n(1262);e.exports=a("Array").indexOf},function(e,t,n){"use strict";var a=n(1246),r=n(1380).indexOf,i=n(1321),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,l=i("indexOf");a({target:"Array",proto:!0,forced:o||l},{indexOf:function(e){return o?s.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1445);e.exports=a},function(e,t,n){var a=n(1246),r=n(1269);a({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(1279).f})},function(e,t,n){var a=n(1619);e.exports=a},function(e,t,n){n(1620);var a=n(1252);e.exports=a.Reflect.construct},function(e,t,n){var a=n(1246),r=n(1287),i=n(1285),s=n(1270),o=n(1259),l=n(1330),c=n(1423),u=n(1254),d=r("Reflect","construct"),p=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),h=!u((function(){d((function(){}))})),f=p||h;a({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){i(e),s(t);var n=arguments.length<3?e:i(arguments[2]);if(h&&!p)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(c.apply(e,a))}var r=n.prototype,u=l(o(r)?r:Object.prototype),f=Function.apply.call(e,u,t);return o(f)?f:u}})},function(e,t,n){var a=n(1269),r=n(1279),i=n(1270),s=n(1335);e.exports=a?Object.defineProperties:function(e,t){i(e);for(var n,a=s(t),o=a.length,l=0;o>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var a=n(1255),r=n(1276);e.exports=function(e,t){try{r(a,e,t)}catch(n){a[e]=t}return t}},function(e,t,n){var a=n(1255),r=n(1449),i=a.WeakMap;e.exports="function"==typeof i&&/native code/.test(r(i))},function(e,t,n){"use strict";var a=n(1426).IteratorPrototype,r=n(1330),i=n(1308),s=n(1299),o=n(1288),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(a,{next:i(1,n)}),s(e,c,!1,!0),o[c]=l,e}},function(e,t,n){"use strict";var a=n(1368),r=n(1304);e.exports=a?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){var a=n(1259);e.exports=function(e){if(!a(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var a=n(1629);e.exports=a},function(e,t,n){n(1630);var a=n(1252);e.exports=a.parseInt},function(e,t,n){var a=n(1246),r=n(1631);a({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){var a=n(1255),r=n(1450).trim,i=n(1383),s=a.parseInt,o=/^[+-]?0[Xx]/,l=8!==s(i+"08")||22!==s(i+"0x16");e.exports=l?function(e,t){var n=r(String(e));return s(n,t>>>0||(o.test(n)?16:10))}:s},function(e,t,n){var a=n(1633);e.exports=a},function(e,t,n){var a=n(1634),r=Array.prototype;e.exports=function(e){var t=e.slice;return e===r||e instanceof Array&&t===r.slice?a:t}},function(e,t,n){n(1635);var a=n(1262);e.exports=a("Array").slice},function(e,t,n){"use strict";var a=n(1246),r=n(1259),i=n(1314),s=n(1339),o=n(1284),l=n(1277),c=n(1340),u=n(1317),d=n(1253)("species"),p=[].slice,h=Math.max;a({target:"Array",proto:!0,forced:!u("slice")},{slice:function(e,t){var n,a,u,f=l(this),m=o(f.length),g=s(e,m),v=s(void 0===t?m:t,m);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(f,g,v);for(a=new(void 0===n?Array:n)(h(v-g,0)),u=0;g<v;g++,u++)g in f&&c(a,u,f[g]);return a.length=u,a}})},function(e,t,n){var a=n(1637);e.exports=a},function(e,t,n){var a=n(1638),r=Function.prototype;e.exports=function(e){var t=e.bind;return e===r||e instanceof Function&&t===r.bind?a:t}},function(e,t,n){n(1639);var a=n(1262);e.exports=a("Function").bind},function(e,t,n){n(1246)({target:"Function",proto:!0},{bind:n(1423)})},function(e,t,n){e.exports=n(1641)},function(e,t,n){var a=n(1642);e.exports=a},function(e,t,n){n(1429),n(1342),n(1322);var a=n(1369);e.exports=a.f("iterator")},function(e,t,n){var a=n(1336),r=n(1313),i=function(e){return function(t,n){var i,s,o=String(r(t)),l=a(n),c=o.length;return l<0||l>=c?e?"":void 0:(i=o.charCodeAt(l))<55296||i>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?e?o.charAt(l):i:e?o.slice(l,l+2):s-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){e.exports=n(1645)},function(e,t,n){var a=n(1646);n(1664),n(1665),n(1666),n(1667),n(1668),e.exports=a},function(e,t,n){n(1447),n(1451),n(1647),n(1649),n(1650),n(1651),n(1652),n(1429),n(1653),n(1654),n(1655),n(1656),n(1657),n(1658),n(1659),n(1660),n(1661),n(1662),n(1663);var a=n(1252);e.exports=a.Symbol},function(e,t,n){"use strict";var a=n(1246),r=n(1255),i=n(1287),s=n(1302),o=n(1269),l=n(1367),c=n(1424),u=n(1254),d=n(1268),p=n(1314),h=n(1259),f=n(1270),m=n(1272),g=n(1277),v=n(1328),y=n(1308),b=n(1330),E=n(1335),C=n(1430),k=n(1648),S=n(1452),_=n(1312),O=n(1279),w=n(1377),P=n(1276),A=n(1318),x=n(1365),N=n(1331),T=n(1329),I=n(1366),B=n(1253),L=n(1369),D=n(1256),j=n(1299),F=n(1337),M=n(1306).forEach,R=N("hidden"),V=B("toPrimitive"),H=F.set,U=F.getterFor("Symbol"),W=Object.prototype,q=r.Symbol,z=i("JSON","stringify"),G=_.f,K=O.f,Y=k.f,Q=w.f,X=x("symbols"),J=x("op-symbols"),Z=x("string-to-symbol-registry"),$=x("symbol-to-string-registry"),ee=x("wks"),te=r.QObject,ne=!te||!te.prototype||!te.prototype.findChild,ae=o&&u((function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=G(W,t);a&&delete W[t],K(e,t,n),a&&e!==W&&K(W,t,a)}:K,re=function(e,t){var n=X[e]=b(q.prototype);return H(n,{type:"Symbol",tag:e,description:t}),o||(n.description=t),n},ie=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},se=function(e,t,n){e===W&&se(J,t,n),f(e);var a=v(t,!0);return f(n),d(X,a)?(n.enumerable?(d(e,R)&&e[R][a]&&(e[R][a]=!1),n=b(n,{enumerable:y(0,!1)})):(d(e,R)||K(e,R,y(1,{})),e[R][a]=!0),ae(e,a,n)):K(e,a,n)},oe=function(e,t){f(e);var n=g(t),a=E(n).concat(de(n));return M(a,(function(t){o&&!le.call(n,t)||se(e,t,n[t])})),e},le=function(e){var t=v(e,!0),n=Q.call(this,t);return!(this===W&&d(X,t)&&!d(J,t))&&(!(n||!d(this,t)||!d(X,t)||d(this,R)&&this[R][t])||n)},ce=function(e,t){var n=g(e),a=v(t,!0);if(n!==W||!d(X,a)||d(J,a)){var r=G(n,a);return!r||!d(X,a)||d(n,R)&&n[R][a]||(r.enumerable=!0),r}},ue=function(e){var t=Y(g(e)),n=[];return M(t,(function(e){d(X,e)||d(T,e)||n.push(e)})),n},de=function(e){var t=e===W,n=Y(t?J:g(e)),a=[];return M(n,(function(e){!d(X,e)||t&&!d(W,e)||a.push(X[e])})),a};(l||(A((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===W&&n.call(J,e),d(this,R)&&d(this[R],t)&&(this[R][t]=!1),ae(this,t,y(1,e))};return o&&ne&&ae(W,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return U(this).tag})),A(q,"withoutSetter",(function(e){return re(I(e),e)})),w.f=le,O.f=se,_.f=ce,C.f=k.f=ue,S.f=de,L.f=function(e){return re(B(e),e)},o&&(K(q.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),s||A(W,"propertyIsEnumerable",le,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),M(E(ee),(function(e){D(e)})),a({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(Z,t))return Z[t];var n=q(t);return Z[t]=n,$[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d($,e))return $[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),a({target:"Object",stat:!0,forced:!l,sham:!o},{create:function(e,t){return void 0===t?b(e):oe(b(e),t)},defineProperty:se,defineProperties:oe,getOwnPropertyDescriptor:ce}),a({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ue,getOwnPropertySymbols:de}),a({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),z)&&a({target:"JSON",stat:!0,forced:!l||u((function(){var e=q();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}))},{stringify:function(e,t,n){for(var a,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(a=t,(h(t)||void 0!==e)&&!ie(e))return p(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ie(t))return t}),r[1]=t,z.apply(null,r)}});q.prototype[V]||P(q.prototype,V,q.prototype.valueOf),j(q,"Symbol"),T[R]=!0},function(e,t,n){var a=n(1277),r=n(1430).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(a(e))}},function(e,t,n){n(1256)("asyncIterator")},function(e,t){},function(e,t,n){n(1256)("hasInstance")},function(e,t,n){n(1256)("isConcatSpreadable")},function(e,t,n){n(1256)("match")},function(e,t,n){n(1256)("matchAll")},function(e,t,n){n(1256)("replace")},function(e,t,n){n(1256)("search")},function(e,t,n){n(1256)("species")},function(e,t,n){n(1256)("split")},function(e,t,n){n(1256)("toPrimitive")},function(e,t,n){n(1256)("toStringTag")},function(e,t,n){n(1256)("unscopables")},function(e,t,n){n(1299)(Math,"Math",!0)},function(e,t,n){var a=n(1255);n(1299)(a.JSON,"JSON",!0)},function(e,t,n){n(1256)("asyncDispose")},function(e,t,n){n(1256)("dispose")},function(e,t,n){n(1256)("observable")},function(e,t,n){n(1256)("patternMatch")},function(e,t,n){n(1256)("replaceAll")},function(e,t,n){e.exports=n(1670)},function(e,t,n){var a=n(1671);e.exports=a},function(e,t,n){n(1672);var a=n(1252).Object,r=e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)};a.getOwnPropertyDescriptor.sham&&(r.sham=!0)},function(e,t,n){var a=n(1246),r=n(1254),i=n(1277),s=n(1312).f,o=n(1269),l=r((function(){s(1)}));a({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(i(e),t)}})},function(e,t,n){e.exports=n(1674)},function(e,t,n){var a=n(1675);e.exports=a},function(e,t,n){n(1676);var a=n(1252);e.exports=a.Reflect.get},function(e,t,n){var a=n(1246),r=n(1259),i=n(1270),s=n(1268),o=n(1312),l=n(1332);a({target:"Reflect",stat:!0},{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return i(t)===u?t[n]:(a=o.f(t,n))?s(a,"value")?a.value:void 0===a.get?void 0:a.get.call(u):r(c=l(t))?e(c,n,u):void 0}})},function(e,t,n){var a=n(1241);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}},function(e,t,n){e.exports=n(1679)},function(e,t,n){var a=n(1680);e.exports=a},function(e,t,n){n(1681);var a=n(1252);e.exports=a.Object.getPrototypeOf},function(e,t,n){var a=n(1246),r=n(1254),i=n(1272),s=n(1332),o=n(1427);a({target:"Object",stat:!0,forced:r((function(){s(1)})),sham:!o},{getPrototypeOf:function(e){return s(i(e))}})},function(e,t,n){var a=n(1683);e.exports=a},function(e,t,n){n(1684);var a=n(1252);e.exports=a.Object.setPrototypeOf},function(e,t,n){n(1246)({target:"Object",stat:!0},{setPrototypeOf:n(1428)})},function(e,t,n){e.exports=n(1686)},function(e,t,n){var a=n(1453);e.exports=a},function(e,t,n){n(1246)({target:"Object",stat:!0,sham:!n(1269)},{create:n(1330)})},function(e,t,n){var a=n(1431);function r(t,n){return e.exports=r=a||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.left+e.width,a=e.top+e.height,r=t.left+t.width,i=t.top+t.height;return n<=t.left?"left":e.left>=r?"right":a<=t.top?"above":e.top>=i?"below":"overlap"},e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1355)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1251)),f=a(n(1273)),m=a(n(1261)),g=a(n(1275)),v=a(n(1266)),y=a(n(1247)),b=a(n(1248));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(){},k=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(E()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"getValue",value:function(){return(0,s.default)(this.inputEl.value)}},{key:"setValue",value:function(e){isNaN(e)&&(e=this._getMin());var t=this._getConformedNumber(e);return t!==this.inputEl.value&&(this.inputEl.value=t,(this.onChange||C)(t,this)),this}},{key:"clearValue",value:function(){return this.setValue(0)}},{key:"increment",value:function(){return this.setValue(this.getValue()+this._getStep())}},{key:"decrement",value:function(){return this.setValue(this.getValue()-this._getStep())}},{key:"_countDecimals",value:function(e){return!e||isNaN(e)||Math.floor(e)===e?0:e.toString().split(".")[1].length||0}},{key:"enable",value:function(){for(var e=this.el.querySelectorAll("button"),t=e.length,n=0;n<t;n++)e[n].removeAttribute("disabled");return this.inputEl.removeAttribute("disabled"),this}},{key:"disable",value:function(){for(var e=this.el.querySelectorAll("button"),t=e.length,n=0;n<t;n++)e[n].attributes.setNamedItem(document.createAttribute("disabled"));return this.inputEl.attributes.setNamedItem(document.createAttribute("disabled")),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=e.querySelector("input"),this.incrementButton=e.querySelector(".spark-number-selector__up"),this.decrementButton=e.querySelector(".spark-number-selector__down"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,v.default)('<span class="spark-input__message"></span>'),!this.inputEl||!this.incrementButton||!this.decrementButton)throw new Error("NumberSelector missing a require element!")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onInputChangeBound=(0,i.default)(t=this._onInputChange).call(t,this),this._onInputFocusBound=(0,i.default)(n=this._onInputFocus).call(n,this),this._onInputBlurBound=(0,i.default)(a=this._onInputBlur).call(a,this),this._onInputInputBound=(0,i.default)(r=this._onInputInput).call(r,this),this._onKeyPressBound=(0,i.default)(s=this._onKeyPress).call(s,this),this._onButtonKeyPressBound=(0,i.default)(o=this._onButtonKeyPress).call(o,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("change",this._onInputChangeBound),this.el.addEventListener("focus",this._onInputFocusBound),this.el.addEventListener("blur",this._onInputBlurBound),this.inputEl.addEventListener("input",this._onInputInputBound),this.inputEl.addEventListener("keydown",this._onKeyPressBound),this.inputEl.addEventListener("keyup",this._onKeyPressBound),this.incrementButton.addEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.addEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.addEventListener("keyup",this._onButtonKeyPressBound),this.incrementButton.addEventListener("keyup",this._onButtonKeyPressBound)}},{key:"_onButtonKeyPress",value:function(e){13===e.keyCode&&("keydown"===e.type?(0,h.default)(e.target,"spark-number-selector__up")?(0,y.default)(this.incrementButton,"active"):(0,y.default)(this.decrementButton,"active"):(0,h.default)(e.target,"spark-number-selector__up")?(0,b.default)(this.incrementButton,"active"):(0,b.default)(this.decrementButton,"active"))}},{key:"_onKeyPress",value:function(e){"keydown"===e.type?40===e.keyCode?(0,y.default)(this.el.querySelector("button:first-of-type"),"active"):38===e.keyCode&&(0,y.default)(this.el.querySelector("button:last-of-type"),"active"):40===e.keyCode?(0,b.default)(this.el.querySelector("button:first-of-type"),"active"):38===e.keyCode&&(0,b.default)(this.el.querySelector("button:last-of-type"),"active")}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onInputChangeBound),this.el.removeEventListener("focus",this._onInputFocusBound),this.el.removeEventListener("blur",this._onInputBlurBound),this.inputEl.removeEventListener("input",this._onInputInputBound),this.inputEl.removeEventListener("keydown",this._onKeyPressBound),this.inputEl.removeEventListener("keyup",this._onKeyPressBound),this.incrementButton.removeEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.removeEventListener("keydown",this._onButtonKeyPressBound),this.decrementButton.removeEventListener("keyup",this._onButtonKeyPressBound),this.incrementButton.removeEventListener("keyup",this._onButtonKeyPressBound)}},{key:"_getMin",value:function(){return this._getInputPropAsNumber("min")}},{key:"_getMax",value:function(){return this._getInputPropAsNumber("max")}},{key:"_getStep",value:function(){return this._getInputPropAsNumber("step")||1}},{key:"_getInputPropAsNumber",value:function(e){return(0,s.default)(this.inputEl.getAttribute(e))}},{key:"_getConformedNumber",value:function(e){var t=this._getMax(),n=this._getMin(),a=this._getStep();if(a){var r=e%a;e=r>=a/2?e+(a-r):e-r;var i=this._countDecimals(this._getStep());if(i>0){var s=Math.abs(e),o=i+(s>1?s.toString().split(".")[0].length:0);e="number"==typeof e&&isFinite(e)&&Math.floor(e)===e?e:e.toPrecision(o)}}return void 0!==t&&e>t?t:void 0!==n&&e<n?n:e}},{key:"_onClick",value:function(e){e.target.hasAttribute("disabled")||((0,h.default)(e.target,"spark-number-selector__up")?(e.preventDefault(),this.increment()):(0,h.default)(e.target,"spark-number-selector__down")&&(e.preventDefault(),this.decrement()))}},{key:"_onInputChange",value:function(){this.setValue((0,s.default)(this.inputEl.value))}},{key:"_onInputFocus",value:function(){this.onFocus&&this.onFocus(this.getValue(),this)}},{key:"_onInputBlur",value:function(){this.onBlur&&this.onBlur(this.getValue(),this)}},{key:"_onInputInput",value:function(){this.onInput&&this.onInput(this.getValue(),this)}}]),a}(p.default);k.prototype._whitelistedParams=["validate","onValidate","onChange","onFocus","onBlur","onInput"],k.prototype.defaults={el:null,inputEl:null,onValidate:null,onChange:null,onFocus:null,onBlur:null,onInput:null,_onInputChangeBound:null,_onClickBound:null},(0,m.default)(k.prototype,f.default,g.default);var S=k;t.default=S,e.exports=t.default},function(e,t,n){(function(t){for(var a=n(1884),r="undefined"==typeof window?t:window,i=["moz","webkit"],s="AnimationFrame",o=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],c=0;!o&&c<i.length;c++)o=r[i[c]+"Request"+s],l=r[i[c]+"Cancel"+s]||r[i[c]+"CancelRequest"+s];if(!o||!l){var u=0,d=0,p=[];o=function(e){if(0===p.length){var t=a(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return o.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=o,e.cancelAnimationFrame=l}}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n.n(a),i=n(12);function s(e){return r()(e,(function(e){return{value:e,label:Object(i.i)("flightSearch.airportFormat",{code:e,name:Object(i.i)("airports.".concat(e))})}}))}},,,,,function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(215),s=n.n(i),o=n(1603),l=n(1343);t.a=function(e,t,n){var a,i,c,u=e.virtualCouponRecordNumber,d=e.firstName,p=e.lastName,h=e.recordLocator,f=e.flightNumber,m=e.departAirport,g=e.arrivalCity,v=e.departureDate,y=e.frequentFlyerNumber,b=e.frequentFlyerAirline,E=e.recordLocatorOrFFNumber,C=h&&s()(h);u&&(a=l.h,i=u),E&&(E.match(n)?C=s()(E):(a=l.e,i=E)),y&&(a=l.e,i=y,b&&(c=b));var k=r()(i)?void 0:{type:a,prefix:c,number:i};return{body:{reservationCriteria:{recordLocator:C,firstName:d,lastName:p,flightNumber:f,departureAirport:m,departureDate:v&&Object(o.a)(v),arrivalAirport:g,passengerIdentification:k},outputFormat:t}}}},function(e,t,n){var a=n(1957)();e.exports=a},function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(95),s=n.n(i),o=n(8),l=n.n(o),c=n(0),u=n.n(c),d=n(43),p=n.n(d),h=n(19),f=n.n(h),m=n(13),g=n.n(m);t.a=function(e){var t=[];return g()(u()(e,"itinerary.itineraryPart"),(function(e){var n=s()(f()(e.segment,(function(e){var n=u()(e,"eligibilities.eligibility"),a=!p()(n,(function(e){return e.notEligible&&"CHECK_IN"===e.type}));return a||t.push(e.id),a})));l()(e,"segment",n)})),g()(u()(e,"passengers.passenger"),(function(e){var n=s()(f()(u()(e,"passengerSegments.passengerSegment",[]),(function(e){return!r()(t,e.segmentRef)})));l()(e,"passengerSegments.passengerSegment",n)})),e}},function(e,t,n){"use strict";t.a=function(e){var t=e.nativeAirline,n=e.airline,a=e.operatingAirline;return n!==t&&a!==t}},function(e,t,n){"use strict";t.a=function(e){var t=e.nativeAirline,n=e.airline,a=e.operatingAirline;return!e.isCommuter&&n===t&&a!==t}},function(e,t,n){"use strict";var a=n(81),r=n(1703),i=n(1704),s=n(1705),o=n(1706),l=n(1488),c=n(1716);t.a=function(e){var t=e.reservation,n=e.results,u=e.packageName,d=Object(a.a)(u),p=d.blockLookUpReservationEligibilityCodes,h=d.blockLookUpPassengerEligibilityCodes,f=d.blockLookUpResultsEligibilityCodes;if(!Object(r.a)(t))throw Object(c.a)({reservation:t,packageName:u});var m=Object(i.a)({reservation:t,blockLookUpReservationEligibilityCodes:p});if(m)throw Object(l.a)({reason:m});var g=Object(s.a)({reservation:t,blockLookUpPassengerEligibilityCodes:h});if(g)throw Object(l.a)({reason:g});var v=Object(o.a)({results:n,blockLookUpResultsEligibilityCodes:f});if(v)throw Object(l.a)({reason:v})}},function(e,t,n){"use strict";var a=n(1597);t.a=function(e){return!Object(a.a)(e)}},function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(0),s=n.n(i),o=n(15),l=n.n(o),c=n(144),u=n.n(c);t.a=function(e){var t=e.reservation,n=e.blockLookUpReservationEligibilityCodes,a=s()(t,["eligibilities","eligibility"]),i=u()(a,"reason");return l()(i,(function(e){return e&&r()(n,e.category)}))}},function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(0),s=n.n(i),o=n(15),l=n.n(o),c=n(144),u=n.n(c);t.a=function(e){var t=e.reservation,n=e.blockLookUpPassengerEligibilityCodes,a=s()(t,["passengers","passenger"]),i=u()(a,(function(e){return s()(e,["eligibilities","eligibility"])})),o=u()(i,"reason");return l()(o,(function(e){return e&&r()(n,e.category)}))}},function(e,t,n){"use strict";var a=n(21),r=n.n(a),i=n(15),s=n.n(i),o=n(144),l=n.n(o);t.a=function(e){var t=e.results,n=void 0===t?[]:t,a=e.blockLookUpResultsEligibilityCodes,i=void 0===a?[]:a,o=l()(n,"status");return s()(o,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r()(i,e.code)}))}},,,,function(e,t,n){"use strict";var a=n(124),r=n(523),i=n(81),s=n(1301),o=n(1472),l=n(333),c=n(12);var u=n(289),d=n(1733),p=n(1958),h=n(83),f=n.n(h),m=n(1298),g=n(1334),v=n(526),y=n(21),b=n.n(y),E=n(196),C=n(1596),k=["ar-ma","ar-sa","ar-tn","de-at","en-au","en-ca","en-gb","hy-am","fr-ca","ms-my","pt-br","sr-cyrl","tzm-latn","zh-cn","zh-tw"],S=function(e){var t=e.locale,n=e.translations;return Promise.resolve(function(e){var t=e.locale.toLowerCase(),n=b()(k,t)?t:t.split("-").shift(),a=Object(m.a)();if("en"===n)return a.locale(t);var r=Object(E.a)("vendors/moment/locale/".concat(n,".js"));return Object(C.a)(r).then((function(){return a.locale(t)}))}({locale:t})).then((function(){var e=Object(m.a)(),t=n[v.a],a=t&&t.monthNamesShort&&f()(t.monthNamesShort)||e.monthsShort(),r=t&&t.monthNames&&f()(t.monthNames)||e.months(),i=t&&t.dayNamesShort&&f()(t.dayNamesShort)||e.weekdaysMin(),s=t&&t.dayNames&&f()(t.dayNames)||e.weekdaysMin();g.DateHelper.setMonthNamesShort(a),g.DateHelper.setMonthNames(r),g.DateHelper.setDayNamesShort(i),g.DateHelper.setDayNames(s)}))};t.a=function(e){var t=e.locale,n=e.force,h=void 0!==n&&n;return function(e,n){var f=n(),m=Object(a.a)(),g=t||m.locale||Object(i.a)(r.a,"locale");return e({type:"SHOW_APPLICATION_LOADER",payload:{loaderMessageKey:"changeLang"}}),Promise.resolve(function(e){var t=e.dispatch,n=e.locale;t({type:"SHOW_APPLICATION_LOADER",payload:{loaderMessageKey:"changeLang"}}),t({type:o.b,payload:{locale:n}})}({dispatch:e,locale:g})).then((function(){return g!==m.locale&&function(e){var t=e.locale;return Object(s.a)({query:{locale:t}})}({locale:g})})).then((function(){return function(e){var t=e.locale,n=e.force,a=void 0!==n&&n;return Promise.resolve(Object(d.a)({locale:t,force:a})).then((function(e){return Object(p.a)({locale:t}).then((function(){return S({locale:t,translations:e})})).then((function(){return Object(u.a)({input:e,defaultPackageClassifiedName:v.a})}))}))}({locale:g,force:h})})).then((function(t){return function(e){var t=e.dispatch,n=e.translations,a=e.locale,r=e.config;return Object(c.g)(a),Object(c.f)(n),Object(c.e)(),t({type:o.d,payload:{translations:n,locale:a}}),Object(l.a)()&&t({type:"TRANSLATION_RESPONDED",locale:a,translations:n,payload:{locale:a,translations:n,config:r}}),t({type:"HIDE_APPLICATION_LOADER"}),t({type:o.c,payload:{translations:n,locale:a,config:r}})}({dispatch:e,translations:t,locale:g,config:f.SabreDxContainerConfig})}))}}},,,,function(e,t,n){"use strict";var a=n(61),r=n.n(a),i=n(2),s=n.n(i),o=n(15),l=n.n(o),c=function(e){var t=e.left,n=e.right,a=e.keys;return void 0===a?t!==n:!!l()(a,(function(e){return!(r()(t[e])&&r()(n[e])&&s()(t[e])&&s()(n[e]))&&t[e]!==n[e]}))},u=n(77),d=n.n(u);function p(e){var t=e.left,n=e.right,a=e.keys;return void 0===a?!d()(t,n):!!l()(a,(function(e){return!d()(t[e],n[e])}))}n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return p}))},,function(e,t,n){"use strict";var a=n(1597),r=n(1343),i=n(0),s=n.n(i),o=n(12),l=n(1488);t.a=function(e){var t=e.reservation,n=e.packageName,i=Object(a.a)(t);switch(i.category){case r.c:return function(e){var t=e.windowClosedReason,n=e.packageName,a=s()(t,["property",0,"value"]),r=parseInt(a/60,10),i=parseInt(a%60,10),l=Object(o.i)([n,"checkInWindowClosed"],{hours:r,minutes:i});return{errorCode:t.category,translatedMessage:l,status:500,timeToOpen:{hours:r,minutes:i}}}({windowClosedReason:i,packageName:n});case r.b:return Object(l.a)({reason:i});default:return{}}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(5),r=n.n(a),i=n(2),s=n.n(i),o=n(19),l=n.n(o);function c(e){var t=e.pnr,n=e.firstName,a=e.lastName,i=e.email,o=e.flow;return r()(l()([t,n,a,i,o],(function(e){return!s()(e)})),(function(e){return e.toUpperCase()})).join("_")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={REJECT:"REJECT",REVIEW:"REVIEW",OK:"OK",ACCEPT:"ACCEPT"}},function(e,t,n){var a,r;!function(e){"use strict";if(!e.jQuery){var t=function(e,n){return new t.fn.init(e,n)};t.isWindow=function(e){return e&&e===e.window},t.type=function(e){return e?"object"==typeof e||"function"==typeof e?a[i.call(e)]||"object":typeof e:e+""},t.isArray=Array.isArray||function(e){return"array"===t.type(e)},t.isPlainObject=function(e){var n;if(!e||"object"!==t.type(e)||e.nodeType||t.isWindow(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(n in e);return void 0===n||r.call(e,n)},t.each=function(e,t,n){var a=0,r=e.length,i=l(e);if(n){if(i)for(;a<r&&!1!==t.apply(e[a],n);a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===t.apply(e[a],n))break}else if(i)for(;a<r&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===t.call(e[a],a,e[a]))break;return e},t.data=function(e,a,r){if(void 0===r){var i=e[t.expando],s=i&&n[i];if(void 0===a)return s;if(s&&a in s)return s[a]}else if(void 0!==a){var o=e[t.expando]||(e[t.expando]=++t.uuid);return n[o]=n[o]||{},n[o][a]=r,r}},t.removeData=function(e,a){var r=e[t.expando],i=r&&n[r];i&&(a?t.each(a,(function(e,t){delete i[t]})):delete n[r])},t.extend=function(){var e,n,a,r,i,s,o=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[l]||{},l++),"object"!=typeof o&&"function"!==t.type(o)&&(o={}),l===c&&(o=this,l--);l<c;l++)if(i=arguments[l])for(r in i)i.hasOwnProperty(r)&&(e=o[r],o!==(a=i[r])&&(u&&a&&(t.isPlainObject(a)||(n=t.isArray(a)))?(n?(n=!1,s=e&&t.isArray(e)?e:[]):s=e&&t.isPlainObject(e)?e:{},o[r]=t.extend(u,s,a)):void 0!==a&&(o[r]=a)));return o},t.queue=function(e,n,a){if(e){n=(n||"fx")+"queue";var r,i,s,o=t.data(e,n);return a?(!o||t.isArray(a)?o=t.data(e,n,(s=i||[],(r=a)&&(l(Object(r))?function(e,t){for(var n=+t.length,a=0,r=e.length;a<n;)e[r++]=t[a++];if(n!=n)for(;void 0!==t[a];)e[r++]=t[a++];e.length=r}(s,"string"==typeof r?[r]:r):[].push.call(s,r)),s)):o.push(a),o):o||[]}},t.dequeue=function(e,n){t.each(e.nodeType?[e]:e,(function(e,a){n=n||"fx";var r=t.queue(a,n),i=r.shift();"inprogress"===i&&(i=r.shift()),i&&("fx"===n&&r.unshift("inprogress"),i.call(a,(function(){t.dequeue(a,n)})))}))},t.fn=t.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],n=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position.toLowerCase();)t=t.offsetParent;return t||document}(e),a=this.offset(),r=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:t(n).offset();return a.top-=parseFloat(e.style.marginTop)||0,a.left-=parseFloat(e.style.marginLeft)||0,n.style&&(r.top+=parseFloat(n.style.borderTopWidth)||0,r.left+=parseFloat(n.style.borderLeftWidth)||0),{top:a.top-r.top,left:a.left-r.left}}};var n={};t.expando="velocity"+(new Date).getTime(),t.uuid=0;for(var a={},r=a.hasOwnProperty,i=a.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),o=0;o<s.length;o++)a["[object "+s[o]+"]"]=s[o].toLowerCase();t.fn.init.prototype=t.fn,e.Velocity={Utilities:t}}function l(e){var n=e.length,a=t.type(e);return"function"!==a&&!t.isWindow(e)&&(!(1!==e.nodeType||!n)||("array"===a||0===n||"number"==typeof n&&n>0&&n-1 in e))}}(window),function(i){"use strict";"object"==typeof e.exports?e.exports=i():void 0===(r="function"==typeof(a=i)?a.call(t,n,t,e):a)||(e.exports=r)}((function(){"use strict";return function(e,t,n,a){var r,i=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}(),s=(r=0,t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){var t,n=(new Date).getTime();return t=Math.max(0,16-(n-r)),r=n+t,setTimeout((function(){e(n+t)}),t)}),o=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}();var l=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var a=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=a),this.slice)return e.call(this,t,n);var r,i=[],s=t>=0?t:Math.max(0,a+t),o=(n<0?a+n:Math.min(n,a))-s;if(o>0)if(i=new Array(o),this.charAt)for(r=0;r<o;r++)i[r]=this.charAt(s+r);else for(r=0;r<o;r++)i[r]=this[s+r];return i}}}(),c=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}};function u(e){return p.isWrapped(e)?e=l.call(e):p.isNode(e)&&(e=[e]),e}var d,p={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&p.isNumber(e.length)&&!p.isString(e)&&!p.isFunction(e)&&!p.isNode(e)&&(0===e.length||p.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},h=!1;if(e.fn&&e.fn.jquery?(d=e,h=!0):d=t.Velocity.Utilities,i<=8&&!h)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(i<=7)){var f={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent),isAndroid:/Android/i.test(t.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(t.navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(t.navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:d,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:400,easing:"swing",begin:void 0,complete:void 0,progress:void 0,display:void 0,visibility:void 0,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){d.data(e,"velocity",{isSVG:p.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:2},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();d.each(f.State.calls,(function(t,n){if(n){if(void 0!==e&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]={resume:!1}}})),d.each(f.State.delayedElements,(function(e,n){n&&C(n,t)}))},resumeAll:function(e){var t=(new Date).getTime();d.each(f.State.calls,(function(t,n){if(n){if(void 0!==e&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}})),d.each(f.State.delayedElements,(function(e,n){n&&k(n,t)}))}};void 0!==t.pageYOffset?(f.State.scrollAnchor=t,f.State.scrollPropertyLeft="pageXOffset",f.State.scrollPropertyTop="pageYOffset"):(f.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,f.State.scrollPropertyLeft="scrollLeft",f.State.scrollPropertyTop="scrollTop");var m=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,a){var r={x:t.x+a.dx*n,v:t.v+a.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,a){var r={dx:n.v,dv:e(n)},i=t(n,.5*a,r),s=t(n,.5*a,i),o=t(n,a,s),l=1/6*(r.dx+2*(i.dx+s.dx)+o.dx),c=1/6*(r.dv+2*(i.dv+s.dv)+o.dv);return n.x=n.x+l*a,n.v=n.v+c*a,n}return function e(t,a,r){var i,s,o,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0;for(t=parseFloat(t)||500,a=parseFloat(a)||20,r=r||null,l.tension=t,l.friction=a,s=(i=null!==r)?(u=e(t,a))/r*.016:.016;o=n(o||l,s),c.push(1+o.x),u+=16,Math.abs(o.x)>1e-4&&Math.abs(o.v)>1e-4;);return i?function(e){return c[e*(c.length-1)|0]}:u}}();f.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},d.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],(function(e,t){f.Easings[t[0]]=_.apply(null,t[1])}));var g=f.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<g.Lists.colors.length;e++){var t="color"===g.Lists.colors[e]?"0 0 0 1":"255 255 255 1";g.Hooks.templates[g.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,a,r;if(i)for(n in g.Hooks.templates)if(g.Hooks.templates.hasOwnProperty(n)){r=(a=g.Hooks.templates[n])[0].split(" ");var s=a[1].match(g.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),s.push(s.shift()),g.Hooks.templates[n]=[r.join(" "),s.join(" ")])}for(n in g.Hooks.templates)if(g.Hooks.templates.hasOwnProperty(n))for(var o in r=(a=g.Hooks.templates[n])[0].split(" "))if(r.hasOwnProperty(o)){var l=n+r[o],c=o;g.Hooks.registered[l]=[n,c]}},getRoot:function(e){var t=g.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&c(g.Lists.units)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,(function(e,t,n){return g.Lists.colorNames.hasOwnProperty(n)?(t||"rgba(")+g.Lists.colorNames[n]+(t?"":",1)"):t+n}))},cleanRootPropertyValue:function(e,t){return g.RegEx.valueUnwrap.test(t)&&(t=t.match(g.RegEx.valueUnwrap)[1]),g.Values.isCSSNullValue(t)&&(t=g.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=g.Hooks.registered[e];if(n){var a=n[0],r=n[1];return(t=g.Hooks.cleanRootPropertyValue(a,t)).toString().match(g.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var a=g.Hooks.registered[e];if(a){var r,i=a[0],s=a[1];return(r=(n=g.Hooks.cleanRootPropertyValue(i,n)).toString().match(g.RegEx.valueSplit))[s]=t,r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var a;return a=g.RegEx.wrappedValueAlreadyExtracted.test(n)?n:(a=n.toString().match(g.RegEx.valueUnwrap))?a[1].replace(/,(\s+)?/g," "):n;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return f.State.isFirefox?"filter":"-webkit-filter";case"extract":var a=parseFloat(n);if(!a&&0!==a){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a=r?r[1]:0}return a;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(i<=8)switch(e){case"name":return"filter";case"extract":var a=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=a?a[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){i&&!(i>9)||f.State.isGingerbread||(g.Lists.transformsBase=g.Lists.transformsBase.concat(g.Lists.transforms3D));for(var e=0;e<g.Lists.transformsBase.length;e++)!function(){var t=g.Lists.transformsBase[e];g.Normalizations.registered[t]=function(e,n,a){switch(e){case"name":return"transform";case"extract":return void 0===E(n)||void 0===E(n).transformCache[t]?/^scale/i.test(t)?1:0:E(n).transformCache[t].replace(/[()]/g,"");case"inject":var r=!1;switch(t.substr(0,t.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":f.State.isAndroid&&void 0===E(n).transformCache[t]&&a<1&&(a=1),r=!/(\d)$/i.test(a);break;case"skew":case"rotate":r=!/(deg|\d)$/i.test(a)}return r||(E(n).transformCache[t]="("+a+")"),E(n).transformCache[t]}}}();for(var t=0;t<g.Lists.colors.length;t++)!function(){var e=g.Lists.colors[t];g.Normalizations.registered[e]=function(t,n,a){switch(t){case"name":return e;case"extract":var r;if(g.RegEx.wrappedValueAlreadyExtracted.test(a))r=a;else{var s,o={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(a)?s=void 0!==o[a]?o[a]:o.black:g.RegEx.isHex.test(a)?s="rgb("+g.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(s=o.black),r=(s||a).toString().match(g.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!i||i>8)&&3===r.split(" ").length&&(r+=" 1"),r;case"inject":return/^rgb/.test(a)?a:(i<=8?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(i<=8?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();function n(e,t,n){if("border-box"===g.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(n||!1)){var a,r,i=0,s="width"===e?["Left","Right"]:["Top","Bottom"],o=["padding"+s[0],"padding"+s[1],"border"+s[0]+"Width","border"+s[1]+"Width"];for(a=0;a<o.length;a++)r=parseFloat(g.getPropertyValue(t,o[a])),isNaN(r)||(i+=r);return n?-i:i}return 0}function a(e,t){return function(a,r,i){switch(a){case"name":return e;case"extract":return parseFloat(i)+n(e,r,t);case"inject":return parseFloat(i)-n(e,r,t)+"px"}}}g.Normalizations.registered.innerWidth=a("width",!0),g.Normalizations.registered.innerHeight=a("height",!0),g.Normalizations.registered.outerWidth=a("width"),g.Normalizations.registered.outerHeight=a("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(i||f.State.isAndroid&&!f.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(f.State.prefixMatches[e])return[f.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,a=t.length;n<a;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,(function(e){return e.toUpperCase()})),p.isString(f.State.prefixElement.style[r]))return f.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,a){return t+t+n+n+a+a})),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(p.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(i<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(p.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(i<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,a,r){function s(e,n){var a=0;if(i<=8)a=d.css(e,n);else{var o=!1;/^(width|height)$/.test(n)&&0===g.getPropertyValue(e,"display")&&(o=!0,g.setPropertyValue(e,"display",g.Values.getDisplayType(e)));var l,c=function(){o&&g.setPropertyValue(e,"display","none")};if(!r){if("height"===n&&"border-box"!==g.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetHeight-(parseFloat(g.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(g.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(g.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(g.getPropertyValue(e,"paddingBottom"))||0);return c(),u}if("width"===n&&"border-box"!==g.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(g.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(g.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(g.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(g.getPropertyValue(e,"paddingRight"))||0);return c(),p}}l=void 0===E(e)?t.getComputedStyle(e,null):E(e).computedStyle?E(e).computedStyle:E(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),""!==(a=9===i&&"filter"===n?l.getPropertyValue(n):l[n])&&null!==a||(a=e.style[n]),c()}if("auto"===a&&/^(top|right|bottom|left)$/i.test(n)){var h=s(e,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(n))&&(a=d(e).position()[n]+"px")}return a}var o;if(g.Hooks.registered[n]){var l=n,c=g.Hooks.getRoot(l);void 0===a&&(a=g.getPropertyValue(e,g.Names.prefixCheck(c)[0])),g.Normalizations.registered[c]&&(a=g.Normalizations.registered[c]("extract",e,a)),o=g.Hooks.extractValue(l,a)}else if(g.Normalizations.registered[n]){var u,p;"transform"!==(u=g.Normalizations.registered[n]("name",e))&&(p=s(e,g.Names.prefixCheck(u)[0]),g.Values.isCSSNullValue(p)&&g.Hooks.templates[n]&&(p=g.Hooks.templates[n][1])),o=g.Normalizations.registered[n]("extract",e,p)}if(!/^[\d-]/.test(o)){var h=E(e);if(h&&h.isSVG&&g.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{o=e.getBBox()[n]}catch(e){o=0}else o=e.getAttribute(n);else o=s(e,g.Names.prefixCheck(n)[0])}return g.Values.isCSSNullValue(o)&&(o=0),f.debug>=2&&console.log("Get "+n+": "+o),o},setPropertyValue:function(e,n,a,r,s){var o=n;if("scroll"===n)s.container?s.container["scroll"+s.direction]=a:"Left"===s.direction?t.scrollTo(a,s.alternateValue):t.scrollTo(s.alternateValue,a);else if(g.Normalizations.registered[n]&&"transform"===g.Normalizations.registered[n]("name",e))g.Normalizations.registered[n]("inject",e,a),o="transform",a=E(e).transformCache[n];else{if(g.Hooks.registered[n]){var l=n,c=g.Hooks.getRoot(n);r=r||g.getPropertyValue(e,c),a=g.Hooks.injectValue(l,a,r),n=c}if(g.Normalizations.registered[n]&&(a=g.Normalizations.registered[n]("inject",e,a),n=g.Normalizations.registered[n]("name",e)),o=g.Names.prefixCheck(n)[0],i<=8)try{e.style[o]=a}catch(e){f.debug&&console.log("Browser does not support ["+a+"] for ["+o+"]")}else{var u=E(e);u&&u.isSVG&&g.Names.SVGAttribute(n)?e.setAttribute(n,a):e.style[o]=a}f.debug>=2&&console.log("Set "+n+" ("+o+"): "+a)}return[o,a]},flushTransformCache:function(e){var t="",n=E(e);if((i||f.State.isAndroid&&!f.State.isChrome)&&n&&n.isSVG){var a=function(t){return parseFloat(g.getPropertyValue(e,t))},r={translate:[a("translateX"),a("translateY")],skewX:[a("skewX")],skewY:[a("skewY")],scale:1!==a("scale")?[a("scale"),a("scale")]:[a("scaleX"),a("scaleY")],rotate:[a("rotateZ"),0,0]};d.each(E(e).transformCache,(function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(t+=e+"("+r[e].join(" ")+") ",delete r[e])}))}else{var s,o;d.each(E(e).transformCache,(function(n){if(s=E(e).transformCache[n],"transformPerspective"===n)return o=s,!0;9===i&&"rotateZ"===n&&(n="rotate"),t+=n+s+" "})),o&&(t="perspective"+o+" "+t)}g.setPropertyValue(e,"transform",t)}};g.Hooks.register(),g.Normalizations.register(),f.hook=function(e,t,n){var a;return e=u(e),d.each(e,(function(e,r){if(void 0===E(r)&&f.init(r),void 0===n)void 0===a&&(a=g.getPropertyValue(r,t));else{var i=g.setPropertyValue(r,t,n);"transform"===i[0]&&f.CSS.flushTransformCache(r),a=i}})),a};var v=function(){var e;function a(){return r?y.promise||null:i}var r,i,s,o,l,h,m=arguments[0]&&(arguments[0].p||d.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));p.isWrapped(this)?(r=!1,s=0,o=this,i=this):(r=!0,s=1,o=m?arguments[0].elements||arguments[0].e:arguments[0]);var y={promise:null,resolver:null,rejecter:null};if(r&&f.Promise&&(y.promise=new f.Promise((function(e,t){y.resolver=e,y.rejecter=t}))),m?(l=arguments[0].properties||arguments[0].p,h=arguments[0].options||arguments[0].o):(l=arguments[s],h=arguments[s+1]),o=u(o)){var b,S=o.length,_=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(l)&&!d.isPlainObject(h)){var A=s+1;h={};for(var x=A;x<arguments.length;x++)p.isArray(arguments[x])||!/^(fast|normal|slow)$/i.test(arguments[x])&&!/^\d/.test(arguments[x])?p.isString(arguments[x])||p.isArray(arguments[x])?h.easing=arguments[x]:p.isFunction(arguments[x])&&(h.complete=arguments[x]):h.duration=arguments[x]}switch(l){case"scroll":b="scroll";break;case"reverse":b="reverse";break;case"pause":var N=(new Date).getTime();return d.each(o,(function(e,t){C(t,N)})),d.each(f.State.calls,(function(e,t){var n=!1;t&&d.each(t[1],(function(e,a){var r=void 0===h?"":h;return!0!==r&&t[2].queue!==r&&(void 0!==h||!1!==t[2].queue)||(d.each(o,(function(e,r){if(r===a)return t[5]={resume:!1},n=!0,!1})),!n&&void 0)}))})),a();case"resume":return d.each(o,(function(e,t){k(t)})),d.each(f.State.calls,(function(e,t){var n=!1;t&&d.each(t[1],(function(e,a){var r=void 0===h?"":h;return!0!==r&&t[2].queue!==r&&(void 0!==h||!1!==t[2].queue)||(!t[5]||(d.each(o,(function(e,r){if(r===a)return t[5].resume=!0,n=!0,!1})),!n&&void 0))}))})),a();case"finish":case"finishAll":case"stop":d.each(o,(function(e,t){E(t)&&E(t).delayTimer&&(clearTimeout(E(t).delayTimer.setTimeout),E(t).delayTimer.next&&E(t).delayTimer.next(),delete E(t).delayTimer),"finishAll"!==l||!0!==h&&!p.isString(h)||(d.each(d.queue(t,p.isString(h)?h:""),(function(e,t){p.isFunction(t)&&t()})),d.queue(t,p.isString(h)?h:"",[]))}));var T=[];return d.each(f.State.calls,(function(e,t){t&&d.each(t[1],(function(n,a){var r=void 0===h?"":h;if(!0!==r&&t[2].queue!==r&&(void 0!==h||!1!==t[2].queue))return!0;d.each(o,(function(n,i){if(i===a)if((!0===h||p.isString(h))&&(d.each(d.queue(i,p.isString(h)?h:""),(function(e,t){p.isFunction(t)&&t(null,!0)})),d.queue(i,p.isString(h)?h:"",[])),"stop"===l){var s=E(i);s&&s.tweensContainer&&(!0===r||""===r)&&d.each(s.tweensContainer,(function(e,t){t.endValue=t.currentValue})),T.push(e)}else"finish"!==l&&"finishAll"!==l||(t[2].duration=1)}))}))})),"stop"===l&&(d.each(T,(function(e,t){P(t,!0)})),y.promise&&y.resolver(o)),a();default:if(!d.isPlainObject(l)||p.isEmptyObject(l)){if(p.isString(l)&&f.Redirects[l]){var I=(e=d.extend({},h)).duration,B=e.delay||0;return!0===e.backwards&&(o=d.extend(!0,[],o).reverse()),d.each(o,(function(t,n){parseFloat(e.stagger)?e.delay=B+parseFloat(e.stagger)*t:p.isFunction(e.stagger)&&(e.delay=B+e.stagger.call(n,t,S)),e.drag&&(e.duration=parseFloat(I)||(/^(callout|transition)/.test(l)?1e3:400),e.duration=Math.max(e.duration*(e.backwards?1-t/S:(t+1)/S),.75*e.duration,200)),f.Redirects[l].call(n,n,e||{},t,S,o,y.promise?y:void 0)})),a()}var L="Velocity: First argument ("+l+") was not a property map, a known action, or a registered redirect. Aborting.";return y.promise?y.rejecter(new Error(L)):t.console&&console.log(L),a()}b="start"}var D={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},j=[];d.each(o,(function(e,t){p.isNode(t)&&V(t,e)})),(e=d.extend({},f.defaults,h)).loop=parseInt(e.loop,10);var F=2*e.loop-1;if(e.loop)for(var M=0;M<F;M++){var R={delay:e.delay,progress:e.progress};M===F-1&&(R.display=e.display,R.visibility=e.visibility,R.complete=e.complete),v(o,"reverse",R)}return a()}function V(e,a){var r,i,s=d.extend({},f.defaults,h),u={};switch(void 0===E(e)&&f.init(e),parseFloat(s.delay)&&!1!==s.queue&&d.queue(e,s.queue,(function(t,n){if(!0===n)return!0;f.velocityQueueEntryFlag=!0;var a=f.State.delayedElements.count++;f.State.delayedElements[a]=e;var r,i=(r=a,function(){f.State.delayedElements[r]=!1,t()});E(e).delayBegin=(new Date).getTime(),E(e).delay=parseFloat(s.delay),E(e).delayTimer={setTimeout:setTimeout(t,parseFloat(s.delay)),next:i}})),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=400;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}function m(i){var m,v;if(s.begin&&0===_)try{s.begin.call(o,o)}catch(e){setTimeout((function(){throw e}),1)}if("scroll"===b){var C,k,P,A=/^x$/i.test(s.axis)?"Left":"Top",x=parseFloat(s.offset)||0;s.container?p.isWrapped(s.container)||p.isNode(s.container)?(s.container=s.container[0]||s.container,P=(C=s.container["scroll"+A])+d(e).position()[A.toLowerCase()]+x):s.container=null:(C=f.State.scrollAnchor[f.State["scrollProperty"+A]],k=f.State.scrollAnchor[f.State["scrollProperty"+("Left"===A?"Top":"Left")]],P=d(e).offset()[A.toLowerCase()]+x),u={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:P,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:A,alternateValue:k}},element:e},f.debug&&console.log("tweensContainer (scroll): ",u.scroll,e)}else if("reverse"===b){if(!(m=E(e)))return;if(!m.tweensContainer)return void d.dequeue(e,s.queue);for(var N in"none"===m.opts.display&&(m.opts.display="auto"),"hidden"===m.opts.visibility&&(m.opts.visibility="visible"),m.opts.loop=!1,m.opts.begin=null,m.opts.complete=null,h.easing||delete s.easing,h.duration||delete s.duration,s=d.extend({},m.opts,s),v=d.extend(!0,{},m?m.tweensContainer:null))if(v.hasOwnProperty(N)&&"element"!==N){var T=v[N].startValue;v[N].startValue=v[N].currentValue=v[N].endValue,v[N].endValue=T,p.isEmptyObject(h)||(v[N].easing=s.easing),f.debug&&console.log("reverse tweensContainer ("+N+"): "+JSON.stringify(v[N]),e)}u=v}else if("start"===b){(m=E(e))&&m.tweensContainer&&!0===m.isAnimating&&(v=m.tweensContainer);var I=function(t,n){var r,i,o;return p.isFunction(t)&&(t=t.call(e,a,S)),p.isArray(t)?(r=t[0],!p.isArray(t[1])&&/^[\d-]/.test(t[1])||p.isFunction(t[1])||g.RegEx.isHex.test(t[1])?o=t[1]:p.isString(t[1])&&!g.RegEx.isHex.test(t[1])&&f.Easings[t[1]]||p.isArray(t[1])?(i=n?t[1]:O(t[1],s.duration),o=t[2]):o=t[1]||t[2]):r=t,n||(i=i||s.easing),p.isFunction(r)&&(r=r.call(e,a,S)),p.isFunction(o)&&(o=o.call(e,a,S)),[r||0,i,o]},B=function(a,i){var o,l=g.Hooks.getRoot(a),c=!1,h=i[0],y=i[1],b=i[2];if(m&&m.isSVG||"tween"===l||!1!==g.Names.prefixCheck(l)[1]||void 0!==g.Normalizations.registered[l]){(void 0!==s.display&&null!==s.display&&"none"!==s.display||void 0!==s.visibility&&"hidden"!==s.visibility)&&/opacity|filter/.test(a)&&!b&&0!==h&&(b=0),s._cacheValues&&v&&v[a]?(void 0===b&&(b=v[a].endValue+v[a].unitType),c=m.rootPropertyValueCache[l]):g.Hooks.registered[a]?void 0===b?(c=g.getPropertyValue(e,l),b=g.getPropertyValue(e,a,c)):c=g.Hooks.templates[l][1]:void 0===b&&(b=g.getPropertyValue(e,a));var E,C,k,S=!1,_=function(e,t){var n,a;return a=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,(function(e){return n=e,""})),n||(n=g.Values.getUnitType(e)),[a,n]};if(b!==h&&p.isString(b)&&p.isString(h)){o="";var O=0,w=0,P=[],A=[],x=0,N=0,T=0;for(b=g.Hooks.fixColors(b),h=g.Hooks.fixColors(h);O<b.length&&w<h.length;){var I=b[O],B=h[w];if(/[\d\.-]/.test(I)&&/[\d\.-]/.test(B)){for(var L=I,j=B,F=".",M=".";++O<b.length;){if((I=b[O])===F)F="..";else if(!/\d/.test(I))break;L+=I}for(;++w<h.length;){if((B=h[w])===M)M="..";else if(!/\d/.test(B))break;j+=B}var R=g.Hooks.getUnit(b,O),V=g.Hooks.getUnit(h,w);if(O+=R.length,w+=V.length,R===V)L===j?o+=L+R:(o+="{"+P.length+(N?"!":"")+"}"+R,P.push(parseFloat(L)),A.push(parseFloat(j)));else{var H=parseFloat(L),U=parseFloat(j);o+=(x<5?"calc":"")+"("+(H?"{"+P.length+(N?"!":"")+"}":"0")+R+" + "+(U?"{"+(P.length+(H?1:0))+(N?"!":"")+"}":"0")+V+")",H&&(P.push(H),A.push(0)),U&&(P.push(0),A.push(U))}}else{if(I!==B){x=0;break}o+=I,O++,w++,0===x&&"c"===I||1===x&&"a"===I||2===x&&"l"===I||3===x&&"c"===I||x>=4&&"("===I?x++:(x&&x<5||x>=4&&")"===I&&--x<5)&&(x=0),0===N&&"r"===I||1===N&&"g"===I||2===N&&"b"===I||3===N&&"a"===I||N>=3&&"("===I?(3===N&&"a"===I&&(T=1),N++):T&&","===I?++T>3&&(N=T=0):(T&&N<(T?5:4)||N>=(T?4:3)&&")"===I&&--N<(T?5:4))&&(N=T=0)}}O===b.length&&w===h.length||(f.debug&&console.error('Trying to pattern match mis-matched strings ["'+h+'", "'+b+'"]'),o=void 0),o&&(P.length?(f.debug&&console.log('Pattern found "'+o+'" -> ',P,A,"["+b+","+h+"]"),b=P,h=A,C=k=""):o=void 0)}o||(b=(E=_(a,b))[0],k=E[1],h=(E=_(a,h))[0].replace(/^([+-\/*])=/,(function(e,t){return S=t,""})),C=E[1],b=parseFloat(b)||0,h=parseFloat(h)||0,"%"===C&&(/^(fontSize|lineHeight)$/.test(a)?(h/=100,C="em"):/^scale/.test(a)?(h/=100,C=""):/(Red|Green|Blue)$/i.test(a)&&(h=h/100*255,C="")));if(/[\/*]/.test(S))C=k;else if(k!==C&&0!==b)if(0===h)C=k;else{r=r||function(){var a={myParent:e.parentNode||n.body,position:g.getPropertyValue(e,"position"),fontSize:g.getPropertyValue(e,"fontSize")},r=a.position===D.lastPosition&&a.myParent===D.lastParent,i=a.fontSize===D.lastFontSize;D.lastParent=a.myParent,D.lastPosition=a.position,D.lastFontSize=a.fontSize;var s={};if(i&&r)s.emToPx=D.lastEmToPx,s.percentToPxWidth=D.lastPercentToPxWidth,s.percentToPxHeight=D.lastPercentToPxHeight;else{var o=m&&m.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");f.init(o),a.myParent.appendChild(o),d.each(["overflow","overflowX","overflowY"],(function(e,t){f.CSS.setPropertyValue(o,t,"hidden")})),f.CSS.setPropertyValue(o,"position",a.position),f.CSS.setPropertyValue(o,"fontSize",a.fontSize),f.CSS.setPropertyValue(o,"boxSizing","content-box"),d.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],(function(e,t){f.CSS.setPropertyValue(o,t,"100%")})),f.CSS.setPropertyValue(o,"paddingLeft","100em"),s.percentToPxWidth=D.lastPercentToPxWidth=(parseFloat(g.getPropertyValue(o,"width",null,!0))||1)/100,s.percentToPxHeight=D.lastPercentToPxHeight=(parseFloat(g.getPropertyValue(o,"height",null,!0))||1)/100,s.emToPx=D.lastEmToPx=(parseFloat(g.getPropertyValue(o,"paddingLeft"))||1)/100,a.myParent.removeChild(o)}return null===D.remToPx&&(D.remToPx=parseFloat(g.getPropertyValue(n.body,"fontSize"))||16),null===D.vwToPx&&(D.vwToPx=parseFloat(t.innerWidth)/100,D.vhToPx=parseFloat(t.innerHeight)/100),s.remToPx=D.remToPx,s.vwToPx=D.vwToPx,s.vhToPx=D.vhToPx,f.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),e),s}();var W=/margin|padding|left|right|width|text|word|letter/i.test(a)||/X$/.test(a)||"x"===a?"x":"y";switch(k){case"%":b*="x"===W?r.percentToPxWidth:r.percentToPxHeight;break;case"px":break;default:b*=r[k+"ToPx"]}switch(C){case"%":b*=1/("x"===W?r.percentToPxWidth:r.percentToPxHeight);break;case"px":break;default:b*=1/r[C+"ToPx"]}}switch(S){case"+":h=b+h;break;case"-":h=b-h;break;case"*":h*=b;break;case"/":h=b/h}u[a]={rootPropertyValue:c,startValue:b,currentValue:b,endValue:h,unitType:C,easing:y},o&&(u[a].pattern=o),f.debug&&console.log("tweensContainer ("+a+"): "+JSON.stringify(u[a]),e)}else f.debug&&console.log("Skipping ["+l+"] due to a lack of browser support.")};for(var L in l)if(l.hasOwnProperty(L)){var F=g.Names.camelCase(L),M=I(l[L]);if(c(g.Lists.colors)){var R=M[0],V=M[1],H=M[2];if(g.RegEx.isHex.test(R)){for(var U=["Red","Green","Blue"],W=g.Values.hexToRgb(R),q=H?g.Values.hexToRgb(H):void 0,z=0;z<U.length;z++){var G=[W[z]];V&&G.push(V),void 0!==q&&G.push(q[z]),B(F+U[z],G)}continue}}B(F,M)}u.element=e}u.element&&(g.Values.addClass(e,"velocity-animating"),j.push(u),(m=E(e))&&(""===s.queue&&(m.tweensContainer=u,m.opts=s),m.isAnimating=!0),_===S-1?(f.State.calls.push([j,o,s,null,y.resolver,null,0]),!1===f.State.isTicking&&(f.State.isTicking=!0,w())):_++)}if(!1!==f.mock&&(!0===f.mock?s.duration=s.delay=1:(s.duration*=parseFloat(f.mock)||1,s.delay*=parseFloat(f.mock)||1)),s.easing=O(s.easing,s.duration),s.begin&&!p.isFunction(s.begin)&&(s.begin=null),s.progress&&!p.isFunction(s.progress)&&(s.progress=null),s.complete&&!p.isFunction(s.complete)&&(s.complete=null),void 0!==s.display&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=f.CSS.Values.getDisplayType(e))),void 0!==s.visibility&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&f.State.isMobile&&!f.State.isGingerbread,!1===s.queue)if(s.delay){var v=f.State.delayedElements.count++;f.State.delayedElements[v]=e;var C=(i=v,function(){f.State.delayedElements[i]=!1,m()});E(e).delayBegin=(new Date).getTime(),E(e).delay=parseFloat(s.delay),E(e).delayTimer={setTimeout:setTimeout(m,parseFloat(s.delay)),next:C}}else m();else d.queue(e,s.queue,(function(e,t){if(!0===t)return y.promise&&y.resolver(o),!0;f.velocityQueueEntryFlag=!0,m()}));""!==s.queue&&"fx"!==s.queue||"inprogress"===d.queue(e)[0]||d.dequeue(e)}y.promise&&(l&&h&&!1===h.promiseRejectEmpty?y.resolver():y.rejecter())};(f=d.extend(v,f)).animate=v;var y=t.requestAnimationFrame||s;if(!f.State.isMobile&&void 0!==n.hidden){var b=function(){n.hidden?(y=function(e){return setTimeout((function(){e(!0)}),16)},w()):y=t.requestAnimationFrame||s};b(),n.addEventListener("visibilitychange",b)}return e.Velocity=f,e!==t&&(e.fn.velocity=v,e.fn.velocity.defaults=f.defaults),d.each(["Down","Up"],(function(e,t){f.Redirects["slide"+t]=function(e,n,a,r,i,s){var o=d.extend({},n),l=o.begin,c=o.complete,u={},p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};void 0===o.display&&(o.display="Down"===t?"inline"===f.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),o.begin=function(){for(var n in 0===a&&l&&l.call(i,i),p)if(p.hasOwnProperty(n)){u[n]=e.style[n];var r=g.getPropertyValue(e,n);p[n]="Down"===t?[r,0]:[0,r]}u.overflow=e.style.overflow,e.style.overflow="hidden"},o.complete=function(){for(var t in u)u.hasOwnProperty(t)&&(e.style[t]=u[t]);a===r-1&&(c&&c.call(i,i),s&&s.resolver(i))},f(e,p,o)}})),d.each(["In","Out"],(function(e,t){f.Redirects["fade"+t]=function(e,n,a,r,i,s){var o=d.extend({},n),l=o.complete,c={opacity:"In"===t?1:0};0!==a&&(o.begin=null),o.complete=a!==r-1?null:function(){l&&l.call(i,i),s&&s.resolver(i)},void 0===o.display&&(o.display="In"===t?"auto":"none"),f(this,c,o)}})),f}function E(e){var t=d.data(e,"velocity");return null===t?void 0:t}function C(e,t){var n=E(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function k(e,t){var n=E(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function S(e){return function(t){return Math.round(t*e)*(1/e)}}function _(e,n,a,r){var i=4,s=.001,o=1e-7,l=10,c=11,u=1/(c-1),d="Float32Array"in t;if(4!==arguments.length)return!1;for(var p=0;p<4;++p)if("number"!=typeof arguments[p]||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var h=d?new Float32Array(c):new Array(c);function f(e,t){return 1-3*t+3*e}function m(e,t){return 3*t-6*e}function g(e){return 3*e}function v(e,t,n){return((f(t,n)*e+m(t,n))*e+g(t))*e}function y(e,t,n){return 3*f(t,n)*e*e+2*m(t,n)*e+g(t)}function b(t,n){for(var r=0;r<i;++r){var s=y(n,e,a);if(0===s)return n;n-=(v(n,e,a)-t)/s}return n}function E(){for(var t=0;t<c;++t)h[t]=v(t*u,e,a)}function C(t,n,r){var i,s,c=0;do{(i=v(s=n+(r-n)/2,e,a)-t)>0?r=s:n=s}while(Math.abs(i)>o&&++c<l);return s}function k(t){for(var n=0,r=1,i=c-1;r!==i&&h[r]<=t;++r)n+=u;--r;var o=n+(t-h[r])/(h[r+1]-h[r])*u,l=y(o,e,a);return l>=s?b(t,o):0===l?o:C(t,n,n+u)}var S=!1;function _(){S=!0,e===n&&a===r||E()}var O=function(t){return S||_(),e===n&&a===r?t:0===t?0:1===t?1:v(k(t),n,r)};O.getControlPoints=function(){return[{x:e,y:n},{x:a,y:r}]};var w="generateBezier("+[e,n,a,r]+")";return O.toString=function(){return w},O}function O(e,t){var n=e;return p.isString(e)?f.Easings[e]||(n=!1):n=p.isArray(e)&&1===e.length?S.apply(null,e):p.isArray(e)&&2===e.length?m.apply(null,e.concat([t])):!(!p.isArray(e)||4!==e.length)&&_.apply(null,e),!1===n&&(n=f.Easings[f.defaults.easing]?f.defaults.easing:"swing"),n}function w(e){if(e){var t=f.timestamp&&!0!==e?e:o.now(),n=f.State.calls.length;n>1e4&&(f.State.calls=function(e){for(var t=-1,n=e?e.length:0,a=[];++t<n;){var r=e[t];r&&a.push(r)}return a}(f.State.calls),n=f.State.calls.length);for(var a=0;a<n;a++)if(f.State.calls[a]){var r=f.State.calls[a],s=r[0],l=r[2],c=r[3],u=!c,h=null,m=r[5],v=r[6];if(c||(c=f.State.calls[a][3]=t-16),m){if(!0!==m.resume)continue;c=r[3]=Math.round(t-v-16),r[5]=null}v=r[6]=t-c;for(var b=Math.min(v/l.duration,1),C=0,k=s.length;C<k;C++){var S=s[C],_=S.element;if(E(_)){var O=!1;if(void 0!==l.display&&null!==l.display&&"none"!==l.display){if("flex"===l.display){d.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],(function(e,t){g.setPropertyValue(_,"display",t)}))}g.setPropertyValue(_,"display",l.display)}for(var A in void 0!==l.visibility&&"hidden"!==l.visibility&&g.setPropertyValue(_,"visibility",l.visibility),S)if(S.hasOwnProperty(A)&&"element"!==A){var x,N=S[A],T=p.isString(N.easing)?f.Easings[N.easing]:N.easing;if(p.isString(N.pattern)){var I=1===b?function(e,t,n){var a=N.endValue[t];return n?Math.round(a):a}:function(e,t,n){var a=N.startValue[t],r=N.endValue[t]-a,i=a+r*T(b,l,r);return n?Math.round(i):i};x=N.pattern.replace(/{(\d+)(!)?}/g,I)}else if(1===b)x=N.endValue;else{var B=N.endValue-N.startValue;x=N.startValue+B*T(b,l,B)}if(!u&&x===N.currentValue)continue;if(N.currentValue=x,"tween"===A)h=x;else{var L;if(g.Hooks.registered[A]){L=g.Hooks.getRoot(A);var D=E(_).rootPropertyValueCache[L];D&&(N.rootPropertyValue=D)}var j=g.setPropertyValue(_,A,N.currentValue+(i<9&&0===parseFloat(x)?"":N.unitType),N.rootPropertyValue,N.scrollData);g.Hooks.registered[A]&&(g.Normalizations.registered[L]?E(_).rootPropertyValueCache[L]=g.Normalizations.registered[L]("extract",null,j[1]):E(_).rootPropertyValueCache[L]=j[1]),"transform"===j[0]&&(O=!0)}}l.mobileHA&&void 0===E(_).transformCache.translate3d&&(E(_).transformCache.translate3d="(0px, 0px, 0px)",O=!0),O&&g.flushTransformCache(_)}}void 0!==l.display&&"none"!==l.display&&(f.State.calls[a][2].display=!1),void 0!==l.visibility&&"hidden"!==l.visibility&&(f.State.calls[a][2].visibility=!1),l.progress&&l.progress.call(r[1],r[1],b,Math.max(0,c+l.duration-t),c,h),1===b&&P(a)}}f.State.isTicking&&y(w)}function P(e,t){if(!f.State.calls[e])return!1;for(var n=f.State.calls[e][0],a=f.State.calls[e][1],r=f.State.calls[e][2],i=f.State.calls[e][4],s=!1,o=0,l=n.length;o<l;o++){var c=n[o].element;t||r.loop||("none"===r.display&&g.setPropertyValue(c,"display",r.display),"hidden"===r.visibility&&g.setPropertyValue(c,"visibility",r.visibility));var u=E(c);if(!0!==r.loop&&(void 0===d.queue(c)[1]||!/\.velocityQueueEntryFlag/i.test(d.queue(c)[1]))&&u){u.isAnimating=!1,u.rootPropertyValueCache={};var p=!1;d.each(g.Lists.transforms3D,(function(e,t){var n=/^scale/.test(t)?1:0,a=u.transformCache[t];void 0!==u.transformCache[t]&&new RegExp("^\\("+n+"[^.]").test(a)&&(p=!0,delete u.transformCache[t])})),r.mobileHA&&(p=!0,delete u.transformCache.translate3d),p&&g.flushTransformCache(c),g.Values.removeClass(c,"velocity-animating")}if(!t&&r.complete&&!r.loop&&o===l-1)try{r.complete.call(a,a)}catch(e){setTimeout((function(){throw e}),1)}i&&!0!==r.loop&&i(a),u&&!0===r.loop&&!t&&(d.each(u.tweensContainer,(function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)})),f(c,"reverse",{loop:!0,delay:r.delay})),!1!==r.queue&&d.dequeue(c,r.queue)}f.State.calls[e]=!1;for(var h=0,m=f.State.calls.length;h<m;h++)if(!1!==f.State.calls[h]){s=!0;break}!1===s&&(f.State.isTicking=!1,delete f.State.calls,f.State.calls=[])}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}))},function(e,t,n){"use strict";var a=n(1),r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(1591),s=n(1915),o=n(1938),l="function"==typeof Symbol&&Symbol.iterator;function c(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,a={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return a[e]}))):t.toString(36);var n,a}function u(e,t,n,a){var i,o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||"object"===o&&e.$$typeof===r)return n(a,e,""===t?"."+c(e,0):t),1;var d=0,p=""===t?".":t+":";if(Array.isArray(e))for(var h=0;h<e.length;h++)d+=u(i=e[h],p+c(i,h),n,a);else{var f=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(f){0;for(var m,g=f.call(e),v=0;!(m=g.next()).done;)d+=u(i=m.value,p+c(i,v++),n,a)}else if("object"===o){0;var y=""+e;s(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===y?"object with keys {"+Object.keys(e).join(", ")+"}":y,"")}}return d}var d=/\/+/g;function p(e){return(""+e).replace(d,"$&/")}var h,f,m=g,g=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},v=function(e){s(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function y(e,t,n,a){this.result=e,this.keyPrefix=t,this.func=n,this.context=a,this.count=0}function b(e,t,n){var r,s,o=e.result,l=e.keyPrefix,c=e.func,u=e.context,d=c.call(u,t,e.count++);Array.isArray(d)?E(d,o,n,i.thatReturnsArgument):null!=d&&(a.isValidElement(d)&&(r=d,s=l+(!d.key||t&&t.key===d.key?"":p(d.key)+"/")+n,d=a.cloneElement(r,{key:s},void 0!==r.props?r.props.children:void 0)),o.push(d))}function E(e,t,n,a,r){var i="";null!=n&&(i=p(n)+"/");var s=y.getPooled(t,i,a,r);!function(e,t,n){null==e||u(e,"",t,n)}(e,b,s),y.release(s)}y.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h=function(e,t,n,a){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n,a),r}return new this(e,t,n,a)},(f=y).instancePool=[],f.getPooled=h||m,f.poolSize||(f.poolSize=10),f.release=v;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return o(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(a.isValidElement(e))return o(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;s(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)E(e[n],t,n,i.thatReturnsArgument);return t}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1323)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1257)),f=a(n(1497)),m=a(n(1296)),g=a(n(1274)),v=a(n(1263));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(){},E="undefined"!=typeof MutationObserver,C=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(y()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),c.elRequired=!0,(o=n.call(this,e,c))?(o._bindEventListenerCallbacks(),o._addEventListeners(),o._cacheSizes(),o._clearRecomputeDebounced=(0,g.default)((0,i.default)(t=o._clearRecompute).call(t,(0,l.default)(o)),50),o._recomputeDebounced=(0,g.default)((0,i.default)(r=o._recompute).call(r,(0,l.default)(o)),50),o._checkScrollPosition(),(0,u.default)(o)):(0,u.default)(o)}return(0,o.default)(a,[{key:"scrollToTop",value:function(e){return(0,f.default)(this.scrollToEl||0,{callback:e||b}),this}},{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e),this._addEventListeners(),this._cacheSizes(),this._checkScrollPosition(),this}},{key:"_cacheElements",value:function(e){this.el=e,this.containerEl=this.containerEl||e.parentNode}},{key:"_cacheSizes",value:function(){var e=(0,m.default)(this.containerEl),t=document.body.clientWidth,n=window.innerHeight,a=e.top,r=t-e.left-this.containerEl.offsetWidth;this._windowHeight=n,this._containerBottom=this.containerEl.offsetHeight+a,this._visibleThreshold=a+1.5*n;var i=this._isAtBottom;this._isAtBottom=!1,this._right=0,this._updateBindings(),this._right=t-this.el.offsetLeft-this.el.offsetWidth+r,this._isAtBottom=i,this._updateBindings()}},{key:"_checkScrollPosition",value:function(){var e=this._isVisible,t=this._isAtBottom,n=void 0!==window.scrollY?window.scrollY:window.pageYOffset,a=n+this._windowHeight;this._isVisible=n+this._windowHeight>=this._visibleThreshold,this._isAtBottom=this._containerBottom<=a,this._isAtBottom===t&&this._isVisible===e||this._updateBindings()}},{key:"_updateBindings",value:function(){(0,h.default)(this.el,"visible",this._isVisible),(0,h.default)(this.el,"at-bottom",this._isAtBottom),this.el.style.right=this._isAtBottom||!this._right?"":this._right+"px"}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onClickBound=(0,i.default)(e=this._onClick).call(e,this),this._onScrollBound=(0,i.default)(t=this._onScroll).call(t,this),this._onResizeBound=(0,i.default)(n=this._onResize).call(n,this),this._onVisibleBound=(0,i.default)(a=this._onVisible).call(a,this),this._onMutateBound=(0,i.default)(r=this._onMutate).call(r,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),window.addEventListener("scroll",this._onScrollBound),window.addEventListener("orientationchange",this._onScrollBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),E?this._addMutationObserver():window.addEventListener("resize",this._onResizeBound,!1)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("orientationchange",this._onScrollBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),E?this._removeMutationObserver():window.removeEventListener("resize",this._onResizeBound)}},{key:"_addMutationObserver",value:function(){this._observer=new MutationObserver(this._onMutateBound),this._observer.observe(this.containerEl,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}},{key:"_removeMutationObserver",value:function(){this._observer&&this._observer.disconnect()}},{key:"_recompute",value:function(){this._cacheSizes(),this._checkScrollPosition()}},{key:"_recomputeThrottled",value:function(){this._recomputeRun||(this._recompute(),this._recomputeRun=!0),this._clearRecomputeDebounced()}},{key:"_clearRecompute",value:function(){this._recomputeRun=!1}},{key:"_onScroll",value:function(){this._recomputeThrottled(),this._checkScrollPosition()}},{key:"_onResize",value:function(){this._recomputeDebounced()}},{key:"_onClick",value:function(){this.scrollToTop()}},{key:"_onVisible",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,i.default)(t=function(){this._cacheSizes(),this._checkScrollPosition()}).call(t,this),0)}},{key:"_onMutate",value:function(e){var t;(0,v.default)(e,(0,i.default)(t=function(e){e.target!==this.el&&this._recomputeDebounced()}).call(t,this))}}]),a}(p.default);C.prototype._whitelistedParams=["containerEl","scrollToEl"],C.prototype.defaults={el:null,containerEl:null,scrollToEl:null,_isVisible:!1,_isAtBottom:!1,_containerBottom:0,_visibleThreshold:0,_windowHeight:0,_right:0,_recomputeRun:!1,_observer:null,_onClickBound:null,_onScrollBound:null,_onVisibleBound:null,_onResizeBound:null,_onMutateBound:null};var k=C;t.default=k,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"i",(function(){return h}));var a="dxp-flight-selection-view",r="dxp-exchange-flight-selection-view",i="dxp-shared-flight-selection",s="dxp-flight-table-section",o="flight-offer",l="cabin-offer-button",c="brand-offer-button",u="offer-select-button",d="selected-flight",p="dxp-calendar-ribbons",h="dxp-original-itinerary"},function(e,t,n){"use strict";var a=n(1947);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="Enter",r=8},function(e,t,n){var a=n(285),r=n(761)((function(e,t,n){a(e,n,t)}));e.exports=r},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(27),f=n.n(h),m=n(6),g=n.n(m),v=n(1),y=n.n(v),b=n(39),E=n.n(b),C=n(17),k=n.n(C),S=n(123),_=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.format,a=(e.formatDateTime,e.selectedLocale),r=E()("dxp-time",this.props.className),i=f()(a.split("-"));return y.a.createElement("time",{className:r,dateTime:t.locale("en").format("YYYY-MM-DD hh:mm:ss"),dir:"auto"},k()(t).locale(i).format(n))}}]),t}(v.Component);_.contextTypes={formatDateTime:g.a.func},_.defaultProps={className:"",formatDateTime:void 0,selectedLocale:"en-US"};var O=Object(S.b)((function(e){return{selectedLocale:e.metadata.get("selectedLocale")}}))(_);n.d(t,"a",(function(){return O}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(194),n(12)),E=n(11),C=n(1286),k=n(84),S=n(14),_=n(1305),O=n(1360),w=n(1320),P=n(1374),A=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbCompletedData",(function(){var e=n.props,t=e.seatAncillaries,a=t.hasSeats,r=t.seatsOnExtrasPageConfig,i=e.ancillaries,s=[];r.isEnabled&&a&&s.push(Object(b.i)("ancillary.items.seats.title"));var o="summaryBar.flowCrumbs.".concat(S.a.ANCILLARIES);if(!n.props.isAncillariesAvailable)return Object(b.i)("".concat(o,".notAvailable"));var l=i.size?i:Object(E.List)(),c=l.size?l.groupBy((function(e){return Object(b.i)("ancillary.items.".concat(e.get("label"),".title"))})):Object(E.OrderedMap)();if(c.size>0||s.length>0){var u=c.keySeq().toArray(),d=s.concat(u),p=d.slice(0,2).join(", ");return Object(b.i)("".concat(o,".").concat(_.a.COMPLETED),{ancillaries:p,moreItems:d.length>2?Object(b.i)("".concat(o,".moreItems")):""})}return Object(b.i)("".concat(o,".notSelected"))})),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(P.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:S.a.ANCILLARIES})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props.crumbState===_.a.COMPLETED?n.getCrumbCompletedData():"";return y.a.createElement(w.a,{crumbSubTitle:e})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(O.a,{pageName:S.a.ANCILLARIES,flowName:k.a.B2C,breadCrumbTitleOverride:n.props.breadCrumbTitleOverride})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(P.a,{crumbState:_.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:S.a.ANCILLARIES})})),g()(p()(n),"getHoverSubTitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(S.a.ANCILLARIES,".").concat(_.a.HOVER));return y.a.createElement(w.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(C.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubTitle(),onClick:function(){return e.props.onAncillariesCrumbClick(e.props.url)},className:"dxp-breadcrumb-item extras-breadcrumb-item"})}}]),t}(v.Component);g()(A,"defaultProps",{ancillaries:Object(E.List)(),breadCrumbTitleOverride:void 0,seatAncillaries:{hasSeats:!1,seatsOnExtrasPageConfig:{}}}),n.d(t,"a",(function(){return A}))},function(e,t,n){"use strict";var a=n(53),r=n(74),i=n(196),s=n(333),o=n(97),l=function(e){var t=e.locale;return"/translations/".concat(void 0===t?"en-US":t,".json").concat(Object(o.a)()?"?":"&","_=").concat(Date.now())},c=n(135),u=n(343),d=n(526);t.a=function(e){var t=e.locale,n=e.force,p=void 0!==n&&n,h=e.translationPath,f="".concat(d.a,"_").concat(t);if(!1===p&&Object(a.c)(f))return Promise.resolve(Object(a.b)(f));if(Object(s.a)())return Object(o.a)()?Object(u.a)({path:l({locale:t})}):r.a.getJSON("".concat(Object(c.a)()).concat(l({locale:t})),{credentials:"include"});var m=h?"".concat(h,"/").concat(t,".json"):"translations/".concat(t,".json"),g=Object(i.a)(m);return r.a.getJSON(g,{credentials:"include"}).then((function(e){return Object(a.e)(f,e),e}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return C}));var a=n(103),r=n.n(a),i=n(0),s=n.n(i),o=n(36),l=n.n(o),c=n(4),u=n.n(c),d=n(5),p=n.n(d),h=n(9),f=n(14),m=n(45),g=n(447),v=n(46);function y(e){return{segments:function(e){return p()(s()(e,"segmentFareRules",[]),(function(e){return u()(e.segmentKeys,(function(e,t){return l()(e)===t.origin?(e.push(t.destination),e):(e.push(t.origin),e.push(t.destination),e)}),[])}))}(e),rules:function(e){return p()(s()(e,"segmentFareRules",[]),(function(e){return s()(e,"fareBasisRules")}))}(e)}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fareRules";m.a.set(t,JSON.stringify(e))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"b2c",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t===f.a.MYB||t===f.a.CONFIRMATION){var n=null===m.a.get("fareRules")?null:JSON.parse(m.a.get("fareRules"));return new Promise((function(e){e(n)}))}var a=Object(h.l)("fareRules",e);return new Promise((function(e,t){Object(h.g)(a,h.b).then((function(t){var n=y(t);b(n),e(n)})).catch((function(){return null===m.a.get("fareRules")?t():e(JSON.parse(m.a.get("fareRules")))}))}))}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return new Promise((function(n){var a=t.getIn(["service","EYWebModule",Object(v.d)()]);k(s()(e,"[0]"),a).then((function(e){n([e])})).catch((function(){n()}))}))}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{origin:"",destination:""},t=arguments.length>1?arguments[1]:void 0;return new Promise((function(n,a){var i=e.origin,s=e.destination,o="".concat("fareRulesMini","-").concat(i,"-").concat(s);Promise.all([Object(g.a)(i),Object(g.a)(s)]).then((function(e){var l=r()(e,2),c=l[0],u=l[1];if(i&&s&&c&&u){var d="".concat(t).concat(i,"/").concat(s,"/").concat(c,"/").concat(u);Object(h.e)(d).then((function(e){b(e,o),n(e)})).catch((function(){return null===m.a.get(o)?a():n(JSON.parse(m.a.get(o)))}))}else null===m.a.get(o)?a():n(JSON.parse(m.a.get(o)))}))}))}},function(e,t,n){var a=n(342),r=n(1736);e.exports=function(e,t){return r(e||[],t||[],a)}},function(e,t){e.exports=function(e,t,n){for(var a=-1,r=e.length,i=t.length,s={};++a<r;){var o=a<i?t[a]:void 0;n(s,e[a],o)}return s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(15),r=n.n(a),i=n(58),s=n.n(i),o=n(5),l=n.n(o),c=n(38),u=n.n(c),d=n(115),p=n.n(d),h=n(2),f=n.n(h),m=(n(27),n(18)),g=n.n(m),v=n(0),y=n.n(v),b=n(4),E=n.n(b),C=n(45),k=n(1738);var S=function(e,t){var n=e.passengerIndex;return!f()(t)&&!f()(r()(t.specialServiceRequests,{passengerIndex:n,code:"GSTN"}))};function _(e){var t={},n=C.a.get("dxCreateAccount")?JSON.parse(C.a.get("dxCreateAccount")):void 0,a=!!n&&n.createAccount;return{passengers:E()(e.passengers,(function(n,r){var i=y()(r,"passengerInfo.type");f()(i)||(t[i]=p()(t[i])?t[i]+1:1);var s,o="passenger-item-".concat(i,"-").concat(t[i]);return f()(r.passengerDetails)?(n[o]={},n):(n[o]=g()({},y()(r,"passengerDetails",{}),y()(r,"passengerInfo",{}),{frequentFlyer:(s=y()(r,"preferences.frequentFlyer",[]),l()(s,(function(e){return{frequentFlyerProgram:y()(e,"airline",""),frequentFlyerNumber:y()(e,"number",""),tierLevel:y()(e,"tierLevel","")}})))},y()(r,"passengerIndex",{}),{isGstnAdded:S(r,e.pnrInfo)},y()(r,"preferences.specialPreferences",{}),u()(r,["documentInfo","visaInfo"])),o===k.a.ADT1&&a&&(n[o]=g()(n[o],{createAccount:!0})),n)}),{}),multiFrequentFlyerData:function(e){var t=y()(e,"itineraryParts",[]),n=s()(l()(t,(function(e){return y()(e,"segments",[])})));return E()(n,(function(e,t){var n=t.flight,a=n.airlineCode,r=e[n.airlineCode]||[];return r.push(u()(t,"origin","destination")),e[a]=r,e}),{})}(e),contact:e.contact&&e.contact||y()(e,"pnrInfo.contact"),businessLoyalty:e.businessLoyalty||{}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ADT1:"passenger-item-ADT-1"}},function(e,t,n){var a=n(443),r=n(769);e.exports=function(e){return r(a(e,1))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),i=n(15),s=n.n(i),o=n(330),l=n(10),c=n(337),u=n(1416),d=n(1375),p=n(1600),h=function(e,t,n){var a=e.cart,i=(a=void 0===a?{}:a).products,h=void 0===i?[]:i,f=a.total,m=void 0===f?[]:f,g=e.pnrInfo,v=(g=void 0===g?{}:g).carReservationSummary,y=g.specialServiceRequests,b=void 0===y?[]:y,E=g.itinerary,C=(E=void 0===E?{}:E).itineraryParts,k=void 0===C?[]:C,S=g.upgradeInfo,_=e.passengers,O=e.paymentOptionsDetails,w=s()(h,(function(e){return e.label===l.q})),P=s()(h,(function(e){return e.label===l.n})),A=Object(p.j)(s()(h,(function(e){return e.label===l.k}))),x=s()(h,(function(e){return e.label===l.k})),N=s()(h,(function(e){return e.label===l.l})),T=s()(h,(function(e){return e.label===l.m})),I=s()(h,(function(e){return e.label===l.p})),B=Object(p.g)(s()(h,(function(e){return e.label===l.o}))),L=s()(h,(function(e){return e.label===l.r})),D=S?S.segmentUpgradeInfos.filter((function(e){return e.status===d.a.WAITLISTED})):[],j=D.length>0&&Object(p.o)(S,D),F=j&&Object(p.h)(j),M=Object(p.u)(k),R=Object(p.s)(x,t),V=Object(p.t)(M,_,I),H=Object(p.c)(M,A,!0),U=Object(c.a)(k),W=Object(p.b)(U,A,!0),q=Object(p.w)(x,n),z=Object(p.a)(A),G=Object(o.a)({passengers:_}),K=s()(h,(function(e){return e.label===l.i})),Y=void 0!==K||r()(v)?K:Object(u.a)(v),Q=Object(p.v)(b),X=Object(p.r)(Q,k),J=r()(T)?{}:Object(p.B)(_,T,N);return{surcharges:R,taxes:Object(p.A)(w,I,x,L),total:m,itinerary:{itineraryParts:X},seats:Object(p.z)(I,V),insurance:Object(p.l)(B),segments:M,upgrades:Object(p.n)(L),waitListedUpgrades:F,seatAssignmentPerSegment:V,passengerTypeCount:G,discount:N,ancillaries:Object(p.x)(x,t),itineraryPartAirports:U,itineraryEntireTripAncillaries:z,segmentAncillaries:H,itineraryPartAncillaries:W,standaloneAncillaries:q,paymentOptionsDetails:O,passengers:{passengers:_},fees:Object(p.y)(P),baseFare:{breakdownElements:Object(p.d)(_,T),total:T?T.total:[],label:l.m},updatedBaseFare:J,carPrice:Y,selectedBrands:Q,products:h,showGroupedTaxes:!0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n.n(a),i=n(15),s=n.n(i),o=n(330),l=n(10),c=n(337),u=n(1416),d=n(1375),p=n(1600),h=function(e,t,n){var a=e.cart,i=(a=void 0===a?{}:a).products,h=void 0===i?[]:i,f=a.total,m=void 0===f?[]:f,g=e.pnrInfo,v=(g=void 0===g?{}:g).carReservationSummary,y=g.specialServiceRequests,b=void 0===y?[]:y,E=g.itinerary,C=(E=void 0===E?{}:E).itineraryParts,k=void 0===C?[]:C,S=g.upgradeInfo,_=e.passengers,O=e.paymentOptionsDetails,w=s()(h,(function(e){return e.label===l.q})),P=s()(h,(function(e){return e.label===l.n})),A=s()(h,(function(e){return e.label===l.k})),x=Object(p.k)(s()(h,(function(e){return e.label===l.l}))),N=s()(h,(function(e){return e.label===l.m})),T=s()(h,(function(e){return e.label===l.p})),I=Object(p.g)(s()(h,(function(e){return e.label===l.o}))),B=s()(h,(function(e){return e.label===l.r})),L=Object(p.u)(k),D=Object(p.p)(A,t),j=Object(p.q)(L,_,T),F=Object(p.c)(L,A),M=Object(c.a)(k),R=Object(p.b)(M,A),V=Object(p.a)(A),H=Object(p.w)(A,n),U=Object(o.a)({passengers:_}),W=s()(h,(function(e){return e.label===l.i})),q=void 0!==W||r()(v)?W:Object(u.a)(v),z=Object(p.d)(_,N),G=e.isLoading?[]:Object(p.f)(N,w,x),K=S?S.segmentUpgradeInfos.filter((function(e){return e.status===d.a.WAITLISTED})):[],Y=K.length>0&&Object(p.o)(S,K),Q=Y&&Object(p.h)(Y),X=Object(p.v)(b);return{surcharges:D,total:m,itinerary:{itineraryParts:Object(p.r)(X,k)},baseFare:Object(p.e)(w,x,z,G),seats:Object(p.m)(T,j),insurance:Object(p.l)(I),segments:L,upgrades:Object(p.h)(B),waitListedUpgrades:Q,seatAssignmentPerSegment:j,passengerTypeCount:U,ancillaries:Object(p.i)(A,t),itineraryPartAirports:M,itineraryEntireTripAncillaries:V,standaloneAncillaries:H,segmentAncillaries:F,itineraryPartAncillaries:R,paymentOptionsDetails:O,passengers:{passengers:_},fees:Object(p.y)(P),carPrice:q,selectedBrands:X,products:h,showGroupedTaxes:!1}}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1325)),s=a(n(1309)),o=a(n(1260)),l=a(n(1326)),c=a(n(1310)),u=a(n(1265)),d=a(n(1350)),p=a(n(1250)),h=a(n(1240)),f=a(n(1282)),m=a(n(1278)),g=a(n(1238)),v=a(n(1239)),y=a(n(1323)),b=a(n(1258)),E=a(n(1244)),C=a(n(1245)),k=a(n(1241)),S=a(n(1494)),_=a(n(1242)),O=a(n(1384)),w=a(n(1495)),P=a(n(1327)),A=a(n(1770)),x=a(n(1247)),N=a(n(1248)),T=a(n(1251)),I=a(n(1351)),B=a(n(1267)),L=a(n(1394)),D=n(1283),j=a(n(1497)),F=a(n(1498)),M=a(n(1499)),R=a(n(1500)),V=a(n(1352)),H=a(n(1776)),U=n(1271);function W(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var q=function(){},z=(0,w.default)("YYYY-MM-DD");function G(){var e=document.createElement("span");return e.className="spark-input spark-date",e.innerHTML='<input class="spark-input__field" type="date"><span class="spark-label"></span>',e}function K(e,t){return e&&e.hasOwnProperty("length")?t.els=e:e instanceof HTMLElement?t.els=[e]:(t=e||{}).els=[G()],t.visibleCounts=t.visibleCounts||(t.visibleCount?[t.visibleCount]:null),t.mins=t.mins||(t.min?[t.min]:[]),t.maxes=t.maxes||(t.max?[t.max]:[]),t.values=(0,S.default)(t)||(t.value?[t.value]:[]),t}var Y=function(e){(0,E.default)(a,e);var t,n=(t=a,function(){var e,n=(0,k.default)(t);if(W()){var a=(0,k.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,C.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.default)(this,a),r=K(e,r),(t=n.call(this,e,r))?((t.calendarEl?q:t._createCalendar).call((0,y.default)(t)),t._cacheCalendarElements(),t._bindEventListenerCallbacks(),t._addEventListeners(),t._initDatesToShow(),(0,C.default)(t)):(0,C.default)(t)}return(0,v.default)(a,[{key:"update",value:function(e){return e&&(this._removeEventListeners(),this.els=e instanceof Array?e:[e],this._cacheElements(),this._addEventListeners()),this._parseInputElsParams(),this._initDatesToShow(),null!==this.activeIndex&&(this.render(),this._checkSize()),this}},{key:"open",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._isDisabled[t]?this:(this._unfillToggle(),"object"===(0,m.default)(t)&&(n=t,t=0),this.activeIndex===t||(null!==this.activeIndex&&this._deactivateElement(this.activeIndex),clearTimeout(this._openCloseTimer),this.activeIndex=t,this.popover||this._createPopover(),this._initDatesToShow(),this.updateValues(),this.render({clearCache:!0}),this._openCloseTimer=(0,f.default)((0,h.default)(e=function(){this.popover.open({affixTo:this.els[t].querySelector(".spark-date__calendar-toggle")})}).call(e,this),n.delay||0),this._activateElement(t)),this)}},{key:"close",value:function(e){var t;if(this._unfillToggle(),e=e||{},null===this.activeIndex||!this.popover)return this;this._deactivateElement(this.activeIndex),clearTimeout(this._openCloseTimer),this.activeIndex=null,this._openCloseTimer=(0,f.default)((0,h.default)(t=function(){this.popover.close()}).call(t,this),e.delay||0)}},{key:"getValue",value:function(e){return(0,S.default)(this)[e||0]}},{key:"setValue",value:function(e,t,n){var a,r,i,s="object"===(0,m.default)(e)?e:z.getValues(e);t instanceof HTMLElement?(r=t,t=(0,p.default)(i=this.inputEls).call(i,r)):(t=t||0,r=this.inputEls[t]);if((0,S.default)(this)[t]=s,e&&this._checkValues(t,n),r.value=e&&s===e?z.getString(e):e||"",this._inputsChanging=this._inputsChanging||[],-1===(0,p.default)(a=this._inputsChanging).call(a,t)){var o,l;this._inputsChanging.push(t),(0,L.default)(r,"change"),(this.onChange||q)(r,r.value,this);var c=(0,p.default)(o=this._inputsChanging).call(o,t);(0,d.default)(l=this._inputsChanging).call(l,c,1)}return this.render({clearCache:!0}),this}},{key:"clearValues",value:function(){for(var e=0,t=this.inputEls.length;e<t;e++)this.clearValue(e);return this}},{key:"clearValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.values=(0,S.default)(this)||[],!this.inputEls[e])throw new Error("Cannot clear value at index ".concat(e,". No input element exists with that index!"));return(0,S.default)(this)[e]=this.inputEls[e].value=null,this}},{key:"updateValues",value:function(){for(var e=0,t=this.inputEls.length;e<t;e++)this.updateValue(e);return this}},{key:"updateValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.values=(0,S.default)(this)||[],!this.inputEls[e])throw new Error("Cannot update value at index ".concat(e,". No input element exists with that index!"));return(0,S.default)(this)[e]=this.inputEls[e].value?z.getValues(this.inputEls[e].value):null,this}},{key:"disable",value:function(e){for(var t,n=e||0,a=void 0!==e?e+1:this.els.length;n<a;n++)this._isDisabled[n]=!0,this.els[n].setAttribute("disabled",""),(t=this.els[n].querySelector(".spark-date__calendar-toggle"))&&t.setAttribute("disabled","");return this.close(),this}},{key:"enable",value:function(e){for(var t,n=e||0,a=void 0!==e?e+1:this.els.length;n<a;n++)this._isDisabled[n]=!1,this.els[n].removeAttribute("disabled",""),(t=this.els[n].querySelector(".spark-date__calendar-toggle"))&&t.removeAttribute("disabled");return this}},{key:"render",value:function(e){var t;return e=e||{},this.popover||this._createPopover(),e.clearCache&&(this._renderCache={}),t="year"===this.viewRange?this._renderYears():"week"===this.viewRange?this._renderWeeks():"day"===this.viewRange?this._renderDays():this._renderMonths(),this._insertContent(t,e),this._updateAttributes(),this}},{key:"remove",value:function(e){return this.popover&&this.popover.remove(),(0,b.default)((0,k.default)(a.prototype),"remove",this).call(this,e)}},{key:"next",value:function(){return this._atMax||(this._setDatesToShow(1),this.render({append:1})),this}},{key:"previous",value:function(){return this._atMin||(this._setDatesToShow(-1),this.render({prepend:1})),this}},{key:"showDate",value:function(e){var t;null===this.activeIndex&&this.open();var n=e.month||null,a=e.year||null,r=e.day||null;if(!n&&!a&&!r)return this;var i=this._datesToShow[this.activeIndex].clone(),s=this.viewRange.charAt(0).toUpperCase()+(0,u.default)(t=this.viewRange).call(t,1);a&&(i.year=a),n&&(i.month=n),r&&(i.day=r);var o=this.mins[this.activeIndex];o&&i["before"+s](o)&&(i=o.clone());var l=this.maxes[this.activeIndex];return l&&i["after"+s](l)&&(i=l.clone()),this._datesToShow[this.activeIndex]=i,this._setDatesToShow(),this.render()}},{key:"_renderYears",value:function(){throw new Error("Displaying years in the calendar is not yet supported!")}},{key:"_renderWeeks",value:function(){throw new Error("Displaying weeks in the calendar is not yet supported!")}},{key:"_renderDays",value:function(){throw new Error("Displaying days in the calendar is not yet supported!")}},{key:"_renderMonths",value:function(){for(var e=[],t=0,n=this._datesToShow.length,a=P.default.now();t<n;t++)e.push(this._renderMonth(this._datesToShow[t],a));return e}},{key:"_renderMonth",value:function(e,t){var n=e.year+"-"+e.month;if(this._renderCache=this._renderCache||{},this._renderCache[n])return this._renderCache[n];var a=document.createElement("div"),r="";return a.className="spark-calendar__month "+this._getMonthClassNames(e),r+='<div class="spark-calendar__month-title">',this.quickJump&&1===this.visibleCounts[this.activeIndex]?r+=this._renderMonthQuickJump(e):r+=e.monthName+" "+e.year,r+="</div>",r+=this._renderMonthDaysOfWeek(),r+=this._renderMonthDays(e,t),a.innerHTML=r,this._renderCache[n]=a}},{key:"_renderMonthQuickJump",value:function(e){var t,n,a,r,i=document.createElement("div"),s=this.mins[this.activeIndex]?this.mins[this.activeIndex].clone():null,o=this.maxes[this.activeIndex]?this.maxes[this.activeIndex].clone():null,u="number"==typeof this.quickJumpRange&&this.quickJumpRange%1==0?this.quickJumpRange:50;s||((s=e.clone()).year=s.year-u),o||((o=e.clone()).year=o.year+u);var d=(0,c.default)(t=(0,l.default)(n=P.default.getMonthNames()).call(n,(function(e,t){return s.year===o.year&&(t+1<s.month||t+1>o.month)?null:{value:t+1,text:e}}))).call(t,(function(e){return e}));return d.length&&1!==d.length?(r=document.createElement("label"),(0,x.default)(r,"spark-select spark-calendar__select"),r.appendChild((0,A.default)({selected:e.month,attributes:{class:"spark-select__input",name:"month"},options:d}))):(r=document.createElement("span")).innerHTML=e.monthName+" ",s.year===o.year?(a=document.createElement("span")).innerHTML=e.year:(a=document.createElement("label"),(0,x.default)(a,"spark-select spark-calendar__select"),a.appendChild((0,A.default)({selected:e.year,attributes:{class:"spark-select__input",name:"year"},options:(0,H.default)(o.year,s.year-1)}))),(0,I.default)(i,[r,a]),i.innerHTML}},{key:"_renderMonthDaysOfWeek",value:function(){for(var e=P.default.getDayNames(),t=0,n=e.length,a='<div class="spark-calendar__days-of-week">';t<n;t++)a+='<span class="spark-calendar__day-of-week">'+e[t][0]+"</span>";return a+"</div>"}},{key:"_renderMonthDays",value:function(e,t){for(var n=e.monthStart.dayOfWeek,a=n>1?e.monthStart.weekStart:null,r=e.monthEnd,i=0,s=0,o='<div class="spark-calendar__days">',l=0,c=a?a.month:e.month,u=a?a.year:e.year,d=t.year===e.year&&t.month===e.month,p=a?1:null;i<6;i++){for(;s<7;s++)l=a?a.day+s:l+1,o+=this._renderMonthDay(l,c,u,d,t,p),a&&s+1>=n-1?(a=null,p=null,l=0,c=e.month,u=e.year,d=t.year===e.year&&t.month===e.month):l>=r.day&&i>0&&(p=2,d=!1,l=0,++c>12&&(u++,c=1));s=0}return o+"</div>"}},{key:"_renderMonthDay",value:function(e,t,n,a,r,i){var s=P.default.create({year:n,month:t,day:e}),o="<a",l=i||this._isDayDisabled(s);return o+=' aria-label="'+s.dayName+" "+e+" "+s.monthName+" "+n+'"',o+=l?"":' data-date="'+z.getString(s)+'"',o+=i?' data-direction="'+(2===i?"next":"previous")+'"':"",o+=l?' tabindex="-1" aria-hidden="true"':"",o+=' class="spark-calendar__day',o+=a&&r.day===e&&r.month===t&&r.year===n?" spark-calendar__day--today":"",o+=i?" spark-calendar__day--inactive":"",o+=l?" spark-calendar__day--disabled":"",o+=this._isDaySelected(s)?" spark-calendar__day--selected":"",o+=this._isDayRangeStart(s)?" spark-calendar__range-start":"",o+=this._isDayRangeMiddle(s)?" spark-calendar__range-middle":"",o+=this._isDayRangeEnd(s)?" spark-calendar__range-end":"",o+=this._isDayRangeLast(s)?" spark-calendar__range-last":"",o+='"',o+=' href="#"><span>',o+=e,o+=this._getDayInfo(s),o+="</span></a>"}},{key:"_insertContent",value:function(e,t){var n;this._currentContent=this._currentContent||[],t=t||{};var a,r=0;if(this.animate)if(t.prepend){var i;for(a=(n=(0,u.default)(i=this._currentContent).call(i,-t.prepend)).length;r<a;r++)e.push(n[r]);this.calendarEl.setAttribute("data-prepend-count",a),this._animateContent((function(){this.calendarEl.removeAttribute("data-prepend-count"),this._animateContent((function(){e=(0,u.default)(e).call(e,0,-t.prepend),this._insertContent(e)}),this.animationDuration)}),10)}else if(t.append){var s;for(a=(n=(0,u.default)(s=this._currentContent).call(s,0,t.append)).length;r<a;r++)e.unshift(n[r]);this.calendarEl.setAttribute("data-append-count",a),this._animateContent((function(){(0,x.default)(this.calendarEl,"no-animate"),e=(0,u.default)(e).call(e,t.append),this._insertContent(e),this.calendarEl.removeAttribute("data-append-count"),this._animateContent((function(){(0,N.default)(this.calendarEl,"no-animate")}),10)}),this.animationDuration)}(0,I.default)(this.calendarContentEl,this._currentContent=e,!0)}},{key:"_isDaySelected",value:function(e){return(0,S.default)(this)&&e.equal((0,S.default)(this))}},{key:"_isDayRangeStart",value:function(e){return this.inputEls.length>1&&(0,S.default)(this)&&e.equal((0,S.default)(this)[0])}},{key:"_isDayRangeMiddle",value:function(e){var t;return this.inputEls.length>1&&(0,S.default)(this)&&(0,S.default)(this).length>1&&e.equal((0,u.default)(t=(0,S.default)(this)).call(t,1,-1))}},{key:"_isDayRangeEnd",value:function(e){return this.inputEls.length>1&&(0,S.default)(this)&&(0,S.default)(this).length>1&&e.equal((0,S.default)(this)[(0,S.default)(this).length-1])}},{key:"_isDayRangeLast",value:function(e){for(var t=(0,S.default)(this).length-1;t>0;t--)if((0,S.default)(this)[t]){if(!e.equal((0,S.default)(this)[t]))return!1;break}return!0}},{key:"_isDayDisabled",value:function(e){var t;return this.daysDisabled&&this.daysDisabled[e.year]&&this.daysDisabled[e.year][e.month]&&-1!==(0,p.default)(t=this.daysDisabled[e.year][e.month]).call(t,e.day)||this.mins[this.activeIndex]&&e.before(this.mins[this.activeIndex],!0)||this.maxes[this.activeIndex]&&e.after(this.maxes[this.activeIndex],!0)}},{key:"_getDayInfo",value:function(e){return this.daysInfo&&this.daysInfo[e.year]&&this.daysInfo[e.year][e.month]&&this.daysInfo[e.year][e.month][e.day]?'<span class="spark-calendar__day-note">'+this.daysInfo[e.year][e.month][e.day]+"</span>":""}},{key:"_getMonthClassNames",value:function(e){var t=[];if(e.equalMonth((0,S.default)(this))&&t.push("has-value"),this._isRange&&this.els.length>1){var n,a=e.equalMonth((0,S.default)(this)[0]),r=e.equalMonth((0,S.default)(this)[(0,S.default)(this).length-1]),i=e.equalMonth((0,u.default)(n=(0,S.default)(this)).call(n,1,-1)),s=e.afterMonth((0,S.default)(this)),o=e.beforeMonth((0,S.default)(this)),l=(0,S.default)(this)[(0,S.default)(this).length-1]&&e.after((0,S.default)(this)[(0,S.default)(this).length-1]);a&&t.push("range-start"),r&&t.push("range-end"),i&&t.push("range-middle"),s&&t.push("value-before"),o&&t.push("value-after"),l&&t.push("after-range-end")}return t.join(" ")}},{key:"_createCalendar",value:function(){var e=document.createElement("div");if((0,x.default)(e,"spark-calendar"),this.showTodayButton){var t='<button type="button" class="spark-calendar__today spark-btn spark-btn--text">'+this.todayButtonLabel+"</button>";e.innerHTML='<nav class="spark-calendar__nav"><button class="spark-calendar__previous spark-icon-chevron-left" aria-label="Previous month"></button><button class="spark-calendar__next spark-icon-chevron-right" aria-label="Next month"></button></nav><div class="spark-calendar__overflow spark-calendar__overflow--has-footer"><div class="spark-calendar__content"></div><div class="spark-calendar__footer">'+t+"</div></div>"}else e.innerHTML='<nav class="spark-calendar__nav"><button class="spark-calendar__previous spark-icon-chevron-left" aria-label="Previous month"></button><button class="spark-calendar__next spark-icon-chevron-right" aria-label="Next month"></button></nav><div class="spark-calendar__overflow"><div class="spark-calendar__content"></div></div>';this.calendarEl=e,this.calendarContentEl=e.querySelector(".spark-calendar__content"),this.calendarOverflowEl=e.querySelector(".spark-calendar_overflow")}},{key:"_createPopover",value:function(){var e,t;this.popover=new O.default(document.createElement("div"),{anchorX:"center",anchorY:"bottom",contentEl:this.calendarEl,onClose:(0,h.default)(e=this._onPopoverClose).call(e,this),onOpen:(0,h.default)(t=this._onPopoverOpen).call(t,this)})}},{key:"_cacheElements",value:function(){this.inputEls=[];for(var e,t=0,n=this.els.length;t<n;t++)e="input"===this.els[t].nodeName.toLowerCase()?this.els[t]:this.els[t].querySelector('input[type="date"]'),this.inputEls[t]=e}},{key:"_cacheCalendarElements",value:function(){this.nextButtonEl=this.calendarEl.querySelector(".spark-calendar__next"),this.previousButtonEl=this.calendarEl.querySelector(".spark-calendar__previous")}},{key:"_parseParams",value:function(){this._parseInputElsParams(),this._isRange=this.els.length>1,this.autoAdvance=null!==this.autoAdvance?this.autoAdvance:(0,U.boolean)(this.els[0],"data-auto-advance",!0),this.autoClose=null!==this.autoClose?this.autoClose:(0,U.boolean)(this.els[0],"data-auto-close",!0),this.closeDelay=null!==this.closeDelay?this.closeDelay:(0,U.number)(this.els[0],"data-close-delay",500),this.quickJump=null!==this.quickJump?this.quickJump:(0,U.boolean)(this.els[0],"data-quick-jump",!1),this.viewRange=null!==this.viewRange?this.viewRange:(0,U.string)(this.els[0],"data-view-range","month"),this.animate=null!==this.animate?this.animate:(0,U.boolean)(this.els[0],"data-animate",!0),this.animationDuration=null!==this.animationDuration?this.animationDuration:(0,U.number)(this.els[0],"data-animation-duration",100),this.showOnFocus=null!==this.showOnFocus?this.showOnFocus:(0,U.boolean)(this.els[0],"data-show-on-focus",!1),this.showTodayButton=null!==this.showTodayButton?this.showTodayButton:(0,U.boolean)(this.els[0],"data-show-today-button",!1),this.todayButtonLabel=null!==this.todayButtonLabel?this.todayButtonLabel:(0,U.string)(this.els[0],"data-today-button-label","Select Today")}},{key:"_parseInputElsParams",value:function(){var e=this.inputEls;if(e){for(var t=0,n=e.length,a=[],r=[],i=[],s=[],l=[];t<n;t++)e[t]&&(this.mins&&this.mins[t]?a[t]="object"===(0,m.default)(this.mins[t])?this.mins[t]:z.getValues(this.mins[t]):e[t].getAttribute("min")&&(a[t]=z.getValues(e[t].getAttribute("min"))),this.maxes&&this.maxes[t]?r[t]="object"===(0,m.default)(this.maxes[t])?this.maxes[t]:z.getValues(this.maxes[t]):e[t].getAttribute("max")&&(r[t]=z.getValues(e[t].getAttribute("max"))),(0,S.default)(this)&&(0,S.default)(this)[t]?i[t]="object"===(0,m.default)((0,S.default)(this)[t])?(0,S.default)(this)[t]:z.getValues((0,S.default)(this)[t]):e[t].value&&(i[t]=z.getValues(e[t].value)),l[t]=(0,U.boolean)(e[t],"disabled",!1),this.visibleCounts||(s[t]=(0,o.default)(e[t].getAttribute("data-visible-count"),10)||1));this.mins=a,this.minVisible=P.default.earliest(a),this.maxes=r,this.maxVisible=P.default.latest(r),this.values=i,this._isDisabled=l,s.length&&(this.visibleCounts=s)}}},{key:"_initDatesToShow",value:function(){var e=[],t=0,n=(0,S.default)(this).length;for((0,S.default)(this)[this.activeIndex]&&e.push((0,S.default)(this)[this.activeIndex].clone());t<n&&!e.length;t++)(0,S.default)(this)[t]&&e.push((0,S.default)(this)[t].clone());for(t=0,n=this.mins.length;t<n&&!e.length;t++)this.mins[t]&&e.push(this.mins[t].clone());e.length||e.push(P.default.now()),this._datesToShow=e,this._setDatesToShow()}},{key:"_setDatesToShow",value:function(e){var t,n,a,r,i=this._datesToShow,s="xs"===this._currentBreakpoint||"sm"===this._currentBreakpoint?1:this.visibleCounts[this.activeIndex]||this.visibleCounts[0]||1,o=0,l=this.viewRange.charAt(0).toUpperCase()+(0,u.default)(t=this.viewRange).call(t,1);if(i.length>s&&(0,d.default)(i).call(i,s),e)if(i=this._datesToShow=(0,d.default)(i).call(i,0,1),e<0)for(;o>e;o--)i[0]=i[0]["previous"+l];else for(;o<e;o++)i[0]=i[0]["next"+l];for(this._atMin=this._checkMinDateVisible(l,i),this._atMax=this._checkMaxDateVisible(l,i),o=0;i.length<s;)a=!e&&this.activeIndex===(0,S.default)(this).length-1&&(0,S.default)(this)[(0,S.default)(this).length-1]&&(0,S.default)(this)[0]&&!(0,S.default)(this)[(0,S.default)(this).length-1]["equal"+l]((0,S.default)(this),!0),this._atMax||a?(r="unshift",(n=i[o]["previous"+l])["before"+l](this.minVisible)&&(n=i[o]["next"+l],r="push")):(r="push",(n=i[o]["next"+l])["after"+l](this.maxVisible)&&(n=i[o]["previous"+l],r="unshift")),"push"===r?(i.push(n),o=i.length-1):(i.unshift(n),o=0);this._atMin=this._checkMinDateVisible(l,i),this._atMax=this._checkMaxDateVisible(l,i),this._updateNav()}},{key:"_checkMinDateVisible",value:function(e,t){if(this.minVisible){var n=this.minVisible;return!(!n||!t[0]["equal"+e](n)&&!t[0]["before"+e](n))&&(t[0]=n,!0)}}},{key:"_checkMaxDateVisible",value:function(e,t){if(this.maxVisible){var n=this.maxVisible;return!(!n||!t[t.length-1]||!t[t.length-1]["equal"+e](n)&&!t[t.length-1]["after"+e](n))&&(t[t.length-1]=n,!0)}}},{key:"_checkValues",value:function(e,t){var n=this._checkMinMaxValues();if(this._isRange&&!t)for(var a=(0,S.default)(this).length-1;a>=0;a--)(0,S.default)(this)[a]&&(0,S.default)(this)[a-1]&&(0,S.default)(this)[a].beforeDay((0,S.default)(this)[a-1],!0)&&(a===e?this.setValue(null,a-1,!0):this.setValue(null,a,!0),n=!0);return n}},{key:"_checkMinMaxValues",value:function(){for(var e=0,t=(0,S.default)(this).length,n=!1;e<t;e++)this.maxes&&this.maxes[e]&&(0,S.default)(this)[e]&&(0,S.default)(this)[e].after(this.maxes[e],!0)?((0,S.default)(this)[e]=this.maxes[e].clone(),n=!0):this.mins&&this.mins[e]&&(0,S.default)(this)[e]&&(0,S.default)(this)[e].before(this.mins[e],!0)&&((0,S.default)(this)[e]=this.mins[e].clone(),n=!0);return n}},{key:"_animateContent",value:function(e,t){this._animationQueue=this._animationQueue||[],this._animationQueue.push({cb:e,d:t}),this._runAnimation()}},{key:"_runAnimation",value:function(){if(!this._animationTimer){var e,t=this._animationQueue.shift();if(t)this._animationTimer=(0,f.default)((0,h.default)(e=function(){t.cb.call(this),this._animationTimer=null,this._runAnimation()}).call(e,this),t.d)}}},{key:"_updateAttributes",value:function(){this.calendarEl.setAttribute("data-visible-count","xs"===this._currentBreakpoint?1:this.visibleCounts[this.activeIndex]||this.visibleCounts[0]||1),this._updateNav()}},{key:"_updateNav",value:function(){this.previousButtonEl&&(this._atMin?this.previousButtonEl.setAttribute("disabled",!0):this.previousButtonEl.removeAttribute("disabled")),this.nextButtonEl&&(this._atMax?this.nextButtonEl.setAttribute("disabled",!0):this.nextButtonEl.removeAttribute("disabled"))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,o,l,c;this._onInputChangeBound=(0,h.default)(e=this._onInputChange).call(e,this),this._onSelectChangeBound=(0,h.default)(t=this._onSelectChange).call(t,this),this._onInputFocusBound=(0,h.default)(n=this._onInputFocus).call(n,this),this._onClickBound=(0,h.default)(a=this._onClick).call(a,this),this._onCalendarClickBound=(0,h.default)(r=this._onCalendarClick).call(r,this),this._onKeydownBound=(0,h.default)(i=this._onKeydown).call(i,this),this._onCalendarKeydownBound=(0,h.default)(s=this._onCalendarKeydown).call(s,this),this._onCalendarMouseOverBound=(0,h.default)(o=this._onCalendarMouseOver).call(o,this),this._onCalendarMouseOutBound=(0,h.default)(l=this._onCalendarMouseOut).call(l,this),this._onResizeBound=(0,h.default)(c=this._onResize).call(c,this)}},{key:"_addEventListeners",value:function(){for(var e=0,t=this.els.length;e<t;e++)this.els[e].addEventListener("click",this._onClickBound),this.els[e].addEventListener("keydown",this._onKeydownBound),this.inputEls[e].addEventListener("change",this._onInputChangeBound),this.inputEls[e].addEventListener("focus",this._onInputFocusBound);this.calendarEl.addEventListener("mouseover",this._onCalendarMouseOverBound),this.calendarEl.addEventListener("mouseout",this._onCalendarMouseOutBound),this.calendarEl.addEventListener("click",this._onCalendarClickBound),this.calendarEl.addEventListener("keydown",this._onCalendarKeydownBound),this.calendarEl.addEventListener("change",this._onSelectChangeBound),window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound)}},{key:"_removeEventListeners",value:function(){for(var e=0,t=this.els.length;e<t;e++)this.els[e].removeEventListener("click",this._onClickBound),this.els[e].removeEventListener("keydown",this._onKeydownBound),this.inputEls[e].removeEventListener("change",this._onInputChangeBound),this.inputEls[e].removeEventListener("focus",this._onInputFocusBound);this.calendarEl.removeEventListener("mouseover",this._onCalendarMouseOverBound),this.calendarEl.removeEventListener("mouseout",this._onCalendarMouseOutBound),this.calendarEl.removeEventListener("click",this._onCalendarClickBound),this.calendarEl.removeEventListener("keydown",this._onCalendarKeydownBound),this.calendarEl.removeEventListener("change",this._onSelectChangeBound),window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound)}},{key:"_focusNext",value:function(){var e,t;-1!==(t=(0,p.default)(e=(0,S.default)(this)).call(e,null))&&(this.activeIndex<this.els.length-1?this.open(this.activeIndex+1):this.open(t))}},{key:"_closeOnLast",value:function(){var e;-1===(0,p.default)(e=(0,S.default)(this)).call(e,null)&&this.close({delay:this.closeDelay})}},{key:"_fillToggle",value:function(){var e;this.els[this.activeIndex]&&(e=this.els[this.activeIndex].querySelector('.spark-date__calendar-toggle [class*="spark-icon"]'))&&(0,x.default)(e,"spark-icon--fill")}},{key:"_unfillToggle",value:function(){var e;this.els[this.activeIndex]&&(e=this.els[this.activeIndex].querySelector('.spark-date__calendar-toggle [class*="spark-icon"]'))&&(0,N.default)(e,"spark-icon--fill")}},{key:"_activateElement",value:function(e){var t=this.els[e];t&&(0,x.default)(t,"active")}},{key:"_deactivateElement",value:function(e){var t=this.els[e];!t||(0,S.default)(this)[e]||(0,T.default)(t,"focus")||(0,T.default)(t,"has-partial-value")||(0,N.default)(t,"active")}},{key:"_checkSize",value:function(){var e=(0,D.get)(window.outerWidth);this._currentBreakpoint!==e&&(this._currentBreakpoint=e,this._setDatesToShow(),this.render(!0),this.popover.update())}},{key:"_scrollToInput",value:function(){var e=this.els[this.activeIndex];e&&(0,j.default)(e)}},{key:"_updateHoverClasses",value:function(e,t){var n,a;this._hoverStarts=this._hoverStarts||[],this._hoverEnds=this._hoverEnds||[],e=e instanceof Array?e:e?[e]:[],t=t instanceof Array?t:t?[t]:[];var r,o,l=[],c=[],u=[],d=[];(0,s.default)(e).call(e,(function(e){var t;-1!==(0,p.default)(t=this._hoverStarts).call(t,e)?l.push(e):e&&(c.push(e),(0,x.default)(e,"hover-start"))}),this),r=(0,i.default)(Array.prototype).call([],l,c),(0,s.default)(n=this._hoverStarts).call(n,(function(e){-1===(0,p.default)(r).call(r,e)&&(0,N.default)(e,"hover-start")}),this),(0,s.default)(t).call(t,(function(e){var t;-1!==(0,p.default)(t=this._hoverEnds).call(t,e)?u.push(e):e&&(d.push(e),(0,x.default)(e,"hover-end"))}),this),o=(0,i.default)(Array.prototype).call([],u,d),(0,s.default)(a=this._hoverEnds).call(a,(function(e){-1===(0,p.default)(o).call(o,e)&&(0,N.default)(e,"hover-end")}),this),this._hoverStarts=r,this._hoverEnds=o}},{key:"_onClick",value:function(e){if((0,B.default)(e.target,".spark-date__calendar-toggle",this.els)){var t,n=(0,B.default)(e.target,".spark-date",this.els),a=(0,p.default)(t=this.els).call(t,n);e.preventDefault(),this.open(a,{delay:1})}}},{key:"_onKeydown",value:function(e){13===e.keyCode&&(0,B.default)(e.target,".spark-date__calendar-toggle",this.els)&&this._onClick(e)}},{key:"_onCalendarKeydown",value:function(e){if((0,T.default)(e.target,"spark-calendar__day")){var t;if(37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode||(t=(0,B.default)(e.target,".spark-calendar__month",this.calendarEl)),37===e.keyCode){var n=(0,F.default)(e.target,".spark-calendar__day:not(.spark-calendar__day--disabled)");if(null!==n)n.focus();else{var a=null!==t?(0,F.default)(t,".spark-calendar__month"):null;if(a)for(var r=(0,R.default)(a.querySelector(".spark-calendar__days"),".spark-calendar__day"),i=r.length-1;i>=0;i--)if(!(0,T.default)(r[i],"spark-calendar__day--disabled")&&!(0,T.default)(r[i],"spark-calendar__day--inactive")){r[i].focus();break}}}if(39===e.keyCode){var s=(0,M.default)(e.target,".spark-calendar__day:not(.spark-calendar__day--disabled)");if(null!==s)s.focus();else{var o=null!==t?(0,M.default)(t,".spark-calendar__month"):null;if(o)for(var l=(0,R.default)(o.querySelector(".spark-calendar__days"),".spark-calendar__day"),c=0;c<l.length;c++)if(!(0,T.default)(l[c],"spark-calendar__day--disabled")&&!(0,T.default)(l[c],"spark-calendar__day--inactive")){l[c].focus();break}}}if(38===e.keyCode||40===e.keyCode){var u=t.querySelector(".spark-calendar__days"),d=(0,V.default)(u.children,e.target),p=null,h=!1;do{if(38===e.keyCode?d-=7:d+=7,null!==(p=u.children.item(d))&&!(0,T.default)(p,"spark-calendar__day--disabled")){h=!0,p.focus();break}}while(null!==p&&d>=0&&d<42);if(!h)if(38===e.keyCode){var f=null!==t?(0,F.default)(t,".spark-calendar__month"):null;if(null!==f)for(u=f.querySelector(".spark-calendar__days"),d<=0&&(d=42+d);d>=0&&d<42;){if(null!==(p=u.children.item(d))&&!(0,T.default)(p,"spark-calendar__day--disabled")){p.focus();break}d-=7}}else{var m=null!==t?(0,M.default)(t,".spark-calendar__month"):null;if(null!==m)for(u=m.querySelector(".spark-calendar__days"),d>=42&&(d-=42);d>=0&&d<42;){if(null!==(p=u.children.item(d))&&!(0,T.default)(p,"spark-calendar__day--disabled")){p.focus();break}d+=7}}}}}},{key:"_onCalendarMouseOver",value:function(e){"month"===this.viewRange&&this._onCalendarMouseOverMonths(e.target)}},{key:"_onCalendarMouseOverMonths",value:function(e){var t;if(this._isRange){var n=(0,B.default)(e,".spark-calendar__day");if(n){var a,r=(0,B.default)(e,".spark-calendar__month"),i=(0,h.default)(t=function(e){return(0,T.default)(r,e)}).call(t,this),s=[],o=[];if(!(0,S.default)(this)[this.activeIndex])if(!i("value-before")||i("after-range-end")||i("has-value")||i("value-after"))!i("has-value")||i("value-before")||i("value-after")||!(s=(0,F.default)(n,".spark-calendar__day--selected"))&&!(o=(0,M.default)(n,".spark-calendar__day--selected"))?i("has-value")&&i("range-middle")&&i("value-before")&&(a=(0,F.default)(n,".spark-calendar__day--selected"))&&(s=[a],o=[n]):(s?(s=[s],o=[n]):(o=[o],s=[n]),((0,T.default)(o[0],"spark-calendar__range-start")||(0,T.default)(s[0],"spark-calendar__range-end"))&&(s=[],o=[]));else{s.push(r.querySelector(".spark-calendar__day:not(.spark-calendar__day--inactive):not(.spark-calendar__day--disabled)")),o.push(n);for(var l=r;(l=(0,F.default)(l,".spark-calendar__month"))&&!(0,T.default)(l,"value-after")&&((0,T.default)(l,"has-value")||(0,T.default)(l,"value-before"));)(a=(a=(a=l.querySelectorAll(".spark-calendar__day--selected"))[a.length-1])||l.querySelector(".spark-calendar__day"))&&(s.push(a),a=(a=l.querySelectorAll(".spark-calendar__day"))[a.length-1],o.push(a))}this._updateHoverClasses(s,o)}else this._updateHoverClasses()}}},{key:"_onCalendarMouseOut",value:function(e){"month"===this.viewRange&&this._onCalendarMouseOutMonths(e.target)}},{key:"_onCalendarMouseOutMonths",value:function(e){var t=(0,B.default)(e,".spark-calendar__day"),n=(0,B.default)(e,".spark-calendar__days"),a=(0,B.default)(e,".spark-calendar__month");(0,N.default)(t,"hover"),(0,N.default)(n,"hover"),(0,N.default)(a,"hover"),(0,N.default)(this.calendarEl,"hover")}},{key:"_onCalendarClick",value:function(e){var t,n,a=(0,B.default)(e.target,".spark-calendar__nav",this.calendarEl),r=(0,B.default)(e.target,".spark-calendar__today",this.calendarEl);a?(0,B.default)(e.target,".spark-calendar__previous",a)?this.previous():(0,B.default)(e.target,".spark-calendar__next",a)&&this.next():(t=(0,B.default)(e.target,".spark-calendar__day"))?(e.preventDefault(),e.stopPropagation(),(0,T.default)(t,"spark-calendar__day--disabled")?"next"===(n=t.getAttribute("data-direction"))?this.next():"previous"===n&&this.previous():(this.setValue(t.getAttribute("data-date"),this.activeIndex),this.autoAdvance&&this._focusNext(),this.autoClose&&this._closeOnLast())):r&&(e.preventDefault(),e.stopPropagation(),this.setValue(P.default.now(),this.activeIndex),this.autoAdvance&&this._focusNext(),this.autoClose&&this._closeOnLast())}},{key:"_onPopoverOpen",value:function(){this._fillToggle(),this._checkSize(),"xs"===this._currentBreakpoint&&this._scrollToInput()}},{key:"_onPopoverClose",value:function(){this._unfillToggle(),this._updateHoverClasses(),this._deactivateElement(this.activeIndex),this.activeIndex=null;for(var e=0;e<this.els.length;e++)if(null!==this.els[e].querySelector(".spark-date__calendar-toggle")){this.els[e].querySelector(".spark-date__calendar-toggle").focus();break}}},{key:"_onInputChange",value:function(e){var t,n,a=(0,p.default)(t=this.inputEls).call(t,e.target);this._inputsChanging&&-1!==(0,p.default)(n=this._inputsChanging).call(n,a)||this.setValue(e.target.value,a)}},{key:"_onInputFocus",value:function(e){var t;if(this.showOnFocus){var n=(0,p.default)(t=this.inputEls).call(t,e.target);-1!==n&&this.open(n)}}},{key:"_onSelectChange",value:function(e){var t=e.target.name,n=e.target.value,a=this._datesToShow[this.activeIndex][t],r={};r[t]=n,this.showDate(r),e.target.value=a}},{key:"_onResize",value:function(){null!==this.activeIndex&&this._checkSize()}}]),a}(_.default);Y.prototype._whitelistedParams=["els","visibleCounts","autoAdvance","autoClose","closeDelay","mins","maxes","values","daysDisabled","daysInfo","quickJump","quickJumpRange","calendarEl","viewRange","animate","animationDuration","showOnFocus","onChange","showTodayButton","todayButtonLabel"],Y.prototype.defaults={els:null,inputEls:null,calendarEl:null,calendarContentEl:null,calendarOverflowEl:null,visibleCounts:null,activeIndex:null,mins:null,minVisible:null,maxes:null,maxVisible:null,values:null,daysDisabled:null,daysInfo:null,viewRange:null,autoAdvance:null,autoClose:null,quickJump:null,closeDelay:null,showTodayButton:null,todayButtonLabel:null,nextButtonEl:null,previousButtonEl:null,animate:null,animationDuration:null,showOnFocus:null,onChange:null,_isDisabled:!1,_isRange:null,_hoverStarts:null,_hoverEnds:null,_currentBreakpoint:null,_animationQueue:null,_currentContent:null,_datesToShow:null,_monthsShowing:null,_atMin:!1,_atMax:!1,_inputsChanging:!1,_openCloseTimer:null,_renderCache:null,_onClickBound:null,_onKeydownBound:null,_onCalendarMouseOverBound:null,_onCalendarMouseOutBound:null,_onCalendarClickBound:null,_onCalendarKeydownBound:null,_onSelectChangeBound:null,_onInputChangeBound:null,_onInputFocusBound:null,_onResizeBound:null};var Q=Y;t.default=Q,e.exports=t.default},function(e,t,n){var a=n(1744);e.exports=a},function(e,t,n){var a=n(1745),r=Array.prototype;e.exports=function(e){var t=e.concat;return e===r||e instanceof Array&&t===r.concat?a:t}},function(e,t,n){n(1447);var a=n(1262);e.exports=a("Array").concat},function(e,t,n){n(1322);var a=n(1747),r=n(1304),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===i||e instanceof Array&&t===i.forEach||s.hasOwnProperty(r(e))?a:t}},function(e,t,n){var a=n(1748);e.exports=a},function(e,t,n){n(1749);var a=n(1262);e.exports=a("Array").forEach},function(e,t,n){"use strict";var a=n(1246),r=n(1750);a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){"use strict";var a=n(1306).forEach,r=n(1321);e.exports=r("forEach")?function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){var a=n(1752);e.exports=a},function(e,t,n){var a=n(1753),r=Array.prototype;e.exports=function(e){var t=e.map;return e===r||e instanceof Array&&t===r.map?a:t}},function(e,t,n){n(1754);var a=n(1262);e.exports=a("Array").map},function(e,t,n){"use strict";var a=n(1246),r=n(1306).map,i=n(1254),s=n(1317)("map"),o=s&&!i((function(){[].map.call({length:-1,0:1},(function(e){throw e}))}));a({target:"Array",proto:!0,forced:!s||!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1756);e.exports=a},function(e,t,n){var a=n(1757),r=Array.prototype;e.exports=function(e){var t=e.filter;return e===r||e instanceof Array&&t===r.filter?a:t}},function(e,t,n){n(1758);var a=n(1262);e.exports=a("Array").filter},function(e,t,n){"use strict";var a=n(1246),r=n(1306).filter,i=n(1254),s=n(1317)("filter"),o=s&&!i((function(){[].filter.call({length:-1,0:1},(function(e){throw e}))}));a({target:"Array",proto:!0,forced:!s||!o},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1760);e.exports=a},function(e,t,n){var a=n(1761),r=Array.prototype;e.exports=function(e){var t=e.splice;return e===r||e instanceof Array&&t===r.splice?a:t}},function(e,t,n){n(1762);var a=n(1262);e.exports=a("Array").splice},function(e,t,n){"use strict";var a=n(1246),r=n(1339),i=n(1336),s=n(1284),o=n(1272),l=n(1381),c=n(1340),u=n(1317),d=Math.max,p=Math.min;a({target:"Array",proto:!0,forced:!u("splice")},{splice:function(e,t){var n,a,u,h,f,m,g=o(this),v=s(g.length),y=r(e,v),b=arguments.length;if(0===b?n=a=0:1===b?(n=0,a=v-y):(n=b-2,a=p(d(i(t),0),v-y)),v+n-a>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(g,a),h=0;h<a;h++)(f=y+h)in g&&c(u,h,g[f]);if(u.length=a,n<a){for(h=y;h<v-a;h++)m=h+n,(f=h+a)in g?g[m]=g[f]:delete g[m];for(h=v;h>v-a+n;h--)delete g[h-1]}else if(n>a)for(h=v-a;h>y;h--)m=h+n-1,(f=h+a-1)in g?g[m]=g[f]:delete g[m];for(h=0;h<n;h++)g[h+y]=arguments[h+2];return g.length=v-a+n,u}})},function(e,t,n){n(1764);var a=n(1252);e.exports=a.setTimeout},function(e,t,n){var a=n(1246),r=n(1255),i=n(1386),s=[].slice,o=function(e){return function(t,n){var a=arguments.length>2,r=a?s.call(arguments,2):void 0;return e(a?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};a({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:o(r.setTimeout),setInterval:o(r.setInterval)})},function(e,t,n){n(1322);var a=n(1766),r=n(1304),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.values;return e===i||e instanceof Array&&t===i.values||s.hasOwnProperty(r(e))?a:t}},function(e,t,n){var a=n(1767);e.exports=a},function(e,t,n){n(1448);var a=n(1262);e.exports=a("Array").values},function(e,t,n){e.exports=n(1769)},function(e,t,n){var a=n(1453);e.exports=a},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1250)),i=a(n(1278));var s=function(e){var t,n=document.createElement("select"),a="",s=e.attributes,o=e.selected instanceof Array?e.selected:e.selected?[e.selected]:[],l=e.options,c=l.length;for(t in s)n.setAttribute(t,s[t]);for(t=0;t<c;t++)"object"===(0,i.default)(l[t])?a+='<option value="'+l[t].value+'" '+(-1!==(0,r.default)(o).call(o,l[t].value)?"selected":"")+">"+l[t].text+"</option>":a+='<option value="'+l[t]+'" '+(-1!==(0,r.default)(o).call(o,l[t])?"selected":"")+">"+l[t]+"</option>";return n.innerHTML=a,n};t.default=s,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1265)),i=a(n(1772)),s=function(){};var o=function(e){var t,n=(e=e||{}).target;if(!n)throw new Error("Cannot tween without a target!");var a="string"==typeof e.prop?[e.prop]:e.prop,o="number"==typeof e.start?[e.start]:e.start,l="number"==typeof e.end?[e.end]:e.end,c=e.duration||250,u=e.callback||s;if(o.length!==l.length)throw new Error("Cannot tween two different sets of parameters!");return(0,i.default)((function e(s){t||(t=s);for(var d,p=s-t,h=Math.min(p/c,1),f=[],m=0,g=o.length;m<g;m++)f[m]=o[m]+(l[m]-o[m])*h;for(m=0,g=a.length;m<g;m++)d=m+1===g&&f.length-1>m?(0,r.default)(f).call(f,m):f[m],"function"==typeof n[a[m]]?n[a[m]].apply(n,d):n[a[m]]=d;p<c?(0,i.default)(e):u()}))};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r,i,s=a(n(1395)),o=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||(r=(0,s.default)(),i=r,function(e){var t=(0,s.default)(),n=Math.max(0,1e3/60-(t-i)),a=t+n;return i=a,window.setTimeout((function(){e(a-r)}),n)});t.default=o,e.exports=t.default},function(e,t,n){var a=n(1774);e.exports=a},function(e,t,n){n(1775);var a=n(1252);e.exports=a.Date.now},function(e,t,n){n(1246)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){null===t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var a=Math.max(Math.ceil((t-e)/n),0),r=new Array(a),i=0;i<a;i++,e+=n)r[i]=e;return r};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1278)),s=a(n(1250)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1274)),g=a(n(1396)),v=a(n(1247)),y=a(n(1248)),b=a(n(1251)),E=a(n(1501)),C=a(n(1502));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(k()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e,t){var r;return(0,l.default)(this,a),r=n.call(this,e,t),t=t||{},e?(r._init(e),r):(0,p.default)(r)}return(0,c.default)(a,[{key:"_carouselItem",value:function(e,t,n,a){var r={};return r.el=e,r.parent=t,r.dot=n,r.order=a,r.addTransform=function(e){r.setTransform(r.transform.x+e)},r.setTransform=function(e){e=e||0,r.transform={x:e},r.el.setAttribute("style",(0,g.default)("translate3d",r.transform.x+"px, 0px, 0px"))},r.setSelected=function(e){r.setSelected.selected===e&&void 0!==r.setSelected.selected||(e?((0,v.default)(r.el,"selected"),(0,v.default)(r.dot,"selected"),r.setSelected.selected=!0):((0,y.default)(r.el,"selected"),(0,y.default)(r.dot,"selected"),r.setSelected.selected=!1))},r.currentPosition=function(){return t.transform.x+r.transform.x+r.dims.left+r.width/2-t.dims.left},r.setTransform(),r.dims=e.getBoundingClientRect(),r.width=r.dims.width,r.el.sparkcarouselitem=r,r.dot.sparkcarouselitemdot=r,r}},{key:"_init",value:function(e){var t,n,a;(this.el=e,this.el.sparkcarousel=this,this.backe=this.el.querySelector(".spark-carousel__back"),this.forwarde=this.el.querySelector(".spark-carousel__forward"),this.outerContainer=this.el.querySelector(".spark-carousel__outer-container"),this.containerMask=this.el.querySelector(".spark-carousel__container-mask"),this.container=this.el.querySelector(".spark-carousel__container"),this.dots=this.el.querySelector(".spark-carousel__dots"),this.pauseEl=this.el.querySelector(".spark-carousel__pause"),this.opts={},this.opts.wrapItems=!!this.el.attributes["data-spark-carousel-wrap-items"],this.opts.startingVelocity=this.el.attributes["data-spark-carousel-scroll-velocity"]?this.el.attributes["data-spark-carousel-scroll-velocity"].value:10,this.opts.smoothScroll=!!this.el.attributes["data-spark-carousel-smooth-scroll"],this.opts.smoothScrollCenterItems=!!this.el.attributes["data-spark-carousel-smooth-scroll-center"],this.opts.panelScroll=!!this.el.attributes["data-spark-carousel-panel"],this.opts.edgeScroll=!(!this.opts.panelScroll&&!this.el.attributes["data-spark-carousel-edge"]),this.opts.heroCarousel=!!this.el.attributes["data-spark-carousel-hero"],this.opts.autoAdvance=!!this.el.attributes["data-spark-carousel-auto-advance"]&&this.el.attributes["data-spark-carousel-auto-advance"].value,!this.opts.autoAdvance||this.autoAdvance||this.pause)||(this.autoAdvance=window.setTimeout((0,o.default)(n=function(){this._autoAdvance()}).call(n,this),1e3*this.opts.autoAdvance));this.opts.autoAdvance&&!this.pauseH&&(this.pauseH=(0,o.default)(a=this._pause).call(a,this),this.pauseEl.addEventListener("click",this.pauseH));var r=this.el.querySelectorAll(".spark-carousel__item");this.items=[],this.totalItemWidth=0,this.dims=this.containerMask.getBoundingClientRect(),this.width=this.dims.width,this.height=this.dims.height;for(var i,s,l,c,u=document.createDocumentFragment(),d=0;d<r.length;d++)(i=document.createElement("div")).setAttribute("tabindex","-1"),u.appendChild(i),this.items.push(new this._carouselItem(r[d],this,i,d)),this.totalItemWidth+=this.items[d].width;for(;this.dots.firstChild;)this.dots.removeChild(this.dots.firstChild);(this.dots.appendChild(u),void 0!==this.container.style.msFlexAlign&&this._transformItems(-(this.totalItemWidth-this.width)/2),this._setTransform(),this._handleVisibleChildren=(0,o.default)(t=this._handleVisibleChildrenH).call(t,this),document.addEventListener("spark.visible-children",this._handleVisibleChildren,!0),this._rafHandler)||(this._rafHandler=(0,o.default)(s=this._rafHandlerH).call(s,this));this.resizeH||(this.resizeH=(0,m.default)((0,o.default)(l=this._resize).call(l,this),100),window.addEventListener("resize",this.resizeH));this.totalItemWidth>this.width?this.touchstartH||((0,y.default)(this.el,"noscroll"),this._setupListeners(),this._addTransform(-this.items[0].currentPosition()+this.width/2)):((0,v.default)(this.el,"noscroll"),this._removeListeners(),this._onNavKeyupBound=(0,o.default)(c=this._onNavKeyup).call(c,this),window.addEventListener("keyup",this._onNavKeyupBound));this._updateSelected(),(0,v.default)(this.el,"ready")}},{key:"remove",value:function(e){this._removeListeners(),window.removeEventListener("resize",this.resizeH),delete this.resizeH,document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0),delete this._handleVisibleChildren,(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"_pause",value:function(){var e;this.pause?(delete this.moves,this.autoAdvance=window.setTimeout((0,o.default)(e=function(){this._autoAdvance()}).call(e,this),1e3*this.opts.autoAdvance)):(this._rafCancel(),this.opts.smoothScroll&&!this.opts.smoothScrollCenterItems||this._scrollTo(this._selectedItem()),window.clearTimeout(this.autoAdvance),delete this.autoAdvance);this._setPause(!this.pause)}},{key:"_setPause",value:function(e){return void 0===e?(this.pause=void 0!==this.pause&&this.pause,this.pause):(e?(0,v.default)(this.el,"pause"):(0,y.default)(this.el,"pause"),this.pause=e,this.pause)}},{key:"_autoAdvance",value:function(){if(this.el&&!this.moves&&!this._laststart&&!this.paused){var e,t;this._rafCancel();var n=(0,s.default)(e=this.items).call(e,this._selectedItem());this._scrollToItem=!0,this._scrollTo(this.items[n===this.items.length-1?0:n+1]),this.autoAdvance=window.setTimeout((0,o.default)(t=function(){this._autoAdvance()}).call(t,this),1e3*this.opts.autoAdvance)}}},{key:"_setupListeners",value:function(){var e,t,n,a,r,i,s,l,c,u,d,p=(0,C.default)();this.touchstartH=(0,o.default)(e=this._touchstart).call(e,this),this.container.addEventListener("touchstart",this.touchstartH,!!p&&{passive:!1}),this.touchmoveH=(0,o.default)(t=this._touchmove).call(t,this),window.addEventListener("touchmove",this.touchmoveH,!!p&&{passive:!1}),this.touchendH=(0,o.default)(n=this._touchend).call(n,this),window.addEventListener("touchend",this.touchendH),this.mousedownH=(0,o.default)(a=this._mousedown).call(a,this),this.container.addEventListener("mousedown",this.mousedownH),this.mousemoveH=(0,o.default)(r=this._mousemove).call(r,this),window.addEventListener("mousemove",this.mousemoveH),this.mouseupH=(0,o.default)(i=this._mouseup).call(i,this),window.addEventListener("mouseup",this.mouseupH),this.forwardH=(0,o.default)(s=this._forward).call(s,this),this.forwarde.addEventListener("click",this.forwardH),this.backH=(0,o.default)(l=this._back).call(l,this),this.backe.addEventListener("click",this.backH),this.clickH=(0,o.default)(c=this._click).call(c,this),this.el.addEventListener("click",this.clickH),this._focusHandler=(0,o.default)(u=this._scrollToClicked).call(u,this),this.container.addEventListener("focus",this._focusHandler,!0),this._onNavKeyupBound=(0,o.default)(d=this._onNavKeyup).call(d,this),window.addEventListener("keyup",this._onNavKeyupBound)}},{key:"_removeListeners",value:function(){this.el.removeEventListener("touchstart",this.touchstartH),delete this.touchstartH,window.removeEventListener("touchmove",this.touchmoveH),delete this.touchmoveH,window.removeEventListener("touchend",this.touchendH),delete this.touchendH,this.el.removeEventListener("mousedown",this.mousedownH),delete this.mousedownH,window.removeEventListener("mousemove",this.mousemoveH),delete this.mousemoveH,window.removeEventListener("mouseup",this.mouseupH),delete this.mouseupH,this.forwarde.removeEventListener("click",this.forwardH),delete this.forwardH,this.backe.removeEventListener("click",this.backH),delete this.backH,this.el.removeEventListener("click",this.clickH),delete this.clickH,this.container.removeEventListener("focus",this._focusHandler,!0),delete this._focusHandler,this.pauseEl&&(this.pauseEl.removeEventListener("click",this.pauseH),delete this.pauseH),window.removeEventListener("keyup",this._onNavKeyupBound),delete this._onNavKeyupBound}},{key:"_handleVisibleChildrenH",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,o.default)(t=function(){this.change()}).call(t,this),0)}},{key:"_onNavKeyup",value:function(e){if(13===e.keyCode&&document.activeElement===this.backe&&this._back(e),13===e.keyCode&&document.activeElement===this.forwarde&&this._forward(e),13!==e.keyCode&&32!==e.keyCode||document.activeElement!==this.pauseEl||this._pause(),27===e.keyCode&&(0,b.default)(document.activeElement,"spark-carousel__item")&&!this.opts.heroCarousel){var t=(0,E.default)(document.activeElement.parentNode,".spark-carousel"),n=t[t.length-1].querySelector(".spark-carousel__skip");n&&n.focus()}}},{key:"_forward",value:function(e){var t,n=(0,s.default)(t=this.items).call(t,this._selectedItem());++n>this.items.length-1&&(this.opts.wrapItems?n=0:n--),delete this.moves;var a=this._startingVelocity;a=a<-this.opts.startingVelocity?a:-this.opts.startingVelocity,this._rafCancel(),this._scrollToItem=!0,this._scrollTo(this.items[n],a),e&&e.preventDefault()}},{key:"_back",value:function(e){var t,n=(0,s.default)(t=this.items).call(t,this._selectedItem());--n<0&&(this.opts.wrapItems?n=this.items.length-1:n++),delete this.moves;var a=this._startingVelocity;a=a>this.opts.startingVelocity?a:this.opts.startingVelocity,this._rafCancel(),this._scrollToItem=!0,this._scrollTo(this.items[n],a),e&&e.preventDefault()}},{key:"_movestart",value:function(e){this._rafCancel(),this.moves=[],this.moves.push(e)}},{key:"_move",value:function(e){this.moves&&this.moves.length>1?(this._addTransform(e.pageX-this.moves[this.moves.length-1].pageX),this.moves.push(e),e.preventDefault=!0):(this.moves&&this.moves[0]&&(Math.abs(this.moves[0].pageX-e.pageX)>Math.abs(this.moves[0].pageY-e.pageY)&&Math.abs(this.moves[0].pageX-e.pageX)>5&&e.cancelable?(this._addTransform(e.pageX-this.moves[0].pageX),this.moves.push(e),e.preventDefault=!0):Math.abs(this.moves[0].pageX-e.pageX)>5&&(this.moves[0]=e)),"touchend"!==e.type&&"mouseup"!==e.type||delete this.moves)}},{key:"_moveend",value:function(e){return this._move(e),this.opts.smoothScroll?this._interiaScroll(this.moves):this._settle(this.moves),e}},{key:"_resize",value:function(){this.change()}},{key:"change",value:function(){if(this.el){var e=this.el.getBoundingClientRect();if(e.width!==this.width||e.height!==this.height){var t;this.autoAdvance&&(window.clearTimeout(this.autoAdvance),delete this.autoAdvance),this._rafCancel();var n=this._selectedItem();this._setTransform(0),this._setTransformItems(0),this._init(this.el),(0,s.default)(t=this.items).call(t,n.el.sparkcarouselitem)>-1&&this.totalItemWidth>this.width&&(this.opts.wrapItems?this._addTransform(-this.totalItemWidth+(-n.el.sparkcarouselitem.currentPosition()+this.width/2)):this._addTransform(-n.el.sparkcarouselitem.currentPosition()+this.width/2))}}}},{key:"update",value:function(e){return e=e||this.el,this._removeListeners(),window.removeEventListener("resize",this.resizeH),delete this.resizeH,document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0),delete this._handleVisibleChildren,this._init(e),this.change(),this}},{key:"_touchstart",value:function(e){var t={type:e.type,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,timeStamp:e.timeStamp};this._movestart(t)}},{key:"_touchmove",value:function(e){var t={type:e.type,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,timeStamp:e.timeStamp,cancelable:e.cancelable};this._move(t),t.preventDefault&&e.preventDefault()}},{key:"_touchend",value:function(e){if(this.moves&&this.moves.length>2&&e.cancelable){var t={type:e.type,pageX:this.moves[this.moves.length-1].pageX,pageY:this.moves[this.moves.length-1].pageY,timeStamp:e.timeStamp};this._moveend(t)}else delete this.moves}},{key:"_mousedown",value:function(e){if(0!==e.button)return e;this.isMouseDown=!0;var t={type:e.type,pageX:e.pageX,pageY:e.pageY,timeStamp:e.timeStamp};this._movestart(t),e.preventDefault()}},{key:"_mousemove",value:function(e){if(this.isMouseDown){var t={type:e.type,pageX:e.clientX,pageY:e.clientY,timeStamp:e.timeStamp,cancelable:!0};this._move(t),t.preventDefault&&e.preventDefault()}}},{key:"_mouseup",value:function(e){if(this.moves&&this.moves.length>2){var t={type:e.type,pageX:e.pageX,pageY:e.pageY,timeStamp:e.timeStamp};this._moveend(t),this.mouseUpHandled=!0}else delete this.moves,this._scrollToClicked(e);this.isMouseDown=!1}},{key:"_click",value:function(e){this.moves&&e.preventDefault(),this.mouseUpHandled&&e.preventDefault(),delete this.mouseUpHandled}},{key:"_velocity",value:function(e){for(var t=0,n=Math.min(6,e.length-1),a=1;a<n;a++)e[e.length-a].timeStamp===e[e.length-a-1].timeStamp?t+=t/a:t+=10*(e[e.length-a].pageX-e[e.length-a-1].pageX)/(e[e.length-a].timeStamp-e[e.length-a-1].timeStamp)/n;return t}},{key:"_scrollToClicked",value:function(e){var t=e.target;if(this.el.contains(t))for(;!t.sparkcarousel;){if(t.sparkcarouselitem){this.containerMask.scrollLeft=0,delete this.moves,this._rafCancel(),this._scrollTo(t.sparkcarouselitem),e.preventDefault();break}if(t.sparkcarouselitemdot){this.containerMask.scrollLeft=0,delete this.moves,this._rafCancel();var n=t.sparkcarouselitemdot.order<this._selectedItem().order?this.opts.startingVelocity:-this.opts.startingVelocity;this._scrollTo(t.sparkcarouselitemdot,n),e.preventDefault();break}t=t.parentNode}}},{key:"_scrollTo",value:function(e,t){var n=this.width/2,a=e.currentPosition();t||(t=n-e.currentPosition()>0?this.opts.startingVelocity:-this.opts.startingVelocity),this.opts.wrapItems?this._totalDistance=t>0?a>n?n+this.totalItemWidth-a:n-a:a<n?-(this.totalItemWidth+a-n):n-a:this._totalDistance=n-a,this._startingVelocity=t,delete this.moves,this._scrollToItem=!0,this._raf=window.requestAnimationFrame(this._rafHandler)}},{key:"_rafHandlerH",value:function(e){var t;if(this.opts.autoAdvance&&this.autoAdvance&&(window.clearTimeout(this.autoAdvance),delete this.autoAdvance),!this.moves&&this._startingVelocity){this._laststart||(this._laststart=e),this._remainingDistance||(this._remainingDistance=this._totalDistance),this._lastframe?t=(e-this._lastframe)/(1/60*1e3):(this._lastframe=e,t=1);var n=this._startingVelocity*t;this.opts.smoothScroll&&!this._scrollToItem?(this._addTransform(n),this._startingVelocity*=Math.pow(.97,t),this.opts.smoothScrollCenterItems&&Math.abs(this._startingVelocity)<1&&this._scrollTo(this._selectedItem()),Math.abs(this._startingVelocity)<.5?this._startingVelocity>0&&this.transform.x>this.totalItemWidth/2-this.items[0].width/2||this._startingVelocity<0&&this.transform.x<-(this.totalItemWidth/2-this.items[this.items.length-1].width/2)?(this._scrollToItem=!0,this._scrollTo(this._selectedItem())):this._rafCancel():this._raf=window.requestAnimationFrame(this._rafHandler)):this._startingVelocity>0?n<this._remainingDistance?(this._addTransform(n),this._remainingDistance-=n,this._remainingDistance>this._totalDistance/2?this._startingVelocity*=Math.pow(1.15,t):(this._startingVelocity*=Math.pow(.9,t),this._startingVelocity=this._startingVelocity>2?this._startingVelocity:2),this._raf=window.requestAnimationFrame(this._rafHandler)):(this._addTransform(this._remainingDistance),this._rafCancel()):n>this._remainingDistance?(this._addTransform(n),this._remainingDistance-=n,this._remainingDistance<this._totalDistance/2?this._startingVelocity*=Math.pow(1.15,t):(this._startingVelocity*=Math.pow(.9,t),this._startingVelocity=this._startingVelocity<-2?this._startingVelocity:-2),this._raf=window.requestAnimationFrame(this._rafHandler)):(this._addTransform(this._remainingDistance),this._rafCancel()),this._lastframe=e}else this._rafCancel()}},{key:"_rafCancel",value:function(){var e;!this.opts.autoAdvance||this.autoAdvance||this.pause||(this.autoAdvance=window.setTimeout((0,o.default)(e=function(){this._autoAdvance()}).call(e,this),1e3*this.opts.autoAdvance));window.cancelAnimationFrame(this._raf),delete this._scrollToItem,delete this._laststart,delete this._startingVelocity,delete this._remainingDistance,delete this._totalDistance,delete this._lastframe}},{key:"_interiaScroll",value:function(e){if(e[e.length-1].timeStamp-e[e.length-2].timeStamp>100||e.length<3)return this.opts.smoothScrollCenterItems?this._scrollTo(this._selectedItem()):void 0;this._startingVelocity=this._velocity(e),delete this.moves,this._raf=window.requestAnimationFrame(this._rafHandler)}},{key:"_settle",value:function(e){if(e&&e.length>3){if(e[e.length-1].timeStamp-e[e.length-2].timeStamp>80)return this._scrollTo(this._selectedItem());var t=10*(e[e.length-3].pageX-e[e.length-4].pageX)/(e[e.length-3].timeStamp-e[e.length-4].timeStamp),n=10*(e[e.length-2].pageX-e[e.length-3].pageX)/(e[e.length-2].timeStamp-e[e.length-3].timeStamp);if(Math.abs(t)<Math.abs(n)||Math.abs(n)>.5&&Math.abs(n)>.5){var a,r=(0,s.default)(a=this.items).call(a,this._selectedItem());n>0?r>0?this._scrollTo(this.items[r-1],n):this.opts.wrapItems?this._scrollTo(this.items[this.items.length-1],n):this._scrollTo(this.items[0]):r<this.items.length-1?this._scrollTo(this.items[r+1],n):this.opts.wrapItems?this._scrollTo(this.items[0],n):this._scrollTo(this.items[this.items.length-1])}else this._selectedItem().currentPosition()>this.width/2?this._scrollTo(this._selectedItem(),-this.opts.startingVelocity):this._scrollTo(this._selectedItem(),this.opts.startingVelocity)}}},{key:"_transformItems",value:function(e){for(var t=0;t<this.items.length;t++)this.items[t].addTransform(e)}},{key:"_setTransformItems",value:function(e){for(var t=0;t<this.items.length;t++)this.items[t].setTransform(e)}},{key:"_addTransform",value:function(e){var t;if(!this.opts.smoothScrollCenterItems&&this.opts.smoothScroll||this.opts.wrapItems||this.opts.edgeScroll)this._leftbound(!1),this._rightbound(!1);else{var n,a=(0,s.default)(n=this.items).call(n,this.selectedItem);a===this.items.length-1?this._leftbound(!0):this._leftbound(!1),0===a?this._rightbound(!0):this._rightbound(!1)}if(this.transform.x+e<0&&e<0){if(this.opts.wrapItems)for(;this.transform.x+e<-(this.totalItemWidth-this.width)/2&&(!(this.totalItemWidth<this.width)||this.transform.x+e<-this.totalItemWidth/2);)t=this.items.shift(),this.items.push(t),t.addTransform(this.totalItemWidth),this._transformItems(-t.width),e+=t.width;else{if(this.opts.edgeScroll&&e<0&&this.transform.x+e-1<=-(this.totalItemWidth-this.width)/2)return this._leftbound(!0),this._setTransform(-(this.totalItemWidth-this.width)/2);e<0&&this.transform.x+e<-(this.totalItemWidth/2-this.items[this.items.length-1].width/2)&&(e=(e*=(this.totalItemWidth/2+this.items[this.items.length-1].width/2+(this.transform.x+e))/this.items[this.items.length-1].width)>0?0:e)}return this._setTransform(this.transform.x+e)}if(this.transform.x+e>0&&e>0)if(this.opts.wrapItems)for(;this.transform.x+e>-(this.width-this.totalItemWidth)/2&&(!(this.totalItemWidth<this.width)||this.transform.x+e>this.totalItemWidth/2);)t=this.items.pop(),this.items.unshift(t),t.addTransform(-this.totalItemWidth),this._transformItems(t.width),e-=t.width;else{if(this.opts.edgeScroll&&e>0&&this.transform.x+e+1>=(this.totalItemWidth-this.width)/2)return this._rightbound(!0),this._setTransform((this.totalItemWidth-this.width)/2);e>0&&this.transform.x+e>this.totalItemWidth/2-this.items[0].width/2&&(e=(e*=(this.totalItemWidth/2+this.items[0].width/2-(this.transform.x+e))/this.items[0].width)<0?0:e)}return this._setTransform(this.transform.x+e)}},{key:"_leftbound",value:function(e){return void 0===e?(this.leftbound=void 0!==this.leftbound&&this.leftbound,this.leftbound):(e?(0,v.default)(this.el,"leftbound"):(0,y.default)(this.el,"leftbound"),this.leftbound=e,this.leftbound)}},{key:"_rightbound",value:function(e){return void 0===e?(this.rightbound=void 0!==this.rightbound&&this.rightbound,this.rightbound):(e?(0,v.default)(this.el,"rightbound"):(0,y.default)(this.el,"rightbound"),this.rightbound=e,this.rightbound)}},{key:"_updateSelected",value:function(){for(var e=this.width/2,t=-1,n=1,a=0;n>a&&!(++t>this.items.length-2);)n=Math.abs(e-this.items[t].currentPosition()),a=Math.abs(e-this.items[t+1].currentPosition());return this._selectedItem(this.items[t])}},{key:"_selectedItem",value:function(e){if("object"!==(0,i.default)(e))return this.selectedItem?this.selectedItem:this._updateSelected();if(this.selectedItem&&this.selectedItem.setSelected(!1),this.selectedItem=e,(this.opts.smoothScrollCenterItems||!this.opts.smoothScroll)&&!this.opts.wrapItems&&!this.opts.edgeScroll){var t,n=(0,s.default)(t=this.items).call(t,this.selectedItem);n===this.items.length-1?this._leftbound(!0):this._leftbound(!1),0===n?this._rightbound(!0):this._rightbound(!1)}this.selectedItem.setSelected(!0)}},{key:"_setTransform",value:function(e){return e=e||0,this.transform={x:e},this.container.setAttribute("style",(0,g.default)("translate3d",e+"px, 0px, 0px")),this._updateSelected(),e}}]),a}(f.default);S.prototype.defaults={el:null},S.prototype._whitelistedParams=[];var _=S;t.default=_,e.exports=t.default},function(e,t,n){e.exports=n(1779)},function(e,t,n){var a=n(1445);e.exports=a},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1282)),s=a(n(1397)),o=a(n(1240)),l=a(n(1309)),c=a(n(1250)),u=a(n(1238)),d=a(n(1239)),p=a(n(1258)),h=a(n(1244)),f=a(n(1245)),m=a(n(1241)),g=a(n(1242)),v=a(n(1785)),y=a(n(1786)),b=a(n(1495)),E=a(n(1496)),C=a(n(1257)),k=a(n(1248)),S=a(n(1247)),_=a(n(1251)),O=a(n(1351)),w=a(n(1394)),P=a(n(1787)),A=a(n(1327)),x=a(n(1263)),N=n(1271),T=a(n(1261)),I=a(n(1273)),B=a(n(1266)),L=a(n(1275));function D(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var j=(0,b.default)("YYYY-MM-DD"),F=function(){},M=function(e){(0,h.default)(a,e);var t,n=(t=a,function(){var e,n=(0,m.default)(t);if(D()){var a=(0,m.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,f.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._convertLabel(),t._initializeInputs(),t._updateClass(),t._addEventListeners(),(0,f.default)(t)):(0,f.default)(t)}return(0,d.default)(a,[{key:"show",value:function(){return this.isActive||(this._runTypeaheads(),this.isActive=!0,this._updateClass()),this}},{key:"hide",value:function(){return this.isActive?(this.isActive=!1,this._updateClass(),this):this}},{key:"remove",value:function(e){return this._removeTypeaheads(e),this._removeSelects(e),this._removeInputPieces(),(0,p.default)((0,m.default)(a.prototype),"remove",this).call(this,e),this}},{key:"setValue",value:function(e){var t,n;for(t in e=e||{day:"",month:"",year:""},this.typeaheads)void 0!==e[t]&&(this.typeaheads[t].setValue(e[t]),n=n||!!e[t]);for(t in this.selects)void 0!==e[t]&&(this.selects[t].setValue(e[t]),n=n||!!e[t]);return!this.isActive&&n&&(this.isActive=!0),this._padTypeaheads(),this._updateClass(),this.updateInput(),this}},{key:"getValue",value:function(){return this.inputEl.value}},{key:"clearValue",value:function(){return(0,x.default)(this.isTypeahead?this.typeaheads:this.selects,(function(e,t){t.clearValue()})),this.inputEl.value="",this}},{key:"setErrorState",value:function(e){e?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")}},{key:"enable",value:function(){return(0,x.default)(this.isTypeahead?this.typeaheads:this.selects,(function(e,t){t.enable()})),this.inputEl.removeAttribute("disabled"),(0,C.default)(this.el,"disabled",!1),this}},{key:"disable",value:function(){return(0,x.default)(this.isTypeahead?this.typeaheads:this.selects,(function(e,t){t.disable()})),this.inputEl.setAttribute("disabled",""),(0,C.default)(this.el,"disabled",!0),this}},{key:"updateInput",value:function(){var e;if(this.isTypeahead&&this.typeaheads?e=this.typeaheads:this.isSelect&&(e=this.selects),e){var t,n=e.day&&e.day.getValue(!0)||0,a=e.month&&e.month.getValue(!0)||0,r=e.year&&e.year.getValue(!0)||0,i=this.inputEl.value;this.inputEl.value=-1===(0,c.default)(t=[n,a,r]).call(t,0)?(0,E.default)(r,4)+"-"+(0,E.default)(a,2)+"-"+(0,E.default)(n,2):"",i!==this.inputEl.value&&(this._pauseInputChange=!0,(0,w.default)(this.inputEl,"change"),(this.onChange||F)(this.inputEl.value,this),this._pauseInputChange=!1)}return this.currValue=this.inputEl.value,this}},{key:"getTypingValue",value:function(){var e,t="";if(this.isTypeahead&&this.typeaheads?e=this.typeaheads:this.isSelect&&(e=this.selects),e){var n=e.day&&e.day.getValue(!0),a=e.month&&e.month.getValue(!0),r=e.year&&e.year.getValue(!0);t=a.toString()+n.toString()+r.toString()}return t}},{key:"focus",value:function(e,t){var n;if(!this.isActive||!this.inFocus)return this;var a,r=(0,c.default)(n=this.typeaheadEls).call(n,this.inFocus.typeahead.el),i=this.typeaheadEls[r+e];if(t&&(a=this._getTypeaheadByElement(i))&&a.typeahead.addCharacterAtIndex(t,0),!i)return!1;var s=i.querySelector("input");return s&&(s.focus(),a&&a.typeahead.moveCaret(1)),this}},{key:"focusNext",value:function(e){return this.focus(1,e)&&this.inFocus&&!e&&this.inFocus.typeahead.moveCaretToStart(),this}},{key:"focusPrevious",value:function(e){return this.focus(-1,e)&&this.inFocus&&this.inFocus.typeahead.moveCaretToEnd(),this}},{key:"hasPartialValue",value:function(){var e;for(e in this.typeaheads)if(this.typeaheads[e].getValue())return!0;for(e in this.selects)if(this.selects[e].getValue())return!0;return!1}},{key:"update",value:function(e){return e?(this._removeTypeaheads(),this._removeSelects(),this._removeInputPieces(),this._removeEventListeners(),this._cacheElements(e),this._convertLabel(),this._initializeInputs(),this._updateClass(),this._addEventListeners()):this._runTypeaheads(),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=this.el.querySelector('[type="date"]'),this.inputLabel=this.el.querySelector(".spark-label").innerHTML,this.selectLabelPrefix=this.el.querySelector(".spark-label").getAttribute("id"),!this.inputEl)throw new Error('No <input type="date"> element present in date input container!',this.el);this.toggleEl=this.el.querySelector(".spark-date__toggle"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,B.default)('<span class="spark-input__message"></span>')}},{key:"_parseParams",value:function(){this.isActive=null!==this.isActive?this.isActive:!!this.inputEl.value,this.isSelect=null!==this.isSelect?this.isSelect:!!(0,_.default)(this.el,"spark-date--select"),this.isTypeahead=null!==this.isTypeahead?this.isTypeahead:!this.isSelect,this.format=null!==this.format?this.format:(0,N.string)(this.inputEl,"data-format","MM-DD-YYYY"),this.textFormat=null!==this.textFormat?this.textFormat:(0,N.string)(this.inputEl,"data-text-format","MM DD YYYY"),this.showDateAsText=null!==this.showDateAsText?this.showDateAsText:(0,N.boolean)(this.inputEl,"data-show-date-as-text",!1),this.parsedFormat=(0,b.default)(this.format),this.parsedTextFormat=(0,b.default)(this.textFormat),this.min=null!==this.min?this.min:this.inputEl.getAttribute("min"),this.max=null!==this.max?this.max:this.inputEl.getAttribute("max"),this.min=this.min&&j.getValues(this.min),this.max=this.max&&j.getValues(this.max),this.currValue=null!==this.inputEl.value?this.inputEl.value:null}},{key:"_initializeInputs",value:function(){this.isTypeahead?(this._initializeInputPieces(),this._runTypeaheads()):this.isSelect&&((0,k.default)(this.el,"spark-input"),this._initializeInputPieces())}},{key:"_initializeInputPieces",value:function(){var e,t;this.inputEl.style.display="none";var n,a=[];(0,l.default)(e=this.parsedFormat.parts).call(e,(0,o.default)(t=function(e){(this.isTypeahead?this._initializeTypeaheadPiece:this._initializeSelectPiece).call(this,a,e)}).call(t,this)),this.piecesEl=document.createElement("span"),this.piecesEl.className=this.isTypeahead?"spark-input__fields":"spark-select-group",(0,O.default)(this.piecesEl,a),this.isTypeahead&&(0,l.default)(a).call(a,(function(e){(0,_.default)(e,"spark-input")&&e.addEventListener("click",(function(t){e.querySelector("input").focus(),t.preventDefault()})),(0,_.default)(e,"spark-input__divider")&&e.addEventListener("click",(function(t){e.nextSibling&&e.nextSibling.querySelector("input")&&(e.nextSibling.querySelector("input").focus(),t.preventDefault())}))})),this.isSelect&&(n=this.el.querySelector(".spark-label"))&&this.piecesEl.appendChild(n),this.el.insertBefore(this.piecesEl,this.inputEl),this.inputEl.value&&(this.setValue(j.getValues(this.inputEl.value)),this.isActive=!0)}},{key:"_removeInputPieces",value:function(){this.inputEl.style.display="",this.piecesEl&&this.piecesEl.parentNode.removeChild(this.piecesEl)}},{key:"_removeTypeaheads",value:function(e){if(this.typeaheads)for(var t in this.typeaheads)this.typeaheads[t].remove(e)}},{key:"_removeSelects",value:function(e){var t;if(this.selects){for(var n in this.selects)this.selects[n].remove(e);(t=this.piecesEl.querySelector(".spark-label"))&&this.el.appendChild(t),(0,S.default)(this.el,"spark-input")}}},{key:"_initializeTypeaheadPiece",value:function(e,t){var n;switch(this.typeaheads=this.typeaheads||{},this.typeaheadEls=this.typeaheadEls||[],t.name){case"day":case"month":case"year":this.typeaheads[t.name]=new v.default({type:t.name,ariaLabelPrefix:this.inputLabel,len:t.length,placeholder:t.value,onFocus:this._onTypeaheadFocusBound,onBlur:this._onTypeaheadBlurBound,onChange:this._onPieceChangeBound,onInput:this._onTypeaheadInputBound,onBackspace:this._onTypeaheadBackspaceBound,onEnd:this._onTypeaheadEndBound}),n=this.typeaheads[t.name].typeahead.el,this.typeaheadEls.push(n);break;default:(n=document.createElement("span")).innerHTML=t.value,n.className="spark-input__divider"}e.push(n)}},{key:"_initializeSelectPiece",value:function(e,t){var n;if(this.selects=this.selects||{},this.selectEls=this.selectEls||[],-1!==(0,c.default)(n=["day","month","year"]).call(n,t.name)){var a;switch(t.name){case"day":case"month":this.selects[t.name]=new y.default({type:t.name,ariaLabelPrefix:this.selectLabelPrefix,onChange:this._onPieceChangeBound}),a=this.selects[t.name].select.el;break;case"year":var r=this.inputEl.min?j.getValues(this.inputEl.min).year:null,i=this.inputEl.max?j.getValues(this.inputEl.max).year:null;this.selects[t.name]=new y.default({min:r,max:i,type:t.name,ariaLabelPrefix:this.selectLabelPrefix,onChange:this._onPieceChangeBound}),a=this.selects[t.name].select.el}e.push(a),this.selectEls.push(a)}}},{key:"_convertLabel",value:function(){if(!this.isTypeahead&&"label"===this.el.nodeName.toLowerCase()){var e=document.createElement("fieldset");(0,P.default)(this.el,e),(0,O.default)(e,this.el.children),this.el.parentNode&&this.el.parentNode.replaceChild(e,this.el),this.el=e}}},{key:"_validate",value:function(){this.isTypeahead?this._validateTypeaheads():this.isSelect&&this._validateSelects()}},{key:"_validateTypeaheads",value:function(){if(this.typeaheads){var e,t=this.typeaheads.month?this.typeaheads.month.getValue(!0):null,n=this.typeaheads.year?this.typeaheads.year.getValue(!0):null,a=this.typeaheads.year?this.typeaheads.year.typeahead.format.length:null,r=this.typeaheads.day?this.typeaheads.day.getValue(!0):null;if("DD-MM-YYYY"===this.format){var i=new Date(this.inputEl.value).getMonth()+1;if(null===t||""===t)e=this._getMaxDaysInMonth(i);else e=i!==new Date(this.currValue).getMonth()+1?this._getMaxDaysInMonth(i):t&&new Date(null!==n?n:(new Date).getFullYear(),t,0).getDate()||this._getMaxDaysInMonth(t)}else e=t&&(0,s.default)(n)&&n.toString().length===a?new Date(n,t,0).getDate():this._getMaxDaysInMonth(t);null!==r&&document.activeElement===this.typeaheads.day.el.querySelector("input")&&(this._userEnteredDay=r),(e<(this._userEnteredDay||r)||e===this._userEnteredDay&&n&&n.toString().length===a)&&(this.typeaheads.day.setValue(e),this.updateInput())}}},{key:"_validateTypeaheadBounds",value:function(){var e=this.typeaheads.year?this.typeaheads.year.getValue(!0):null,t=this.typeaheads.month?this.typeaheads.month.getValue(!0):null,n=this.typeaheads.day?this.typeaheads.day.getValue(!0):null;if(e&&t&&n){var a=new Date(e,t-1,n),r="";this.min&&a<new Date(this.min.year,this.min.month-1,this.min.day)?r="min":this.max&&a>new Date(this.max.year,this.max.month-1,this.max.day)&&(r="max"),r&&(this.typeaheads.year.setValue((0,E.default)(this[r].year,this.typeaheads.year.typeahead.format.length)),this.typeaheads.month.setValue((0,E.default)(this[r].month,this.typeaheads.month.typeahead.format.length)),this.typeaheads.day.setValue((0,E.default)(this[r].day,this.typeaheads.day.typeahead.format.length)),this.updateInput())}}},{key:"_padTypeaheads",value:function(){if(!this._pauseInputChange){for(var e in this._pauseInputChange=!0,this.typeaheads)this._padTypeahead(this.typeaheads[e]);this._pauseInputChange=!1}}},{key:"_padTypeahead",value:function(e){var t=e.getValue();t&&(t!==(0,E.default)(t,e.typeahead.format.length)&&e.setValue((0,E.default)(t,e.typeahead.format.length)))}},{key:"_hasTypeaheadValue",value:function(){for(var e in this.typeaheads)if(this.typeaheads[e].getValue(!0))return!0;return!1}},{key:"_validateSelects",value:function(){if(this.selects){var e=this.selects.month?this.selects.month.getValue(!0):null,t=this.selects.year?this.selects.year.getValue(!0):null,n=e&&new Date(null!==t?t:(new Date).getFullYear(),e,0).getDate()||this._getMaxDaysInMonth(e),a=this.selects.day?this.selects.day.getValue(!0):null;this.selects.day.setOptions({max:n}),n<a&&this.selects.day.setValue(n),this.updateInput()}}},{key:"_getMaxDaysInMonth",value:function(e){var t;return 2===e?29:-1!==(0,c.default)(t=[4,6,9,11]).call(t,e)?30:31}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,l;this._onTypeaheadBlurBound=(0,o.default)(e=this._onTypeaheadBlur).call(e,this),this._onTypeaheadInputBound=(0,o.default)(t=this._onTypeaheadInput).call(t,this),this._onTypeaheadFocusBound=(0,o.default)(n=this._onTypeaheadFocus).call(n,this),this._onPieceChangeBound=(0,o.default)(a=this._onPieceChange).call(a,this),this._onTypeaheadBackspaceBound=(0,o.default)(r=this._onTypeaheadBackspace).call(r,this),this._onTypeaheadEndBound=(0,o.default)(i=this._onTypeaheadEnd).call(i,this),this._onInputChangeBound=(0,o.default)(s=this._onInputChange).call(s,this),this._onVisibleChildrenBound=(0,o.default)(l=this._onVisibleChildren).call(l,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.inputEl.addEventListener("change",this._onInputChangeBound),document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.inputEl.removeEventListener("change",this._onInputChangeBound),document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)}},{key:"_onVisibleChildren",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,o.default)(t=function(){this.update()}).call(t,this),0)}},{key:"_runTypeaheads",value:function(){if(!this.runningTypeaheads){for(var e in this.runningTypeaheads=!0,this.inFocus&&this.inFocus.pause(),this.typeaheads)this.typeaheads[e]!==this.inFocus&&this.typeaheads[e].run();this.inFocus&&(this.inFocus.resume(),this.inFocus.run()),this.runningTypeaheads=!1}}},{key:"_updateClass",value:function(){(0,C.default)(this.el,"active",this.isActive),(0,C.default)(this.el,"has-partial-value",this.hasPartialValue()),(0,C.default)(this.el,"focus",!!this.inFocus)}},{key:"_getTypeaheadByElement",value:function(e){for(var t in this.typeaheads)if(this.typeaheads[t].typeahead.el===e)return this.typeaheads[t]}},{key:"_showDateText",value:function(){var e=this._getDateText();e&&this.showDateAsText&&(this.dateTextEl||this._createDateTextEl(),this.dateTextEl.innerHTML=e,this.dateTextEl.style.display="")}},{key:"_hideDateText",value:function(){this.showDateAsText&&this.dateTextEl&&(this.dateTextEl.style.display="none")}},{key:"_createDateTextEl",value:function(){var e=document.createElement("div");e.className="spark-input__overlay",e.style.display="none",this.el.appendChild(e),this.dateTextEl=e}},{key:"_getDateText",value:function(){for(var e,t=this.parsedTextFormat.parts,n=0,a=t.length,r="",i=!0;n<a;n++)switch(e=this.typeaheads[t[n].name]&&this.typeaheads[t[n].name].getValue(),t[n].name){case"month":if(r+=A.default.getMonthNameShort(e),!e){i=!1;break}break;case"day":case"year":if(r+=e,!e){i=!1;break}break;default:r+=t[n].value}return!!i&&r}},{key:"_onPieceChange",value:function(){var e;(this._validate(),this.isTypeahead&&this.showDateAsText&&!this._hasFocus)&&(this._showTextTimer&&clearTimeout(this._showTextTimer),this._showTextTimer=(0,i.default)((0,o.default)(e=function(){this._showDateText()}).call(e,this),0))}},{key:"_onTypeaheadFocus",value:function(e,t){this.runningTypeaheads||(this._hideDateText(),this._hasFocus||(this._hasFocus=!0,(this.onFocus||F)(this.inputEl.value,this)),(0,w.default)(this.inputEl,"focus"),this.inFocus=t,this.show(),this._updateClass(),this._blurTimer&&(clearTimeout(this._blurTimer),this._blurTimer=null))}},{key:"_onTypeaheadBlur",value:function(e,t){var n;this.runningTypeaheads||(this.inFocus=null,this._padTypeahead(t),this.updateInput(),this._updateClass(),this.inputEl.value||this._hasTypeaheadValue()?this._validateTypeaheadBounds():this.hide(),this._blurTimer=(0,i.default)((0,o.default)(n=function(){this._hasFocus=!1,(this.onBlur||F)(this.inputEl.value,this),this._showDateText()}).call(n,this),1))}},{key:"_onTypeaheadInput",value:function(){(this.onInput||F)(this.getTypingValue(),this)}},{key:"_onTypeaheadBackspace",value:function(){this.focusPrevious()}},{key:"_onTypeaheadEnd",value:function(e,t){this.focusNext(t)}},{key:"_onInputChange",value:function(e){this.isTypeahead&&(this.isActive=!!e.target.value,this._updateClass()),this._pauseInputChange||(this.setValue(j.getValues(e.target.value)),(this.onChange||F)(this.inputEl.value,this))}},{key:"_onClick",value:function(){}}]),a}(g.default);M.prototype._whitelistedParams=["validate","onValidate","onChange","onInput","onFocus","onBlur","isTypeahead","isSelect","format","textFormat","showDateAsText","min","max"],M.prototype.defaults={el:null,inputEl:null,messageEl:null,piecesEl:null,toggleEl:null,inFocus:null,isActive:null,isSelect:null,isTypeahead:null,typeaheads:null,typeaheadEls:null,selects:null,selectEls:null,format:null,parsedFormat:null,showDateAsText:null,textFormat:null,runningTypeaheads:!1,onValidate:null,onChange:null,onInput:null,onFocus:null,onBlur:null,_hasFocus:!1,_pauseInputChange:!1,_onClickBound:null,_onPieceChangeBound:null,_onTypeaheadFocusBound:null,_onTypeaheadBlurBound:null,_onTypeaheadInputBound:null,_onTypeaheadBackspaceBound:null,_onTypeaheadEndBound:null,_onInputChangeBound:null},(0,T.default)(M.prototype,I.default,L.default);var R=M;t.default=R,e.exports=t.default},function(e,t,n){var a=n(1782);e.exports=a},function(e,t,n){n(1783);var a=n(1252);e.exports=a.Number.isInteger},function(e,t,n){n(1246)({target:"Number",stat:!0},{isInteger:n(1784)})},function(e,t,n){var a=n(1259),r=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1258)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1353)),m=n(1271);function g(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(){};function y(){var e=document.createElement("span");return e.className="spark-input",e}var b=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(g()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),arguments.length<2&&(r=e||{},e=y()),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._createTypeahead(e,r),t}return(0,l.default)(a,[{key:"getValue",value:function(e){return this.typeahead.getValue(e)}},{key:"setValue",value:function(e){return this.typeahead.setValue(e)}},{key:"clearValue",value:function(){return this.typeahead.clearValue()}},{key:"enable",value:function(){return this.typeahead.enable()}},{key:"disable",value:function(){return this.typeahead.disable()}},{key:"run",value:function(){return this.typeahead.run()}},{key:"pause",value:function(){return this.typeahead.pause()}},{key:"resume",value:function(){return this.typeahead.resume()}},{key:"remove",value:function(e){return this.typeahead.remove(e),(0,c.default)((0,p.default)(a.prototype),"remove",this).call(this,e),this}},{key:"_cacheElements",value:function(e){this.el=e}},{key:"_parseParams",value:function(){if(this.type=null!==this.type?this.type:(0,m.string)(this.el,"data-type","day"),this.format=null!==this.format?this.format:(0,m.string)(this.el,"data-format",null),this.placeholder=null!==this.placeholder?this.placeholder:(0,m.string)(this.el,"data-placeholder",null),this.len=null!==this.len?this.len:(0,m.number)(this.el,"length",null),this.ariaLabelPrefix=null!==this.ariaLabelPrefix?this.ariaLabelPrefix:null,!this.placeholder)throw new Error("You must provide a placeholder value for a DateTypeahead.");if(null!==this.len&&(this.format=this._lengthToFormat(this.len)),!this.format)throw new Error("You must provide a format value for a DateTypeahead.")}},{key:"_createTypeahead",value:function(e){this.typeahead=new f.default(e,{placeholder:this.placeholder,format:this.format,matchPlaceholderSize:!0,onChange:this._onTypeaheadChangeBound,onInput:this._onTypeaheadInputBound,onFocus:this._onTypeaheadFocusBound,onBlur:this._onTypeaheadBlurBound,onBackspace:this._onTypeaheadBackspaceBound,onEnd:this._onTypeaheadEndBound});var t=e.querySelector("input");t&&!t.getAttribute("aria-label")&&t.setAttribute("aria-label",this.ariaLabelPrefix+" "+this.type)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._onTypeaheadChangeBound=(0,s.default)(e=this._onTypeaheadChange).call(e,this),this._onTypeaheadInputBound=(0,s.default)(t=this._onTypeaheadInput).call(t,this),this._onTypeaheadFocusBound=(0,s.default)(n=this._onTypeaheadFocus).call(n,this),this._onTypeaheadBlurBound=(0,s.default)(a=this._onTypeaheadBlur).call(a,this),this._onTypeaheadBackspaceBound=(0,s.default)(r=this._onTypeaheadBackspace).call(r,this),this._onTypeaheadEndBound=(0,s.default)(i=this._onTypeaheadEnd).call(i,this)}},{key:"_lengthToFormat",value:function(e){for(var t=0,n="";t<e;t++)n+="\\d";return n}},{key:"_checkValidity",value:function(e,t){var n=e=(0,i.default)(e,10),a=!isNaN(e);return a&&(e="year"===this.type?0===e?t?"":0:Math.max(e,0):"month"===this.type?e?Math.min(Math.max(e,1),12):t?"":0:e?Math.min(Math.max(e,1),31):t?"":0),!a||e===n||(this.typeahead.setValue(e+""),!1)}},{key:"_onTypeaheadChange",value:function(e){this._checkValidity(e)&&(this.onChange||v)(e,this)}},{key:"_onTypeaheadInput",value:function(e){(this.onInput||v)(e,this)}},{key:"_onTypeaheadFocus",value:function(e){(this.onFocus||v)(e,this)}},{key:"_onTypeaheadBlur",value:function(e){this._checkValidity(e,!0),(this.onBlur||v)(e,this)}},{key:"_onTypeaheadBackspace",value:function(e){(this.onBackspace||v)(e,this)}},{key:"_onTypeaheadEnd",value:function(e,t){(this.onEnd||v)(this,t)}}]),a}(h.default);b.prototype._whitelistedParams=["type","format","ariaLabelPrefix","placeholder","len","onChange","onInput","onFocus","onBlur","onBackspace","onEnd"],b.prototype.defaults={el:null,type:null,ariaLabelPrefix:null,typeahead:null,format:null,placeholder:null,len:null,onChange:null,onInput:null,onFocus:null,onBlur:null,onBackspace:null,onEnd:null,_onTypeaheadChangeBound:null,_onTypeaheadInputBound:null,_onTypeaheadFocusBound:null,_onTypeaheadBlurBound:null,_onTypeaheadBackspaceBound:null,_onTypeaheadEndBound:null};var E=b;t.default=E,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1265)),l=a(n(1260)),c=a(n(1238)),u=a(n(1239)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1433)),g=a(n(1327)),v=a(n(1248)),y=a(n(1257)),b=n(1271);function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}function C(){var e=document.createElement("span");return e.className="spark-select",e.innerHTML='<select class="spark-select__input"></select><span class="spark-label"></span>',e}var k=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(E()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),e instanceof HTMLElement||(r=e||{},e=C()),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._createSelect(e),t}return(0,u.default)(a,[{key:"getValue",value:function(e){return e?(0,l.default)(this.select.getValue(),10):this.select.getValue()}},{key:"setValue",value:function(e){return this.select.setValue(e)}},{key:"clearValue",value:function(){return this.select.clearValue()}},{key:"enable",value:function(){return this.select.enable()}},{key:"disable",value:function(){return this.select.disable()}},{key:"setOptions",value:function(e){e=e||{},this.min=e.min||this.min,this.max=e.max||this.max,this.monthNames=e.monthNames||this.monthNames,this.numericMonth=e.numericMonth||this.numericMonth,"year"===this.type&&(e.min&&!e.max?this.max=this.min+100:e.max&&!e.min&&(this.min=this.max-100));for(var t=this.min?this.min-1:0,n=this.max||this.monthNames.length,a=[{}];t<n;t++)a.push({value:t+1,text:this.monthNames?this.monthNames[t]:t+1});return this.select.setOptions(a),this}},{key:"setLabel",value:function(e){return this.select.setLabel(void 0!==e?e:this._getTypeText()),this}},{key:"_createSelect",value:function(e){this.select=new m.default(e,{onChange:this._onSelectChangeBound,onFocus:this._onSelectFocusBound,onBlur:this._onSelectBlurBound,onKeydown:this._onSelectKeydownBound,onClick:this._onSelectClick}),this.setOptions(),this.setLabel();var t=e.querySelector("select");if(t&&!t.getAttribute("aria-labelledby")){var n=e.querySelector(".spark-label"),a="spark-aria__"+this.ariaLabelPrefix+"--suffix-"+this.type;null!==n&&null!==a&&(n.setAttribute("id",a),t.setAttribute("aria-labelledby",this.ariaLabelPrefix+" "+a))}}},{key:"_cacheElements",value:function(e){this.el=e,this.selectEl=this.el.querySelector("select")}},{key:"_parseParams",value:function(){if(this.type=null!==this.type?this.type:(0,b.string)(this.selectEl,"data-type","day"),this.ariaLabelPrefix=null!==this.ariaLabelPrefix?this.ariaLabelPrefix:null,"year"===this.type){var e=new Date;this.min=null!==this.min?this.min:(0,b.number)(this.selectEl,"min",e.getFullYear()-100),this.max=null!==this.max?this.max:(0,b.number)(this.selectEl,"max",(this.min||e.getFullYear())+100)}else"month"===this.type?(this.monthNames=null!==this.monthNames?this.monthNames:(0,b.string)(this.selectEl,"data-month-names",null),this.numericMonth=null!==this.numericMonth?this.numericMonth:(0,b.boolean)(this.selectEl,"data-numeric-month",!1),this.min=null!==this.min?this.min:(0,b.number)(this.selectEl,"min",null),this.max=null!==this.max?this.max:(0,b.number)(this.selectEl,"max",null),this.monthNames||this.numericMonth||this.min||this.max?this.min||this.max||(this.min=1,this.max=12):this.monthNames=this._getDefaultMonthNames(),"string"==typeof this.monthNames&&(this.monthNames=this.monthNames.split(","))):(this.min=null!==this.min?this.min:(0,b.number)(this.selectEl,"min",1),this.max=null!==this.max?this.max:(0,b.number)(this.selectEl,"max",31))}},{key:"_getDefaultMonthNames",value:function(){return g.default.getMonthNamesShort()}},{key:"_getTypeText",value:function(){var e;return this.type.charAt(0).toUpperCase()+(0,o.default)(e=this.type).call(e,1)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._onSelectChangeBound=(0,s.default)(e=this._onSelectChange).call(e,this),this._onSelectFocusBound=(0,s.default)(t=this._onSelectFocus).call(t,this),this._onSelectBlurBound=(0,s.default)(n=this._onSelectBlur).call(n,this),this._onSelectKeydownBound=(0,s.default)(a=this._onSelectKeydown).call(a,this)}},{key:"_onSelectChange",value:function(e){(0,v.default)(this.el,"hide-date-select-placeholder"),this.onChange.call(this,e,this)}},{key:"_onSelectFocus",value:function(e){this.onFocus.call(this,e,this)}},{key:"_onSelectBlur",value:function(e){(0,v.default)(this.el,"hide-date-select-placeholder"),this.onBlur.call(this,e,this)}},{key:"_onSelectKeydown",value:function(e,t,n){var a;if((0,i.default)(a=navigator.userAgent).call(a,"Windows")>-1){n.hasValue||13!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode||(0,y.default)(this.el,"hide-date-select-placeholder",!n.hasValue)}}},{key:"_onSelectClick",value:function(e,t,n){var a;(0,i.default)(a=navigator.userAgent).call(a,"Windows")>-1&&(n.hasValue||(0,y.default)(this.el,"hide-date-select-placeholder",!n.hasValue))}}]),a}(f.default);k.prototype._whitelistedParams=["type","ariaLabelPrefix","monthNames","numericMonth","min","max","onChange","onFocus","onBlur"],k.prototype.defaults={el:null,selectEl:null,type:null,monthNames:null,min:null,max:null,select:null,numericMonth:null,onChange:function(){},onFocus:function(){},onBlur:function(){},_onSelectChangeBound:null,_onSelectFocusBound:null,_onSelectBlurBound:null,_onSelectKeydownBound:null};var S=k;t.default=S,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1263));var i=function(e,t){(0,r.default)(e.attributes,(function(e){t.setAttribute(e.name,e.value)}))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1310)),o=a(n(1265)),l=a(n(1240)),c=a(n(1238)),u=a(n(1239)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1503)),g=a(n(1257)),v=a(n(1247)),y=a(n(1248)),b=a(n(1251)),E=a(n(1351)),C=a(n(1791)),k=n(1283),S=n(1271);function _(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(_()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._determineInitialSize(),(0,p.default)(t)):(0,p.default)(t)}return(0,u.default)(a,[{key:"update",value:function(e){return this._removeEventListeners(),this._removePlaceholder(),this._cleanUpOverflowItems(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this.checkHideOnScroll(),this.checkFixed(),this._determineMenuSize(),this}},{key:"_cleanUpOverflowItems",value:function(){this.listMoreListEl.children.length>0&&((0,E.default)(this.listEl,this.listMoreListEl.children),this._removeListMore())}},{key:"checkFixed",value:function(){if(!this.fixed)return this;this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop;var e=this.scrollTop>this.fixedDistance;return(0,g.default)(this.el,"spark-header--condensed",e),(0,g.default)(document.body,"spark-header-condensed",e),this}},{key:"checkHideOnScroll",value:function(){if(!this.hideOnScroll)return this;void 0===this.scrollTop&&(this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop);var e=document.querySelector(".spark-header__nav");if(e&&(0,b.default)(e,"active"))return this;this.previousPosition=this.scrollTop,this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop;var t=!(this.scrollTop<=0)&&this.scrollTop>=this.previousPosition;!(0,b.default)(this.el,"hide-header-top")&&this.scrollTop<=this.previousPosition||(0,g.default)(this.el,"hide-header-top",t);var n=document.querySelectorAll(".spark-popover__toggle"),a=document.querySelectorAll('.spark-popover__content, [class*="spark-popover__content--"]');if(t){for(var r=0;r<n.length;r++)n[r].onclick?n[r].onclick():n[r].click&&n[r].click();for(var i=0;i<a.length;i++)a[i].parentElement.removeChild(a[i])}return this}},{key:"_cacheElements",value:function(e){var t,n,a,r;(this.el=e,this.navEl=this.el.querySelector(".spark-header__nav"),this.menuEl=this.navEl&&this.navEl.querySelector(".spark-header__menu"),this.listEl=this.menuEl&&this.menuEl.querySelector(".spark-header__list"),this.toggleEl=this.el.querySelector(".spark-header__toggle"),this.menuEl)&&(this.menu?this.menu.update(this.menuEl,{onToggle:this._onToggleClickBound=(0,l.default)(t=this._onToggleClick).call(t,this),onKeydown:this._onMenuKeyDownBound=(0,l.default)(n=this._onMenuKeyDown).call(n,this)}):this.menu=new m.default(this.menuEl,{onToggle:this._onToggleClickBound=(0,l.default)(a=this._onToggleClick).call(a,this),onKeydown:this._onMenuKeyDownBound=(0,l.default)(r=this._onMenuKeyDown).call(r,this)}));this.listEl&&this.listEl.children.length&&(this.listEls=(0,o.default)(Array.prototype).call(this.listEl.children,0),this._createListMore()),this.listEl&&this._createPlaceholder()}},{key:"_parseFocusableElements",value:function(){var e=this.menuEl.querySelectorAll('a[href]:not([tabindex^="-"]):not([disabled]), button:not([tabindex^="-"]):not([disabled]), input:not([tabindex^="-"]):not([disabled]), select:not([tabindex^="-"]):not([disabled]), textarea:not([tabindex^="-"]):not([disabled]), [tabindex]:not([tabindex^="-"]):not([disabled]), [tabindex="0"]');e.length>0&&(this.focusableElements=(0,o.default)(Array.prototype).call(e),this.firstHeaderFocusableEl=this.focusableElements[0],this.lastHeaderFocusableEl=this.focusableElements[this.focusableElements.length-1])}},{key:"_parseParams",value:function(){this.fixed=null!==this.fixed?this.fixed:(0,b.default)(this.el,"spark-header--fixed"),this.fixedDistance=null!==this.fixedDistance?this.fixedDistance:(0,S.number)(this.el,"data-fixed-distance",10),this.hideOnScroll=null!==this.hideOnScroll?this.hideOnScroll:(0,S.boolean)(this.el,"data-hide-on-scroll",!1),this.hideOnScroll&&(this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop),this.hideOnScroll&&!(0,S.boolean)(this.el,"data-hide-on-scroll",!1)&&this.el.setAttribute("data-hide-on-scroll","")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a;this._determineInitialSizeBound=(0,l.default)(e=this._determineInitialSize).call(e,this),this._onResizeBound=(0,l.default)(t=this._onResize).call(t,this),this._onScrollBound=(0,l.default)(n=this._onScroll).call(n,this),this._onNavClickBound=(0,l.default)(a=this._onNavClick).call(a,this)}},{key:"_addEventListeners",value:function(){(this.fixed||this.hideOnScroll)&&window.addEventListener("scroll",this._onScrollBound),this.listEl&&(window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),this.toggleEl&&this.toggleEl.addEventListener("click",this._onToggleClickBound),this.navEl&&this.navEl.addEventListener("click",this._onNavClickBound),this.menuEl&&this.menuEl.addEventListener("keydown",this._onMenuKeyDownBound,!0))}},{key:"_removeEventListeners",value:function(){this.listEl&&(window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),this.toggleEl&&this.toggleEl.removeEventListener("click",this._onToggleClickBound),this.navEl&&this.navEl.removeEventListener("click",this._onNavClickBound),this.fixed&&window.removeEventListener("scroll",this._onScrollBound),this.menuEl&&this.menuEl.removeEventListener("keydown",this._onMenuKeyDownBound))}},{key:"_getCurrentBreakpoint",value:function(){this.lastBreakpoint=this.currentBreakpoint,this.currentBreakpoint=(0,k.get)(this.el.clientWidth,this.breakpoints),this.el.setAttribute("data-breakpoint",this.currentBreakpoint)}},{key:"_createPlaceholder",value:function(){var e=document.createElement("div");e.innerHTML=this.navEl.outerHTML;var t=e.children[0];t.setAttribute("aria-hidden",!0),(0,v.default)(t,"spark-header__placeholder"),this.el.appendChild(t),this.placeholder={el:t,menuEl:t.querySelector(".spark-header__menu"),listEl:t.querySelector(".spark-header__list")},this.listMoreEl&&(this.placeholder.listEl.innerHTML+=this.listMoreEl.outerHTML,this.placeholder.listMoreEl=this.placeholder.listEl.querySelector(".spark-header__more")),this._disablePlaceholderLinkTab(t)}},{key:"_removePlaceholder",value:function(){this.placeholder&&(this.placeholder.el.parentNode.removeChild(this.placeholder.el),this.placeholder.menuEl.parentNode.removeChild(this.placeholder.menuEl),this.placeholder.listEl.parentNode.removeChild(this.placeholder.listEl)),this.listMoreEl&&this.placeholder.listMoreEl.parentNode.removeChild(this.placeholder.listMoreEl)}},{key:"_disablePlaceholderLinkTab",value:function(e){for(var t=e.querySelectorAll("a"),n=0;n<t.length;n++)t.item(n).setAttribute("tabindex","-1");for(var a=e.querySelectorAll("button"),r=0;r<a.length;r++)a.item(r).setAttribute("tabindex","-1");e.querySelector(".spark-header__menu").setAttribute("tabindex","-1")}},{key:"_createListMore",value:function(){var e=document.createElement("div");e.innerHTML='<li><a class="spark-menu__list-link spark-menu__ignore" tabindex="0" title="More Items"><i class="spark-icon-menu-ellipsis-horizontal spark-icon--fill"></i></a><ul class="spark-menu__list"></ul></li>';var t=e.children[0];(0,v.default)(t,"spark-menu__list-item spark-header__more spark-no-animate"),this.listMoreEl=t,this.listMoreListEl=t.querySelector("ul")}},{key:"_determineInitialSize",value:function(){(0,v.default)(this.el,"spark-header--visible"),this._determineMenuSize()}},{key:"_determineMenuSize",value:function(){if(this.el&&this.listEls&&this.listEls.length){if(this._isMenuBreakpoint(["xs","sm"]))return this._removeListMore(),this._toggleCollapsed(!0);var e=this._getItemsToShowAndHide();if((0,v.default)(this.el,"spark-header--overflow-checked"),e.show.length<2&&e.hide.length)return this._removeListMore(),this._toggleCollapsed(!0);if(this._toggleCollapsed(!1),e.hide.length!==this.listMoreListEl.children.length)if((0,C.default)(this.listEl,this.listMoreEl,e.show),e.hide.length){var t,n;(0,E.default)(this.listMoreListEl,e.hide);var a=(0,s.default)(t=e.show).call(t,(function(e){return(0,b.default)(e,"active")})).length>0,r=(0,s.default)(n=e.hide).call(n,(function(e){return(0,b.default)(e,"active")})).length>0;a&&(0,y.default)(this.listMoreEl,"child-active open"),r&&(0,v.default)(this.listMoreEl,"child-active open")}else this._removeListMore();else e.hide.length||this._removeListMore()}}},{key:"_listenForReadyStateChange",value:function(){var e;if("complete"!==document.readyState&&"loaded"!==document.readyState){var t=(0,l.default)(e=function(){"complete"!==document.readyState&&"loaded"!==document.readyState||(this._determineMenuSize(),document.removeEventListener("readystatechange",t))}).call(e,this);document.addEventListener("readystatechange",t)}}},{key:"_isMenuBreakpoint",value:function(e){return this._getCurrentBreakpoint(),e instanceof Array?-1!==(0,i.default)(e).call(e,this.currentBreakpoint):"xs"===this.currentBreakpoint}},{key:"_getItemsToShowAndHide",value:function(){var e=this.placeholder.listEl.clientWidth,t=this.placeholder.listEl.children,n=0,a=t.length,r=-1;this._addListMore();for(var i=this.placeholder.listMoreEl.clientWidth||0;n<a&&-1===r;n++)(i+=t[n].clientWidth)>e&&(r=n);return{show:-1!==r?(0,o.default)(Array.prototype).call(this.listEls,0,r):this.listEls,hide:-1!==r?(0,o.default)(Array.prototype).call(this.listEls,r):[]}}},{key:"_addListMore",value:function(){this.listMoreEl.parentNode!==this.listEl&&this.listEl.appendChild(this.listMoreEl)}},{key:"_removeListMore",value:function(){this.listMoreEl.parentNode&&this.listMoreEl.parentNode.removeChild(this.listMoreEl)}},{key:"_resetMenuChildren",value:function(){(0,y.default)(this.el,"spark-header--overflow-checked"),(0,E.default)(this.listEl,this.listEls)}},{key:"_toggleCollapsed",value:function(e){e!==this.isCollapsed&&(e?(this._enableTopLevelToggling(),this._resetMenuChildren()):(this.menu&&this.menu._removeAllCachedLists(),this._disableTopLevelToggling()),this.isCollapsed=e,(0,g.default)(this.el,"spark-header--collapsed",e),(0,g.default)(this.el,"spark-header--visible",!e))}},{key:"_enableTopLevelToggling",value:function(){for(var e=0,t=this.listEls.length;e<t;e++)(0,y.default)(this.listEls[e],"spark-no-animate")}},{key:"_disableTopLevelToggling",value:function(){for(var e=0,t=this.listEls.length;e<t;e++)(0,v.default)(this.listEls[e],"spark-no-animate")}},{key:"_onResize",value:function(){this._determineMenuSize(),this.fixed&&!this.hideOnScroll&&this.checkFixed()}},{key:"_onScroll",value:function(){this.hideOnScroll?this.checkHideOnScroll():this.checkFixed()}},{key:"_onToggleClick",value:function(e){e.preventDefault(),this.isActive=!this.isActive,(0,g.default)(this.navEl,"active",this.isActive),this.menu._openActiveParents(),this.menuEl&&this.isActive?(this._parseFocusableElements(),this.focusableElements&&this.focusableElements.length>0&&this.firstHeaderFocusableEl.focus()):this.toggleEl.focus()}},{key:"closeHamburgerMenu",value:function(){this.isActive=!1,(0,y.default)(this.navEl,"active"),this.toggleEl.focus()}},{key:"_onNavClick",value:function(e){(this.listEls||this.listEls.length)&&(0,y.default)(this.listMoreEl,"open"),e.target===this.navEl&&this.isCollapsed&&this.closeHamburgerMenu()}},{key:"_onMenuKeyDown",value:function(e){this.isCollapsed&&this.isActive&&27===e.keyCode&&this.closeHamburgerMenu(),!this.menuEl||9!==e.keyCode&&13!==e.keyCode&&32!==e.keyCode||this._parseFocusableElements(),this.isCollapsed&&this.isActive&&9===e.keyCode&&(1===this.focusableElements.length&&e.preventDefault(),e.shiftKey?document.activeElement===this.firstHeaderFocusableEl&&(e.preventDefault(),this.lastHeaderFocusableEl.focus()):document.activeElement===this.lastHeaderFocusableEl&&(e.preventDefault(),this.firstHeaderFocusableEl.focus()))}}]),a}(f.default);O.prototype._whitelistedParams=["breakpoints","fixed","fixedDistance","hideOnScroll"],O.prototype.defaults={el:null,fixed:null,fixedDistance:null,navEl:null,menuEl:null,listEl:null,listEls:null,listMoreEl:null,listMoreListEl:null,placeholder:null,toggleEl:null,lastBreakpoint:null,currentBreakpoint:null,isActive:!1,isCollapsed:null,menu:null,breakpoints:null,hideOnScroll:null,_onResizeBound:null,_onScrollBound:null,_onToggleClickBound:null,_onNavClickBound:null,_onMenuKeyDownBound:null};var w=O;t.default=w,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1300));var i=function(e,t){for(var n=0,a=e.children.length;n<a;n++)if((0,r.default)(e.children[n],t))return e.children[n];return null};t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1263));var i=function(e,t,n){(0,r.default)(n,(function(n){e.insertBefore(n,t)}))};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1250)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1261)),f=a(n(1273)),m=a(n(1275)),g=a(n(1266)),v=a(n(1263));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(){},E=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(y()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"getValue",value:function(){var e=[];return(0,v.default)(this._isNative?this.selectEl.options:this.checkboxEls,(function(t){(t.checked||t.selected)&&e.push(t.value)})),e}},{key:"setValue",value:function(e){var t=[],n=this._isNative?"selected":"checked";return(0,v.default)(this._isNative?this.selectEl.options:this.checkboxEls,(function(a){-1!==(0,s.default)(e).call(e,a.value)?(a[n]=!0,t.push(a.value)):a[n]=!1})),(this.onChange||b)(t,this),this}},{key:"clearValue",value:function(){return this.setValue([])}},{key:"disable",value:function(){return(this.selectEl||this.el).setAttribute("disabled",""),this}},{key:"enable",value:function(){return(this.selectEl||this.el).removeAttribute("disabled"),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.selectEl=this.el.querySelector("select"),this.checkboxEls=this.el.querySelectorAll('[type="checkbox"]'),!this.selectEl&&!this.checkboxEls.length)throw new Error("Multi select needs either a select input or a series of checkboxes.");this.messageEl=this.el.querySelector(".spark-select__message")||(0,g.default)('<span class="spark-select__message"></span>')}},{key:"_parseParams",value:function(){this._isNative=!!this.selectEl}},{key:"_bindEventListenerCallbacks",value:function(){var e;this._onInputBound=(0,i.default)(e=this._onInput).call(e,this)}},{key:"_addEventListeners",value:function(){this._isNative?this.selectEl.addEventListener("change",this._onInputBound):this.el.addEventListener("change",this._onInputBound,!0)}},{key:"_removeEventListeners",value:function(){this._isNative?this.selectEl.removeEventListener("change",this._onInputBound):this.el.removeEventListener("change",this._onInputBound,!0)}},{key:"_onInput",value:function(){var e=this.getValue();e!==this.previousValue&&(this.previousValue=e,(this.onChange||b)(e,this))}}]),a}(p.default);E.prototype._whitelistedParams=["validate","onValidate","onChange"],E.prototype.defaults={el:null,messageEl:null,selectEl:null,labelEl:null,onChange:null,previousValue:null,_isNative:!1,_onFocusBound:null,_onBlurBound:null,_onInputBound:null},(0,h.default)(E.prototype,f.default,m.default);var C=E;t.default=C,e.exports=t.default},function(e,t,n){var a=n(1794);e.exports=a},function(e,t,n){n(1795);var a=n(1252);e.exports=a.parseFloat},function(e,t,n){var a=n(1246),r=n(1796);a({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(e,t,n){var a=n(1255),r=n(1450).trim,i=n(1383),s=a.parseFloat,o=1/s(i+"-0")!=-1/0;e.exports=o?function(e){var t=r(String(e)),n=s(t);return 0===n&&"-"==t.charAt(0)?-0:n}:s},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1395)),o=a(n(1260)),l=a(n(1798)),c=a(n(1250)),u=a(n(1238)),d=a(n(1239)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1257)),v=a(n(1804));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b={large:{diameter:264,stroke:12,track:"M132 6c69.588 0 126 56.412 126 126s-56.412 126-126 126S6 201.588 6 132 62.412 6 132 6z",fill:"",border:"M132 252c-66.274 0-120-53.726-120-120S65.726 12 132 12s120 53.726 120 120-53.726 120-120 120z"},small:{diameter:60,stroke:6,track:"M30 3c14.912 0 27 12.088 27 27S44.912 57 30 57 3 44.912 3 30 15.088 3 30 3z",fill:"",border:"M30 54C16.745 54 6 43.255 6 30S16.745 6 30 6s24 10.745 24 24-10.745 24-24 24z"},extraSmall:{diameter:24,stroke:3,track:" M12 1.5c5.8 0 10.5 4.7 10.5 10.5S17.8 22.5 12 22.5S1.5 17.8 1.5 12S6.2 1.5 12 1.5z",fill:"",border:""}},E=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(y()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,h.default)(t)):(0,h.default)(t)}return(0,d.default)(a,[{key:"set",value:function(e){return e===this.value||(e>1&&(e=1),this.value=e,this.isDeterminate&&this.progressEl&&this.progressEl.setAttribute("value",Math.round(100*e)/100),this._updateDOM()),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.progressEl=this.el.querySelector("progress"),this.statusEl=this.el.querySelector('.spark-progress__value-status, [role="status"]'),this.noteEl=this.el.querySelector(".spark-progress__states"),this.meterEl=this.el.querySelector(".spark-progress__meter"),this.isDeterminate=null!==this.progressEl.getAttribute("value"),this.size=this._determineSize(),this.isDeterminate){var t=this._buildSVG();t.setAttribute("class",this.meterEl.className),this.meterEl.parentNode.replaceChild(t,this.meterEl),this.meterEl=t,this.fillEl=this.meterEl.querySelector(".spark-progress__fill")}this.noteEl&&this._parseNotes(this.noteEl),this.progressEl&&(this.value=this.progressEl.value),this._cacheSize(),this._updateDOM()}},{key:"_cacheSize",value:function(){this.meterHeight=this.meterEl.clientHeight,this.meterWidth=this.meterEl.clientWidth}},{key:"_determineSize",value:function(){var e,t;return-1!==(0,c.default)(e=this.el.className).call(e,"progress--sm")?"small":-1!==(0,c.default)(t=this.el.className).call(t,"progress--xs")?"extraSmall":"large"}},{key:"_buildSVG",value:function(){var e=b[this.size],t='<svg viewBox="0 0 '+e.diameter+" "+e.diameter+'" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="'+e.track+'" stroke-width="'+e.stroke+'" class="spark-progress__track"/><path d="'+((0,l.default)(e)||e.track)+'" stroke-width="'+e.stroke+'" class="spark-progress__fill"/><path d="'+e.border+'" class="spark-progress__border"/></g></g></svg>',n=document.createElement("div");return n.innerHTML=t,n.children[0]}},{key:"_parseNotes",value:function(e){this.notes=this.notes||[];for(var t=e.children.length-1;t>=0;t--)this.notes.push({min:(0,o.default)(e.children[t].getAttribute("data-value"),10),max:e.children[t+1]?(0,o.default)(e.children[t+1].getAttribute("data-value"),10)-1:100,el:e.children[t]})}},{key:"_updateDOM",value:function(){if(this.isDeterminate){var e=(0,s.default)(),t=(0,v.default)(100*this.value,this.precision),n=0===t||this.lastDOMUpdateTime+150>e;(0,g.default)(this.fillEl,"no-animation",n),this.statusEl.innerHTML=t+"%";var a=(b[this.size].diameter-b[this.size].stroke)*Math.PI,r=a-a*(t/100);if(this.fillEl.setAttribute("style","stroke-dasharray: "+a+"; stroke-dashoffset: "+r),this.lastDOMUpdateTime=e,this.notes)for(var i=0,o=this.notes.length;i<o;i++)(0,g.default)(this.notes[i].el,"active",this.notes[i].min<=t&&this.notes[i].max>=t)}}},{key:"_bindEventListenerCallbacks",value:function(){var e;this._onResizeBound=(0,i.default)(e=this._onResize).call(e,this)}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound)}},{key:"_onResize",value:function(){this._cacheSize()}}]),a}(m.default);E.prototype._whitelistedParams=["precision"],E.prototype.defaults={el:null,progressEl:null,statusEl:null,noteEls:null,meterEl:null,fillEl:null,meterHeight:0,meterWidth:0,notes:null,isDeterminate:!1,value:null,precision:0,lastDOMUpdateTime:0,_onResizeBound:null};var C=E;t.default=C,e.exports=t.default},function(e,t,n){e.exports=n(1799)},function(e,t,n){var a=n(1800);e.exports=a},function(e,t,n){var a=n(1801),r=Array.prototype;e.exports=function(e){var t=e.fill;return e===r||e instanceof Array&&t===r.fill?a:t}},function(e,t,n){n(1802);var a=n(1262);e.exports=a("Array").fill},function(e,t,n){var a=n(1246),r=n(1803),i=n(1387);a({target:"Array",proto:!0},{fill:r}),i("fill")},function(e,t,n){"use strict";var a=n(1272),r=n(1339),i=n(1284);e.exports=function(e){for(var t=a(this),n=i(t.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>o;)t[o++]=e;return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){t=void 0!==t?t:2;var n=Math.pow(10,t);return Math.round(e*n)/n};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1250)),o=a(n(1355)),l=a(n(1494)),c=a(n(1238)),u=a(n(1239)),d=a(n(1258)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1257)),v=a(n(1296)),y=a(n(1352)),b=a(n(1273)),E=a(n(1261)),C=a(n(1275)),k=a(n(1266)),S=a(n(1504));function _(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(){},w=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(_()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._updateDisabledClasses(),(0,h.default)(t)):(0,h.default)(t)}return(0,u.default)(a,[{key:"start",value:function(e,t,n){return e<0||null!==this.inputEls[e].getAttribute("disabled")||(this._addMoveEventListeners(n||"mouse"),this._cacheSize(),this.isActive=this.isActive||[],this.isActive[e]=!0,this.currentIndex=e,this._updateActiveClasses(e),this._updateDisabledClasses(),this._oldVal=(0,l.default)(this)[e],this.move(t)),this}},{key:"move",value:function(e,t){if(!(e&&this.isActive&&this.isActive[this.currentIndex]||t))return this;this.isX?e<this.offsetLeft?e=this.offsetLeft:e>this.offsetLeft+this.width&&(e=this.offsetLeft+this.width):e<this.offsetTop?e=this.offsetTop:e>this.offsetTop+this.height&&(e=this.offsetTop+this.height);var n=((this.isX?(e-this.offsetLeft)/(this.width-this.handleSize):(e-this.offsetTop)/this.height)-this.handleSizePercentage/2)*(this.highestMax-this.lowestMin)+this.lowestMin;return this.setValue(this.currentIndex,n),this}},{key:"stop",value:function(e,t){return null!=e&&this.currentIndex!==e||(this.isActive[this.currentIndex]=!1,this.lastIndex=this.currentIndex,this._oldVal!==(0,l.default)(this)[this.currentIndex]&&(this.onChange||O)(this.currentIndex,(0,l.default)(this)[this.currentIndex],this),this.currentIndex=null,this._updateActiveClasses(e),this._removeMoveEventListeners(t||"mouse")),this}},{key:"setValue",value:function(e,t){if(!this.inputEls[e])throw new Error("Cannot set value on a slider input element with an index of "+e+". That element does not exist.");if(this.steps[e]&&(t-=(0,S.default)(t,this.steps[e])),t=Math.round(t*this.valuePrecision[e])/this.valuePrecision[e],this.values=(0,l.default)(this)||[],t>this.maxes[e]?t=this.maxes[e]:t<this.mins[e]&&(t=this.mins[e]),void 0!==(0,l.default)(this)[e+1]&&t>=(0,l.default)(this)[e+1]?t=(0,l.default)(this)[e+1]-(this.steps[e]||1):void 0!==(0,l.default)(this)[e-1]&&t<=(0,l.default)(this)[e-1]&&(t=(0,l.default)(this)[e-1]+(this.steps[e]||1)),"function"==typeof this.onWillChange){var n=this.onWillChange(e,t,this);"number"==typeof n&&(t=n)}return(0,l.default)(this)[e]=t,this.inputEls[e].value=(0,l.default)(this)[e],this.handleEls[e].setAttribute("data-value",(0,l.default)(this)[e]),this.handleEls[e].setAttribute("aria-valuenow",(0,l.default)(this)[e]),this.handleEls[e].setAttribute("aria-valuetext",(0,l.default)(this)[e]),this.percentages=this.percentages||[],this.percentages[e]=((0,l.default)(this)[e]-this.lowestMin)/(this.highestMax-this.lowestMin),this._updateHandlePosition(e),this}},{key:"getValue",value:function(e){if(!this.inputEls[e])throw new Error("Cannot get value from a slider input element with an index of "+e+". That element does not exist.");return(0,l.default)(this)[e]}},{key:"clearValue",value:function(e){return this.setValue(e,0)}},{key:"enable",value:function(e){if(!this.inputEls[e]||!this.handleEls[e])throw new Error("Cannot get value from a slider input element with an index of "+e+". That element does not exist.");return this.inputEls[e].removeAttribute("disabled"),this.inputEls[e].removeAttribute("tabindex"),this.handleEls[e].removeAttribute("disabled"),this.handleEls[e].removeAttribute("tabindex"),this._updateDisabledClasses(),this}},{key:"disable",value:function(e){if(!this.inputEls[e]||!this.handleEls[e])throw new Error("Cannot get value from a slider input element with an index of "+e+". That element does not exist.");return this.inputEls[e].setAttribute("disabled",""),this.inputEls[e].setAttribute("tabindex","-1"),this.handleEls[e].setAttribute("disabled",""),this.handleEls[e].setAttribute("tabindex","-1"),this._updateDisabledClasses(),this}},{key:"increment",value:function(e){return this.setValue(this.currentIndex,(0,l.default)(this)[this.currentIndex]+this.steps[this.currentIndex]*(e?10:1))}},{key:"decrement",value:function(e){return this.setValue(this.currentIndex,(0,l.default)(this)[this.currentIndex]-this.steps[this.currentIndex]*(e?10:1))}},{key:"remove",value:function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),(0,d.default)((0,f.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){this._removeEventListeners(),this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),this._cacheElements(e),this._addEventListeners(),this._updateDisabledClasses();for(var t=0;t<this.handleEls.length;t++)this._updateHandlePosition(t);return this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.controlsEl=this.el.querySelector(".spark-slider__controls"),this.inputEls=this.el.querySelectorAll('input[type="number"]'),this.handleEls=this.el.querySelectorAll(".spark-slider__handle"),this.trackEl=this.el.querySelector(".spark-slider__track"),this.trackFillEl=this.trackEl.querySelector(".spark-slider__track-fill"),this.messageEl=this.el.querySelector(".spark-slider__message")||(0,k.default)('<span class="spark-slider__message"></span>'),!this.inputEls||this.inputEls.length<=1)throw new Error("Tried to create a slider instance without two number inputs.");if(!this.handleEls||this.handleEls.length<=1)throw new Error("Tried to create a slider instance without two handle buttons.");var t=1/0,n=-1/0,a=0,r=this.inputEls.length,i=[];for(this.mins=[],this.maxes=[],this.steps=[],this.valuePrecision=[],this._cacheSize();a<r;a++){var s=(0,o.default)(this.inputEls[a].getAttribute("min"));this.mins[a]=0===s?s:s||null;var l=(0,o.default)(this.inputEls[a].getAttribute("max"));this.maxes[a]=0===l?l:l||null,this.steps[a]=(0,o.default)(this.inputEls[a].getAttribute("step"))||1,this.valuePrecision[a]=1,this.inputEls[a].getAttribute("step")&&this.inputEls[a].getAttribute("step").split(".")[1]&&(this.valuePrecision[a]=Math.pow(10,this.inputEls[a].getAttribute("step").split(".")[1].length)),this.mins[a]<t&&(t=this.mins[a]),this.maxes[a]>n&&(n=this.maxes[a])}for(this.lowestMin=t,this.highestMax=n,a=0;a<r;a++)i[a]=(0,o.default)(this.inputEls[a].getAttribute("value")),isNaN(i[a])?a+1===r?this.setValue(a,null!==this.maxes[a]?this.maxes[a]:0):this.setValue(a,null!==this.mins[a]?this.mins[a]:0):this.setValue(a,i[a])}},{key:"_cacheSize",value:function(){this.width=this.trackEl.offsetWidth,this.height=this.trackEl.offsetHeight,this.handleSize=this.isX?this.handleEls[0].offsetWidth:this.handleEls[0].offsetHeight,this.handleSizePercentage=this.isX?this.handleEls[0].offsetWidth/this.width:this.handleEls[0].offsetHeight/this.height;var e=(0,v.default)(this.controlsEl);this.offsetLeft=e.left,this.offsetTop=e.top}},{key:"_updateHandlePosition",value:function(e){var t=this.percentages[0],n=this.percentages[this.percentages.length-1];this.trackFillEl.setAttribute("style","width: "+100*(n-t)+"%; left: "+100*t+"%;");var a=(this.handleSize/2+((0,l.default)(this)[e]-this.lowestMin)*((this.width-this.handleSize)/(this.highestMax-this.lowestMin)))/this.width*100;this.handleEls[e].setAttribute("style","left: "+a+"%;")}},{key:"_updateActiveClasses",value:function(e){var t,n;((0,g.default)(this.handleEls,"active",!1),(0,g.default)(this.handleEls[e],"active",this.isActive[e]),-1!==(0,s.default)(t=this.isActive).call(t,!0))?this.el.setAttribute("data-active-index",(0,s.default)(n=this.isActive).call(n,!0)):this.el.removeAttribute("data-active-index")}},{key:"_updateDisabledClasses",value:function(){for(var e=0,t=0,n=this.inputEls.length;t<n;t++)null!==this.inputEls[t].getAttribute("disabled")?((0,g.default)(this.handleEls[t],"disabled",!0),e++):(0,g.default)(this.handleEls[t],"disabled",!1);(0,g.default)(this.el,"all-disabled",e===this.handleEls.length)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l,c,u,d,p,h;this._onTouchStartBound=(0,i.default)(e=this._onTouchStart).call(e,this),this._onTouchMoveBound=(0,i.default)(t=this._onTouchMove).call(t,this),this._onTouchEndBound=(0,i.default)(n=this._onTouchEnd).call(n,this),this._onClickBound=(0,i.default)(a=this._onClick).call(a,this),this._onMouseDownBound=(0,i.default)(r=this._onMouseDown).call(r,this),this._onMouseMoveBound=(0,i.default)(s=this._onMouseMove).call(s,this),this._onMouseUpBound=(0,i.default)(o=this._onMouseUp).call(o,this),this._onFocusBound=(0,i.default)(l=this._onFocus).call(l,this),this._onKeydownBound=(0,i.default)(c=this._onKeydown).call(c,this),this._onBlurBound=(0,i.default)(u=this._onBlur).call(u,this),this._onChangeBound=(0,i.default)(d=this._onChange).call(d,this),this._onResizeBound=(0,i.default)(p=this._onResize).call(p,this),this._onVisibleChildrenBound=(0,i.default)(h=this._onVisibleChildren).call(h,this)}},{key:"_addEventListeners",value:function(){this.controlsEl.addEventListener("touchstart",this._onTouchStartBound),this.controlsEl.addEventListener("mousedown",this._onMouseDownBound);for(var e=0,t=this.inputEls.length;e<t;e++)this.inputEls[e].addEventListener("change",this._onChangeBound);for(var n=0,a=this.handleEls.length;n<a;n++)this.handleEls[n].addEventListener("focus",this._onFocusBound),this.handleEls[n].addEventListener("click",this._onClickBound);document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0),window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound)}},{key:"_removeEventListeners",value:function(){this.controlsEl.removeEventListener("touchstart",this._onTouchStartBound),this.controlsEl.removeEventListener("mousedown",this._onMouseDownBound),document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound);for(var e=0,t=this.inputEls.length;e<t;e++)this.inputEls[e].removeEventListener("change",this._onChangeBound);for(var n=0,a=this.handleEls.length;n<a;n++)this.handleEls[n].removeEventListener("focus",this._onFocusBound),this.handleEls[n].removeEventListener("click",this._onClickBound);window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound)}},{key:"_addMoveEventListeners",value:function(e){switch(e){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseout",this._onMouseOutBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.addEventListener("keydown",this._onKeydownBound);for(var t=0,n=this.handleEls.length;t<n;t++)this.handleEls[t].addEventListener("blur",this._onBlurBound)}}},{key:"_removeMoveEventListeners",value:function(e){switch(e){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.removeEventListener("keydown",this._onKeydownBound);for(var t=0,n=this.handleEls.length;t<n;t++)this.handleEls[t].removeEventListener("blur",this._onBlurBound)}}},{key:"_onTouchStart",value:function(e){this.start((0,y.default)(this.handleEls,e.target),this.isX?e.touches[0].pageX:e.touches[0].pageY,"touch")}},{key:"_onTouchMove",value:function(e){this.isActive[this.currentIndex]&&(e.preventDefault(),this.move(this.isX?e.touches[0].pageX:e.touches[0].pageY))}},{key:"_onTouchEnd",value:function(e){this.isActive[this.currentIndex]&&(e.preventDefault(),this.stop((0,y.default)(this.handleEls,e.target),"touch"))}},{key:"_onMouseDown",value:function(e){this.start((0,y.default)(this.handleEls,e.target),this.isX?e.pageX:e.pageY,"mouse")}},{key:"_onMouseMove",value:function(e){this.isActive[this.currentIndex]&&(e.preventDefault(),this.move(this.isX?e.pageX:e.pageY))}},{key:"_onMouseUp",value:function(){this.isActive[this.currentIndex]&&this.stop(null,"mouse")}},{key:"_onVisibleChildren",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,i.default)(t=function(){this._onResize()}).call(t,this),0)}},{key:"_onResize",value:function(){this._cacheSize(),this._updateDisabledClasses();for(var e=0;e<this.handleEls.length;e++)this._updateHandlePosition(e)}},{key:"_onFocus",value:function(e){this.start((0,y.default)(this.handleEls,e.target),null,"keyboard")}},{key:"_onKeydown",value:function(e){-1===(0,y.default)(this.inputEls,e.target)&&(39===e.keyCode||38===e.keyCode?this.increment(e.shiftKey):37===e.keyCode||40===e.keyCode?this.decrement(e.shiftKey):33===e.keyCode?this.increment(!0):34===e.keyCode?this.decrement(!0):35===e.keyCode?this.setValue(this.max):36===e.keyCode&&this.setValue(this.min))}},{key:"_onBlur",value:function(e){this.stop((0,y.default)(this.handleEls,e.target),"keyboard")}},{key:"_onChange",value:function(e){var t=(0,y.default)(this.inputEls,e.target);this._updateDisabledClasses(),e.target.value!==(0,l.default)(this)[t]&&this.setValue(t,e.target.value),(this.onChange||O)(t,(0,l.default)(this)[t],this)}},{key:"_onClick",value:function(e){e.preventDefault()}}]),a}(m.default);w.prototype._whitelistedParams=["isX","validate","onValidate","onChange","onWillChange"],w.prototype.defaults={el:null,messageEl:null,controlsEl:null,inputEls:null,handleEls:null,trackEl:null,trackFillEl:null,isActive:null,isX:!0,onValidate:null,onChange:null,onWillChange:null,position:0,width:0,height:0,mins:null,maxes:null,steps:null,values:null,percentages:null,offsetLeft:0,offsetTop:0,handleSizePercentage:0,currentIndex:null,lastIndex:null,_oldVal:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onMouseOutBound:null,_onFocusBound:null,_onKeydownBound:null,_onBlurBound:null,_onChangeBound:null,_onResizeBound:null,_onClickBound:null,_onVisibleChildrenBound:null},(0,E.default)(w.prototype,b.default,C.default);var P=w;t.default=P,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1355)),o=a(n(1238)),l=a(n(1239)),c=a(n(1258)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1257)),m=a(n(1296)),g=a(n(1295)),v=a(n(1273)),y=a(n(1261)),b=a(n(1275)),E=a(n(1266)),C=a(n(1504));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(){},_=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(k()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,d.default)(t)):(0,d.default)(t)}return(0,l.default)(a,[{key:"start",value:function(e,t){return null!==this.inputEl.getAttribute("disabled")||(this._addMoveEventListeners(t||"mouse"),this._cacheSize(),this.isActive=!0,this._updateActiveClasses(),this._oldVal=this.value,this.move(e)),this}},{key:"move",value:function(e,t){if(!(e&&this.isActive||t))return this;this.isX?e<this.offsetLeft?e=this.offsetLeft:e>this.offsetLeft+this.width&&(e=this.offsetLeft+this.width):e<this.offsetTop?e=this.offsetTop:e>this.offsetTop+this.height&&(e=this.offsetTop+this.height);var n=this.isX?(e-this.offsetLeft)/(this.width-this.handleSize):(e-this.offsetTop)/this.height,a=((n=Math.round(n*this.percentagePrecision)/this.percentagePrecision)-this.handleSizePercentage/2)*(this.max-this.min)+this.min;return this.setValue(a)}},{key:"stop",value:function(e){return this.isActive=!1,this._oldVal!==this.value&&(this.onChange||S)(this.value,this),this._updateActiveClasses(),this._removeMoveEventListeners(e||"mouse"),this}},{key:"setValue",value:function(e){if(this.step&&(e-=(0,C.default)(e,this.step)),(e=Math.round(e*this.valuePrecision)/this.valuePrecision)>this.max?e=this.max:e<this.min&&(e=this.min),"function"==typeof this.onWillChange){var t=this.onWillChange(e,this);"number"==typeof t&&(e=t)}return this.value=e,this.inputEl.value=this.value,this.handleEl.setAttribute("data-value",this._truncateValueText(this.value)),this.handleEl.setAttribute("aria-valuenow",this._truncateValueText(this.value)),this.handleEl.setAttribute("aria-valuetext",this._truncateValueText(this.value)),this.percentage=(this.value-this.min)/(this.max-this.min),this._updateHandlePosition(),this}},{key:"getValue",value:function(){return this.value}},{key:"clearValue",value:function(){return this.setValue(0)}},{key:"setErrorState",value:function(e){e?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this.inputEl.removeAttribute("tabindex"),this.handleEl.removeAttribute("disabled"),this.handleEl.removeAttribute("tabindex"),this}},{key:"disable",value:function(){return this.inputEl.setAttribute("disabled",""),this.inputEl.setAttribute("tabindex","-1"),this.handleEl.setAttribute("disabled",""),this.handleEl.setAttribute("tabindex","-1"),this}},{key:"increment",value:function(e){return this.setValue(this.value+this.step*(e?10:1))}},{key:"decrement",value:function(e){return this.setValue(this.value-this.step*(e?10:1))}},{key:"remove",value:function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),(0,c.default)((0,p.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return this._removeEventListeners(),this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),this._cacheElements(e),this._addEventListeners(),this._updateHandlePosition(),this}},{key:"_cacheElements",value:function(e){if(this.el=e,this.controlsEl=this.el.querySelector(".spark-slider__controls"),this.inputEl=this.el.querySelector('input[type="number"]'),this.handleEl=this.el.querySelector(".spark-slider__handle"),this.trackEl=this.el.querySelector(".spark-slider__track"),this.trackFillEl=this.trackEl.querySelector(".spark-slider__track-fill"),this.messageEl=this.el.querySelector(".spark-slider__message")||(0,E.default)('<span class="spark-slider__message"></span>'),!this.inputEl)throw new Error("Tried to create a slider instance without a number input.");if(!this.handleEl)throw new Error("Tried to create a slider instance without a handle button.");this.min=(0,s.default)(this.inputEl.getAttribute("min"))||this.min,this.max=(0,s.default)(this.inputEl.getAttribute("max"))||this.max,this.step=(0,s.default)(this.inputEl.getAttribute("step"))||this.step,this.valuePrecision=1,this.inputEl.getAttribute("step")&&this.inputEl.getAttribute("step").split(".")[1]&&(this.valuePrecision=Math.pow(10,this.inputEl.getAttribute("step").split(".")[1].length)),this.percentagePrecision=this.valuePrecision>100?this.valuePrecision:100;var t=(0,s.default)(this.inputEl.getAttribute("value"))||(0,s.default)(this.inputEl.getAttribute("min"));isNaN(t)||(this._cacheSize(),this.setValue(t))}},{key:"_cacheSize",value:function(){this.width=this.trackEl.offsetWidth,this.height=this.trackEl.offsetHeight,this.handleSize=this.isX?this.handleEl.offsetWidth:this.handleEl.offsetHeight,this.handleSizePercentage=this.isX?this.handleEl.offsetWidth/this.width:this.handleEl.offsetHeight/this.height;var e=(0,m.default)(this.controlsEl);this.offsetLeft=e.left,this.offsetTop=e.top}},{key:"_updateHandlePosition",value:function(){var e=100*Math.min(this.percentage,1);this.trackEl.setAttribute("data-percentage",e),this.trackFillEl.setAttribute("style","width: "+e+"%;");var t=(this.handleSize/2+(this.value-this.min)*((this.width-this.handleSize)/(this.max-this.min)))/this.width*100;this.handleEl.setAttribute("style","left: "+t+"%;")}},{key:"_updateActiveClasses",value:function(){(0,f.default)(this.handleEl,"active",this.isActive),(0,f.default)(this.el,"active",this.isActive)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l,c,u,d,p,h,f;this._onTouchStartBound=(0,i.default)(e=this._onTouchStart).call(e,this),this._onTouchMoveBound=(0,i.default)(t=this._onTouchMove).call(t,this),this._onTouchEndBound=(0,i.default)(n=this._onTouchEnd).call(n,this),this._onClickBound=(0,i.default)(a=this._onClick).call(a,this),this._onMouseDownBound=(0,i.default)(r=this._onMouseDown).call(r,this),this._onMouseMoveBound=(0,i.default)(s=this._onMouseMove).call(s,this),this._onMouseUpBound=(0,i.default)(o=this._onMouseUp).call(o,this),this._onMouseOutBound=(0,i.default)(l=this._onMouseOut).call(l,this),this._onFocusBound=(0,i.default)(c=this._onFocus).call(c,this),this._onKeydownBound=(0,i.default)(u=this._onKeydown).call(u,this),this._onBlurBound=(0,i.default)(d=this._onBlur).call(d,this),this._onChangeBound=(0,i.default)(p=this._onChange).call(p,this),this._onResizeBound=(0,i.default)(h=this._onResize).call(h,this),this._onVisibleChildrenBound=(0,i.default)(f=this._onVisibleChildren).call(f,this)}},{key:"_addEventListeners",value:function(){this.controlsEl.addEventListener("touchstart",this._onTouchStartBound),this.controlsEl.addEventListener("mousedown",this._onMouseDownBound),this.inputEl.addEventListener("change",this._onChangeBound),this.handleEl.addEventListener("focus",this._onFocusBound),this.handleEl.addEventListener("click",this._onClickBound),window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)}},{key:"_removeEventListeners",value:function(){this.controlsEl.removeEventListener("touchstart",this._onTouchStartBound),this.controlsEl.removeEventListener("mousedown",this._onMouseDownBound),this.inputEl.removeEventListener("change",this._onChangeBound),this.handleEl.removeEventListener("focus",this._onFocusBound),this.handleEl.removeEventListener("click",this._onClickBound),window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound)}},{key:"_addMoveEventListeners",value:function(e){switch(e){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseout",this._onMouseOutBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.addEventListener("keydown",this._onKeydownBound),this.handleEl.addEventListener("blur",this._onBlurBound)}}},{key:"_removeMoveEventListeners",value:function(e){switch(e){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.removeEventListener("keydown",this._onKeydownBound),this.handleEl.removeEventListener("blur",this._onBlurBound)}}},{key:"_truncateValueText",value:function(e,t,n){if(e.length<5)return e;var a=e<0;e=Math.abs(e),t=t||this.truncatePrecision;var r=(n=n||this.truncateCharacters).length-1;for(t=Math.pow(10,t);r>=0;r--){var i=Math.pow(10,3*(r+1));if(i<=e){1e3===(e=e*t/i/t)&&r<n.length-1&&(e=1,r++),e+=n[r];break}}return(a?"-":"")+e}},{key:"_onTouchStart",value:function(e){null===this.inputEl.getAttribute("disabled")&&(e.preventDefault(),this.start(this.isX?e.touches[0].pageX:e.touches[0].pageY,"touch"))}},{key:"_onTouchMove",value:function(e){this.isActive&&(e.preventDefault(),this.move(this.isX?e.touches[0].pageX:e.touches[0].pageY))}},{key:"_onTouchEnd",value:function(e){this.isActive&&(e.preventDefault(),this.stop("touch"))}},{key:"_onMouseDown",value:function(e){null===this.inputEl.getAttribute("disabled")&&(e.preventDefault(),this.start(this.isX?e.pageX:e.pageY,"mouse"))}},{key:"_onMouseMove",value:function(e){this.isActive&&(e.preventDefault(),this.move(this.isX?e.pageX:e.pageY))}},{key:"_onMouseUp",value:function(){this.isActive&&this.stop("mouse")}},{key:"_onMouseOut",value:function(){}},{key:"_onVisibleChildren",value:function(e){var t;e.target.contains(this.el)&&window.setTimeout((0,i.default)(t=function(){this._onResize()}).call(t,this),0)}},{key:"_onResize",value:function(){this._cacheSize(),this._updateHandlePosition()}},{key:"_onFocus",value:function(){this.start(null,"keyboard")}},{key:"_onKeydown",value:function(e){39===e.keyCode||38===e.keyCode?this.increment(e.shiftKey):37===e.keyCode||40===e.keyCode?this.decrement(e.shiftKey):33===e.keyCode?this.increment(!0):34===e.keyCode?this.decrement(!0):35===e.keyCode?this.setValue(this.max):36===e.keyCode&&this.setValue(this.min)}},{key:"_onBlur",value:function(){this.stop("keyboard")}},{key:"_onChange",value:function(e){e.target.value!==this.value&&this.setValue(e.target.value),(this.onChange||S)(this.value,this)}},{key:"_onClick",value:function(e){e.preventDefault()}},{key:"_onWindowClick",value:function(e){(0,g.default)(e.target,this.el)&&this._onBlur()}}]),a}(h.default);_.prototype._whitelistedParams=["isX","validate","onValidate","onChange","onWillChange"],_.prototype.defaults={el:null,messageEl:null,controlsEl:null,inputEl:null,handleEl:null,trackEl:null,trackFillEl:null,isActive:!1,isX:!0,onValidate:null,onChange:null,onWillChange:null,position:0,width:0,height:0,min:0,max:0,step:1,value:0,percentage:0,offsetLeft:0,offsetTop:0,handleSizePercentage:0,truncatePrecision:0,truncateCharacters:["k","m","b","t"],_oldVal:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onMouseOutBound:null,_onFocusBound:null,_onKeydownBound:null,_onBlurBound:null,_onChangeBound:null,_onResizeBound:null,_onClickBound:null,_onVisibleChildrenBound:null},(0,y.default)(_.prototype,v.default,b.default);var O=_;t.default=O,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1282)),o=a(n(1395)),l=a(n(1240)),c=a(n(1238)),u=a(n(1239)),d=a(n(1258)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1399)),v=a(n(1808)),y=n(1809),b=a(n(1263)),E=a(n(1251)),C=a(n(1257)),k=a(n(1247)),S=a(n(1248)),_=a(n(1267)),O=a(n(1352)),w=a(n(1498)),P=a(n(1499)),A=a(n(1300));function x(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var N=function(){},T=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(x()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initRows(),(t.isSpreadsheet||t.isEditRows)&&t._deactivateAllInputs(),t.isResizable&&t._initResize(),t._disableRowsColumnsCells(),t._initExpands(),(0,h.default)(t)):(0,h.default)(t)}return(0,u.default)(a,[{key:"disableCell",value:function(e){return e.disabled=!0,(0,k.default)((0,_.default)(e,"td"),"spark-table__disabled-cell"),this}},{key:"enableCell",value:function(e){return e.disabled=!1,(0,S.default)((0,_.default)(e,"td"),"spark-table__disabled-cell"),this}},{key:"disableRow",value:function(e){return(0,k.default)(e,"spark-table__disabled-row"),(0,b.default)(e.querySelectorAll("input, button, a"),(function(e){e.disabled=!0})),this}},{key:"enableRow",value:function(e){return(0,S.default)(e,"spark-table__disabled-row"),(0,b.default)(e.querySelectorAll("input, button, a"),(function(e){e.disabled=!1})),this}},{key:"disableColumn",value:function(e){var t,n=(0,O.default)(e.parentNode.children,e);return(0,b.default)(this.tableEl.querySelectorAll("tbody tr"),(0,l.default)(t=function(e){this.disableCell(e.children[n].querySelector("input"))}).call(t,this)),(0,k.default)(e,"spark-table__disabled-column"),this}},{key:"enableColumn",value:function(e){var t,n=(0,O.default)(e.parentNode.children,e);return(0,b.default)(this.tableEl.querySelectorAll("tbody tr"),(0,l.default)(t=function(e){this.enableCell(e.children[n].querySelector("input"))}).call(t,this)),(0,S.default)(e,"spark-table__disabled-column"),this}},{key:"remove",value:function(e){return(0,b.default)(this._expands,(function(t){t.remove(e)})),(0,d.default)((0,f.default)(a.prototype),"remove",this).call(this,e)}},{key:"activateRow",value:function(e){return(e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e)&&this._makeRowActive(e),this}},{key:"activateRows",value:function(e){var t;return(0,b.default)(e,(0,l.default)(t=this.activateRow).call(t,this)),this}},{key:"deactivateRow",value:function(e){return(e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e)&&this._makeRowInActive(e),this}},{key:"deactivateRows",value:function(e){var t;return(0,b.default)(e,(0,l.default)(t=this.deactivateRow).call(t,this)),this}},{key:"getActiveRows",value:function(){var e=[];return(0,b.default)(this.el.querySelectorAll("tbody tr.active"),(function(t){e.push(t)})),e}},{key:"update",value:function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this._initRows(),(this.isSpreadsheet||this.isEditRows)&&this._deactivateAllInputs(),this.isResizable&&this._initResize(),this._disableRowsColumnsCells(),this._initExpands(),this}},{key:"_cacheElements",value:function(e){this.el=e,this.tableEl=e.querySelector("table")}},{key:"_parseParams",value:function(){this.tableEl&&(this.isSpreadsheet=null!==this.isSpreadsheet?this.isSpreadsheet:!!(0,E.default)(this.el,"spark-table--spreadsheet"),this.isEditRows=null!==this.isEditRows?this.isEditRows:!!(0,E.default)(this.el,"spark-table--edit-rows"),this.isResizable=null!==this.isResizable?this.isResizable:!!(0,E.default)(this.el,"spark-table--resizable"))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,o,c,u,d;this._onClickBound=(0,l.default)(e=this._onClick).call(e,this),this._onChangeBound=(0,l.default)(t=this._onChange).call(t,this),this._onFocusBound=(0,l.default)(n=this._onFocus).call(n,this),this._onBlurBound=(0,l.default)(a=this._onBlur).call(a,this),this._onTouchstartBound=(0,l.default)(r=this._onTouchstart).call(r,this),this._onTouchendBound=(0,l.default)(i=this._onTouchend).call(i,this),this._onKeydownBound=(0,l.default)(s=this._onKeydown).call(s,this),this._onMouseDownBound=(0,l.default)(o=this._onMouseDown).call(o,this),this._onMouseMoveBound=(0,l.default)(c=this._onMouseMove).call(c,this),this._onMouseUpBound=(0,l.default)(u=this._onMouseUp).call(u,this),this._onAnimationEndBound=(0,l.default)(d=this._onAnimationEnd).call(d,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound,!1),this.el.addEventListener("change",this._onChangeBound,!1),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.el.addEventListener("animationend",this._onAnimationEndBound,!0),this.el.addEventListener("webkitAnimationEnd",this._onAnimationEndBound,!0),this.isSpreadsheet&&(this.el.addEventListener("touchstart",this._onTouchstartBound,!1),this.el.addEventListener("touchend",this._onTouchendBound,!1),this.el.addEventListener("keydown",this._onKeydownBound,!1)),this.isResizable&&this.tableEl.addEventListener("mousedown",this._onMouseDownBound,!1)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onChangeBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("animationend",this._onAnimationEndBound),this.el.removeEventListener("webkitAnimationEnd",this._onAnimationEndBound),this.el.removeEventListener("touchstart",this._onTouchstartBound),this.el.removeEventListener("touchend",this._onTouchendBound),this.el.removeEventListener("keydown",this._onKeydownBound),this.tableEl.removeEventListener("mousedown",this._onMouseDownBound),this._removeResizeListeners()}},{key:"_addResizeListeners",value:function(){window.addEventListener("mousemove",this._onMouseMoveBound,!1),window.addEventListener("mouseup",this._onMouseUpBound,!1)}},{key:"_removeResizeListeners",value:function(){window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound)}},{key:"_toggleRowActive",value:function(e){(0,E.default)(e,"active")?(this._makeRowInActive(e),this._uncheckSelectAll()):this._makeRowActive(e)}},{key:"_makeRowActive",value:function(e){(0,k.default)(e,"active"),(e.querySelector('.spark-table__checkbox input[type="checkbox"]:not([disabled])')||{}).checked=!0}},{key:"_makeRowInActive",value:function(e){(0,S.default)(e,"active"),(e.querySelector('.spark-table__checkbox input[type="checkbox"]:not([disabled])')||{}).checked=!1}},{key:"_toggleRowsActive",value:function(e,t){for(var n=t?"_makeRowActive":"_makeRowInActive",a=0,r=e.length;a<r;a++)this[n](e[a])}},{key:"_toggleSelectAll",value:function(e){var t=e.querySelector('.spark-table__select-all input[type="checkbox"]');t&&(this._toggleRowsActive(this.el.querySelectorAll("tbody tr"),!t.checked),t.checked=!t.checked)}},{key:"_uncheckSelectAll",value:function(){for(var e=this.el.querySelectorAll('.spark-table__select-all input[type="checkbox"]'),t=0,n=e.length;t<n;t++)e[t].checked=!1}},{key:"_deactivateAllInputs",value:function(){this.tableEl&&this._deactivateInputs(this.tableEl)}},{key:"_deactivateInputs",value:function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),n=0,a=t.length;n<a;n++)this._deactivateInput(t[n])}},{key:"_deactivateInput",value:function(e){e.setAttribute("readonly",""),(0,S.default)(e.parentNode,"editing")}},{key:"_activateInputs",value:function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),n=0,a=t.length;n<a;n++)this._activateInput(t[n]),0===n&&t[n].focus()}},{key:"_activateInput",value:function(e){e.removeAttribute("readonly"),(0,k.default)(e.parentNode,"editing"),"checkbox"!==e.type&&"radio"!==e.type&&(0,v.default)(e,-1)}},{key:"_activateInputOrFocusDown",value:function(e){""!==e.getAttribute("readonly")?this._focusDown(e,!0):this._activateInput(e)}},{key:"_disableRowsColumnsCells",value:function(){var e,t,n;(0,b.default)(this.tableEl.querySelectorAll("td input[disabled]"),(0,l.default)(e=this.disableCell).call(e,this)),(0,b.default)(this.tableEl.querySelectorAll(".spark-table__disabled-row"),(0,l.default)(t=this.disableRow).call(t,this)),(0,b.default)(this.tableEl.querySelectorAll(".spark-table__disabled-column"),(0,l.default)(n=this.disableColumn).call(n,this))}},{key:"_focusUp",value:function(e,t){return this._focusUpDown(e,"up",t)}},{key:"_focusDown",value:function(e,t){return this._focusUpDown(e,"down",t)}},{key:"_focusUpDown",value:function(e,t,n){if(n||null!==e.getAttribute("readonly")){this._deactivateInput(e);var a=(0,_.default)(e,"td",this.el);if(a){var r=(0,O.default)(a.parentNode.children,a),i=("up"===t?w.default:P.default)(a.parentNode,"tr");if(i){var s=i.children[r];if(s){var o=s.querySelector('input:not([type="checkbox"]), select');o&&(o.disabled?this._focusUpDown(o,t,n):o.focus())}}}}}},{key:"_focusLeft",value:function(e,t){return this._focusLeftRight(e,"left",t)}},{key:"_focusRight",value:function(e,t){return this._focusLeftRight(e,"right",t)}},{key:"_focusLeftRight",value:function(e,t,n){if(n||null!==e.getAttribute("readonly")){this._deactivateInput(e);var a=(0,_.default)(e,"td",this.el);if(a){var r=("left"===t?w.default:P.default)(a,"td");if(r){var i=r.querySelector('input:not([type="checkbox"]), select');i&&(i.disabled?this._focusLeftRight(i,t,n):i.focus())}}}}},{key:"_checkDoubleClick",value:function(e){var t=(0,o.default)(),n=this._lastClickTime,a=this._lastClickEl;return this._lastClickTime=t,this._lastClickEl=e,e===a&&t-500<n}},{key:"_clearClicked",value:function(){this._lastClickEl=null}},{key:"_editRow",value:function(e){e&&(this._editingCount++,this._activateInputs(e),(0,y.store)(e),(0,k.default)(e,"editing"),this._updateBindings())}},{key:"_cancelRow",value:function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,y.restore)(e),(0,S.default)(e,"editing"),this._updateBindings())}},{key:"_saveRow",value:function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,y.clear)(e),(0,S.default)(e,"editing"),this._updateBindings(),(this.onRowSave||N)((0,O.default)(e.parentNode.children,e),e))}},{key:"_deleteRow",value:function(e){e&&((this.onRowDelete||N)((0,O.default)(e.parentNode.children,e),e),e.parentNode.removeChild(e))}},{key:"_confirmDelete",value:function(e){this.confirmDelete&&"function"==typeof this.confirmDelete?this.confirmDelete(e,this._deleteRow):this._deleteRow(e)}},{key:"_toggleDrawer",value:function(e){var t=e.dataset.drawerHandle,n=this.tableEl.querySelector('[data-drawer="'+t+'"]'),a=(0,_.default)(e,"tr",this.tableEl),r=JSON.parse(e.getAttribute("aria-expanded"));n&&r?("function"==typeof this.onBeforeDrawerCollapse&&this.onBeforeDrawerCollapse(t,this),(0,S.default)(a,"spark-table__handle-row--expanded"),(0,S.default)(a,"spark-table__handle-row--expand"),(0,k.default)(a,"spark-table__handle-row--collapse"),(0,S.default)(n,"spark-table__drawer--expanded"),(0,S.default)(n,"spark-table__drawer--expand"),(0,k.default)(n,"spark-table__drawer--collapse"),"function"==typeof this.onDrawerCollapse&&this.onDrawerCollapse(t,this),e.setAttribute("aria-expanded",!1)):n&&("function"==typeof this.onBeforeDrawerExpand&&this.onBeforeDrawerExpand(t,this),(0,S.default)(a,"spark-table__handle-row--collapsed"),(0,S.default)(a,"spark-table__handle-row--collapse"),(0,k.default)(a,"spark-table__handle-row--expand"),(0,S.default)(n,"spark-table__drawer--collapsed"),(0,S.default)(n,"spark-table__drawer--collapse"),(0,k.default)(n,"spark-table__drawer--expand"),"function"==typeof this.onDrawerExpand&&this.onDrawerExpand(t,this),e.setAttribute("aria-expanded",!0))}},{key:"_updateBindings",value:function(){(0,C.default)(this.el,"editing",this._editingCount)}},{key:"_initResize",value:function(){var e;this._resizeEls=[];var t=this.tableEl.querySelectorAll("thead th");(0,b.default)(t,(0,l.default)(e=function(e){e.innerHTML='<span class="spark-table__resize spark-table__resize--left"></span>'+e.innerHTML+'<span class="spark-table__resize spark-table__resize--right"></span>',this._resizeEls.push(e)}).call(e,this))}},{key:"_initRows",value:function(){var e;(0,b.default)(this.tableEl.querySelectorAll("td.spark-table__checkbox input:checked"),(0,l.default)(e=function(e){this._makeRowActive((0,_.default)(e,"tr"))}).call(e,this))}},{key:"_sizeColumns",value:function(e,t){var n;if(e=e||"%",!this._sizeColumnsRun||t){var a=this.tableEl.offsetWidth;(0,b.default)(this.tableEl.querySelectorAll("thead th"),(0,l.default)(n=function(t){t.style.width="%"===e?Math.round(t.offsetWidth/a*1e5)/1e5*100+"%":t.offsetWidth+"px"}).call(n,this)),this._sizeColumnsRun=!0}}},{key:"_initExpands",value:function(){var e,t=this.tableEl.querySelectorAll(".spark-table-expand");this._expands=[],(0,b.default)(t,(0,l.default)(e=function(e){var t;this._expands.push(new g.default(e,{onBeforeExpand:(0,l.default)(t=this._onBeforeExpand).call(t,this)}))}).call(e,this))}},{key:"_onBeforeExpand",value:function(){this._sizeColumns()}},{key:"_onAnimationEnd",value:function(e){var t=e.target||e.srcElement;if((0,A.default)(t,".spark-table__drawer__content")){var n=t.parentElement.parentElement,a=(0,w.default)(n,"tr"),r=(0,E.default)(n,"spark-table__drawer--expand");n&&r?((0,k.default)(a,"spark-table__handle-row--expanded"),(0,S.default)(a,"spark-table__handle-row--expand"),(0,k.default)(n,"spark-table__drawer--expanded"),(0,S.default)(n,"spark-table__drawer--expand"),"function"==typeof this.onAfterDrawerExpand&&this.onAfterDrawerExpand(n.dataset.drawer,this)):n&&((0,k.default)(a,"spark-table__handle-row--collapsed"),(0,S.default)(a,"spark-table__handle-row--collapse"),(0,k.default)(n,"spark-table__drawer--collapsed"),(0,S.default)(n,"spark-table__drawer--collapse"),"function"==typeof this.onAfterDrawerCollapse&&this.onAfterDrawerCollapse(n.dataset.drawer,this))}}},{key:"_onClick",value:function(e){var t,n,a=e.target||e.srcElement,r=!1,i=!0;(n=(0,_.default)(a,".spark-table__select-all",this.el))&&!(0,A.default)(a,'input[type="checkbox"]')?(this._toggleSelectAll(n),r=!0):(0,A.default)(a,'input:not([type="checkbox"]):not([type="file"]), select')?a.disabled||(this.isSpreadsheet&&(i=!1,this._checkDoubleClick(a)&&(i=!0,this._activateInput(a))),r=!0):(0,A.default)(a,".spark-table__edit-row")?(this._editRow((0,_.default)(a,"tr",this.el)),r=!0):(0,A.default)(a,".spark-table__delete-row")?(this._confirmDelete((0,_.default)(a,"tr",this.el)),r=!0):(0,A.default)(a,".spark-table__edit-row-save")?(this._saveRow((0,_.default)(a,"tr",this.el)),r=!0):(0,A.default)(a,".spark-table__edit-row-cancel")?(this._cancelRow((0,_.default)(a,"tr",this.el)),r=!0):(0,A.default)(a,"button[data-drawer-handle]")?(this._toggleDrawer(a),r=!0):(0,_.default)(a,"button, a, .spark-toggle-switch",this.el)||(0,A.default)(a,'.spark-table__checkbox input[type="checkbox"], select')||!(t=(0,_.default)(a,"tbody tr",this.el))||(t.querySelector('.spark-table__checkbox input[type="checkbox"]')||{}).disabled||t.hasAttribute("data-drawer")||(this._toggleRowActive(t),r=!0),i&&this._clearClicked(),r&&e.preventDefault()}},{key:"_onChange",value:function(e){var t,n,a=e.target||e.srcElement;(n=(0,_.default)(a,".spark-table__select-all",this.el))?(a.checked=!a.checked,this._toggleSelectAll(n)):(0,A.default)(a,'.spark-table__checkbox input[type="checkbox"]')&&(t=(0,_.default)(a,"tbody tr",this.el))&&this._toggleRowActive(t)}},{key:"_onFocus",value:function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,A.default)(t,'input:not([type="checkbox"]), select')){var n=(0,_.default)(t,"td",this.el);(0,k.default)(n,"focus")}}},{key:"_onBlur",value:function(e){if(this.isSpreadsheet){var t=e.target||e.srcElement,n=(0,_.default)(t,"td",this.el);(0,S.default)(n,"focus"),this._deactivateInput(t)}}},{key:"_onKeydown",value:function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,A.default)(t,'input:not([type="checkbox"]), select'))switch(e.keyCode||e.which){case this._keyCodes.ENTER:this._activateInputOrFocusDown(t);break;case this._keyCodes.ESCAPE:this._deactivateInput(t);break;case this._keyCodes.DOWN:this._focusDown(t);break;case this._keyCodes.UP:this._focusUp(t);break;case this._keyCodes.LEFT:this._focusLeft(t);break;case this._keyCodes.RIGHT:this._focusRight(t)}}},{key:"_onTouchstart",value:function(e){var t,n=e.target||e.srcElement;this.isSpreadsheet&&(0,A.default)(n,'input:not([type="checkbox"])')&&(this._touchStartEl=n,this._touchStartTime=(0,o.default)(),this._touchStartTimer=(0,s.default)((0,l.default)(t=this._onTouchHold).call(t,this),1e3))}},{key:"_onTouchend",value:function(e){var t=e.target||e.srcElement;this._touchStartEl&&t===this._touchStartEl&&(this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer))}},{key:"_onTouchHold",value:function(){this._activateInput(this._touchStartEl),this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer)}},{key:"_onMouseDown",value:function(e){var t,n=e.target||e.srcElement;if(this.isResizable&&(0,A.default)(n,".spark-table__resize")){e.preventDefault(),this._lastScreenX=e.screenX,this._sizeColumns("px",!0),this._resizingEl=n.parentNode;var a=(0,i.default)(t=this._resizeEls).call(t,this._resizingEl);(0,E.default)(n,"spark-table__resize--left")&&(this._resizingEl=this._resizeEls[a-1]),this._resizingEl&&this._addResizeListeners()}}},{key:"_onMouseMove",value:function(e){var t=e.screenX,n=t-this._lastScreenX;if(n){e.preventDefault();var a=this._resizingEl.offsetWidth,r=this.tableEl.offsetWidth,i=a+n,s=r+n;this._resizingEl.style.width=i+"px",this.tableEl.style.width=s+"px",(this._resizingEl.offsetWidth===a||this.tableEl.offsetWidth<this.tableEl.parentNode.offsetWidth)&&(this._resizingEl.style.width=a+"px",this.tableEl.style.width=r+"px"),this._lastScreenX=t}}},{key:"_onMouseUp",value:function(){this._sizeColumns("%",!0),this.tableEl.style.width=this.tableEl.offsetWidth/this.tableEl.parentNode.offsetWidth*100+"%",this._removeResizeListeners()}}]),a}(m.default);T.prototype._whitelistedParams=["isSpreadsheet","isEditRows","isResizable","confirmDelete","onRowSave","onRowDelete","onBeforeDrawerExpand","onBeforeDrawerCollapse","onDrawerExpand","onDrawerCollapse","onAfterDrawerExpand","onAfterDrawerCollapse"],T.prototype.defaults={el:null,tableEl:null,isSpreadsheet:null,isEditRows:null,isResizable:null,onRowSave:null,onRowDelete:null,confirmDelete:null,onBeforeDrawerExpand:null,onBeforeDrawerCollapse:null,onDrawerExpand:null,onDrawerCollapse:null,onAfterDrawerExpand:null,onAfterDrawerCollapse:null,_expands:null,_keyCodes:{ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESCAPE:27},_editingCount:0,_lastClickTime:0,_lastClickEl:null,_lastScreenX:0,_touchStartTime:0,_touchStartEl:null,_resizeEls:null,_resizingEl:null,_sizeColumnsRun:!1,_onClickBound:null,_onChangeBound:null,_onFocusBound:null,_onBlurBound:null,_onAnimationEndBound:null,_onKeydownBound:null,_onTouchstartBound:null,_onTouchendBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null};var I=T;t.default=I,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){var a=document.activeElement;if(t=t<0?e.value.length+t+1:t,n=n<0?e.value.length+n+1:n,document.selection){e.focus();var r=document.selection.createRange();r.moveStart("character",-e.value.length),r.moveStart("character",t),r.moveEnd("character",void 0!==n?n:t),r.select()}else(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=void 0!==n?n:t);return a!==e&&(e.blur(),a.focus()),{start:t,end:n}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.store=function(e){i(e,(function(e){var t;switch(e.nodeName.toLowerCase()){case"select":t=e.selectedIndex;break;default:t=encodeURI(e.value)}e.setAttribute("data-stored-value",t)}))},t.restore=function(e){i(e,(function(e){var t=e.nodeName.toLowerCase(),n=e.getAttribute("data-stored-value");if(n||""===n){switch(t){case"select":e.options[n].selected=!0;break;default:e.value=decodeURI(n)}e.removeAttribute("data-stored-value")}}))},t.clear=function(e){i(e,(function(e){e.removeAttribute("data-stored-value")}))};var r=a(n(1263));function i(e,t){(0,r.default)(e.querySelectorAll("input, select, textarea"),(function(e){t(e)}))}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1282)),o=a(n(1278)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1242)),m=a(n(1396)),g=a(n(1257)),v=a(n(1247)),y=a(n(1251)),b=a(n(1248)),E=a(n(1267)),C=a(n(1352)),k=a(n(1295)),S=a(n(1500)),_=n(1283),O=a(n(1502));function w(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(w()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._determineSize(),(0,p.default)(t)):(0,p.default)(t)}return(0,c.default)(a,[{key:"setActive",value:function(e){var t;if(this.scrollRect||(this.scrollRect=this.tabListScrollEl.getBoundingClientRect()),"string"==typeof e&&(t=this._findPanelByName(e))&&(e=this._findTabByPanel(t)),"number"==typeof e&&(e=this.tabEls.item(e)),!e||"object"!==(0,o.default)(e)||e===this.activeTabEl)return!1;this.activeTabEl&&((0,g.default)(this.activeTabEl,"active",!1),this.activeTabEl.querySelector("a").removeAttribute("aria-selected"),this.previousTabEl=this.activeTabEl),(0,g.default)(e,"active",!0),e.querySelector("a").setAttribute("aria-selected","true"),this.activeTabEl=e;var n=e.getBoundingClientRect();n.left>=this.scrollRect.left&&this.scrollRect.right>=n.right||(n.left<this.scrollRect.left&&this.focus(e,"left"),this.scrollRect.right<n.right&&this.focus(e,"right")),t||(t=this._findPanelByTab(e)),(0,g.default)(t,"active",!0),t.setAttribute("aria-hidden","false"),this.activePanelEl&&((0,g.default)(this.activePanelEl,"active",!1),this.activePanelEl.setAttribute("aria-hidden","true")),this.activePanelEl=t,this.useHash&&(window.location.hash=this.activePanelEl.getAttribute("id")||"");var a=document.createEvent("Event");return a.initEvent("spark.visible-children",!0,!0),this.activePanelEl.dispatchEvent(a),this}},{key:"start",value:function(e){return e=e||{},this.isDragging=!0,this.lastX=e.lastX,this.lastY=e.lastY,this._determineMinMax(),this._addMoveEventListeners(e.type||"mouse"),this}},{key:"stop",value:function(e){return e=e||{},this._checkX(),this.isDragging=!1,this.scrollDistance=0,this.scrollDirection="",this._removeMoveEventListeners(e.type),this}},{key:"move",value:function(e){return this.isDragging||e.scroll||e.force?(!e.force&&(this.x+e.x>this.maxX||this.x+e.x<this.minX)?this.x+=e.x/4:this.x+=e.x,this.scrollDistance+=Math.abs(e.x),e.scroll&&this._checkX(),this._updatePosition(),this):this}},{key:"focus",value:function(e,t){var n=e.getBoundingClientRect();return t=t||"left",this._getPageDirection(),"rtl"===this.pageDirection?this.x="left"===t?-(this.scrollRect.left-n.left-this.x):n.right-this.scrollRect.right:this.x="left"===t?this.scrollRect.left-n.left:-(n.right-this.scrollRect.right-this.x),this._checkX(),this._updatePosition(),this}},{key:"remove",value:function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){var t;return(0,u.default)((0,h.default)(a.prototype),"update",this).call(this,e),(0,s.default)((0,i.default)(t=function(){this._determineSize(),this.focus(this.activeTabEl)}).call(t,this),0),this}},{key:"_findPanelByName",value:function(e){e=e.replace("#","");for(var t,n=0,a=this.panelEls.length,r=null;n<a&&!r;n++)this.panelEls[n].getAttribute("id")===e&&(t=this.panelEls[n],r=!0);return r&&t}},{key:"_findPanelByTab",value:function(e){var t=e.querySelector("a"),n=t&&t.getAttribute("href"),a=(0,C.default)(e.parentNode.children,e),r=0,i=this.panelEls.length,s=null,o=null,l=null;for(n&&n.replace("#","");r<i&&!s;r++)n&&this.panelEls[r].getAttribute("id")===n?(s=!0,o=this.panelEls[r]):r===a&&(l=this.panelEls[r]);return s&&o||l}},{key:"_findTabByPanel",value:function(e){for(var t=e.getAttribute("id"),n=(0,C.default)(e.parentNode.children,e),a=0,r=this.tabEls.length,i=null,s=null,o=null;a<r&&!i;a++)!t||this.tabEls.item(a).querySelector("a").getAttribute("href")!=="#"+t&&this.tabEls.item(a).getAttribute("href")!=="#"+t?a===n&&(o=this.tabEls.item(a)):(i=!0,s=this.tabEls.item(a));return i&&s||o}},{key:"_findTabByChildElement",value:function(e){for(var t,n,a=0,r=this.tabEls.length;a<r&&!t;a++)(this.tabEls.item(a)===e||(0,k.default)(e,this.tabEls.item(a)))&&(t=!0,n=this.tabEls.item(a));return t&&n}},{key:"_cacheElements",value:function(e){if(this.el=e,this.tabListEl=this.el.querySelector(".spark-tabs__list"),this.tabListScrollEl=this.tabListEl.parentNode,this.tabEls=this.tabListEl.querySelectorAll(".spark-tabs__tab"),this.panelEls=(0,S.default)(this.el.querySelector(".spark-tabs__panels"),'[role="tabpanel"]'),this.navEl=this.el.querySelector(".spark-tabs__nav"),this.leftEl=this.navEl.querySelector(".spark-tabs__btn--left"),this.rightEl=this.navEl.querySelector(".spark-tabs__btn--right"),!this.tabListEl||!this.tabEls.length||!this.panelEls.length)throw new Error("Tab element missing either a .spark-tabs__list, or elements with .spark-tabs__tab and .spark-tabs__panel!",this.el);this._determineSize(),window.location.hash&&this.setActive(window.location.hash)||this.setActive(this.tabListEl.querySelector(".spark-tabs__tab.active")||0)}},{key:"_getPageDirection",value:function(){this.pageDirection=window.getComputedStyle(this.el,"").getPropertyValue("direction")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,s,o,l,c,u,d,p;this._onResizeBound=(0,i.default)(e=this._onResize).call(e,this),this._onTabListClickBound=(0,i.default)(t=this._onTabListClick).call(t,this),this._onClickBound=(0,i.default)(n=this._onClick).call(n,this),this._onTouchStartBound=(0,i.default)(a=this._onTouchStart).call(a,this),this._onTouchMoveBound=(0,i.default)(r=this._onTouchMove).call(r,this),this._onTouchEndBound=(0,i.default)(s=this._onTouchEnd).call(s,this),this._onMouseDownBound=(0,i.default)(o=this._onMouseDown).call(o,this),this._onMouseMoveBound=(0,i.default)(l=this._onMouseMove).call(l,this),this._onMouseUpBound=(0,i.default)(c=this._onMouseUp).call(c,this),this._onScrollBound=(0,i.default)(u=this._onScroll).call(u,this),this._onFocusBound=(0,i.default)(d=this._onFocus).call(d,this),this._onBlurBound=(0,i.default)(p=this._onBlur).call(p,this)}},{key:"_addEventListeners",value:function(){var e=(0,O.default)();window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),this.tabListEl.addEventListener("click",this._onTabListClickBound),this.tabListEl.addEventListener("touchstart",this._onTouchStartBound,!!e&&{passive:!1}),this.tabListEl.addEventListener("mousedown",this._onMouseDownBound),this.tabListEl.addEventListener("mousewheel",this._onScrollBound,!!e&&{passive:!1}),this.tabListEl.addEventListener("DOMMouseScroll",this._onScrollBound),this.tabListEl.addEventListener("focus",this._onFocusBound,!0),this.tabListEl.addEventListener("blur",this._onBlurBound,!0),this.leftEl&&this.leftEl.addEventListener("click",this._onClickBound),this.rightEl&&this.rightEl.addEventListener("click",this._onClickBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),this.tabListEl.removeEventListener("click",this._onTabListClickBound),this.tabListEl.removeEventListener("touchstart",this._onTouchStartBound),this.tabListEl.removeEventListener("mousedown",this._onMouseDownBound),this.tabListEl.removeEventListener("mousewheel",this._onScrollBound),this.tabListEl.removeEventListener("DOMMouseScroll",this._onScrollBound),this.tabListEl.removeEventListener("focus",this._onFocusBound),this.tabListEl.removeEventListener("blur",this._onBlurBound),this.leftEl&&this.leftEl.removeEventListener("click",this._onClickBound),this.rightEl&&this.rightEl.removeEventListener("click",this._onClickBound)}},{key:"_addMoveEventListeners",value:function(e){switch(e){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound)}}},{key:"_removeMoveEventListeners",value:function(e){switch(e){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound)}}},{key:"_determineSize",value:function(){var e=this.el.clientWidth,t=(0,_.get)(e,this.breakpoints);this.currentBreakpoint!==t&&((0,g.default)(this.el,this.currentBreakpoint,!1),this.currentBreakpoint=t,(0,g.default)(this.el,this.currentBreakpoint,!0)),this.scrollRect=this.tabListScrollEl.getBoundingClientRect(),this.isScrollable=this.tabListEl.clientWidth>this.scrollRect.width,(0,g.default)(this.navEl,"scrollable",this.isScrollable),this.isScrollable&&(this.scrollRect=this.tabListScrollEl.getBoundingClientRect()),this._determineMinMax()}},{key:"_determineMinMax",value:function(){this.tabListEl&&this.tabListScrollEl&&(this.maxX=0,this.minX=this.scrollRect.width-this.tabListEl.clientWidth-this.maxX)}},{key:"_enableAnimation",value:function(){this.isAnimatable=!0,(0,g.default)(this.navEl,"no-animation",!this.isAnimatable)}},{key:"_disableAnimation",value:function(){this.isAnimatable=!1,(0,g.default)(this.navEl,"no-animation",!this.isAnimatable)}},{key:"_updatePosition",value:function(){this._getPageDirection(),"rtl"===this.pageDirection?this.tabListEl.setAttribute("style",(0,m.default)("translate",-this.x+"px")):this.tabListEl.setAttribute("style",(0,m.default)("translate",this.x+"px"))}},{key:"_checkX",value:function(){this.x<this.minX&&(this.x=this.minX,this._updatePosition()),this.x>0&&(this.x=0,this._updatePosition())}},{key:"_onTabListClick",value:function(e){var t;this.scrollDistance>5?e.preventDefault():(t=this._findTabByChildElement(e.target))&&(e.preventDefault(),this.setActive(t))}},{key:"_onResize",value:function(){this._determineSize(),this.focus(this.activeTabEl)}},{key:"_onTouchStart",value:function(e){this.isScrollable&&(this._disableAnimation(),this.start({lastX:e.touches[0].clientX,lastY:e.touches[0].clientY,type:"touch"}))}},{key:"_onTouchMove",value:function(e){var t=e.touches[0].clientX-this.lastX,n=e.touches[0].clientY-this.lastY;this.scrollDirection||(Math.abs(n)>Math.abs(t)?this.scrollDirection="ns":this.scrollDirection="ew"),"ew"===this.scrollDirection&&(e.preventDefault(),this._getPageDirection(),t="rtl"===this.pageDirection?-t:t,this.move({x:t})),this.lastX=e.touches[0].clientX,this.lastY=e.touches[0].clientY}},{key:"_onTouchEnd",value:function(){var e;this._enableAnimation(),window.setTimeout((0,i.default)(e=function(){this.stop({type:"touch"})}).call(e,this),1)}},{key:"_onMouseDown",value:function(e){this.isScrollable&&(this._disableAnimation(),this.start({lastX:e.clientX,lastY:e.clientY,type:"mouse"}))}},{key:"_onMouseMove",value:function(e){var t=e.clientX-this.lastX,n=e.clientY-this.lastY;this.scrollDirection||(Math.abs(n)>Math.abs(t)?this.scrollDirection="ns":this.scrollDirection="ew"),"ew"===this.scrollDirection&&(e.preventDefault(),this._getPageDirection(),t="rtl"===this.pageDirection?-t:t,this.move({x:t})),this.lastX=e.clientX,this.lastY=e.clientY}},{key:"_onMouseUp",value:function(){var e;this.isDragging&&(this._enableAnimation(),window.setTimeout((0,i.default)(e=function(){this.stop({type:"mouse"})}).call(e,this),1))}},{key:"_onScroll",value:function(e){var t;if(this.isScrollable){this._disableAnimation();var n=e.wheelDeltaX||40*-e.detail;n&&(e.preventDefault(),this._getPageDirection(),n="rtl"===this.pageDirection?-n:n,this.move({x:n,scroll:!0})),this.scrollTimer&&(window.clearTimeout(this.scrollTimer),this.scrollTimer=null),this.scrollTimer=window.setTimeout((0,i.default)(t=this._onScrollEnd).call(t,this),100)}}},{key:"_onScrollEnd",value:function(){var e;this._enableAnimation(),window.setTimeout((0,i.default)(e=function(){this.stop({type:"scroll"})}).call(e,this),1)}},{key:"_onClick",value:function(e){(0,y.default)(e.target,"spark-tabs__btn--left")&&this._onLeftClick(),(0,y.default)(e.target,"spark-tabs__btn--right")&&this._onRightClick()}},{key:"_onLeftClick",value:function(){this.move({x:this.scrollRect.width,force:!0}),this.stop({type:"force"})}},{key:"_onRightClick",value:function(){this.move({x:-this.scrollRect.width,force:!0}),this.stop({type:"force"})}},{key:"_onFocus",value:function(e){var t=e.target||e.srcElement,n=(0,E.default)(t,".spark-tabs__tab",this.tabListEl);n&&(0,v.default)(n,"focus")}},{key:"_onBlur",value:function(e){var t=e.target||e.srcElement,n=(0,E.default)(t,".spark-tabs__tab",this.tabListEl);n&&(0,b.default)(n,"focus")}}]),a}(f.default);P.prototype._whitelistedParams=["useHash","breakpoints"],P.prototype.defaults={el:null,tabListEl:null,tabListScrollEl:null,tabEls:null,panelEls:null,activeTabEl:null,activePanelEl:null,navEl:null,leftEl:null,rightEl:null,useHash:!1,isScrollable:!1,isDragging:!1,isAnimatable:!1,scrollDirection:"",scrollDistance:0,lastX:0,lastY:0,minX:0,maxX:0,x:0,_onFocusBound:null,_onBlurBound:null,_onTabListClickBound:null,_onLeftClickBound:null,_onRightClickBound:null,_onResizeBound:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onScrollBound:null};var A=P;t.default=A,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1267)),h=a(n(1274));function f(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(){},g=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(f()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,c.default)(t)):(0,c.default)(t)}return(0,o.default)(a,[{key:"toggle",value:function(){return this.input?this.input.checked?this.deactivate():this.activate():this}},{key:"activate",value:function(){return this.setValue(!0)}},{key:"deactivate",value:function(){return this.setValue(!1)}},{key:"setValue",value:function(e){return this.input&&this.input.checked!==e&&(this.input.checked=e,(this.onChange||m)(e,this)),this}},{key:"getValue",value:function(){return this.input&&this.input.checked}},{key:"clearValue",value:function(){return this.deactivate()}},{key:"enable",value:function(){return this.input&&this.input.removeAttribute("disabled"),this}},{key:"disable",value:function(){return this.input&&this.input.setAttribute("disabled",""),this}},{key:"_cacheElements",value:function(e){this.el=e,this.input=e.querySelector(".spark-toggle__input")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onKeydownBound=(0,i.default)(e=this._onKeydown).call(e,this),this._onKeyupBound=(0,h.default)((0,i.default)(t=this._onKeyup).call(t,this),100)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("keydown",this._onKeydownBound),this.el.addEventListener("keyup",this._onKeyupBound)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("keydown",this._onKeydownBound),this.el.removeEventListener("keyup",this._onKeyupBound)}},{key:"_onKeyup",value:function(e){if((0,p.default)(e.target,".spark-toggle-switch, spark-toggle-switch__handle",this.el)&&32===(e.keyCode||e.which)){var t=this.getValue();(this.onChange||m)(t,this)}}},{key:"_onKeydown",value:function(e){if((0,p.default)(e.target,".spark-toggle-switch, spark-toggle-switch__handle",this.el))switch(e.keyCode||e.which){case 32:break;case 13:e.preventDefault(),this.toggle();break;case 39:case 40:e.preventDefault(),this.activate();break;case 37:case 38:e.preventDefault(),this.deactivate()}}}]),a}(d.default);g.prototype._whitelistedParams=["onChange"],g.prototype.defaults={el:null,input:null,onChange:null,_onKeydownBound:null};var v=g;t.default=v,e.exports=t.default},function(e,t,n){e.exports=n(1813)},function(e,t,n){var a=n(1814);e.exports=a},function(e,t,n){var a=n(1815),r=Array.prototype;e.exports=function(e){var t=e.sort;return e===r||e instanceof Array&&t===r.sort?a:t}},function(e,t,n){n(1816);var a=n(1262);e.exports=a("Array").sort},function(e,t,n){"use strict";var a=n(1246),r=n(1285),i=n(1272),s=n(1254),o=n(1321),l=[],c=l.sort,u=s((function(){l.sort(void 0)})),d=s((function(){l.sort(null)})),p=o("sort");a({target:"Array",proto:!0,forced:u||!d||p},{sort:function(e){return void 0===e?c.call(i(this)):c.call(i(this),r(e))}})},function(e,t,n){var a=n(1818),r=n(1822),i=n(1830);e.exports=function(e){return a(e)||r(e)||i()}},function(e,t,n){var a=n(1819);e.exports=function(e){if(a(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t,n){e.exports=n(1820)},function(e,t,n){var a=n(1506);e.exports=a},function(e,t,n){n(1246)({target:"Array",stat:!0},{isArray:n(1314)})},function(e,t,n){var a=n(1823),r=n(1827);e.exports=function(e){if(r(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return a(e)}},function(e,t,n){e.exports=n(1824)},function(e,t,n){var a=n(1507);e.exports=a},function(e,t,n){var a=n(1246),r=n(1826);a({target:"Array",stat:!0,forced:!n(1511)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var a=n(1316),r=n(1272),i=n(1508),s=n(1509),o=n(1284),l=n(1340),c=n(1510);e.exports=function(e){var t,n,u,d,p,h=r(e),f="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,v=void 0!==g,y=0,b=c(h);if(v&&(g=a(g,m>2?arguments[2]:void 0,2)),null==b||f==Array&&s(b))for(n=new f(t=o(h.length));t>y;y++)l(n,y,v?g(h[y],y):h[y]);else for(p=(d=b.call(h)).next,n=new f;!(u=p.call(d)).done;y++)l(n,y,v?i(d,g,[u.value,y],!0):u.value);return n.length=y,n}},function(e,t,n){e.exports=n(1828)},function(e,t,n){n(1322),n(1342);var a=n(1829);e.exports=a},function(e,t,n){var a=n(1304),r=n(1253),i=n(1288),s=r("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||i.hasOwnProperty(a(t))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1260)),s=a(n(1282)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1247)),m=a(n(1251)),g=a(n(1257)),v=a(n(1248)),y=a(n(1832)),b=a(n(1354)),E=n(1283);function C(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(){},S=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(C()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initFilterDisplay(),(0,d.default)(t)):(0,d.default)(t)}return(0,c.default)(a,[{key:"_cacheElements",value:function(e){var t,n;this.el=e,this.moduleEls=this.el.querySelectorAll(".spark-filter-module");var a={onAfterExpand:(0,o.default)(t=this._onAfterExpand).call(t,this),onAfterCollapse:(0,o.default)(n=this._onAfterCollapse).call(n,this)};if(this.moduleEls.length>0)for(var r=0;r<this.moduleEls.length;r++)if(void 0!==this.moduleOptions[r]){for(var i in a)this.moduleOptions[r][i]=a[i];this.moduleInsts[r]=new y.default(this.moduleEls[r],this.moduleOptions[r])}else this.moduleInsts[r]=new y.default(this.moduleEls[r],a);this._filterToggleContainer=this.el.querySelector(".spark-filter__toggle-container"),this._toggleFilterButton=this.el.querySelector(".spark-filter__toggle-button"),this._toggleFilterLabel=this.el.querySelector(".spark-filter__toggle-button span"),this._tagsContainer=this.el.querySelector(".spark-filter__tags-container"),this._tagsCounter=this.el.querySelector(".spark-filter__applied-filters-counter"),this._clearAllButton=this.el.querySelector(".spark-filter__clear-all"),this._filterContent=this.el.querySelector(".spark-filter__content"),this._modulesContainer=this.el.querySelector(".spark-filter__modules-container"),this._viewMoreButton=this.el.querySelector(".spark-filter__view-more-filters"),this._viewLessButton=this.el.querySelector(".spark-filter__view-less-filters"),this._filterFooter=this.el.querySelector(".spark-filter__footer"),this._buttonGroupEl=this.el.querySelector(".spark-filter__apply-btn-container"),this._applyFiltersButton=this.el.querySelector(".spark-filter__btn-apply")}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r;this._onResizeBound=(0,o.default)(e=this._onResize).call(e,this),this._toggleViewBound=(0,o.default)(t=this._toggleView).call(t,this),this._toggleFilterClickBound=(0,o.default)(n=this.toggleFilterClick).call(n,this),this._onClearAllBound=(0,o.default)(a=this._onClearAll).call(a,this),this._onScrollBound=(0,o.default)(r=this._onScroll).call(r,this)}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.addEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.addEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.addEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.addEventListener("click",this._onClearAllBound)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.removeEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.removeEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.removeEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.removeEventListener("click",this._onClearAllBound)}},{key:"_initFilterDisplay",value:function(){this.initializingFilter=!0,this.moduleEls.length>0&&(this.extraModulesExpanded=!1),(0,f.default)(this.el,"spark-filter--initializing"),this._determineFilterLayout()}},{key:"_determineFilterLayout",value:function(){switch(this.currentBreakpoint=(0,E.get)(window.innerWidth),this.currentBreakpoint){case"xs":this._curCol=1;break;case"sm":this._curCol=2;break;case"md":this._curCol=3;break;default:this._curCol=4}if(this._curCol<=1?this._isDropdownState||(this._applyExpandCollapseLayout(),this._showModule()):(this._expandCollapseState&&this._removeExpandCollapseLayout(),(0,m.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed")),this._showModule(),this.extraModulesExpanded||this._hideModule(this._curCol,this._maxCol-1)),!this._isDropdownState){var e=document.querySelectorAll(".spark-filter-module.hide");this.extraModulesExpanded||0!==e.length?!this.extraModulesExpanded&&e.length>0&&(0,v.default)(this._viewMoreButton,"hide"):(0,f.default)(this._viewMoreButton,"hide")}}},{key:"_updateFilterLayout",value:function(){this._determineFilterLayout()}},{key:"_toggleView",value:function(){this._isFilterExpanded&&!this.extraModulesExpanded?(this._showModule(),this._dispatchVisibilityEvent()):this._isFilterExpanded&&this.extraModulesExpanded&&this._hideModule(this._curCol,this._maxCol-1),this.extraModulesExpanded=!this.extraModulesExpanded,(0,g.default)(this._viewMoreButton,"hide"),(0,g.default)(this._viewLessButton,"hide")}},{key:"toggleFilterClick",value:function(){this.initializingFilter&&(this.initializingFilter=!1),this.toggleFilter()}},{key:"toggleFilter",value:function(e,t){(0,m.default)(this.el,"spark-filter--initializing")&&!this.initializingFilter&&((0,v.default)(this.el,"spark-filter--initializing"),(0,f.default)(this.el,"spark-filter--initialized")),"expand"===e?(this.initializingFilter?(0,v.default)(this._filterContent,"hide"):((0,v.default)(this._filterContent,"hide"),(0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),t||(this._isFilterExpanded=!0)):"collapse"===e?(this.initializingFilter?(0,f.default)(this._filterContent,"hide"):((0,f.default)(this._filterContent,"hide"),(0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"),t||(this._isFilterExpanded=!1)):((0,g.default)(this._filterContent,"hide"),(0,m.default)(this.el,"filter-expanded")?((0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"):((0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),t||(this._isFilterExpanded=!this._isFilterExpanded,(0,m.default)(this.el,"spark-filter--dropdown")&&!(0,m.default)(this._filterContent,"hide")&&this._calculateApplyBtnPosition())),!(0,m.default)(this.el,"spark-filter--dropdown")&&(0,m.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed")),this._dispatchVisibilityEvent()}},{key:"_onResize",value:function(){this._updateFilterLayout()}},{key:"_onScroll",value:function(){var e;this._isDropdownState&&(this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300))}},{key:"_onAfterExpand",value:function(){var e;(0,m.default)(this._buttonGroupEl,"is-fixed")||(this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300))}},{key:"_onAfterCollapse",value:function(){var e;this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300)}},{key:"_dispatchVisibilityEvent",value:function(){var e=document.createEvent("Event");e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e)}},{key:"_calculateApplyBtnPosition",value:function(){var e=this.el.getBoundingClientRect();if(e.height>255){var t=window.innerHeight,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a=n-(e.top+document.body.scrollTop),r=e.top+document.body.scrollTop+e.height-(n+t);if(!(n>e.top+document.body.scrollTop+e.height||e.top+document.body.scrollTop>n+window.innerHeight)){var i,s=100,o=0,l=0;a>0&&(s-=100*a/e.height,o=a),r>0&&(s-=100*r/e.height,l=r),i=(e.height-(l+o))/t*100}if(e.bottom>(window.innerHeight||document.documentElement.clientHeight)&&(s>45||i>50)){var c=this._buttonGroupEl.offsetHeight,u=e.width;this._filterFooter.style.height=c+"px",(0,f.default)(this._buttonGroupEl,"is-fixed"),this._buttonGroupEl.style.width=u-2+"px",this._buttonGroupEl.style.left=e.left+1+"px",this._applyBtnPositionFixed()}else this._applyBtnPositionRelative()}}},{key:"_applyBtnPositionRelative",value:function(){var e=(0,i.default)(getComputedStyle(this._buttonGroupEl).bottom),t=this._modulesContainer.getBoundingClientRect().bottom,n=(window.innerHeight||document.documentElement.clientHeight)-(t+this._buttonGroupEl.getBoundingClientRect().height);if(!isNaN(e)){var a=function e(){this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed"),(0,v.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate"),this._buttonGroupEl.removeEventListener("animationend",e)};this._buttonGroupEl.addEventListener("animationend",(0,o.default)(a).call(a,this),!1);var r="-webkit-transform: translateY(-"+n+"px); transform: translateY(-"+n+"px);";this._buttonGroupEl.setAttribute("style",this._buttonGroupEl.getAttribute("style")+" "+r),(0,f.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate")}}},{key:"_applyBtnPositionFixed",value:function(){var e=requestAnimationFrame((0,o.default)(n).call(n,this)),t=.1;function n(){t+=.01;var a=(0,i.default)(getComputedStyle(this._buttonGroupEl).bottom),r=(0,i.default)(getComputedStyle(this._buttonGroupEl).height);a<-1*r&&(a=-1*r),a>-1?(this._buttonGroupEl.style.bottom="0px",cancelAnimationFrame(e)):a<0&&(a+=1/t,this._buttonGroupEl.style.bottom=a+"px",requestAnimationFrame((0,o.default)(n).call(n,this)))}}},{key:"_onClearAll",value:function(){(this.onClearAll||k)()}},{key:"_showModule",value:function(){for(var e=0;e<this.moduleEls.length;e++)(0,v.default)(this.moduleEls[e],"hide")}},{key:"_hideModule",value:function(e,t){t=t||this.moduleEls.length-1;for(var n=e;n<=t;n++)(0,f.default)(this.moduleEls[n],"hide")}},{key:"_applyExpandCollapseLayout",value:function(){var e;(0,f.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!0;var t=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(t.length>0){for(var n=0;n<t.length;n++)(0,f.default)(t[n],"hide");(0,v.default)(this._tagsCounter,"hide")}(0,f.default)(this._viewMoreButton,"hide"),(0,f.default)(this._viewLessButton,"hide"),this._applyFiltersButton&&((0,v.default)(this._applyFiltersButton,"spark-btn--sm"),(0,f.default)(this._applyFiltersButton,"spark-btn--block"));for(var a=0;a<this.moduleInsts.length;a++)this.moduleInsts[a]._applyExpand();this._isDropdownState=!0,this._timeout=(0,s.default)((0,o.default)(e=this._calculateApplyBtnPosition).call(e,this),300)}},{key:"_removeExpandCollapseLayout",value:function(){(0,v.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!1,this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,v.default)(this._buttonGroupEl,"is-fixed");var e=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(e.length>0){for(var t=0;t<e.length;t++)(0,v.default)(e[t],"hide");(0,f.default)(this._tagsCounter,"hide")}this.extraModulesExpanded?(0,v.default)(this._viewLessButton,"hide"):(0,v.default)(this._viewMoreButton,"hide"),this._applyFiltersButton&&((0,f.default)(this._applyFiltersButton,"spark-btn--sm"),(0,v.default)(this._applyFiltersButton,"spark-btn--block"));for(var n=0;n<this.moduleInsts.length;n++)this.moduleInsts[n]._disapplyExpand();this._isDropdownState=!1}},{key:"createTagEl",value:function(e,t,n){var a=document.createElement("div");a.className=(0,m.default)(this.el,"spark-filter--dropdown")?"spark-filter__tag hide":"spark-filter__tag",a.setAttribute("data-filter-name",e),a.innerHTML='<span class="spark-filter__tag__label">'+t+'</span><i role="button" tabindex="0" aria-label="Clear '+t+' filter" class="spark-icon spark-icon-close spark-filter__tag__close"></i>',this._tagsContainer.insertBefore(a,this._clearAllButton),a.querySelector(".spark-filter__tag__close").addEventListener("click",n||k),a.querySelector(".spark-filter__tag__close").addEventListener("keydown",n||k),(0,v.default)(this._clearAllButton,"hide"),(0,m.default)(this.el,"spark-filter--dropdown")&&(0,v.default)(this._tagsCounter,"hide")}},{key:"clearAllTagEls",value:function(){for(var e=this._tagsContainer.querySelectorAll(".spark-filter__tag"),t=0;t<e.length;t++)this._tagsContainer.removeChild(e[t]);this._tagsContainer.querySelector("span").innerHTML="0",(0,f.default)(this._clearAllButton,"hide"),(0,f.default)(this._tagsCounter,"hide")}},{key:"showModuleClearButton",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].enableClearBtn()}},{key:"disableModuleClearButton",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].disableClearBtn()}},{key:"hideModuleClearButton",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].hideClearBtn()}},{key:"moduleClearButtonStatus",value:function(e){for(var t=0;t<this.moduleInsts.length;t++)if(this.moduleInsts[t].el.getAttribute("data-filter-module")===e)return this.moduleInsts[t].getClearButtonStatus()}}]),a}(h.default);S.prototype._whitelistedParams=["onClearAll","moduleOptions"],S.prototype.defaults={el:null,moduleEls:[],_filterToggleContainer:null,_toggleFilterButton:null,_toggleFilterLabel:null,_tagsContainer:null,_tagsCounter:null,_clearAllButton:null,_filterContent:null,_modulesContainer:null,_viewMoreButton:null,_viewLessButton:null,_filterFooter:null,_buttonGroupEl:null,_applyFiltersButton:null,moduleInsts:[],moduleOptions:[],maxCol:4,onClearAll:k,extraModulesExpanded:!1,_isFilterExpanded:!1,_isDropdownState:!1,_isModuleExpand:!0,_curCol:4,_onResizeBound:null,_toggleViewBound:null,_toggleFilterClickBound:null,_onClearAllBound:null,_onScrollBound:null};var _=S;t.default=_,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1265)),o=a(n(1238)),l=a(n(1239)),c=a(n(1244)),u=a(n(1245)),d=a(n(1241)),p=a(n(1242)),h=a(n(1257)),f=a(n(1248)),m=a(n(1247)),g=a(n(1251)),v=a(n(1399)),y=a(n(1389));function b(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(){},C=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(b()){var a=(0,d.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),(0,u.default)(t)):(0,u.default)(t)}return(0,l.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,this._showAllEl=this.el.querySelector(".spark-filter-module__show-all"),this._showAllEl&&(this._showAllToggleable=this._showAllEl.querySelector("span")),this._clearEls=this.el.querySelectorAll(".spark-filter-module__clear"),this._hiddenEls=(0,s.default)(Array.prototype).call(this.el.querySelectorAll(".spark-filter-module--hide")),this._headerEl=this.el.querySelector(".spark-filter-module__header"),this._bodyEl=this.el.querySelector(".spark-filter-module__body"),this._modalEl=this.el.querySelector(".spark-modal"),this._modalSaveBtn=this.el.querySelector(".spark-filter-module__show-all__modal-button"),this._modalClasses=[],"modal"===this.onShowAll&&(this.modalInst=new y.default(this._modalEl))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n;this._onShowAllBound=(0,i.default)(e=this._onShowAll).call(e,this),this._onClearBound=(0,i.default)(t=this._onClear).call(t,this),this._onCloseModalBound=(0,i.default)(n=this._onCloseModal).call(n,this)}},{key:"_addEventListeners",value:function(){!this._showAllEl||this._showAllEl.addEventListener("click",this._onShowAllBound),!this._modalSaveBtn||this._modalSaveBtn.addEventListener("click",this._onCloseModalBound);for(var e=0;e<this._clearEls.length;e++)!this._clearEls[e]||this._clearEls[e].addEventListener("click",this._onClearBound)}},{key:"_removeEventListeners",value:function(){if(this._showAllEl){this._showAllEl.removeEventListener("click",this._onShowAllBound),this._modalSaveBtn.removeEventListener("click",this._onCloseModalBound);for(var e=0;e<this._clearEls.length;e++)!this._clearEls[e]||this._clearEls[e].removeEventListener("click",this._onClearBound)}}},{key:"_onShowAll",value:function(){"function"==typeof this.onShowAll?(this.onShowAll||E)(this):("toggle"===this.onShowAll||"modal"===this.onShowAll&&this._isExpand?(this._toggleShowAllLabel(),this.toggleHiddenContent()):"modal"!==this.onShowAll||this._isExpand||this.modalInst.open(),(this.onShowAllComplete||E)())}},{key:"_toggleShowAllLabel",value:function(){this._showAllToggleable.innerHTML="more"===this._showAllToggleable.innerHTML?"fewer":"more"}},{key:"_onClear",value:function(){(this.onClear||E)(this)}},{key:"_onCloseModal",value:function(){(this.onModalClose||E)(),this.modalInst.close()}},{key:"enableClearBtn",value:function(){for(var e=0;e<this._clearEls.length;e++)(0,f.default)(this._clearEls[e],"spark-filter-module__clear--disabled"),(0,f.default)(this._clearEls[e],"spark-filter-module__clear--hidden")}},{key:"disableClearBtn",value:function(){for(var e=0;e<this._clearEls.length;e++)(0,m.default)(this._clearEls[e],"spark-filter-module__clear--disabled")}},{key:"hideClearBtn",value:function(){for(var e=0;e<this._clearEls.length;e++)(0,m.default)(this._clearEls[e],"spark-filter-module__clear--hidden")}},{key:"getClearButtonStatus",value:function(){for(var e=!1,t=0;t<this._clearEls.length;t++)e=!(0,g.default)(this._clearEls[t],"spark-filter-module__clear--hidden")&&!(0,g.default)(this._clearEls[t],"spark-filter-module__clear--disabled");return e}},{key:"toggleHiddenContent",value:function(){for(var e=0;e<this._hiddenEls.length;e++)(0,h.default)(this._hiddenEls[e],"show")}},{key:"_applyExpand",value:function(){if(this._modalEl){var e=["spark-filter-module--hide","","",""];this._hiddenEls.push(this._modalEl);for(var t=this._modalEl,n=0;n<e.length;n++)this._modalClasses[n]=t.className,t.className=e[n],t=t.firstElementChild;(0,g.default)(document.body,"spark-modal-open")&&(0,f.default)(document.body,"spark-modal-open"),this.modalInst.remove(!0)}(0,m.default)(this.el,"spark-panel","spark-panel--expand"),(0,m.default)(this._headerEl,"spark-panel__header"),this._headerEl.setAttribute("role","heading"),this._headerEl.setAttribute("tabindex","0"),(0,m.default)(this._bodyEl,"spark-panel__content"),this._expandInst=new v.default(this.el,{onAfterExpand:this.onAfterExpand,onAfterCollapse:this.onAfterCollapse}),this._isExpand=!0}},{key:"_disapplyExpand",value:function(){if(this._modalEl){(0,g.default)(this._modalEl,"show")&&this._toggleShowAllLabel(),this._hiddenEls.pop();for(var e=this._modalEl,t=0;t<this._modalClasses.length;t++)e.className=this._modalClasses[t],e=e.firstElementChild;this.modalInst=new y.default(this._modalEl)}(0,f.default)(this.el,"spark-panel","spark-panel--expand"),(0,f.default)(this._headerEl,"spark-panel__header"),this._headerEl.removeAttribute("role"),this._headerEl.removeAttribute("tabindex"),(0,f.default)(this._bodyEl,"spark-panel__content"),this._expandInst.remove(!0),this._isExpand=!1}}]),a}(p.default);C.prototype._whitelistedParams=["onShowAll","onShowAllComplete","onModalClose","onClear","onAfterExpand","onAfterCollapse"],C.prototype.defaults={el:null,onShowAll:E,onShowAllComplete:E,onModalClose:E,onClear:E,onAfterExpand:E,onAfterCollapse:E,modalInst:null,_onShowAllBound:null,_onClearBound:null,_showAllEl:null,_clearEl:null,_hiddenEls:[],_headerEl:null,_bodyEl:null,_modalEl:null,_expandInst:null,_isExpand:!1,dataSet:{}};var k=C;t.default=k,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1341)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1323)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1247)),m=a(n(1248)),g=a(n(1274)),v=a(n(1257)),y=a(n(1296)),b=a(n(1398));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(E()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),t=n.call(this,e,r),e?(t._elPosition=window.getComputedStyle(t.el,null).getPropertyValue("position"),t._bindEventListenerCallbacks(),t._addEventListeners(),t._createTypes(),t._isActive=!1,t):(0,d.default)(t,(0,c.default)(t))}return(0,l.default)(a,[{key:"_addWindowListeners",value:function(){window.addEventListener("scroll",this._onScrollBound),window.addEventListener("resize",this._doResizeBound)}},{key:"_addEventListeners",value:function(){var e,t;"fixed"===window.getComputedStyle(this.el,null).getPropertyValue("position")&&this.el.addEventListener("transitionend",this._fixedHeaderTransitionBound),this._dom.panel.actions.el.addEventListener("click",this._doActionBound),this._dom.root.addEventListener("touchstart",(0,s.default)(e=this._touchStart).call(e,this)),this._dom.root.addEventListener("touchend",(0,s.default)(t=this._touchEnd).call(t,this))}},{key:"_attachToast",value:function(){this.el.insertBefore(this._dom.root,this.el.firstChild)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i;this._fixedHeaderTransitionBound=(0,s.default)(e=this._fixedHeaderTansition).call(e,this),this._onScrollBound=(0,s.default)(t=this._onScroll).call(t,this),this._doActionBound=(0,s.default)(n=this._doAction).call(n,this),this._doResizeBound=(0,g.default)((0,s.default)(a=this._resize).call(a,this),100),this._onHidePanelBound=(0,s.default)(r=this._onHidePanel).call(r,this),this._onTimerDoneBound=(0,s.default)(i=this._onTimerDone).call(i,this)}},{key:"_cacheElements",value:function(e){this._dom={root:"",panel:{root:"",icon:{root:"",el:""},content:{root:"",title:"",details:""},actions:{root:"",el:""},timer:{root:""}}},this.el=e;var t=(new Date).getTime();this._ariaLabelledBy="spark-toast--title-"+t.toString(16),this._arialDescribedBy="spark-toast--details-"+t.toString(16),this._dom.root=document.createElement("div"),this._dom.toast=document.createElement("div"),this._dom.panel.root=document.createElement("div"),this._dom.panel.icon.root=document.createElement("div"),this._dom.panel.icon.el=document.createElement("i"),this._dom.panel.icon.root.setAttribute("aria-hidden",!0),this._dom.panel.content.root=document.createElement("div"),this._dom.panel.content.title=document.createElement("h4"),this._dom.panel.content.title.setAttribute("role","presentation"),this._dom.panel.content.title.setAttribute("id",this._ariaLabelledBy),this._dom.panel.content.details=document.createElement("p"),this._dom.panel.content.details.setAttribute("id",this._arialDescribedBy),this._dom.panel.actions.root=document.createElement("div"),this._dom.panel.actions.el=document.createElement("button"),this._dom.panel.actions.el.setAttribute("role","button"),this._dom.panel.timer.root=document.createElement("div"),(0,f.default)(this._dom.root,"spark-toast-root"),(0,f.default)(this._dom.toast,"spark-toast"),(0,f.default)(this._dom.panel.root,"spark-toast__panel"),(0,f.default)(this._dom.panel.icon.root,"spark-toast__icon"),(0,f.default)(this._dom.panel.content.root,"spark-toast__content"),(0,f.default)(this._dom.panel.content.title,""),(0,f.default)(this._dom.panel.content.details,""),(0,f.default)(this._dom.panel.actions.root,"spark-toast__actions"),(0,f.default)(this._dom.panel.content.title,"spark-toast__heading"),(0,f.default)(this._dom.panel.content.details,"spark-toast__details"),(0,f.default)(this._dom.panel.timer.root,"spark-toast__timer"),this._dom.panel.icon.root.appendChild(this._dom.panel.icon.el),this._dom.panel.content.root.appendChild(this._dom.panel.content.title),this._dom.panel.content.root.appendChild(this._dom.panel.content.details),this._dom.panel.actions.root.appendChild(this._dom.panel.actions.el),this._dom.panel.root.appendChild(this._dom.panel.icon.root),this._dom.panel.root.appendChild(this._dom.panel.content.root),this._dom.panel.root.appendChild(this._dom.panel.actions.root),this._dom.panel.root.appendChild(this._dom.panel.timer.root),this._dom.toast.appendChild(this._dom.panel.root),this._dom.root.appendChild(this._dom.toast)}},{key:"_checkFixed",value:function(){if("fixed"!==this._elPosition){var e=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop,t=void 0!==window.pageXOffset?window.pageXOffset:window.document.body.scrollLeft;this._startTop<e?((0,v.default)(this._dom.toast,"spark-toast--fixed",!0),this._dom.toast.style.top=0,this._dom.toast.style.left=(0,y.default)(this.el,!1).left-t+"px"):((0,v.default)(this._dom.toast,"spark-toast--fixed",!1),this.elHeader?(this._dom.toast.style.left="-"+Math.floor((0,y.default)(this.elHeader,!1).left-(0,y.default)(this.el,!1).left)+"px",this._dom.toast.style.top=(0,b.default)(this.elHeader)+"px"):(this._dom.toast.style.left=0,this._dom.toast.style.top=0))}else this._dom.toast.style.top=(0,b.default)(this.el)+"px"}},{key:"_createTypes",value:function(){this._toastTypes={},this._toastTypes.positive={className:"spark-toast--positive"},this._toastTypes.neutral={className:"spark-toast--neutral"},this._toastTypes.warning={className:"spark-toast--warning"},this._toastTypes.error={className:"spark-toast--error"}}},{key:"_doAction",value:function(e){e&&e.stopImmediatePropagation(),this.onAction=null,"function"==typeof this.onAction&&this.onAction(),this._onTimerDoneBound(e)}},{key:"_fixedHeaderTansition",value:function(){this._dom.toast.style.top=(0,b.default)(this.el)+"px"}},{key:"_onHidePanel",value:function(e){e&&e.stopImmediatePropagation(),this._isActive=!1,(0,m.default)(this._dom.panel.root,"spark-toast--show"),this._dom.panel.root.removeEventListener("animationend",this._onHidePanelBound),this._dom.root.parentNode.removeChild(this._dom.root),this._removeWindowListeners(),null!==this._lastFocused&&this._lastFocused.focus(),this._lastFocused=null}},{key:"_onScroll",value:function(){this._checkFixed()}},{key:"_onTimerDone",value:function(e){e&&e.stopImmediatePropagation(),this._dom.panel.timer.root.removeEventListener("animationend",this._onTimerDoneBound),this._dom.panel.root.style.animation="",this._dom.panel.root.addEventListener("animationend",this._onHidePanelBound),this._dom.panel.root.style.animation="toast-animation-out .25s ease-out .2s 1 backwards",this._isActive=!1}},{key:"open",value:function(e){if(this._setLastFocused(),!this.el)return this;this._updateValues(e),""===this.actionIcon&&""===this.actionLabel?(this._dom.toast.removeAttribute("aria-labelledby"),this._dom.toast.removeAttribute("aria-describedby"),this._dom.toast.setAttribute("role","alert")):(this._dom.toast.setAttribute("aria-labelledby",this._ariaLabelledBy),this._dom.toast.setAttribute("aria-describedby",this._arialDescribedBy),this._dom.toast.setAttribute("role","alertdialog")),this._dom.panel.content.title.innerHTML=this.title,this._dom.panel.content.details.innerHTML=this.details,this._dom.toast.className="spark-toast spark-toast--"+this.type,"fixed"===this._elPosition?(0,v.default)(this._dom.toast,"spark-toast--fixed",!0):((0,v.default)(this._dom.toast,"spark-toast--fixed",!1),this._dom.toast.style.top=this.el.offsetTop+this.el.offsetHeight+"px"),this._dom.panel.icon.el.className="spark-icon spark-icon--fill "+this.icon,""!==this.actionIcon&&this.actionIcon?(this.actionLabel&&this._dom.panel.actions.el.setAttribute("aria-label",this.actionLabel),this._dom.panel.actions.el.className="spark-btn--icon spark-icon spark-icon--fill "+this.actionIcon,this._dom.panel.actions.el.innerHTML=""):(this._dom.panel.actions.el.removeAttribute("aria-label"),this._dom.panel.actions.el.className="spark-btn spark-btn--text",this._dom.panel.actions.el.innerHTML=this.actionLabel),!1===this._isActive&&(this._dom.root.parentNode&&this._onHidePanel(),this._addWindowListeners(),this._attachToast(),this._elPosition=window.getComputedStyle(this.el,null).getPropertyValue("position"),this.elHeader?this._startTop=(0,b.default)(this.elHeader)+(0,y.default)(this.el,!1).top:this._startTop=(0,y.default)(this.el,!1).top,this._dom.toast.style.width=this.el.offsetWidth+"px",this._dom.panel.root.style.animation="",(0,f.default)(this._dom.panel.root,"spark-toast--show")),this._checkFixed(),this._setFocus(),this._startTimer(),this._isActive=!0}},{key:"remove",value:function(){this._onHidePanel(),this.el.removeEventListener("transitionend",this._fixedHeaderTansitionBound),this._dom=void 0}},{key:"_removeWindowListeners",value:function(){window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("resize",this._doResizeBound)}},{key:"_resize",value:function(){!0===this._isActive&&(this._dom.toast.style.width=this.el.offsetWidth+"px")}},{key:"_setFocus",value:function(){""===this.actionLabel&&""===this.actionIcon||this._dom.panel.actions.el.focus()}},{key:"_setLastFocused",value:function(){this._lastFocused=document.activeElement,this._lastFocused&&this._lastFocused!==document.body?document.querySelector&&(this._lastFocused=document.querySelector(":focus")):this._lastFocused=null}},{key:"_startTimer",value:function(){this._dom.panel.timer.root.style.animation="",this._dom.panel.timer.root.offsetWidth,this._dom.panel.timer.root.addEventListener("animationend",this._onTimerDoneBound),this._dom.panel.timer.root.style.animation=this.duration+"s linear 1s toast-timer-animation forwards"}},{key:"_touchStart",value:function(e){e&&e.stopImmediatePropagation(),this._toastRect=this._dom.toast.getBoundingClientRect(),this._startX=e.changedTouches[0].screenX,this._startY=e.changedTouches[0].screenY}},{key:"_touchEnd",value:function(e){var t=(e.changedTouches[0].screenX-this._startX)/this._toastRect.width,n=(e.changedTouches[0].screenY-this._startY)/this._toastRect.height;return t>n&&t>.25?"swipe-right":n>t&&n>.25?"swipe-down":t<n&&t<-.25?"swipe-left":n<t&&n<-.25?(this._doActionBound(e),"swipe-up"):void 0}},{key:"_updateValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0!==(0,i.default)(e).length&&(this.title=e.title||this.defaults.title,this.details=e.details||this.defaults.details,this.duration=e.duration||this.defaults.duration,this.type=e.type||this.defaults.type,this.icon=e.icon||this.defaults.icon,this.actionIcon=e.actionIcon||this.defaults.actionIcon,this.actionLabel=e.actionLabel||this.defaults.actionLabel,this.onAction=e.onAction||this.defaults.onAction)}}]),a}(h.default);C.prototype._whitelistedParams=["elHeader","type","title","details","duration","icon","actionIcon","actionLabel","onAction"],C.prototype.defaults={el:null,elHeader:null,type:"positive",title:"",details:"",icon:"",duration:3,actionIcon:"",actionLabel:"",onAction:null};var k=C;t.default=k,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1282)),s=a(n(1250)),o=a(n(1240)),l=a(n(1278)),c=a(n(1400)),u=a(n(1238)),d=a(n(1239)),p=a(n(1258)),h=a(n(1244)),f=a(n(1245)),m=a(n(1241)),g=a(n(1242)),v=a(n(1257)),y=a(n(1251)),b=n(1271),E=a(n(1274)),C=a(n(1295)),k=a(n(1267)),S=a(n(1273)),_=a(n(1261)),O=a(n(1266));function w(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(){},A=function(e){(0,h.default)(a,e);var t,n=(t=a,function(){var e,n=(0,m.default)(t);if(w()){var a=(0,m.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,f.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),r.elRequired=!0,(t=n.call(this,e,r))?(t._bindEventListenerCallbacks(),t._addEventListeners(),t.inputEl.value&&(t.show(),t._onInput()),(0,f.default)(t)):(0,f.default)(t)}return(0,d.default)(a,[{key:"_cacheElements",value:function(e){if(this.el=e,this.inputEl=this.el.querySelector(".spark-auto-suggest__field"),this.labelEl=this.el.querySelector(".spark-label"),this.listBoxEl=this.el.querySelector(".spark-auto-suggest__listbox"),this.clearButtonEl=this.el.querySelector(".spark-auto-suggest__clear-btn"),!this.inputEl)throw new Error("No <input> element present in input container!",this.el);this.messageEl=this.el.querySelector(".spark-input__message")||(0,O.default)('<span class="spark-input__message"></span>')}},{key:"_parseParams",value:function(){if(this.clickedWithinAutoSuggest=!1,this.isActive=!!this.inputEl.value,this.autoSuggestTerms=null!==this.autoSuggestTerms&&(0,c.default)(this.autoSuggestTerms)?this.autoSuggestTerms:null,this.minLength=null!==this.minLength?this.minLength:(0,b.number)(this.el,"data-min-length",2),this.maxSuggestions=null!==this.maxSuggestions?this.maxSuggestions:(0,b.number)(this.el,"data-max-suggestions",2),this.showAllTerms=null!==this.showAllTerms?this.showAllTerms:(0,b.boolean)(this.el,"data-show-all-terms",!1),this.showNoResultsFound=null!==this.showNoResultsFound?this.showNoResultsFound:(0,b.boolean)(this.el,"data-show-no-results-found",!1),this.noResultsFoundText=null!==this.noResultsFoundText?this.noResultsFoundText:"No results found",this.autoSuggestTerms&&(this.termsObject="object"===(0,l.default)(this.autoSuggestTerms[0])),null===this.autoSuggestTerms&&null===this.customGetSuggestions)throw new Error("No Auto Suggest terms or custom search function provided!",this.el)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s;this._onFocusBound=(0,o.default)(e=this._onFocus).call(e,this),this._onBlurBound=(0,E.default)((0,o.default)(t=this._onBlur).call(t,this),100),this._onInputBound=(0,o.default)(n=this._onInput).call(n,this),this._onClearClickBound=(0,o.default)(a=this._onClearClick).call(a,this),this._onWindowClickBound=(0,o.default)(r=this._onWindowClick).call(r,this),this._onKeyupBound=(0,o.default)(i=this._onKeyup).call(i,this),this._onKeydownBound=(0,o.default)(s=this._onKeydown).call(s,this)}},{key:"_addEventListeners",value:function(){this.inputEl.addEventListener("focus",this._onFocusBound),this.inputEl.addEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("input",this._onInputBound),this.clearButtonEl&&this.clearButtonEl.addEventListener("click",this._onClearClickBound),this._addWindowEventListeners()}},{key:"_removeEventListeners",value:function(){this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("input",this._onInputBound),this.clearButtonEl&&this.clearButtonEl.removeEventListener("click",this._onClearClickBound),this._removeWindowEventListeners()}},{key:"_addWindowEventListeners",value:function(){this._removeWindowEventListeners(),window.addEventListener("click",this._onWindowClickBound),window.addEventListener("keyup",this._onKeyupBound),window.addEventListener("keydown",this._onKeydownBound)}},{key:"_removeWindowEventListeners",value:function(){window.removeEventListener("click",this._onWindowClickBound),window.removeEventListener("keyup",this._onKeyupBound),window.removeEventListener("keydown",this._onKeydownBound)}},{key:"_onFocus",value:function(){if(this.show(),(0,v.default)(this.inputEl,"focus",!0),!this.showAllTerms||this.listBoxElOpen||this.inputEl.value||null!==this.customGetSuggestions){if(this.inputEl.value&&!this.listBoxElOpen){var e=this.inputEl.value;e.length>0&&(0,v.default)(this.clearButtonEl,"visible",!0),e.length>=this.minLength&&this._updateSuggestionsDisplay()}}else this._displayAllSuggestions()}},{key:"_onBlur",value:function(){if(this.clickedWithinAutoSuggest)return this.clickedWithinAutoSuggest=!1,void this.inputEl.focus();var e=document.activeElement;(0,C.default)(e,this.el)||(this.inputEl.value||this.hide(),this._closeListbox(),(0,v.default)(this.inputEl,"focus",!1))}},{key:"_onInput",value:function(){this.listBoxEl.innerHTML="",(0,v.default)(this.listBoxEl,"visible",!1);var e=this.inputEl.value;document.activeElement!==this.inputEl&&e.length>0?(0,v.default)(this.clearButtonEl,"visible",!0):(this.showingAllTerms=!(0!==e.length||!this.showAllTerms),this.showingAllTerms&&this._displayAllSuggestions(),e.length>0?(0,v.default)(this.clearButtonEl,"visible",!0):(0,v.default)(this.clearButtonEl,"visible",!1),e.length>=this.minLength&&this._updateSuggestionsDisplay(),(this.onChange||P)(this.inputEl.value,this))}},{key:"_createSuggestionMarkup",value:function(e,t){return this.termsObject&&(e=this.autoSuggestTerms[t].icon&&""!==this.autoSuggestTerms[t].icon?this.autoSuggestTerms[t].icon+'<span class="spark-auto-suggest__list-item__value" data-term-index="'+t+'">'+e+"</span>":'<span class="spark-auto-suggest__list-item__value" data-term-index="'+t+'">'+e+"</span>",this.autoSuggestTerms[t].description&&""!==this.autoSuggestTerms[t].description&&(e+='<span class="spark-auto-suggest__list-item__description">'+this.autoSuggestTerms[t].description+"</span>")),e}},{key:"_createSuggestionsListItemMarkup",value:function(e,t){var n=document.createElement("li");return n.setAttribute("role","option"),n.setAttribute("id","spark-auto-suggest__list-item--"+t),n.setAttribute("class","spark-auto-suggest__list-item"),n.setAttribute("tabindex","-1"),this.termsObject&&n.setAttribute("data-suggestion-object",!0),n.innerHTML=e,n}},{key:"_displayAllSuggestions",value:function(){if(!(this.autoSuggestTerms.length<1)){this.showingAllTerms=!0;for(var e=[],t=0;t<this.autoSuggestTerms.length;t++){var n=this.termsObject?this.autoSuggestTerms[t].value:this.autoSuggestTerms[t];n=this._createSuggestionMarkup(n,t),e.push(n)}if(e.length){for(var a=0;a<e.length;a++){var r=this._createSuggestionsListItemMarkup(e[a],a);this.listBoxEl.appendChild(r)}this._openListbox(),this.resultsCount=e.length}}}},{key:"_updateSuggestionsDisplay",value:function(){var e=[];if(this.customGetSuggestions){var t;(0,o.default)(t=this.customGetSuggestions).call(t,this)()}else{for(var n=0;n<this.autoSuggestTerms.length;n++){var a,r=this.termsObject?this.autoSuggestTerms[n].value:this.autoSuggestTerms[n];if(-1!==(0,s.default)(a=r.toLowerCase()).call(a,this.inputEl.value.toLowerCase())){var i=new RegExp(this.inputEl.value,"gi"),l=r.replace(i,(function(e){return"<mark>"+e+"</mark>"}));l=this._createSuggestionMarkup(l,n),e.push(l)}if(e.length===this.maxSuggestions)break}if(e.length){this.listBoxEl.innerHTML="";for(var c=0;c<e.length;c++){var u=this._createSuggestionsListItemMarkup(e[c],c);this.listBoxEl.appendChild(u)}this._openListbox(),this.resultsCount=e.length}else if(this.resultsCount=0,this.showNoResultsFound){var d=document.createElement("li");d.setAttribute("role","presentation"),d.setAttribute("class","spark-auto-suggest__list-item spark-auto-suggest__list-item--no-results"),d.innerHTML=this.noResultsFoundText,this.listBoxEl.appendChild(d),this._openListbox()}}}},{key:"_onClearClick",value:function(e){e.preventDefault(),this.inputEl.value="",this.oldVal=null,this.inputEl.focus(),this._closeListbox(),this.clickedWithinAutoSuggest=!1,(0,v.default)(this.clearButtonEl,"visible",!1),!this.showAllTerms||this.listBoxElOpen||this.inputEl.value||null!==this.customGetSuggestions||this._displayAllSuggestions(),(this.onChange||P)(this.inputEl.value,this)}},{key:"_updateClass",value:function(){(0,v.default)(this.el,"active",this.isActive)}},{key:"_onWindowClick",value:function(e){var t;if(e.target!==this.el&&!(0,C.default)(e.target,this.el)&&e.target!==this.listBoxEl&&!(0,C.default)(e.target,this.listBoxEl))return this._closeListbox(),void(0,v.default)(this.inputEl,"focus",!1);if(e.target!==this.inputEl&&e.target!==this.labelEl&&e.target!==this.clearButtonEl)if("option"===e.target.getAttribute("role")||(0,C.default)(e.target,this.listBoxEl)){var n;if("li"!==e.target.tagName)n=(0,k.default)(e.target,"li",this.listBoxEl).getAttribute("id");else n=e.target.getAttribute("id");this._setActiveSuggestion(n),this.inputEl.focus(),(0,i.default)((0,o.default)(t=function(){this._closeListbox()}).call(t,this),0),(this.onSelection||P)(this.inputEl.value,this)}else this.clickedWithinAutoSuggest=!0}},{key:"_setActiveSuggestion",value:function(e){var t=document.getElementById(e);if(t)if(this.termsObject){var n=t.querySelector(".spark-auto-suggest__list-item__value");this.inputEl.value=n.innerText,this.selectedTermsObjectIndex=n.getAttribute("data-term-index")}else this.inputEl.value=t.innerText}},{key:"_onKeyup",value:function(e){27===e.keyCode&&document.activeElement===this.inputEl&&(this._closeListbox(),this.inputEl.value=""),38!==e.keyCode&&40!==e.keyCode&&(this.oldVal=this.inputEl.value)}},{key:"_onKeydown",value:function(e){if(9===e.keyCode&&document.activeElement===this.clearButtonEl&&(this._closeListbox(),(0,v.default)(this.inputEl,"focus",!1)),!(this.resultsCount<1))if(13===e.keyCode||38===e.keyCode||40===e.keyCode||document.activeElement===this.inputEl)if(13!==e.keyCode){var t=this.getAutoSuggestItem(this.activeSuggestionIndex);if(38===e.keyCode?(e.preventDefault(),document.activeElement===this.inputEl?this.activeSuggestionIndex=this.resultsCount-1:this.activeSuggestionIndex<=0?(this.activeSuggestionIndex=-1,this.inputEl.value=this.oldVal,this.inputEl.setAttribute("aria-activedescendant",""),this.inputEl.focus()):this.activeSuggestionIndex--):40===e.keyCode&&(e.preventDefault(),document.activeElement===this.inputEl?this.activeSuggestionIndex=0:this.activeSuggestionIndex>=this.resultsCount-1?(this.inputEl.value=this.oldVal,this.inputEl.setAttribute("aria-activedescendant",""),this.inputEl.focus()):this.activeSuggestionIndex++),38===e.keyCode||40===e.keyCode){var n;if(this.activeSuggestionIndex>=0&&(n=this.getAutoSuggestItem(this.activeSuggestionIndex)),t){var a=t.querySelector(".spark-link");a&&a.blur(),t.setAttribute("aria-selected","false"),(0,v.default)(t,"focus",!1)}if(n){if((0,y.default)(n,"spark-auto-suggest__list-item--action")){var r=n.querySelector(".spark-link");return r&&r.focus(),this.inputEl.value=this.oldVal,void this.inputEl.setAttribute("aria-activedescendant","")}this.inputEl.setAttribute("aria-activedescendant","spark-auto-suggest__list-item--"+this.activeSuggestionIndex),(0,v.default)(n,"focus",!0),n.setAttribute("aria-selected","true"),n.focus();var s="spark-auto-suggest__list-item--"+this.activeSuggestionIndex;this._setActiveSuggestion(s)}}}else{var l;e.preventDefault(),document.activeElement!==this.inputEl&&(this.inputEl.focus(),(0,i.default)((0,o.default)(l=function(){this._closeListbox()}).call(l,this),0),(this.onSelection||this.onEnterKey||P)(this.inputEl.value,this))}else this.inputEl.focus()}},{key:"_openListbox",value:function(){(0,v.default)(this.listBoxEl,"visible",!0),!0===this.showingAllTerms?(0,v.default)(this.listBoxEl,"show-all-terms",!0):(0,v.default)(this.listBoxEl,"show-all-terms",!1),this.listBoxElOpen=!0,this.el.setAttribute("aria-expanded","true")}},{key:"_closeListbox",value:function(){this.listBoxElOpen&&((0,v.default)(this.listBoxEl,"visible",!1),(0,v.default)(this.listBoxEl,"show-all-terms",!1),this.listBoxElOpen=!1,this.listBoxEl.innerHTML="",this.el.setAttribute("aria-expanded","false"),this.inputEl.setAttribute("aria-activedescendant",""),this.showingAllTerms=!1,this.activeSuggestionIndex=-1,this.resultsCount=0)}},{key:"getAutoSuggestItem",value:function(e){return document.getElementById("spark-auto-suggest__list-item--"+e)}},{key:"show",value:function(){return this.isActive=!0,this._updateClass(),this}},{key:"hide",value:function(){return this.isActive=!1,this._updateClass(),this}},{key:"setValue",value:function(e){return this.inputEl.value=e,e?(this.show(),(0,v.default)(this.clearButtonEl,"visible",!0)):this.hide(),this}},{key:"getValue",value:function(){return this.inputEl.value}},{key:"clearValue",value:function(){return this.inputEl.value="",this}},{key:"disable",value:function(){return this._closeListbox(),this.inputEl.blur(),this.inputEl.setAttribute("disabled",!0),this.clearButtonEl&&this.clearButtonEl.setAttribute("disabled",!0),this}},{key:"enable",value:function(){return this.inputEl.removeAttribute("disabled"),this.clearButtonEl&&this.clearButtonEl.removeAttribute("disabled"),this}},{key:"remove",value:function(e){return(0,p.default)((0,m.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){return(0,p.default)((0,m.default)(a.prototype),"update",this).call(this,e)}}]),a}(g.default);A.prototype._whitelistedParams=["onChange","onEnterKey","onSelection","autoSuggestTerms","showAllTerms","showNoResultsFound","minLength","maxSuggestions","noResultsFoundText","customGetSuggestions"],A.prototype.defaults={el:null,inputEl:null,labelEl:null,clearButtonEl:null,listBoxEl:null,isActive:!1,clickedWithinAutoSuggest:!1,oldVal:null,showingAllTerms:!1,resultsCount:0,activeSuggestionIndex:-1,termsObject:null,selectedTermsObjectIndex:null,listBoxElOpen:!1,minLength:null,maxSuggestions:7,autoSuggestTerms:null,showNoResultsFound:null,showAllTerms:null,noResultsFoundText:null,customGetSuggestions:null,onChange:null,onEnterKey:null,onSelection:null,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onClearClickBound:null,_onKeyupBound:null,_onKeydownBound:null,_onWindowClickBound:null},(0,_.default)(A.prototype,S.default);var x=A;t.default=x,e.exports=t.default},function(e,t,n){var a=n(1506);e.exports=a},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1250)),s=a(n(1240)),o=a(n(1238)),l=a(n(1239)),c=a(n(1258)),u=a(n(1244)),d=a(n(1245)),p=a(n(1241)),h=a(n(1242)),f=a(n(1267)),m=a(n(1247)),g=a(n(1248)),v=a(n(1274)),y=a(n(1251)),b=n(1283),E=a(n(1512)),C=a(n(1513));function k(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(k()){var a=(0,p.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.default)(this,a),t=n.call(this,e,r),e?((0,y.default)(t.el,"spark-kpi--tabs")&&(t._hasTabs=!0),t._bindEventListenerCallbacks(),t._addEventListeners(),t._calcBreakpoint(),t._updateOrientation(),t._initFixedPanel(e,r),t._initPanelCarousel(e,r),t):(0,d.default)(t)}return(0,l.default)(a,[{key:"_initFixedPanel",value:function(){!0===this.lockPanel&&((0,m.default)(this.el,"spark-panel--fixed"),(0,m.default)(this.el,"spark-panel--shadow-0"),(0,m.default)(this.el,"spark-panel--border-0"),this.fixedPanel=new E.default(this.el,{condenseOnScroll:this.condenseOnScroll,unlockBreakPoint:this.stackBreakPoint,fixToBottom:this.fixToBottom,customCondenseClass:this.customCondenseClass,scrolledToEl:this.scrolledToEl,hideOnScroll:this.hideOnScroll||!1,headerEl:this.headerEl}))}},{key:"_initPanelCarousel",value:function(){if((0,y.default)(this.el,".spark-panel-carousel")||(0,m.default)(this.el,"spark-panel-carousel"),(0,y.default)(this.el.querySelector(".spark-kpi__list"),"spark-panel-carousel__list")||(0,m.default)(this.el.querySelector(".spark-kpi__list"),"spark-panel-carousel__list"),!(0,y.default)(this.el.querySelector(".spark-kpi__item"),"spark-panel-carousel__item"))for(var e=this.el.querySelectorAll(".spark-kpi__item"),t=0;t<e.length;t++)(0,m.default)(e[t],"spark-panel-carousel__item");this.panelCarousel=new C.default(this.el,{noCarouselBreakPoint:this.stackBreakPoint,singleCarouselAdvance:this.singleCarouselAdvance,controlBreakPoint:this.controlBreakPoint,nextLabel:this.nextLabel,previousLabel:this.previousLabel,hasTabs:this._hasTabs})}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this._onResizeBound),!0===this._hasTabs&&this._kpiList.addEventListener("click",this._onTabListClickBound)}},{key:"remove",value:function(){this.panelCarousel.remove(),!0===this.lockPanel&&this.lockPanel.remove(),(0,c.default)((0,p.default)(a.prototype),"remove",this).call(this)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._onResizeBound),!0===this._hasTabs&&this._kpiList.removeEventListener("click",this._onTabListClickBound)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onResizeBound=(0,v.default)((0,s.default)(e=this._onResize).call(e,this),90),this._onTabListClickBound=(0,s.default)(t=this._onTabListClick).call(t,this)}},{key:"_cacheElements",value:function(e){this.el=e,this._currentTab=this.el.querySelector('[aria-selected="true"]'),this._kpiList=this.el.querySelector(".spark-kpi__list"),this._kpiItems=this.el.querySelectorAll(".spark-kpi__item")}},{key:"_onResize",value:function(){this._calcBreakpoint(),this._updateOrientation()}},{key:"_calcBreakpoint",value:function(){this.currentBreakpoint=(0,b.get)(window.innerWidth);var e=["xs","sm","md","lg","xl"],t=(0,i.default)(e).call(e,this.currentBreakpoint),n=(0,i.default)(e).call(e,this.stackBreakPoint);this._useStackedKPI=t<=n&&-1!==n}},{key:"_updateOrientation",value:function(){!0===this._useStackedKPI?(0,y.default)(this.el,"spark-kpi--column")||((0,m.default)(this.el,"spark-kpi--column"),this.el.removeAttribute("data-overflow")):(0,g.default)(this.el,"spark-kpi--column")}},{key:"_onTabListClick",value:function(e){e.preventDefault();var t=e.target;"A"!==t.nodeName&&(t=(0,f.default)(t,"a",this.el)),!1!==t&&(null!==this._currentTab&&this._currentTab.removeAttribute("aria-selected"),t.setAttribute("aria-selected","true"),this._currentTab=t,"function"==typeof this.onTabClick&&this.onTabClick(t.getAttribute("aria-controls"),t,this))}}]),a}(h.default);S.prototype._whitelistedParams=["singleCarouselAdvance","lockPanel","condenseOnScroll","customCondenseClass","unlockBreakPoint","stackBreakPoint","controlBreakPoint","fixToBottom","hideOnScroll","onTabClick","scrolledToEl","headerEl"],S.prototype.defaults={el:null,singleCarouselAdvance:!1,lockPanel:!1,condenseOnScroll:!0,customCondenseClass:"spark-kpi--condensed",unlockBreakPoint:null,stackBreakPoint:"xs",controlBreakPoint:"xs",fixToBottom:null,hideOnScroll:!1,onTabClick:null,nextLabel:"show next",previousLabel:"show previous",scrolledToEl:null,headerEl:null,_useControls:!0,_useStackedKPI:!1,_currentTab:null,_kpiItemsWidth:0,_kpiWidth:0,_kpiChange:0,_positionX:0,_forwardLimit:!1,_backwardLimit:!0,_overflow:!1,_hasTabs:!1,fixedPanel:null};var _=S;t.default=_,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1260)),i=a(n(1263)),s=["marginLeft","marginRight","borderLeft","borderRight"];var o=function(e,t){t=t||window.getComputedStyle(e);var n=e.clientWidth;return(0,i.default)(s,(function(e){n+=(0,r.default)(t[e]||0,10)})),n};t.default=o,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1401)),i=a(n(1402)),s=a(n(1403)),o=a(n(1847)),l=a(n(1852)),c={CardNumber:r.default,CardExpiration:i.default,CardSecurityCode:s.default,UnifiedCreditCard:o.default,CardSet:l.default};t.default=c,e.exports=t.default},function(e,t,n){var a=n(1840);e.exports=a},function(e,t,n){var a=n(1841),r=Array.prototype;e.exports=function(e){var t=e.some;return e===r||e instanceof Array&&t===r.some?a:t}},function(e,t,n){n(1842);var a=n(1262);e.exports=a("Array").some},function(e,t,n){"use strict";var a=n(1246),r=n(1306).some;a({target:"Array",proto:!0,forced:n(1321)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e){if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t){var n=""+e;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t===1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0===n.length||0===t)return"";if(n.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var a=n.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)n+=n,t--;return n+=n.substring(0,a-n.length)};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1311)),s=a(n(1514)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1401)),m=a(n(1402)),g=a(n(1403)),v=a(n(1242)),y=a(n(1261)),b=a(n(1247)),E=a(n(1248)),C=a(n(1266)),k=a(n(1273)),S=a(n(1275));function _(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var O=document.createEvent("Event"),w=document.createEvent("Event");O.initEvent("valid",!0,!0),w.initEvent("invalid",!0,!0);var P=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(_()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,c.default)(a,[{key:"_cacheElements",value:function(e,t){var n,a,r,i,s,l,c=this;this.el=e,this.number=new f.default(this.el.querySelector(".spark-payment--card-number"),{unified:this,cardTypes:t.cardTypes,onInput:function(){c.number.inputEl.hasAttribute("data-novalidate")&&c.number.inputEl.removeAttribute("data-novalidate"),c._onInput()},onBlur:(0,o.default)(n=this._onBlur).call(n,this),onFocus:function(){c.number.value&&!c.number.inputEl.hasAttribute("data-novalidate")&&c.number.inputEl.attributes.setNamedItem(document.createAttribute("data-novalidate")),c._onFocus()},onCardType:(0,o.default)(a=this._onCardType).call(a,this),onInvalid:function(){w.input=c.number,c.el.dispatchEvent(w)},onValid:function(){c.expiration.focus()}}),this.expiration=new m.default(this.el.querySelector(".spark-payment--expiration"),{unified:this,onInput:function(){c.expiration.inputEl.hasAttribute("data-novalidate")&&c.expiration.inputEl.removeAttribute("data-novalidate"),c._onInput()},onBlur:(0,o.default)(r=this._onBlur).call(r,this),onFocus:function(){c.expiration.value&&!c.expiration.inputEl.hasAttribute("data-novalidate")&&c.expiration.inputEl.attributes.setNamedItem(document.createAttribute("data-novalidate")),c._onFocus()},onInvalid:function(){w.input=c.expiration,c.el.dispatchEvent(w)},onValid:function(){c.securityCode.focus()}}),this.securityCode=new g.default(this.el.querySelector(".spark-payment--card-security-code"),{unified:this,onInput:(0,o.default)(i=this._onInput).call(i,this),onBlur:(0,o.default)(s=this._onBlur).call(s,this),onFocus:(0,o.default)(l=this._onFocus).call(l,this),info:t.info,onInvalid:function(){w.input=c.securityCode,c.el.dispatchEvent(w)}}),this.components=[this.number,this.expiration,this.securityCode],this.messageEl=this.el.querySelector(".spark-input__message")||(0,C.default)('<span class="spark-input__message"></span>')}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onInvalidBound=(0,o.default)(e=this._onInvalid).call(e,this),this._onValidBound=(0,o.default)(t=this._onValid).call(t,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("invalid",this._onInvalidBound,!1),this.el.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){var e;this.el.removeEventListener("invalid",this._onInvalidBound,!1),this.el.removeEventListener("valid",this._onValidBound,!1),(0,s.default)(e=this.components).call(e,(function(e){return e._removeEventListeners()}))}},{key:"_onCardType",value:function(){var e=this.number._cardTypes[this.number.type];this.securityCode.maxLength=e.cvv,this.onCardType.call(this)}},{key:"_onInput",value:function(){this.valid&&this.el.dispatchEvent(O),this.onInput.call(this)}},{key:"_onBlur",value:function(){this.hide(),this.onBlur.call(this)}},{key:"_onFocus",value:function(){this.show(),this.onFocus.call(this)}},{key:"_onInvalid",value:function(e){this.onInvalid.call(this,e)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"validate",value:function(){return this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){return(0,b.default)(this.el,"active"),this}},{key:"hide",value:function(){return(0,E.default)(this.el,"active"),this}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.value=e,this}},{key:"clearValue",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.value=""})),this}},{key:"disable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.disable()})),this}},{key:"enable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.enable()})),this}},{key:"remove",value:function(e){var t;return(0,s.default)(t=this.components).call(t,(function(t){return t.remove(e)})),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),(0,s.default)(t=this.components).call(t,(function(e){return e.remove(!0)})),this._cacheElements.call(this,e||this.el,n),this._addEventListeners(),this}},{key:"valid",get:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.valid}))}},{key:"value",get:function(){return{number:this.number.value,expiration:this.expiration.value,securityCode:this.securityCode.value}},set:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.number.value=t.number||this.number.value,this.expiration.value=t.expiration||this.expiration.value,this.securityCode.value=t.securityCode||this.securityCode.value,(0,i.default)(e=this.components).call(e,(function(e){return!!e.value}))?this.show():this.hide()}}]),a}(v.default);P.prototype.defaults={el:null,number:{},expiration:{},securityCode:{},onCardType:function(){},onInput:function(){},onBlur:function(){},onFocus:function(){},onValid:function(){},onInvalid:function(){},onValidate:function(){},validate:function(){}},P.prototype._whitelistedParams=["onCardType","onInput","onBlur","onFocus","onValid","onInvalid","onValidate","validate"],(0,y.default)(P.prototype,k.default,S.default);var A=P;t.default=A,e.exports=t.default},function(e,t,n){var a=n(1849);e.exports=a},function(e,t,n){var a=n(1850),r=Array.prototype;e.exports=function(e){var t=e.every;return e===r||e instanceof Array&&t===r.every?a:t}},function(e,t,n){n(1851);var a=n(1262);e.exports=a("Array").every},function(e,t,n){"use strict";var a=n(1246),r=n(1306).every;a({target:"Array",proto:!0,forced:n(1321)("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1311)),s=a(n(1514)),o=a(n(1240)),l=a(n(1238)),c=a(n(1239)),u=a(n(1258)),d=a(n(1244)),p=a(n(1245)),h=a(n(1241)),f=a(n(1401)),m=a(n(1402)),g=a(n(1403)),v=a(n(1242));function y(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var b=document.createEvent("Event"),E=document.createEvent("Event");b.initEvent("valid",!0,!0),E.initEvent("invalid",!0,!0);var C=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,h.default)(t);if(y()){var a=(0,h.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,c.default)(a,[{key:"_cacheElements",value:function(e,t){var n,a,r,i,s,l,c,u,d,p,h=this;if(this.el=e,!this.el)throw new Error("CardSet markup missing");this.number=new f.default(this.el.querySelector(".spark-payment--card-number"),{onInput:(0,o.default)(n=this._onInput).call(n,this),onBlur:(0,o.default)(a=this._onBlur).call(a,this),onFocus:(0,o.default)(r=this._onFocus).call(r,this),onCardType:(0,o.default)(i=this._onCardType).call(i,this),cardTypes:t.cardTypes,onInvalid:function(){E.input=h.number,h.el.dispatchEvent(E)}}),this.expiration=new m.default(this.el.querySelector(".spark-payment--expiration"),{onInput:(0,o.default)(s=this._onInput).call(s,this),onBlur:(0,o.default)(l=this._onBlur).call(l,this),onFocus:(0,o.default)(c=this._onFocus).call(c,this),onInvalid:function(){E.input=h.expiration,h.el.dispatchEvent(E)}}),this.securityCode=new g.default(this.el.querySelector(".spark-payment--card-security-code"),{onInput:(0,o.default)(u=this._onInput).call(u,this),onBlur:(0,o.default)(d=this._onBlur).call(d,this),onFocus:(0,o.default)(p=this._onFocus).call(p,this),info:t.info,infoToggleAriaLabel:t.infoToggleAriaLabel,onInvalid:function(){E.input=h.securityCode,h.el.dispatchEvent(E)}}),this.components=[this.number,this.expiration,this.securityCode]}},{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onInvalidBound=(0,o.default)(e=this._onInvalid).call(e,this),this._onValidBound=(0,o.default)(t=this._onValid).call(t,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("invalid",this._onInvalidBound,!1),this.el.addEventListener("valid",this._onValidBound,!1)}},{key:"_removeEventListeners",value:function(){var e;this.el.removeEventListener("invalid",this._onInvalidBound,!1),this.el.removeEventListener("valid",this._onValidBound,!1),(0,s.default)(e=this.components).call(e,(function(e){return e._removeEventListeners()}))}},{key:"_onCardType",value:function(){var e=this.number._cardTypes[this.number.type];this.securityCode.maxLength=e.cvv,this.onCardType.call(this)}},{key:"_onInput",value:function(){this.valid&&this.el.dispatchEvent(b),this.onInput.call(this)}},{key:"_onBlur",value:function(){this.onBlur.call(this)}},{key:"_onFocus",value:function(){this.onFocus.call(this)}},{key:"_onInvalid",value:function(e){this.onInvalid.call(this,e)}},{key:"_onValid",value:function(){this.onValid.call(this)}},{key:"validate",value:function(){return this.onValidate(this.valid,this.value,this),this}},{key:"show",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.show()})),this}},{key:"hide",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.hide()})),this}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.value=e,this}},{key:"clearValue",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.value=""})),this}},{key:"disable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.disable()})),this}},{key:"enable",value:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.enable()})),this}},{key:"remove",value:function(e){var t;return(0,s.default)(t=this.components).call(t,(function(t){return t.remove(e)})),(0,u.default)((0,h.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),(0,s.default)(t=this.components).call(t,(function(e){return e.remove(!0)})),this._cacheElements.call(this,e||this.el,n),this._addEventListeners(),this}},{key:"value",get:function(){return{number:this.number.value,expiration:this.expiration.value,securityCode:this.securityCode.value}},set:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.number.value=n.number||this.number.value,this.expiration.value=n.expiration||this.expiration.value,this.securityCode.value=n.securityCode||this.securityCode.value,(0,i.default)(e=this.components).call(e,(function(e){return e.value}))&&this.valid?this.el.dispatchEvent(b):(0,i.default)(t=this.components).call(t,(function(e){return e.value}))&&this.el.dispatchEvent(E)}},{key:"valid",get:function(){var e;return(0,s.default)(e=this.components).call(e,(function(e){return e.valid}))}}]),a}(v.default);C.prototype.defaults={el:null,number:{},expiration:{},securityCode:{},onCardType:function(){},onInput:function(){},onBlur:function(){},onFocus:function(){},onValid:function(){},onInvalid:function(){},onValidate:function(){},validate:function(){}},C.prototype._whitelistedParams=["onCardType","onInput","onBlur","onFocus","onValid","onInvalid","onValidate","validate"];var k=C;t.default=k,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1311)),s=a(n(1310)),o=a(n(1515)),l=a(n(1326)),c=a(n(1309)),u=a(n(1240)),d=a(n(1238)),p=a(n(1239)),h=a(n(1258)),f=a(n(1244)),m=a(n(1245)),g=a(n(1241)),v=a(n(1404)),y=a(n(1405)),b=a(n(1242)),E=a(n(1247)),C=a(n(1251)),k=a(n(1248)),S=a(n(1267)),_=a(n(1300));function O(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var w=document.createEvent("Event"),P=document.createEvent("Event");w.initEvent("open",!0,!0),P.initEvent("close",!0,!0);var A=function(e){var t=this,n=this;return new y.default((function(a){var r=t.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"]'),i=t.el.querySelector("#"+e),s=Math.round(i.scrollHeight);r.setAttribute("aria-expanded",!0),i.style.visibility="visible",i.style.height=s+"px",i.addEventListener("transitionend",(function t(){var r;i.removeEventListener("transitionend",t),i.style.height=(0,v.default)(r=n.expanded).call(r,e)?"auto":"0px",w.drawer=e,n.el.dispatchEvent(w),a()}))}))},x=function(e){var t=this,n=this;return new y.default((function(a){var r=t.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"]'),i=t.el.querySelector("#"+e),s=i.scrollHeight,o=i.style.transition;i.style.visibility="visible",i.style.transition="",i.addEventListener("transitionend",(function e(){i.removeEventListener("transitionend",e),r.setAttribute("aria-expanded",!1),i.style.visibility="hidden"})),requestAnimationFrame((function(){i.style.height=s+"px",i.style.transition=o,requestAnimationFrame((function(){i.style.height="0px"})),r.setAttribute("aria-expanded",!1),P.drawer=e,n.el.dispatchEvent(P),a()}))}))},N=function(e){(0,f.default)(a,e);var t,n=(t=a,function(){var e,n=(0,g.default)(t);if(O()){var a=(0,g.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,m.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,d.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t.radio&&(t.multiExpand=!1,t.collapsible=!1,(0,C.default)(t.el,"spark-accordion--radio")||(0,E.default)(t.el,"spark-accordion--radio")),t}return(0,p.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,(0,C.default)(this.el,"spark-accordion--radio")&&(this.radio=!0)}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s;this._onClickBound=(0,u.default)(e=this._onClick).call(e,this),this._onKeyDownBound=(0,u.default)(t=this._onKeyDown).call(t,this),this._onChangeBound=(0,u.default)(n=this._onChange).call(n,this),this._onOpenBound=(0,u.default)(a=this._onOpen).call(a,this),this._onCloseBound=(0,u.default)(r=this._onClose).call(r,this),this._onFocusBound=(0,u.default)(i=this._onFocus).call(i,this),this._onBlurBound=(0,u.default)(s=this._onBlur).call(s,this)}},{key:"_addEventListeners",value:function(){this.el&&(this.el.addEventListener("click",this._onClickBound,!0),this.el.addEventListener("keydown",this._onKeyDownBound,!0),this.el.addEventListener("change",this._onChangeBound,!0),this.el.addEventListener("open",this._onOpenBound,!0),this.el.addEventListener("close",this._onCloseBound,!0),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0))}},{key:"_removeEventListeners",value:function(){this.el&&(this.el.removeEventListener("click",this._onClickBound,!0),this.el.removeEventListener("keydown",this._onKeyDownBound,!0),this.el.removeEventListener("change",this._onChangeBound,!0),this.el.removeEventListener("open",this._onOpenBound,!0),this.el.removeEventListener("close",this._onCloseBound,!0),this.el.removeEventListener("focus",this._onFocusBound,!0),this.el.removeEventListener("blur",this._onBlurBound,!0))}},{key:"_onKeyDown",value:function(e){var t,n;if(!this.radio||13===e.keyCode){var a=(0,C.default)(e.target,"spark-accordion__header")?e.target:(0,S.default)(e.target,".spark-accordion__header",this.el),r=a&&this._isActionable(a.getAttribute("aria-controls"))?a.getAttribute("aria-controls"):void 0;if(r)switch(e.keyCode){case 13:case 32:this.radio?this.select(r):this.toggle(r);break;case 40:(0,v.default)(t=this.collapsed).call(t,r)?this.open(r):e.preventDefault();break;case 38:(0,v.default)(n=this.expanded).call(n,r)?this.close(r):e.preventDefault()}}}},{key:"_onClick",value:function(e){var t=(0,C.default)(e.target,"spark-accordion__header")?e.target:(0,S.default)(e.target,".spark-accordion__header",this.el);if(t){var n=t.getAttribute("aria-controls"),a=this._isActionable(n);a&&this.radio?this.select(n):a&&this.toggle(n)}}},{key:"_onFocus",value:function(e){if((0,_.default)(e.target,"header"))(0,E.default)(e.target,"focus");else if((0,_.default)(e.target,".spark-radio__input")){var t=(0,S.default)(e.target,".spark-accordion__header",this.el);(0,E.default)(t,"focus")}}},{key:"_onBlur",value:function(e){if((0,_.default)(e.target,"header"))(0,k.default)(e.target,"focus");else if((0,_.default)(e.target,".spark-radio__input")){var t=(0,S.default)(e.target,".spark-accordion__header",this.el);(0,k.default)(t,"focus")}}},{key:"_onChange",value:function(e){if((0,_.default)(e.target,".spark-accordion__header > .spark-radio > .spark-radio__input")){var t,n=(0,S.default)(e.target,".spark-accordion__header",this.el),a=n&&(0,v.default)(t=this.drawers).call(t,n.getAttribute("aria-controls"))?n.getAttribute("aria-controls"):void 0;a&&this.select(a)}}},{key:"_onOpen",value:function(e){this.onOpen.call(this,e)}},{key:"_onClose",value:function(e){this.onClose.call(this,e)}},{key:"_isActionable",value:function(e){var t,n,a,r=(0,v.default)(t=this.expanded).call(t,e),i=(0,v.default)(n=this.collapsed).call(n,e);if(!(0,v.default)(a=this.drawers).call(a,e))return!1;if(this.radio){var s=this.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"] .spark-radio .spark-radio__input');return!(!s||s.checked||s.hasAttribute("disabled"))}if(this.collapsible){if(this.multiExpand)return!0;if(r&&this.collapsible)return!0;if(!this.collapsible&&r)return!1;if(i)return!0}else{if(r&&1===this.expanded.length)return!1;if(r&&this.expanded.length>1)return!0;if(i)return!0}}},{key:"open",value:function(e){var t=this;return new y.default((function(n,a){var r=t.drawers,i=t.expanded,s=t.collapsed,o=t._isActionable(e);(0,v.default)(r).call(r,e)?(0,v.default)(i).call(i,e)?n():(0,v.default)(s).call(s,e)&&!o?a(new Error("Drawer could not be opened")):(0,v.default)(s).call(s,e)&&o&&t.radio?t.select(e).then(n):(0,v.default)(s).call(s,e)&&o&&t.multiExpand?A.call(t,e).then(n):(0,v.default)(s).call(s,e)&&o&&!t.multiExpand?i.length>0?x.call(t,i[0]).then((function(){A.call(t,e).then(n)})):A.call(t,e).then(n):n():a(new Error("Drawer either does not exist, or configured incorrectly"))}))}},{key:"close",value:function(e){var t=this;return new y.default((function(n,a){var r=t.drawers,i=t.expanded,s=t.collapsed,o=t._isActionable(e);(0,v.default)(r).call(r,e)?(0,v.default)(s).call(s,e)?n():(0,v.default)(i).call(i,e)&&!o?a(new Error("Drawer could not be closed")):o?x.call(t,e).then(n):n():a(new Error("Drawer either does not exist, or configured incorrectly"))}))}},{key:"toggle",value:function(e){var t=this;return new y.default((function(n,a){var r,i,s,o,l,c=t._isActionable(e);(0,v.default)(r=t.drawers).call(r,e)?t.radio&&c?t.clearValue().then((function(){return t.select(e)})).then(n).catch((function(){a(new Error("Radio Drawer could not be opened"))})):(0,v.default)(i=t.expanded).call(i,e)&&c?t.close(e).then(n):(0,v.default)(s=t.expanded).call(s,e)&&!c?a(new Error("Drawer could not be closed")):(0,v.default)(o=t.collapsed).call(o,e)&&c?t.multiExpand?t.open(e).then(n):t.hide().then((function(){t.open(e).then(n)})):(0,v.default)(l=t.collapsed).call(l,e)&&!c&&a(new Error("Drawer could not be opened")):a(new Error("Drawer either does not exist, or configured incorrectly"))}))}},{key:"select",value:function(e){var t=this;return new y.default((function(n,a){var r;if(t.radio&&e===t.expanded[0])n();else if(t.radio&&(0,v.default)(r=t.drawers).call(r,e)){var i=t.el.querySelector('.spark-accordion__header[aria-controls="'+e+'"] .spark-radio__input:enabled');i?t.clearValue().then((function(){i.checked=!0,A.call(t,e).then(n)})):a(new Error('Cannot select radio button "'+e+'"'))}else a(new Error("Not a radio accordion"))}))}},{key:"clearValue",value:function(){var e=this;return new y.default((function(t){if(e.radio&&e.expanded.length){var n=e.expanded[0];e.el.querySelector('.spark-accordion__header[aria-controls="'+n+'"] .spark-radio__input').checked=!1,x.call(e,n).then(t)}else e.radio?t():console.info("clearValue() only effects radio accordions, but was run anyway")}))}},{key:"show",value:function(){var e=this;return new y.default((function(t,n){if(e.radio){var a=e.el.querySelectorAll(".spark-accordion__header .spark-radio__input");a.length>=1?((0,c.default)(a).call(a,(function(e){return e.removeAttribute("disabled")})),t()):n(new Error("Accordion is either misconfigured, or there are no drawers to enable"))}else if(e.multiExpand){var r=e.collapsed;switch(r.length){case 0:t();break;case 1:A.call(e,r[0]).then(t);break;default:var i=[];do{i.push(A.call(e,r.shift()))}while(r.length);y.default.all(i).then(t).catch(n)}}else{var s=e.expanded;s.length&&s[0]!==e.drawers[0]?(x.call(e,s[0]),A.call(e,e.drawers[0]).then(t)):s.length?t():n(new Error("Accordion is either misconfigured, or there are no drawers to open"))}}))}},{key:"hide",value:function(){var e=this;return new y.default((function(t,n){if(e.radio){var a=e.el.querySelectorAll(".spark-accordion__header .spark-radio__input");a.length>=1?((0,c.default)(a).call(a,(function(e){var t=document.createAttribute("disabled");e.attributes.setNamedItem(t)})),t()):n(new Error("Accordion is either misconfigured, or there are no drawers to disable"))}else{var r=e.expanded;switch(r.length){case 0:t();break;case 1:x.call(e,r[0]).then(t);break;default:var i=[];do{i.push(x.call(e,r.shift()))}while(r.length);y.default.all(i).then(t).catch(n)}}}))}},{key:"remove",value:function(e){return(0,h.default)((0,g.default)(a.prototype),"remove",this).call(this,e)}},{key:"update",value:function(e,t){return(0,h.default)((0,g.default)(a.prototype),"update",this).call(this,e,t)}},{key:"drawers",get:function(){var e,t=this.el.querySelectorAll(".spark-accordion__header"),n=this.el.querySelectorAll(".spark-accordion__content"),a=t.length?(0,l.default)(e=(0,o.default)(t)).call(e,(function(e){return e.getAttribute("aria-controls")})):[];return(0,s.default)(a).call(a,(function(e){var t;return(0,i.default)(t=(0,o.default)(n)).call(t,(function(t){return t.id===e}))}))}},{key:"expanded",get:function(){var e,t=this.el.querySelectorAll('.spark-accordion__header[aria-expanded="true"]');return t.length?(0,l.default)(e=(0,o.default)(t)).call(e,(function(e){return e.getAttribute("aria-controls")})):[]},set:function(e){var t=this;if(this.radio)e.length>=1&&this.select(e.pop());else{var n,a=(0,s.default)(n=this.expanded).call(n,(function(t){return!(0,v.default)(e).call(e,t)}));(0,c.default)(a).call(a,(function(e){return t.close(e).catch((function(){}))})),(0,c.default)(e).call(e,(function(e){return t.open(e).catch((function(){}))}))}}},{key:"collapsed",get:function(){var e,t=this.el.querySelectorAll('.spark-accordion__header[aria-expanded="false"]');return t.length?(0,l.default)(e=(0,o.default)(t)).call(e,(function(e){return e.getAttribute("aria-controls")})):[]},set:function(e){var t=this;if(this.radio)throw new Error("Cannot be used to control radio accordions");var n,a=(0,s.default)(n=this.collapsed).call(n,(function(t){return!(0,v.default)(e).call(e,t)}));(0,c.default)(a).call(a,(function(e){return t.open(e).catch((function(){}))})),(0,c.default)(e).call(e,(function(e){return t.close(e).catch((function(){}))}))}},{key:"selected",get:function(){if(this.radio){var e=this.el.querySelector(".spark-accordion__header .spark-radio > .spark-radio__input:checked");return e?e.value:void 0}},set:function(e){if(this.radio)if(e){var t,n=this.el.querySelector('.spark-accordion__header .spark-radio > .spark-radio__input[value="'+e+'"]'),a=(0,S.default)(n,".spark-accordion__header",this.el).getAttribute("aria-controls");(0,v.default)(t=this.drawers).call(t,a)&&this.select(a)}else this.clearValue()}}]),a}(b.default);N.prototype._whitelistedParams=["radio","multiExpand","collapsible","onOpen","onClose"],N.prototype.defaults={el:null,radio:!1,multiExpand:!0,collapsible:!0,onOpen:function(){},onClose:function(){}};var T=N;t.default=T,e.exports=t.default},function(e,t,n){var a=n(1507);e.exports=a},function(e,t,n){var a=n(1856);e.exports=a},function(e,t,n){var a=n(1857),r=n(1859),i=Array.prototype,s=String.prototype;e.exports=function(e){var t=e.includes;return e===i||e instanceof Array&&t===i.includes?a:"string"==typeof e||e===s||e instanceof String&&t===s.includes?r:t}},function(e,t,n){n(1858);var a=n(1262);e.exports=a("Array").includes},function(e,t,n){"use strict";var a=n(1246),r=n(1380).includes,i=n(1387);a({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){n(1860);var a=n(1262);e.exports=a("String").includes},function(e,t,n){"use strict";var a=n(1246),r=n(1861),i=n(1313);a({target:"String",proto:!0,forced:!n(1863)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var a=n(1862);e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var a=n(1259),r=n(1291),i=n(1253)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t,n){var a=n(1253)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var a=n(1865);e.exports=a},function(e,t,n){n(1451),n(1342),n(1322),n(1866),n(1872),n(1873);var a=n(1252);e.exports=a.Promise},function(e,t,n){"use strict";var a,r,i,s,o=n(1246),l=n(1302),c=n(1255),u=n(1287),d=n(1516),p=n(1318),h=n(1867),f=n(1299),m=n(1868),g=n(1259),v=n(1285),y=n(1869),b=n(1291),E=n(1449),C=n(1517),k=n(1511),S=n(1518),_=n(1519).set,O=n(1870),w=n(1521),P=n(1871),A=n(1406),x=n(1522),N=n(1337),T=n(1443),I=n(1253),B=n(1382),L=I("species"),D="Promise",j=N.get,F=N.set,M=N.getterFor(D),R=d,V=c.TypeError,H=c.document,U=c.process,W=u("fetch"),q=A.f,z=q,G="process"==b(U),K=!!(H&&H.createEvent&&c.dispatchEvent),Y=T(D,(function(){if(!(E(R)!==String(R))){if(66===B)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!R.prototype.finally)return!0;if(B>=51&&/native code/.test(R))return!1;var e=R.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[L]=t,!(e.then((function(){}))instanceof t)})),Q=Y||!k((function(e){R.all(e).catch((function(){}))})),X=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},J=function(e,t,n){if(!t.notified){t.notified=!0;var a=t.reactions;O((function(){for(var r=t.value,i=1==t.state,s=0;a.length>s;){var o,l,c,u=a[s++],d=i?u.ok:u.fail,p=u.resolve,h=u.reject,f=u.domain;try{d?(i||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?o=r:(f&&f.enter(),o=d(r),f&&(f.exit(),c=!0)),o===u.promise?h(V("Promise-chain cycle")):(l=X(o))?l.call(o,p,h):p(o)):h(r)}catch(e){f&&!c&&f.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&$(e,t)}))}},Z=function(e,t,n){var a,r;K?((a=H.createEvent("Event")).promise=t,a.reason=n,a.initEvent(e,!1,!0),c.dispatchEvent(a)):a={promise:t,reason:n},(r=c["on"+e])?r(a):"unhandledrejection"===e&&P("Unhandled promise rejection",n)},$=function(e,t){_.call(c,(function(){var n,a=t.value;if(ee(t)&&(n=x((function(){G?U.emit("unhandledRejection",a,e):Z("unhandledrejection",e,a)})),t.rejection=G||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){_.call(c,(function(){G?U.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},ne=function(e,t,n,a){return function(r){e(t,n,r,a)}},ae=function(e,t,n,a){t.done||(t.done=!0,a&&(t=a),t.value=n,t.state=2,J(e,t,!0))},re=function(e,t,n,a){if(!t.done){t.done=!0,a&&(t=a);try{if(e===n)throw V("Promise can't be resolved itself");var r=X(n);r?O((function(){var a={done:!1};try{r.call(n,ne(re,e,a,t),ne(ae,e,a,t))}catch(n){ae(e,a,n,t)}})):(t.value=n,t.state=1,J(e,t,!1))}catch(n){ae(e,{done:!1},n,t)}}};Y&&(R=function(e){y(this,R,D),v(e),a.call(this);var t=j(this);try{e(ne(re,this,t),ne(ae,this,t))}catch(e){ae(this,t,e)}},(a=function(e){F(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(R.prototype,{then:function(e,t){var n=M(this),a=q(S(this,R));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=G?U.domain:void 0,n.parent=!0,n.reactions.push(a),0!=n.state&&J(this,n,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new a,t=j(e);this.promise=e,this.resolve=ne(re,e,t),this.reject=ne(ae,e,t)},A.f=q=function(e){return e===R||e===i?new r(e):z(e)},l||"function"!=typeof d||(s=d.prototype.then,p(d.prototype,"then",(function(e,t){var n=this;return new R((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof W&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return w(R,W.apply(c,arguments))}}))),o({global:!0,wrap:!0,forced:Y},{Promise:R}),f(R,D,!1,!0),m(D),i=u(D),o({target:D,stat:!0,forced:Y},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),o({target:D,stat:!0,forced:l||Y},{resolve:function(e){return w(l&&this===i?R:this,e)}}),o({target:D,stat:!0,forced:Q},{all:function(e){var t=this,n=q(t),a=n.resolve,r=n.reject,i=x((function(){var n=v(t.resolve),i=[],s=0,o=1;C(e,(function(e){var l=s++,c=!1;i.push(void 0),o++,n.call(t,e).then((function(e){c||(c=!0,i[l]=e,--o||a(i))}),r)})),--o||a(i)}));return i.error&&r(i.value),n.promise},race:function(e){var t=this,n=q(t),a=n.reject,r=x((function(){var r=v(t.resolve);C(e,(function(e){r.call(t,e).then(n.resolve,a)}))}));return r.error&&a(r.value),n.promise}})},function(e,t,n){var a=n(1318);e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:a(e,r,t[r],n);return e}},function(e,t,n){"use strict";var a=n(1287),r=n(1279),i=n(1253),s=n(1269),o=i("species");e.exports=function(e){var t=a(e),n=r.f;s&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var a,r,i,s,o,l,c,u,d=n(1255),p=n(1312).f,h=n(1291),f=n(1519).set,m=n(1520),g=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,b="process"==h(v),E=p(d,"queueMicrotask"),C=E&&E.value;C||(a=function(){var e,t;for(b&&(e=v.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?s():i=void 0,e}}i=void 0,e&&e.enter()},b?s=function(){v.nextTick(a)}:g&&!m?(o=!0,l=document.createTextNode(""),new g(a).observe(l,{characterData:!0}),s=function(){l.data=o=!o}):y&&y.resolve?(c=y.resolve(void 0),u=c.then,s=function(){u.call(c,a)}):s=function(){f.call(d,a)}),e.exports=C||function(e){var t={fn:e,next:void 0};i&&(i.next=t),r||(r=t,s()),i=t}},function(e,t,n){var a=n(1255);e.exports=function(e,t){var n=a.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var a=n(1246),r=n(1285),i=n(1406),s=n(1522),o=n(1517);a({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=i.f(t),a=n.resolve,l=n.reject,c=s((function(){var n=r(t.resolve),i=[],s=0,l=1;o(e,(function(e){var r=s++,o=!1;i.push(void 0),l++,n.call(t,e).then((function(e){o||(o=!0,i[r]={status:"fulfilled",value:e},--l||a(i))}),(function(e){o||(o=!0,i[r]={status:"rejected",reason:e},--l||a(i))}))})),--l||a(i)}));return c.error&&l(c.value),n.promise}})},function(e,t,n){"use strict";var a=n(1246),r=n(1302),i=n(1516),s=n(1254),o=n(1287),l=n(1518),c=n(1521),u=n(1318);a({target:"Promise",proto:!0,real:!0,forced:!!i&&s((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),r||"function"!=typeof i||i.prototype.finally||u(i.prototype,"finally",o("Promise").prototype.finally)},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1240)),s=a(n(1238)),o=a(n(1239)),l=a(n(1244)),c=a(n(1245)),u=a(n(1241)),d=a(n(1242)),p=a(n(1247)),h=a(n(1248));function f(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,l.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(f()){var a=(0,u.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t}return(0,o.default)(a,[{key:"_bindEventListenerCallbacks",value:function(){var e,t;this._onAnimationCompleteBound=(0,i.default)(e=this._onAnimationComplete).call(e,this),this._resetBound=(0,i.default)(t=this._reset).call(t,this)}},{key:"_cacheElements",value:function(e){this.el=e}},{key:"getActive",value:function(){return this._active}},{key:"setActive",value:function(e){this._resetBound(),this._active=e,!0===this._active&&(0,p.default)(this.el,"spark-btn--active")}},{key:"_onAnimationComplete",value:function(e){this._resetBound(),this.onComplete(e)}},{key:"_reset",value:function(){this.el.querySelector(".spark-btn__label").removeEventListener("transitionend",this._onAnimationCompleteBound),(0,h.default)(this.el,"spark-btn--active","spark-btn--complete")}},{key:"success",value:function(){!0===this._active&&(this._active=!1,(0,p.default)(this.el,"spark-btn--complete"),this.el.querySelector(".spark-btn__label").addEventListener("transitionend",this._onAnimationCompleteBound))}},{key:"fail",value:function(){!0===this._active&&(this._active=!1,this._onAnimationCompleteBound())}}]),a}(d.default);m.prototype._whitelistedParams=["onComplete"],m.prototype.defaults={el:null,_active:!1,onComplete:function(){}};var g=m;t.default=g,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1265)),s=a(n(1250)),o=a(n(1397)),l=a(n(1260)),c=a(n(1240)),u=a(n(1238)),d=a(n(1239)),p=a(n(1244)),h=a(n(1245)),f=a(n(1241)),m=a(n(1242)),g=a(n(1251)),v=a(n(1247)),y=a(n(1248)),b=a(n(1295)),E=n(1271),C=n(1283),k=a(n(1261)),S=a(n(1356)),_=a(n(1523));function O(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var w=["xs","sm","md","lg","xl"],P=function(e){(0,p.default)(a,e);var t,n=(t=a,function(){var e,n=(0,f.default)(t);if(O()){var a=(0,f.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,h.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,a),(t=n.call(this,e,r))._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,d.default)(a,[{key:"_bindEventListenerCallbacks",value:function(){var e,t,n;this._onClickBound=(0,c.default)(e=this._onClick).call(e,this),this._onUnderlayDismissBound=(0,c.default)(t=this._onUnderlayDismiss).call(t,this),this._onKeyDownBound=(0,c.default)(n=this._onKeyDown).call(n,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound),this.underlay.on("dismiss",this._onUnderlayDismissBound),this.el.addEventListener("keydown",this._onKeyDownBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound),this.underlay.off("dismiss",this._onUnderlayDismissBound),this.el.removeEventListener("keydown",this._onKeyDownBound,!0)}},{key:"_cacheElements",value:function(e){this.el=e,this.expandEl=this.el.querySelector(".spark-fab-group__expand"),this.collapseEl=this.el.querySelector(".spark-fab-group__collapse"),this.underlay=new _.default({interactive:!0,display:!1,style:"dark"})}},{key:"_parseParams",value:function(){this.isExtendedFab=!!(0,g.default)(this.expandEl,"spark-fab-group__expand--extended"),this.showUnderlay=null!==this.showUnderlay?this.showUnderlay:(0,E.boolean)(this.el,"data-show-underlay",!1),this.underlayBreakPoint=null!==this.underlayBreakPoint?this.underlayBreakPoint:(0,E.string)(this.el,"data-underlay-breakpoint",null),this.isActive=(0,g.default)(this.el,"expanded"),this.autoClose=null!==this.autoClose?this.autoClose:(0,E.boolean)(this.el,"data-auto-close",!0)}},{key:"_determineUnderlayVisibility",value:function(){if("number"==typeof this.underlayBreakPoint&&this.underlayBreakPoint>0&&window.innerWidth<=this.underlayBreakPoint)return!0;if("string"==typeof this.underlayBreakPoint){var e=(0,l.default)(this.underlayBreakPoint);if((0,o.default)(e)&&e>0&&window.innerWidth<=e)return!0;var t=(0,s.default)(w).call(w,this.underlayBreakPoint);if((0,s.default)(w).call(w,(0,C.get)(window.innerWidth))<=t&&-1!==t)return!0}return!1}},{key:"expand",value:function(){this.showUnderlay&&this.underlayBreakPoint?this._determineUnderlayVisibility()&&this.underlay.show({interactive:!0,style:"dark"}):this.showUnderlay&&this.underlay.show({interactive:!0,style:"dark"}),(0,v.default)(this.el,"expanded");var e,t=this.collapseEl.offsetWidth,n=this.expandEl.offsetWidth;this.isExtendedFab&&(this.expandEl.setAttribute("data-width",n),requestAnimationFrame((0,c.default)(e=function(){var e;this.expandEl.style.width=n+"px",requestAnimationFrame((0,c.default)(e=function(){this.expandEl.style.width=t+"px"}).call(e,this))}).call(e,this)));this.expandEl.setAttribute("tabindex","-1"),this.expandEl.setAttribute("aria-expanded","true"),this.collapseEl.focus(),this.isActive=!0,this.trigger("expand"),this.onExpand.call(this)}},{key:"collapse",value:function(){this.showUnderlay&&this.underlay.active&&this.underlay.hide(),(0,y.default)(this.el,"expanded"),this.isExtendedFab&&(this.expandEl.style.width=this.expandEl.getAttribute("data-width")+"px",this.expandEl.addEventListener("transitionend",this._removeButtonAttributes())),this.expandEl.removeAttribute("tabindex"),this.expandEl.setAttribute("aria-expanded","false"),this.expandEl.focus(),this.isActive=!1,this.trigger("collapse"),this.onCollapse.call(this)}},{key:"_removeButtonAttributes",value:function(){this.expandEl.removeAttribute("style"),this.expandEl.removeAttribute("data-width"),this.expandEl.removeEventListener("transitionend",this._removeButtonAttributes)}},{key:"_onUnderlayDismiss",value:function(){this.collapse()}},{key:"_onClick",value:function(e){this.el.contains(e.target)&&(e.target===this.expandEl||(0,b.default)(e.target,this.expandEl)?this.expand():(e.target===this.collapseEl||(0,b.default)(e.target,this.collapseEl)||this.autoClose)&&this.collapse())}},{key:"_onKeyDown",value:function(e){if(this.showUnderlay&&this.underlay.active){switch(e.keyCode){case 27:this.collapse();break;case 9:var t=this.el.querySelectorAll('a[href]:not([tabindex^="-"]):not([disabled]), button:not([tabindex^="-"]):not([disabled]), [tabindex]:not([tabindex^="-"]):not([disabled]), [tabindex="0"]');if(t.length>0){var n=(0,i.default)(Array.prototype).call(t);1===n.length?e.preventDefault():e.shiftKey&&document.activeElement===n[0]?(e.preventDefault(),n[n.length-1].focus()):e.shiftKey||document.activeElement!==n[n.length-1]||(e.preventDefault(),n[0].focus())}break;default:return}}}},{key:"active",get:function(){return this.isActive}}]),a}(m.default);P.prototype._whitelistedParams=["showUnderlay","underlayBreakPoint","autoClose","onCollapse","onExpand"],P.prototype.defaults={el:null,isActive:!1,showUnderlay:null,underlayBreakPoint:null,autoClose:null,onCollapse:function(){},onExpand:function(){}},(0,k.default)(P.prototype,S.default);var A=P;t.default=A,e.exports=t.default},function(e,t,n){e.exports=n(1877)},function(e,t,n){var a=n(1878);e.exports=a},function(e,t,n){n(1879);var a=n(1252);e.exports=a.Object.assign},function(e,t,n){var a=n(1246),r=n(1880);a({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var a=n(1269),r=n(1254),i=n(1335),s=n(1452),o=n(1377),l=n(1272),c=n(1378),u=Object.assign,d=Object.defineProperty;e.exports=!u||r((function(){if(a&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=i(u({},t)).join("")}))?function(e,t){for(var n=l(e),r=arguments.length,u=1,d=s.f,p=o.f;r>u;)for(var h,f=c(arguments[u++]),m=d?i(f).concat(d(f)):i(f),g=m.length,v=0;g>v;)h=m[v++],a&&!p.call(f,h)||(n[h]=f[h]);return n}:u},function(e,t,n){var a=n(1444);e.exports=function(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1397)),s=a(n(1404)),o=a(n(1405)),l=a(n(1265)),c=a(n(1240)),u=a(n(1325)),d=a(n(1238)),p=a(n(1239)),h=a(n(1244)),f=a(n(1245)),m=a(n(1241)),g=a(n(1242)),v=a(n(1883)),y=a(n(1523)),b=n(1283),E=a(n(1267)),C=a(n(1261)),k=a(n(1356));function S(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){(0,h.default)(a,e);var t,n=(t=a,function(){var e,n=(0,m.default)(t);if(S()){var a=(0,m.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,f.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,d.default)(this,a),t=n.call(this,e,r),r.position&&(t.position=r.position),r.toggleEl&&(t._toggleEl=r.toggleEl),t._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,p.default)(a,[{key:"_cacheElements",value:function(e){this.el=e,this.closeButton=this.el.querySelector(".spark-panel--fixed__close"),this.underlay=new y.default({disabled:!1,display:!1,style:"dark"});var t=((0,E.default)(this.el,"body")||document.body).querySelector('.spark-panel-dock[data-position="'+this.position+'"], .spark-panel-dock--condensed[data-position="'+this.position+'"]');t&&t.parentNode.querySelector(".spark-panel--fixed")!==this.el&&(t=void 0);var n,r=void 0;(t||this.push)&&((r=document.createElement("aside")).classList.add("spark-panel--fixed"),r.classList.add("spark-panel--fixed--condensed"),r.setAttribute("aria-expanded",!1),r.setAttribute("tabindex","-1"),r.dataset.position=this.position,r.dataset.placement="cover",r.id=(0,u.default)(n=this.el.id).call(n,"--alt"));var i=this;t?(document.body.appendChild(r),this.dock=new v.default(t,{sideFixedPanel:this,condensedPanel:new a(r,{_parentPanel:this,onClose:function(){var e=i.dock.condensedPanel.el.firstElementChild;e.hidden=!0,i.display="",i.el.appendChild(e),i.dock.clearSelected()}})}),this._onResize()):this.push&&(document.body.appendChild(r),this.condensedPanel=new a(r,{_parentPanel:this,onClose:function(){var e=i.condensedPanel.el.firstElementChild;i.display="",i.el.appendChild(e)}}))}},{key:"_bindEventListenerCallbacks",value:function(){var e,t,n,a,r,i,s,o,l,u;this._onUnderlayDismissBound=(0,c.default)(e=this._onUnderlayDismiss).call(e,this),this._onDismissBound=(0,c.default)(t=this._onDismiss).call(t,this),this._onClickBound=(0,c.default)(n=this._onClick).call(n,this),this._onTransitionEndBound=(0,c.default)(a=this._onTransitionEnd).call(a,this),this._onResizeBound=(0,c.default)(r=this._onResize).call(r,this),this._onKeyDownBound=(0,c.default)(i=this._onKeyDown).call(i,this),this._onOpenBound=(0,c.default)(s=this._onOpen).call(s,this),this._onCloseBound=(0,c.default)(o=this._onClose).call(o,this),this._onToggleBound=(0,c.default)(l=this._onToggle).call(l,this),this._toggleBound=(0,c.default)(u=this.toggle).call(u,this)}},{key:"_addEventListeners",value:function(){this.on("dismiss",this._onDismissBound),this.on("toggle",this._onToggleBound),this.el.addEventListener("click",this._onClickBound,!0),this.el.addEventListener("transitionend",this._onTransitionEndBound,!0),this.el.addEventListener("keydown",this._onKeyDownBound,!0),this.underlay.on("dismiss",this._onUnderlayDismissBound),window.addEventListener("resize",this._onResizeBound,!0),this.toggleEl&&this.toggleEl.addEventListener("click",this._toggleBound,!0)}},{key:"_removeEventListeners",value:function(){this.off("dismiss",this._onDismissBound),this.off("toggle",this._onToggleBound),this.el.removeEventListener("click",this._onClickBound,!0),this.el.removeEventListener("transitionend",this._onTransitionEndBound,!0),this.el.removeEventListener("keydown",this._onKeyDownBound,!0),this.underlay.off("dismiss",this._onUnderlayDismissBound),window.removeEventListener("resize",this._onResizeBound,!0),this.toggleEl&&this.toggleEl.removeEventListener("click",this._toggleBound,!0)}},{key:"_onResize",value:function(){var e=this;if(this.mediaWidth=window.innerWidth,this.dock&&this.mediaWidth<=this.condensedBreakpoint&&!this.dock.condensed)this.dock.condense();else if(this.dock&&this.mediaWidth>this.condensedBreakpoint&&this.dock.condensed)if(this.dock.condensedPanel.active){var t=this,n=this.dock.condensedPanel.el.firstElementChild.id,a=this.dock.el.querySelector("[aria-controls="+n+"]");this.dock.condensedPanel.close().then((function(){t.dock.expand(),a.focus(),a.click()}))}else this.dock.expand();else this.dock&&this.mediaWidth>this.condensedBreakpoint&&!this.dock.condensed&&this.cover&&this.active&&this.close();if(this.cover&&(this.currentBreakpoint=(0,b.get)(this.mediaWidth),this.currentBreakpoint===this.mobileBreakpoint||this.mediaWidth<=this.mobileBreakpoint?(this.el.style.minWidth="100%","right"===this.position?(this.el.style.left="100%",this.el.style.right="auto",this.translateX=-this.width):"left"===this.position&&(this.el.style.left="auto",this.el.style.right="100%",this.translateX=this.width)):(this.el.style.minWidth="",this.active&&"right"===this.position?this.translateX=-this.width:this.active&&"left"===this.position&&(this.translateX=this.width))),this.push&&this.mediaWidth<=this.condensedBreakpoint&&this.active){var r=this;this.close().then((function(){e.open().catch((function(){r.display="open"}))})).catch((function(){r.display=""}))}else if(this.cover&&this.active&&this._parentPanel&&this.mediaWidth>this._parentPanel.condensedBreakpoint){var i=this;i.close().then((function(){i._parentPanel.open().catch((function(){i._parentPanel.display="open"}))})).catch((function(){i.display=""}))}}},{key:"_onKeyDown",value:function(e){switch(e.keyCode){case 13:(e.target===this.closeButton||e.target.classList.contains("spark-panel--fixed__close"))&&this.close();break;case 27:this.close();break;case 9:if(!this.underlay.active)return;var t=this.el.querySelectorAll('a[href]:not([tabindex^="-"]):not([disabled]), area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');if(t.length>0){var n=(0,l.default)(Array.prototype).call(t);1===n.length?e.preventDefault():e.shiftKey&&document.activeElement===n[0]?(e.preventDefault(),n[n.length-1].focus()):e.shiftKey||document.activeElement!==n[n.length-1]||(e.preventDefault(),n[0].focus())}break;default:return}}},{key:"_onUnderlayDismiss",value:function(){this.trigger("dismiss")}},{key:"_onDismiss",value:function(e){this.close(),this.onDismiss.call(this,e)}},{key:"_onToggle",value:function(e){this.onToggle.call(this,e)}},{key:"_onClick",value:function(e){(e.target===this.closeButton||e.target.classList.contains("spark-panel--fixed__close"))&&this._onDismiss(e)}},{key:"_onTransitionEnd",value:function(){"show"===this.display&&this._onOpenBound(),"hide"===this.display&&this._onCloseBound()}},{key:"_onOpen",value:function(e){this.display="open",this.el.setAttribute("aria-expanded",!0),"function"==typeof this._resolve&&(this._resolve(),this._resolve=void 0),this.trigger("open"),this.closeButton&&this.closeButton.focus(),this.onOpen.call(this,e)}},{key:"_onClose",value:function(e){if(this.display="",this.el.setAttribute("aria-expanded",!1),"function"==typeof this._resolve&&(this._resolve(),this._resolve=void 0),this.cover&&(this.el.classList.contains("spark-panel--docked")||this.dock||(this.el.style.display="none",this.translateX=0,this.el.style.left="",this.el.style.right="",this.el.style.transform="",this.el.style.display="")),this.dock){var t=this.dock.el.querySelector('[aria-expanded="true"]');t&&t.focus(),this.dock.clearSelected()}this.trigger("close"),this.toggleEl&&(this.toggleEl.setAttribute("aria-expanded",!1),this.toggleEl.focus()),this.onClose.call(this,e)}},{key:"toggle",value:function(){var e=this,t=this.toggleEl;switch(this.display){case"show":case"open":this.close().then((function(){t&&(t.setAttribute("aria-expanded",!1),t.focus()),e.trigger("toggle")})).catch((function(){}));break;case"hide":default:this.open().then((function(){t&&t.setAttribute("aria-expanded",!0),e.trigger("toggle")})).catch((function(){}))}}},{key:"open",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this;return this.scrollTop&&(this.el.scrollTop=0),!this.cover||this.el.classList.contains("spark-panel--docked")||this.dock||(this.el.style.display=""),new o.default((function(a){n._resolve=a,n.cover&&"show"===n.display||"open"===n.display?t.position&&t.position!==n.position&&!n.dock?(n._resolve=void 0,n.close().then((function(){n._resolve=a,n.position=t.position,!0!==t.underlay&&void 0!==t.underlay||n.underlay.configure({disabled:!1,style:"dark"}).then(n.underlay.show),n.display="",n.display="show","right"===n.position?(n.el.style.left="100%",n.translateX=-n.width):"left"===n.position&&(n.el.style.right="100%",n.translateX=n.width)}))):(n._resolve=void 0,a()):(n.cover&&(t.position&&(n.position=t.position),(!0===t.underlay||void 0===t.underlay&&!n.el.classList.contains("spark-panel--docked"))&&n.underlay.configure({disabled:!1,style:"dark"}).then(n.underlay.show),n.dock||(n.el.style.left="",n.el.style.right="","right"===n.position?n.translateX=-n.width:"left"===n.position&&(n.translateX=n.width)),n.dock&&("right"===n.position?(n.el.style.left="calc(100% - "+n.dock.width+"px)",n.el.style.right="",n.translateX=-n.width):"left"===n.position&&(n.el.style.left="",n.el.style.right="calc(100% - "+n.dock.width+"px)",n.translateX=n.width)),n.display="show"),n.push&&"show"===n.display||"open"===n.display?window.innerWidth<=e.condensedBreakpoint&&e.condensedPanel?n.close().then((function(){n.condensedPanel.el.appendChild(n.el.firstElementChild),n.condensedPanel.open({underlay:!1}).then((function(){n.condensedPanel.el.querySelector(".spark-panel--fixed__close")&&n.condensedPanel.el.querySelector(".spark-panel--fixed__close").focus(),"function"==typeof n._resolve&&(n._resolve(),n._resolve=void 0)})).catch((function(){n.display="",n.condensedPanel.display="open"}))})).catch((function(){n.display="",n._onClose()})):(n.display="",n.display="show"):n.push&&(window.innerWidth<=e.condensedBreakpoint&&e.condensedPanel?(n.condensedPanel.el.appendChild(n.el.firstElementChild),n.condensedPanel.open({underlay:!1}).then((function(){n.condensedPanel.el.querySelector(".spark-panel--fixed__close")&&n.condensedPanel.el.querySelector(".spark-panel--fixed__close").focus(),n._resolve(),n._resolve=void 0}))):n.display="show"))}))}},{key:"close",value:function(){var e=this;return!this.cover||this.el.classList.contains("spark-panel--docked")||this.dock||(this.el.style[this.position]="-".concat(this.width,"px")),new o.default((function(t){!e.cover||e.display?(e._resolve=t,e.underlay.active&&e.underlay.hide(),e.cover&&e.dock?e.translateX=0:e.cover&&(e.el.style.left="",e.el.style.right="","right"===e.position?(e.el.style.left="100%",e.translateX=0):"left"===e.position&&(e.el.style.right="100%",e.translateX=0)),e.display="hide"):t()}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),this._cacheElements.call(this,e||this.el,t),this._addEventListeners(),t.position&&(this.position=t.position),this}},{key:"position",set:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right";t=t.toLowerCase(),this.el&&(0,s.default)(e=["right","left"]).call(e,t)&&("open"===this.display||"show"===this.display?"right"===t?(this.el.style.left="auto",this.el.style.right="0px"):"left"===t&&(this.el.style.left="0px",this.el.style.right="auto"):"right"===t?(this.el.style.left="100%",this.el.style.right="auto"):"left"===t&&(this.el.style.left="auto",this.el.style.right="100%"),this.el.dataset.position=t,"open"!==this.display&&"show"!==this.display||this.open().catch((function(){})))},get:function(){return this.el.dataset.position}},{key:"cover",get:function(){return"cover"===this.el.dataset.placement}},{key:"push",get:function(){return"push"===this.el.dataset.placement}},{key:"display",set:function(e){var t=["","open","show","hide"];(0,s.default)(t).call(t,e)?this.el.dataset.display=e:"boolean"==typeof e?this.el.dataset.display=e?"show":"hide":null==e&&(this.el.dataset.display="")},get:function(){return this.el?this.el.dataset.display:void 0}},{key:"translateX",set:function(e){(0,i.default)(e)&&0!==e?this.el.style.transform="translateX(".concat(e,"px)"):this.el.style.transform="translateX(0)"}},{key:"width",get:function(){return this.el?Math.round(this.el.scrollWidth):0}},{key:"active",get:function(){return!(!this.condensedPanel||void 0===this.condensedPanel.display||""===this.condensedPanel.display)||void 0!==this.display&&""!==this.display}},{key:"toggleEl",get:function(){return this._toggleEl?this._toggleEl:void 0},set:function(e){e&&1===e.nodeType?(this._toggleEl&&this._toggleEl.removeEventListener("click",this._toggleBound,!0),this._toggleEl=e,e.hasAttribute("aria-expanded")||e.setAttribute("aria-expanded",this.active),e.hasAttribute("aria-label")||e.setAttribute("aria-label","Expand or Collapse Panel"),e.addEventListener("click",this._toggleBound,!0),this.on("close",this._focusToggleBound)):(this._toggleEl&&this._toggleEl.removeEventListener("click",this._toggleBound,!0),this._toggleEl=void 0)}}]),a}(g.default);_.prototype._whitelistedParams=["_parentPanel","condensedBreakpoint","mobileBreakpoint","scrollTop","onDismiss","onToggle","onOpen","onClose"],_.prototype.defaults={_parentPanel:null,el:null,scrollTop:!0,mobileBreakpoint:"xs",condensedBreakpoint:"823",onDismiss:function(){},onToggle:function(){},onOpen:function(){},onClose:function(){}},(0,C.default)(_.prototype,k.default);var O=_;t.default=O,e.exports=t.default},function(e,t,n){"use strict";var a=n(1237);t.__esModule=!0,t.default=void 0;var r=a(n(1243)),i=a(n(1310)),s=a(n(1515)),o=a(n(1326)),l=a(n(1309)),c=a(n(1311)),u=a(n(1404)),d=a(n(1240)),p=a(n(1238)),h=a(n(1239)),f=a(n(1244)),m=a(n(1245)),g=a(n(1241)),v=a(n(1242)),y=a(n(1261)),b=a(n(1356));function E(){if("undefined"==typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){(0,f.default)(a,e);var t,n=(t=a,function(){var e,n=(0,g.default)(t);if(E()){var a=(0,g.default)(this).constructor;e=(0,r.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,m.default)(this,e)});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,p.default)(this,a),t=n.call(this,e,r),r.sideFixedPanel&&(t.sideFixedPanel=r.sideFixedPanel),t._bindEventListenerCallbacks(),t._addEventListeners(),t}return(0,h.default)(a,[{key:"_cacheElements",value:function(e){this.el=e}},{key:"_bindEventListenerCallbacks",value:function(){var e;this._onClickBound=(0,d.default)(e=this._onClick).call(e,this)}},{key:"_addEventListeners",value:function(){this.el.addEventListener("click",this._onClickBound,!0)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClickBound,!0)}},{key:"_onClick",value:function(e){var t,n,a=this;if(e.target.classList.contains("spark-side-fixed-dock--toggle")&&(0,u.default)(t=this.panels).call(t,e.target.getAttribute("aria-controls")))if("true"===e.target.getAttribute("aria-expanded"))this.sideFixedPanel.close().then((function(){e.target.setAttribute("aria-expanded",!1)})).catch((function(){}));else if(this.clearSelected(),(0,c.default)(n=this.panels).call(n,(function(t){return t===e.target.getAttribute("aria-controls")}))&&this.condensed){var r=this.sideFixedPanel.el.querySelector("#".concat(e.target.getAttribute("aria-controls")));this.condensedPanel.el.appendChild(r),r.hidden=!1,this.condensedPanel.open().then((function(){var t=r.querySelector(".spark-panel--fixed__close");t&&t.focus(),e.target.setAttribute("aria-expanded",!0)})).catch((function(){}))}else{var i;(0,l.default)(i=this.panels).call(i,(function(t){a.sideFixedPanel.el.querySelector("#".concat(t)).hidden=e.target.getAttribute("aria-controls")!==t})),this.sideFixedPanel.open().then((function(){var t=document.getElementById(e.target.getAttribute("aria-controls")).querySelector(".spark-panel--fixed__close");t&&t.focus(),e.target.setAttribute("aria-expanded",!0)})).catch((function(){}))}}},{key:"clearSelected",value:function(){var e;(0,l.default)(e=this.el.querySelectorAll(".spark-btn--icon")).call(e,(function(e){return e.setAttribute("aria-expanded",!1)}))}},{key:"condense",value:function(){if(this.sideFixedPanel.active){var e=this,t=this.sideFixedPanel.el.querySelector(".spark-panel__container__panel__content:not([hidden])");this.condensedPanel.el.appendChild(t),this.condensedPanel.open().then((function(){e.el.classList.add("spark-panel-dock--condensed");var t=e.condensedPanel.el.querySelector(".spark-panel--fixed__close");t&&t.focus()}))}else this.el.classList.add("spark-panel-dock--condensed");this.el.classList.add("spark-panel-dock--condensed")}},{key:"expand",value:function(){if(this.condensedPanel.active){var e=this,t=this.el.querySelector('[aria-expanded="true"]');this.condensedPanel.close().then((function(){e.el.classList.remove("spark-panel-dock--condensed"),t&&t.focus(),e.clearSelected()}))}else this.el.classList.remove("spark-panel-dock--condensed")}},{key:"condensed",get:function(){return!!this.el.classList.contains("spark-panel-dock--condensed")}},{key:"panels",get:function(){var e,t=this.sideFixedPanel.el.querySelectorAll(".spark-panel__container__panel__content"),n=t.length?(0,o.default)(e=(0,s.default)(t)).call(e,(function(e){return e.id})):[];return(0,i.default)(n).call(n,(function(e){return""!==e}))}},{key:"width",get:function(){return this.el?this.el.scrollWidth:0}}]),a}(v.default);C.prototype._whitelistedParams=["sideFixedPanel","condensedPanel"],(0,y.default)(C.prototype,b.default);var k=C;t.default=k,e.exports=t.default},function(e,t,n){(function(t){(function(){var n,a,r,i,s,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},a=t.hrtime,i=(n=function(){var e;return 1e9*(e=a())[0]+e[1]})(),o=1e9*t.uptime(),s=i-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,n(765))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return G}));var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(122),E=n.n(b),C=n(92),k=n.n(C),S=n(1917),_=n.n(S),O=n(77),w=n.n(O),P=n(82),A=n.n(P),x=n(4),N=n.n(x),T=n(36),I=n.n(T),B=n(27),L=n.n(B),D=n(1),j=n.n(D),F=(n(6),n(39)),M=n.n(F),R=n(17),V=n.n(R),H=n(12),U=n(2040),W=n(114),q=n(1886),z=n(2012),G=(n(2159),n(2160),function(t){function n(e){var t;return r()(this,n),t=s()(this,l()(n).call(this,e)),g()(u()(t),"onEndMove",(function(){var e=t.props.onUpdate;t.setState({dragging:null}),t.removeGlobalEventListeners(),e&&e(t.state.values)})),g()(u()(t),"onMove",(function(e){if(null!==t.state.dragging){e.cancelable&&(e.preventDefault(),e.stopPropagation());var n=e.pageX||e.changedTouches[0].pageX;t.setState((function(e){return{values:t.calculateMoveResult(e,n)}}),(function(){t.props.onMove(t.state.values)}))}})),g()(u()(t),"onStartMove",(function(e){t.addGlobalEventListener();var n=t.props.parentOffset+y()(t.slider.current,"offsetLeft"),a=e.pageX||e.changedTouches[0].pageX,r=t.getNumericalRefs();t.setState((function(e){var i=N()(r||[],(function(i,s,o){var l=Math.abs(a-(s.offsetLeft+n)),c=i;null!==i?l<Math.abs(a-(r[i].offsetLeft+n))&&(c=o):c=o;return I()(e.values)===t.props.min?e.values.length-1:L()(e.values)===t.props.max?0:c}),null),s=t.calculateMoveResult(e,a);return{dragging:i,values:t.props.values.length>1?e.values:s}}),(function(){t.props.values.length>1&&t.props.onMove(t.state.values)}))})),t.slider=j.a.createRef(),t.sliderInput=j.a.createRef(),t.state={dragging:null,values:e.values},t}return f()(n,t),p()(n,null,[{key:"limitValues",value:function(e,t,n){return e[t-1]&&n<=e[t-1]?e[t-1]:e[t+1]&&n>=e[t+1]?e[t+1]:n}}]),p()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){w()(e.values,this.props.values)||this.setState({values:e.values})}},{key:"onChange",value:function(e,t){var a=this;if(e.target.value){var r=e.target.value;this.setState((function(e){var i=k()(e.values),s=a.props.type===q.a.TIME?V.a.duration(r).asMinutes():r;return i[t]=n.limitValues(i,t,a.checkRange(s)),{values:i}})),this.sliderInput.current&&(this.sliderInput.current.value=this.formatValue(e.target.value))}else this.setState((function(e){var n=k()(e.values);return n[t]=0===t?a.props.min:a.props.max,{values:n}}))}},{key:"onKeyboardMove",value:function(e,t){var n=this;-1!==[37,39].indexOf(e)&&this.setState((function(a){var r=n.props.sliderStep||_()(.1*(n.props.max-n.props.min),0),i=k()(a.values),s=Number(i[t])+(37===e?-1:1)*r;return i[t]=n.checkRange(n.props.isIntegerStep?Math.floor(s):s),{values:i}}),(function(){n.props.onMove(n.state.values)}))}},{key:"onUpdate",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.target.value;this.setState((function(e){var s=k()(e.values),o=a.props.type===q.a.TIME?V.a.duration(i).asMinutes():a.parseValue(_()(parseFloat(i),a.props.precision));return s[t]=n.limitValues(s,t,o),r&&a.sliderInput.current&&(a.sliderInput.current.value=a.formatValue(o)),{values:s}}),(function(){a.props.onUpdate(a.state.values)}))}},{key:"getIsRightToLeft",value:function(){if(!A()(this.props.isRightToLeft))return this.props.isRightToLeft;var e=this.props.selectedLocale;return this.props.locales.getIn([e,"isRightToLeft"])}},{key:"getNumericalRefs",value:function(){for(var e=[],t=0;!A()(this[t]);)e.push(this[t]),t+=1;return e}},{key:"getTrackStyle",value:function(){var e=this.props,t=e.min,n=e.fillTo,a=this.state.values,r=this.getIsRightToLeft();return n?{left:r?"auto":0,right:r?0:"auto",width:this.calculatePercent(n)}:a.length>1?r?{right:this.calculatePercent(a[0]),width:this.calculatePercent(t+a[a.length-1]-a[0])}:{left:this.calculatePercent(a[0]),width:this.calculatePercent(t+a[a.length-1]-a[0])}:{left:r?"auto":0,right:r?0:"auto",width:this.calculatePercent(a[0])}}},{key:"getValue",value:function(e){var t=this.getIsRightToLeft(),n=this.props.min,a=e;return a=(a=a<0?0:a)>1?1:a,t&&(a=1-a),(this.props.max-n)*a+n}},{key:"addGlobalEventListener",value:function(){e.addEventListener("mousemove",this.onMove),e.addEventListener("mouseup",this.onEndMove)}},{key:"calculateMoveResult",value:function(e,t){var a=this.props.isIntegerStep,r=Number(e.dragging)||0,i=y()(this.slider.current,"offsetLeft")+this.props.parentOffset,s=y()(this.slider.current,"offsetWidth"),o=k()(e.values),l=this.getValue((t-i)/s);return o[r]=n.limitValues(o,r,a?Math.floor(l):l),o}},{key:"calculatePercent",value:function(e){var t=this.props,n=t.min,a=t.max,r=t.visiblySpread;if(n===a)return"100%";var i=(e-n)/(a-n)*100;return r&&(i=i>33?100-.33*(100-i):78-2.5*(33-i)),i>100?i=100:i<0&&(i=0),"".concat(i,"%")}},{key:"checkRange",value:function(e){var t=this.props,n=t.min,a=t.max;return e<n?n:e>a?a:e}},{key:"formatValue",value:function(e){switch(this.props.type){case q.a.TIME:return V.a.utc(6e4*e).locale("en").format("HH:mm");case q.a.PRICE:return this.checkRange(e);default:return parseInt(e,10)}}},{key:"parseValue",value:function(e){var t=e;return this.props.type===q.a.TIME&&(t=V.a.duration(e).asMinutes()),this.checkRange(t)}},{key:"removeGlobalEventListeners",value:function(){e.removeEventListener("mousemove",this.onMove),e.removeEventListener("mouseup",this.onEndMove)}},{key:"reset",value:function(){var e=[];e=1===this.props.values.length?this.props.values[0]?[this.props.max]:[this.props.min]:[this.props.min,this.props.max],this.setState({dragging:null,values:e}),this.props.onUpdate(e)}},{key:"renderHandleLabel",value:function(e){var t=this.props,n=t.valuesFormat,a=t.labels,r=t.labelFormat;if(A()(n)||A()(a)||A()(r))return"";var i=Object(W.d)(V.a.duration(e,n),r);return j.a.createElement("span",null,i,j.a.createElement("span",{className:"handle-label"},Object(H.a)("time.".concat(r),g()({},r,i))))}},{key:"renderHandles",value:function(){var e=this,t=this.props,n=t.min,a=t.max,r=t.ariaValueText,i=this.state.values,s=Object(z.a)(n),o=Object(z.a)(a),l=this.getIsRightToLeft(),c=i.map((function(t,n){var a=e.calculatePercent(t),i="handle-".concat(n),c=n,u={left:a};return l&&(u={right:a}),j.a.createElement("div",{tabIndex:"0",key:i,className:"handle",style:u,ref:function(t){e[c]=t},role:"slider",onFocus:e.props.onFocus,onBlur:e.props.onBlur,"aria-describedby":e.props.ariaDescribedby,"aria-valuemin":s,"aria-valuemax":o,onKeyDown:function(t){return e.onKeyboardMove(t.keyCode,n)},onKeyUp:function(){return e.onEndMove()},"aria-valuenow":Object(z.a)(t),"aria-valuetext":0!==r?r:""},e.renderHandleLabel(t))}));return j.a.createElement("div",null,c)}},{key:"renderInputs",value:function(){var e=this,t=this.props,n=t.prefix,a=t.suffix,r=t.type,i=t.min,s=t.max,o=t.label,l=t.step,c=t.disabled,u=t.className,d=t.precision,p=this.state.values.map((function(t,n){var a,p=e.formatValue(_()(t,d)),h="input-".concat(n);a=0===n?"departure"===o||"arrival"===o?"".concat(o,"Start"):"".concat(o):"".concat(o,"Stop");var f="filter.".concat(a),m=1===n;return j.a.createElement(j.a.Fragment,{key:h},m&&j.a.createElement("span",{className:"dxp-dash"},"-"),j.a.createElement("div",{className:"input"},j.a.createElement("label",{htmlFor:a},j.a.createElement("span",{className:"sr-only"},Object(H.a)(f)),r===q.a.TIME?j.a.createElement(U.a,{min:i,max:s,disabled:c,value:p,step:l,id:a,onBlur:function(t){return e.onUpdate(t,n)},onChange:function(t){return e.onChange(t,n)},className:u}):j.a.createElement("input",{ref:e.sliderInput,type:q.a.NUMBER,min:i,max:s,id:a,disabled:c,value:r===q.a.DURATION?p/60:p,step:l,onBlur:function(t){return e.onUpdate(t,n,!0)},onChange:function(t){return e.onUpdate(t,n)},className:u}))))}));return j.a.createElement("div",{className:"inputs"},j.a.createElement("span",{className:"suffix"},a),j.a.createElement("div",{className:"inputs-list"},p),j.a.createElement("span",{className:"prefix"},n))}},{key:"renderLabels",value:function(){var e=this,t=this.props,n=t.valuesFormat,a=t.labels,r=t.labelFormat;if(A()(n)||A()(a)||A()(r))return null;var i=this.getIsRightToLeft(),s=a.map((function(t,a){var s="label-".concat(a),o=e.calculatePercent(t),l=Object(W.d)(V.a.duration(t,n),r),c={left:o};return i&&(c={right:o}),j.a.createElement("span",{key:s,className:"label",style:c},l)}));return j.a.createElement("div",null,s)}},{key:"render",value:function(){var e=this.props.disabled,t=this.props.values.length,n=M()("dxp-slider",this.props.className,{disabled:e,"multi-range":t>1}),a=this.getTrackStyle(),r=this.props.hideInput;return j.a.createElement("div",{className:n,ref:this.slider},j.a.createElement("div",{className:"controls",onMouseDown:this.onStartMove,onTouchStart:this.onStartMove,onTouchMove:this.onMove,onTouchEnd:this.onEndMove},this.renderHandles(),this.renderLabels(),j.a.createElement("span",{className:"track"},j.a.createElement("span",{className:"track-fill",style:a}))),this.props.children,!r&&this.renderInputs())}}]),n}(D.Component));g()(G,"defaultProps",{precision:2,className:"",step:1,disabled:!1,prefix:null,suffix:null,parentOffset:0,hideInput:!1,visiblySpread:!1,isRightToLeft:!1,valuesFormat:"",labels:[],selectedLocale:"",locales:{},onMove:E.a,onFocus:E.a,onBlur:E.a,fillTo:0,label:"",labelFormat:void 0,sliderStep:1,ariaDescribedby:void 0,children:void 0,isIntegerStep:!1,ariaValueText:""})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={TIME:"time",NUMBER:"number",PRICE:"price",DURATION:"duration"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.startLoadingScripts=y;var i=n(1),s=u(i),o=u(n(6)),l=u(n(1888)),c=n(1889);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var m=[],g={},v=[];function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop,n=function(e){if(m.indexOf(e)<0)return function(t){var n=g[e]||[];if(n.push(t),g[e]=n,1===n.length)return(0,c.newScript)(e)((function(t){g[e].forEach((function(n){return n(t,e)})),delete g[e]}))}},a=e.map((function(e){return Array.isArray(e)?e.map(n):n(e)}));c.series.apply(void 0,f(a))((function(e,t){e?v.push(t):Array.isArray(t)?t.forEach(b):b(t)}))((function(e){E(),t(e)}))}var b=function(e){m.indexOf(e)<0&&m.push(e)},E=function(){v.length>0&&(v.forEach((function(e){var t=document.querySelector("script[src='"+e+"']");null!=t&&t.parentNode.removeChild(t)})),v=[])};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=function(n){function i(e,t){d(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return n.state={isScriptLoaded:!1,isScriptLoadSucceed:!1},n._isMounted=!1,n}return h(i,n),r(i,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,y(t,(function(t){e._isMounted&&e.setState({isScriptLoaded:!0,isScriptLoadSucceed:!t},(function(){t||e.props.onScriptLoaded()}))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=a({},this.props,this.state);return s.default.createElement(e,t)}}]),i}(i.Component);return n.propTypes={onScriptLoaded:o.default.func},n.defaultProps={onScriptLoaded:c.noop},(0,l.default)(n,e)}}},function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var s=Object.getOwnPropertyNames(t);i&&(s=s.concat(Object.getOwnPropertySymbols(t)));for(var o=0;o<s.length;++o)if(!(a[s[o]]||r[s[o]]||n&&n[s[o]]))try{e[s[o]]=t[s[o]]}catch(e){}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isDefined=function(e){return null!=e};var a=t.isFunction=function(e){return"function"==typeof e},r=(t.noop=function(e){},t.newScript=function(e){return function(t){var n=document.createElement("script");return n.src=e,n.addEventListener("load",(function(){return t(null,e)})),n.addEventListener("error",(function(){return t(!0,e)})),document.body.appendChild(n),n}},function(e){var t=Object.keys(e),n=-1;return{next:function(){return++n>=t.length?null:t[n]}}}),i=t.parallel=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var r=!1,i=0,s=[];(t=t.filter(a)).length<=0?n(null):t.forEach((function(o,l){o((function(o){for(var c=arguments.length,u=Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];o?r=!0:(u.length<=1&&(u=u[0]),s[l]=u,i++),a(e)&&e.call(null,o,u,l),r?n(!0):t.length===i&&n(null,s)}))}))}}};t.series=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){t=t.filter((function(e){return null!=e}));var s=r(t),o=function(){var n=s.next(),a=t[n];return Array.isArray(a)&&(a=i.apply(null,a).call(null,e)),[+n,a]},l=void 0,c=void 0,u=o();if(l=u[0],null==(c=u[1]))return n(null);var d=[];!function t(){c((function(r){for(var i=arguments.length,s=Array(i>1?i-1:0),p=1;p<i;p++)s[p-1]=arguments[p];if(s.length<=1&&(s=s[0]),a(e)&&e.call(null,r,s,l),r)n(r);else{if(d.push(s),u=o(),l=u[0],null==(c=u[1]))return n(null,d);t()}}))}()}}}},function(e,t,n){"use strict";var a,r,i=n(1),s=n.n(i),o=(n(6),n(1948)),l=n.n(o),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e){return(e.ctrlKey||e.metaKey)&&e.keyCode===(e.shiftKey?89:90)}function h(e){return(e.ctrlKey||e.metaKey)&&e.keyCode===(e.shiftKey?90:89)}function f(e){var t=void 0,n=void 0;if(void 0!==e.selectionStart)t=e.selectionStart,n=e.selectionEnd;else try{e.focus();var a=e.createTextRange(),r=a.duplicate();a.moveToBookmark(document.selection.createRange().getBookmark()),r.setEndPoint("EndToStart",a),n=(t=r.text.length)+a.text.length}catch(e){}return{start:t,end:n}}var m=(r=a=function(e){function t(){var n,a;u(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=d(this,e.call.apply(e,[this].concat(i))),a._onChange=function(e){var t=a.mask.getValue(),n=e.target.value;n!==t&&(a._updateMaskSelection(),a.mask.setValue(n),e.target.value=a._getDisplayValue(),a._updateInputSelection()),a.props.onChange&&a.props.onChange(e)},a._onKeyDown=function(e){if(p(e))return e.preventDefault(),void(a.mask.undo()&&(e.target.value=a._getDisplayValue(),a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)));if(h(e))return e.preventDefault(),void(a.mask.redo()&&(e.target.value=a._getDisplayValue(),a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)));if("Backspace"===e.key&&(e.preventDefault(),a._updateMaskSelection(),a.mask.backspace())){var t=a._getDisplayValue();e.target.value=t,t&&a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)}},a._onKeyPress=function(e){e.metaKey||e.altKey||e.ctrlKey||"Enter"===e.key||(e.preventDefault(),a._updateMaskSelection(),a.mask.input(e.key||e.data)&&(e.target.value=a.mask.getValue(),a._updateInputSelection(),a.props.onChange&&a.props.onChange(e)))},a._onPaste=function(e){e.preventDefault(),a._updateMaskSelection(),a.mask.paste(e.clipboardData.getData("Text"))&&(e.target.value=a.mask.getValue(),setTimeout((function(){return a._updateInputSelection()}),0),a.props.onChange&&a.props.onChange(e))},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){var e={pattern:this.props.mask,value:this.props.value,formatCharacters:this.props.formatCharacters};this.props.placeholderChar&&(e.placeholderChar=this.props.placeholderChar),this.mask=new l.a(e)},t.prototype.componentWillReceiveProps=function(e){this.props.mask!==e.mask&&this.props.value!==e.mask?this.mask.getValue()===this.mask.emptyValue?this.mask.setPattern(e.mask,{value:e.value}):this.mask.setPattern(e.mask,{value:this.mask.getRawValue()}):this.props.mask!==e.mask?this.mask.setPattern(e.mask,{value:this.mask.getRawValue()}):this.props.value!==e.value&&this.mask.setValue(e.value)},t.prototype.componentWillUpdate=function(e,t){e.mask!==this.props.mask&&this._updatePattern(e)},t.prototype.componentDidUpdate=function(e){e.mask!==this.props.mask&&this.mask.selection.start&&this._updateInputSelection()},t.prototype._updatePattern=function(e){this.mask.setPattern(e.mask,{value:this.mask.getRawValue(),selection:f(this.input)})},t.prototype._updateMaskSelection=function(){this.mask.selection=f(this.input)},t.prototype._updateInputSelection=function(){!function(e,t){try{if(void 0!==e.selectionStart)e.focus(),e.setSelectionRange(t.start,t.end);else{e.focus();var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t.start),n.moveEnd("character",t.end-t.start),n.select()}}catch(e){}}(this.input,this.mask.selection)},t.prototype._getDisplayValue=function(){var e=this.mask.getValue();return e===this.mask.emptyValue?"":e},t.prototype._keyPressPropName=function(){return"undefined"!=typeof navigator&&navigator.userAgent.match(/Android/i)?"onBeforeInput":"onKeyPress"},t.prototype._getEventHandlers=function(){var e;return(e={onChange:this._onChange,onKeyDown:this._onKeyDown,onPaste:this._onPaste})[this._keyPressPropName()]=this._onKeyPress,e},t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.render=function(){var e=this,t=this.mask.pattern.length,n=this._getDisplayValue(),a=this._getEventHandlers(),r=this.props,i=r.size,o=void 0===i?t:i,l=r.placeholder,u=void 0===l?this.mask.emptyValue:l,d=this.props,p=(d.placeholderChar,d.formatCharacters,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(d,["placeholderChar","formatCharacters"])),h=c({},p,a,{ref:function(t){e.input=t},maxLength:t,value:n,size:o,placeholder:u});return s.a.createElement("input",h)},t}(s.a.Component),a.defaultProps={value:""},r);m.propTypes={},t.a=m},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var a="dxp-flight-search-form",r="airport-selection-origin",i="airport-selection-destination",s="departureDate",o="returnDate",l="cabin-class-selection",c="searchSubmit",u="dxp-search-flight-view",d="dxp-search-flight-passengers",p="add-passenger-type"},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(42),s=n(85);t.a=function(){var e=Object(i.a)((function(e,t){return r()(t,"location.query",{})}),(function(e){return e.journeyType})),t=Object(i.a)(e,(function(e){return e.metadata.get("journeyTypes")}),(function(e,t){return e||t.get("defaultJourneyType")})),n=Object(i.a)(t,(function(e){return e===s.a.ONE_WAY})),a=Object(i.a)(t,(function(e){return e===s.a.ROUND_TRIP})),o=Object(i.a)(t,(function(e){return e===s.a.MULTI_CITY}));return Object(i.b)({value:t,isOneWay:n,isRoundTrip:a,isMultiCity:o})}},function(e,t,n){"use strict";var a=n(1460),r=n(1697);t.a=function(e){var t=e.isCorporatePnrLookup,n=e.corporateNames,i=e.boardingPassFormat,s=e.parameters,o=e.queryParameters,l=e.recordLocatorFormat;return t?Object(a.a)(n,i,s||o,l):Object(r.a)(s||o,i,l)}},function(e,t,n){"use strict";var a=n(12),r=n(1468),i=n(1604);t.a=function(e){var t=e.code,n=e.key,s=void 0===n?"name":n,o=e.packageName,l=void 0===o?r.a:o;return(e.asText?a.i:a.a)([l,s],Object(i.a)({code:t}))}},function(e,t,n){"use strict";var a=n(5),r=n.n(a);t.a=function(e){var t=e.selectedPassengerIdsFromQuery,n=e.passengers,a=e.allPassengersSelectedByDefault;return 1===n.length&&n[0].id?n[0].id:t||(a?r()(n,(function(e){return e.id})).join(","):null)}},function(e,t,n){"use strict";var a=n(1357);t.a=function(e){var t=e.dispatch,n=e.returnedCode,r=e.errorCode,i=e.showingGeneralError,s=e.message,o=e.errorMessage,l=e.selectedPassengerIds,c=e.recordLocator,u=e.pnr,d=e.rawReservation,p=e.results,h=e.timeToOpen;return t({type:a.LOOKUP_RS,payload:{action:"lookup",returnedCode:n,errorCode:r,showingGeneralError:i,message:s,errorMessage:o,recordLocator:c,pnr:u,rawReservation:d,results:p,selectedPassengerIds:l,timeToOpen:h}})}},,,,,,,,,,function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(522),s=n(12),o=function(e){var t=e.code,n=function(e){var t=e.code;return Object(s.i)(["SabreDxContainerStates","states",t],{code:t},void 0,void 0,["SabreDxContainerStates","default"])}({code:t});return Object(s.i)(["SabreDxContainerStates","name"],{code:t,name:n})},l=function(){var e=Object(i.a)("SabreDxContainerStates","states")||[];return r()(e,(function(e){return{value:e,label:o({code:e})}}))};n.d(t,"a",(function(){return"SabreDxContainerStates"})),n.d(t,"b",(function(){return l}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(23),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(39)),k=n.n(C),S=n(50),_=function(e){return E.a.createElement("span",{className:k()("dxp-collapse-header",e.className)},e.children)};_.defaultProps={className:""};var O=_,w=function(e){return E.a.createElement("div",r()({className:k()("dxp-collapse-body",e.className)},e.authorableAttributes),e.children)};w.defaultProps={authorableAttributes:{},className:""};var P=w,A=(n(2274),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={isCollapsed:e.isCollapsed,instanceId:t.instanceCount,focused:!1},t.instanceCount+=1,n}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.isCollapsed!==e.isCollapsed&&this.setState({isCollapsed:e.isCollapsed})}},{key:"getCollapsibleHeader",value:function(e){var t=this;return E.a.createElement("button",{type:"button",id:"dxp-expand-collapse-action-".concat(e),"data-test-id":"expand-collapse-action",className:"collapse-btn",onClick:function(e){return t.collapse(e)},"aria-expanded":!this.state.isCollapsed,onFocus:function(){return t.setFocused(!0)},onBlur:function(){return t.setFocused(!1)},"aria-controls":"collapse-body-".concat(e)},this.getHeader())}},{key:"getContent",value:function(e){return E.a.createElement("div",{className:k()("dxp-collapse-content",{hidden:this.state.isCollapsed})},e)}},{key:"getDisabledHeader",value:function(){return E.a.createElement("div",{className:"collapse-btn"},this.getHeader())}},{key:"getHeader",value:function(){var e=this.props.children[0]||this.props.children;if(this.props.hideHeaderIcon)return e;var t=[this.getIcon(),e,this.getIcon(!0)];return this.props.headerIconIsBefore?t:t.reverse()}},{key:"getIcon",value:function(e){var t=this.props.headerIconIsBefore,n=t?!e:e,a=this.state.isCollapsed?this.props.onCollapsedHeaderIcon:this.props.onOpenHeaderIcon,r=k()("dxp-collapse-header-icon","no-bg","reversed-collapse-btn","collapse-btn-container",{"should-be-before":t,"should-not-be-before":!t,"collapse-header-icon-is-before":n,"collapse-header-icon-is-after":!n});return E.a.createElement("span",{key:"icon-".concat(e),className:r},E.a.createElement(S.c,{name:a,className:"dxp-collapse-header-icon"}))}},{key:"setFocused",value:function(e){this.setState({focused:e})}},{key:"collapse",value:function(e){e&&e.preventDefault(),this.setState((function(e){return{isCollapsed:!e.isCollapsed}})),this.props.handleCollapseClick&&this.props.handleCollapseClick(),this.props.onCollapse&&this.props.onCollapse(!this.state.isCollapsed)}},{key:"isCollapsed",value:function(){return this.state.isCollapsed}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.className,a=e.children,i=e.aria,s=e.destroyChildrenOnCollapse,o=this.state.isCollapsed,l=this.props.attributes||{},c=k()("dxp-collapse",n,{collapsed:o,open:!o,disabled:t,"is-focused":this.state.focused}),u=this.props.id||this.state.instanceId,d=a[1],p=!0,h=!0;return y()(a)||(h=!(p="CollapseHeader"===a.type.name))&&(d=a),E.a.createElement("div",r()({className:c},i,{"aria-expanded":!o,id:u},l),p&&(t?this.getDisabledHeader(u):this.getCollapsibleHeader(u)),!o&&h&&E.a.createElement("div",{className:"collapse-body-container",id:"collapse-body-".concat(u)},s?!o&&a[2]:a[2],s?!o&&this.getContent(d):this.getContent(d)))}}]),t}(b.Component));g()(A,"defaultProps",{destroyChildrenOnCollapse:!1,attributes:void 0,className:void 0,onCollapsedHeaderIcon:S.a.ARROW_CHEVRON_DOWN,isCollapsed:!1,onOpenHeaderIcon:S.a.ARROW_CHEVRON_UP,headerIconIsBefore:!1,disabled:!1,aria:{},hideHeaderIcon:!1,onCollapse:void 0,handleCollapseClick:void 0,id:void 0}),g()(A,"instanceCount",0),A.Header=O,A.Body=P,n.d(t,"a",(function(){return A}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(51),f=n.n(h),m=n(156),g=n.n(m),v=n(76),y=n.n(v),b=n(36),E=n.n(b),C=n(5),k=n.n(C),S=n(27),_=n.n(S),O=n(2),w=n.n(O),P=n(0),A=n.n(P),x=(n(6),n(194),n(1)),N=n.n(x),T=n(123),I=n(50),B=n(17),L=n.n(B),D=n(1887),j=n.n(D),F=n(12),M=n(136),R=n(1606),V=n(78),H=n(521),U=n(63),W=n(114);var q=n(1909),z=(n(2096),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=A()(this.props,"airportsInfo",{});w()(e)&&Object(q.b)(this.getAirportsArray())}},{key:"onCloseClick",value:function(e){e.preventDefault?e.preventDefault():e.stopPropagation(),this.props.onCloseClick&&this.props.onCloseClick(e)}},{key:"onRadioButtonChange",value:function(e){this.setState({selectedRadioButton:e})}},{key:"getAirportsArray",value:function(){var e=[];return this.props.flightSummary.itineraryParts.forEach((function(t){t.get("segments").forEach((function(t){e.push(t.get("origin")),e.push(t.get("destination"))}))})),g()(e)}},{key:"getCalendarArray",value:function(e){var n=A()(this.props,"pnrLookupQuery.pnr");return k()(e.segments,(function(e){return{dateStart:t.getNewMomentInstance(A()(e,"departure")),dateEnd:t.getNewMomentInstance(A()(e,"arrival")),pnr:n,flightNumber:A()(e,"flight.flightNumber"),flightOperatingAirlineCode:A()(e,"flight.operatingAirlineCode"),origin:A()(e,"origin"),destination:A()(e,"destination")}}))}},{key:"getLocalTime",value:function(e,t){var n=L()().utcOffset(),a=e;return n>0?this.getUTCDate(a,t).add(n,"m"):this.getUTCDate(a,t).subtract(n,"m")}},{key:"getUTCDate",value:function(e,t){var n=A()(this.props,"airportsInfo.".concat(t,".UTCOffset"));return n>0?e.subtract(n,"h"):e.add(n,"h")}},{key:"renderGoogleCalendarLinks",value:function(e){var t=this,n=f()(this.props.metadata.get("addToCalendar"),"toJS"),a=n.googleAddToCalendarURL,r=n.googleLinkDateFormat,i=k()(e,(function(e,n){var i=t.getUTCDate(e.dateStart,e.origin),s=t.getUTCDate(e.dateEnd,e.destination),o="".concat(a,"?")+"action=TEMPLATE"+"&text=".concat(Object(F.i)("addToCalendar.GoogleSummary",{flightFrom:e.origin,flightTo:e.destination}),"&dates=").concat(i.format(r),"/").concat(s.format(r),"&details=").concat(Object(F.i)("addToCalendar.GoogleDetails",{pnr:e.pnr,flightNumber:e.flightNumber,airline:Object(F.i)("airlines.".concat(e.flightOperatingAirlineCode))}),"&location=").concat(Object(F.i)("airports.".concat(e.origin)),"&sf=true");return N.a.createElement("li",{key:"google-link-".concat(n)},N.a.createElement(V.a,{href:o,className:"add-to-calendar-link google-link",target:"blank",rel:"external",isExternalLink:!0},Object(F.a)("addToCalendar.GoogleLinkText",{origin:e.origin,destination:e.destination})))}));return N.a.createElement("ul",null,i)}},{key:"renderItinerary",value:function(e,n){var a=this.getCalendarArray(e),r=_()(a).origin,i=E()(a).destination;return N.a.createElement("div",{key:"itinerary-".concat(n),className:"dxp-add-to-calendar-links-holder"},N.a.createElement("div",{className:"itineraryparts-header"},N.a.createElement(I.c,{name:I.a.AIRPLANE,className:"icon"})," ","".concat(r," - ").concat(i)),"outlook-radio"===this.state.selectedRadioButton&&this.renderOutlookLinks(a),"ical-radio"===this.state.selectedRadioButton&&t.renderiCalLinks(a),"google-calendar-radio"===this.state.selectedRadioButton&&this.renderGoogleCalendarLinks(a))}},{key:"renderLinks",value:function(){var e=this,t=this.props.flightSummary,n=f()(t.itineraryParts,"toJS",{}),a=k()(n,(function(t,n){return e.renderItinerary(t,n)}));return N.a.createElement("div",null,a)}},{key:"renderOutlookLinks",value:function(e){var t=this,n=this.props,a=n.metadata,r=n.pnrInfo,i=f()(a.get("addToCalendar"),"toJS"),s=i.outlookAddToCalendarURL,o=i.outlookLinkDateFormat,l=r.get("reloc"),c=k()(e,(function(e,n){var a=t.getLocalTime(e.dateStart,e.origin).format(o),r=t.getLocalTime(e.dateEnd,e.destination).format(o),i=Object(F.i)("addToCalendar.OutlookSummary",{flightFrom:e.origin,flightTo:e.destination}),c=Object(F.i)("addToCalendar.OutlookLocation",{pnr:l,flightNumber:e.flightNumber,airline:Object(F.i)("airlines.".concat(e.flightOperatingAirlineCode))}),u="path=/calendar/view/Month&rru=addevent&".concat(Object(W.l)({subject:i,location:c,startdt:a,enddt:r})),d="".concat(s,"?").concat(u);return N.a.createElement("li",{key:"outlook-link-".concat(n)},N.a.createElement(V.a,{href:d,className:"add-to-calendar-link outlook-link",target:"_blank",isExternalLink:!0,rel:"external"},Object(F.a)("addToCalendar.OutlookLinkText",{origin:e.origin,destination:e.destination})))}));return N.a.createElement("ul",null,c)}},{key:"render",value:function(){var e=this,t=A()(this.state,"selectedRadioButton",""),n=A()(this.props,"flightSummary.itineraryAirports",{}),a=!w()(n);return N.a.createElement(M.a,{className:"dxp-add-to-calendar",onCloseClick:function(t){return e.onCloseClick(t)}},N.a.createElement("h2",null,Object(F.a)("addToCalendar.title")),a?N.a.createElement("div",{className:"calendar-selection-holder"},N.a.createElement(R.a,{name:"add-to-calendar-radio",value:"outlook",id:"outlook-radio",onChange:function(){return e.onRadioButtonChange("outlook-radio")}},Object(F.a)("addToCalendar.Outlook")),N.a.createElement(R.a,{name:"add-to-calendar-radio",value:"ical",id:"ical-radio",onChange:function(){return e.onRadioButtonChange("ical-radio")}},Object(F.a)("addToCalendar.iCal")),N.a.createElement(R.a,{name:"add-to-calendar-radio",value:"google-calendar",id:"google-calendar-radio",onChange:function(){return e.onRadioButtonChange("google-calendar-radio")}},Object(F.a)("addToCalendar.GoogleCalendar"))):N.a.createElement(H.a,{className:"dark"}),N.a.createElement("div",{className:"dxp-add-to-calendar-links"},""!==t&&this.renderLinks()))}}],[{key:"downloadFile",value:function(e,t){e.download(t)}},{key:"getNewMomentInstance",value:function(e){return L()(e,"YYYY-MM-DD HH:mm:ss")}},{key:"renderiCalLinks",value:function(e){var n=_()(e).origin,a=E()(e).destination,r=ics();return y()(e,(function(e){r.addEvent(Object(F.i)("addToCalendar.iCalSummary",{flightFrom:e.origin,flightTo:e.destination}),Object(F.i)("addToCalendar.iCalDescription",{pnr:e.pnr,flightNumber:e.flightNumber,airline:Object(F.i)("airlines.".concat(e.flightOperatingAirlineCode))}),"",e.dateStart.toDate(),e.dateEnd.toDate())})),N.a.createElement("button",{type:"button",onClick:function(){return t.downloadFile(r,"flight ".concat(n," - ").concat(a))},className:"add-to-calendar-button ical-link"},Object(F.a)("addToCalendar.iCalLinkText",{origin:n,destination:a}))}}]),t}(x.Component)),G=Object(T.b)((function(e){return{airportsInfo:f()(e.addToCalendar.get("airportsInfo"),"toJS",{})}}))(j()([Object(U.a)("js/ics.min.js"),Object(U.a)("js/FileSaver.min.js")])(z));n.d(t,"a",(function(){return G}))},function(e,t,n){"use strict";var a=n(63),r=n(9),i=n(0),s=n.n(i),o=n(5),l=n.n(o),c=n(1735),u=n.n(c);function d(e){return Object(r.i)(Object(a.a)("data/airports.json")).then((function(t){return function(e,t){return{airportsInfo:u()(t,l()(t,(function(t){return s()(e,"airport.".concat(t),{})})))}}(t,e)}))}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var p="AIRPORTS_INFO_REQUEST";function h(e){return function(t){return d(e).then((function(e){t({type:p,airportsInfo:e.airportsInfo})}))}}},,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(54),s=n.n(i),o=n(2),l=n.n(o),c=n(37),u=n.n(c),d=n(1538),p=n(10),h=n(1740),f=n(1741),m=n(1914),g=n.n(m),v=n(16),y=n.n(v),b=n(1363),E=[b.a.EXCHANGE_FLIGHT,b.a.CANCEL_FLIGHT];function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.filter((function(e){return E.includes(e.tripOption)})).map((function(e){return y()({},e,{showWarning:!0,warningReasons:t})}));return g()([].concat(s()(n),s()(e)),"tripOption")}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return _}));var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=[].concat(s()(e.pnr.hotelReservationSummary?[p.x]:[]),s()(e.pnr.carReservationSummary?[p.h]:[])),o=l()(i)?e.tripOptions:C(e.tripOptions,i),c=u()(e.pnr,{messages:e.messages}),m=Object(d.a)(e,t),g=u()(m,{tripOptions:o,pnrInfo:c});return S({},g,{cart:n?Object(h.a)(g,a,r):Object(f.a)(g,a,r)})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return"SabreDxContainerCheckInAirports"}))},function(e,t,n){var a=n(216),r=n(104),i=n(178),s=n(340),o=n(288),l=n(36),c=i((function(e){var t=l(e);return o(t)&&(t=void 0),s(a(e,1,o,!0),r(t,2))}));e.exports=c},function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,i,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,r,i,s,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(0),s=n.n(i),o=n(5),l=n.n(o),c=(n(6),n(1)),u=n.n(c),d=n(39),p=n.n(d),h=n(12);n(1543);t.a=function(e){var t=e.advisories,n=l()(t,(function(e,t){var n=e.level,a=r()(s()(e,"imageHint","default"));return u.a.createElement("div",{key:"advisory-".concat(t),className:p()("advisories",n.toLowerCase(),a)},Object(h.a)("fareAdvisory.".concat(n,".").concat(a)))}));return u.a.createElement("div",null,n)}},function(e,t,n){var a=n(774)("ceil");e.exports=a},function(e,t,n){var a=n(2282)("wks"),r=n(2168),i=n(446).Symbol,s="function"==typeof i;(e.exports=function(e){return a[e]||(a[e]=s&&i[e]||(s?i:r)("Symbol."+e))}).store=a},function(e,t,n){var a=n(772),r=a&&new a;e.exports=r},function(e,t,n){var a=n(1457),r=n(1572),i=n(1594),s=n(1952);e.exports=function(e){var t=i(e),n=s[t];if("function"!=typeof n||!(t in a.prototype))return!1;if(e===n)return!0;var o=r(n);return!!o&&e===o[0]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),i=n(1532);function s(e){return r()(e,["paymentStatus","value"],i.a)===i.b}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(2),s=n.n(i),o=n(43),l=n.n(o);t.a=function(e){var t=e.segments,n=e.boardingPassFormat,a=e.boardingPassInhibitedStatuses,i=void 0===a?{}:a;return l()(t,(function(e){return l()(e.passengerFlight,(function(e){return("IMAGE"===n?!s()(r()(e,["boardingPass","formattedBoardingPass"])):!s()(e.boardingPass))&&!s()(e.boardingPass.barCode)&&(!i[e.id]||!i[e.id].isBoardingPassInhibited)}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),i=n(43),s=n.n(i);function o(e){var t=e.flights;return s()(t,(function(e){return r()(e,"boardingPass.supplementaryData.selectee")}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),i=n(55),s=n.n(i);function o(e){var t=e.flights;return s()(t,(function(e){return r()(e,"boardingPass.supplementaryData.selectee")}))}},function(e,t,n){"use strict";var a=n(81),r=n(523),i=n(320),s=n(1347),o=n(124),l=n(1486),c=n(1487);t.a=function(e){var t=e.errorType,n=e.errorCode;return function(e){e(Object(c.a)(["selectedPassengerIds"]));var u=Object(o.a)("pathname"),d=Object(i.a)(u).flow,p=Object(a.a)(r.a,"flows"),h=d||Object(l.a)({flows:p}).path,f="/".concat([h,"error"].join("/"));return Object(s.a)({pathname:f,query:{errorType:t,errorCode:n}})}}},,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(12)),E=n(1286),C=n(84),k=n(14),S=n(1305),_=n(1360),O=n(1320),w=n(1374),P=n(83),A=n.n(P),x=n(334),N=n.n(x);var T=function(e){var t=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.PASSENGERS,".").concat(e.crumbState),{passengerCount:N()(A()(e.passengers))});return y.a.createElement(O.a,{crumbSubTitle:t})},I=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(w.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PASSENGERS})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(_.a,{pageName:k.a.PASSENGERS,flowName:C.a.B2C})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(w.a,{crumbState:S.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:k.a.PASSENGERS})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(b.i)("summaryBar.flowCrumbs.".concat(k.a.PASSENGERS,".").concat(S.a.HOVER));return y.a.createElement(O.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(E.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:y.a.createElement(T,{crumbState:this.props.crumbState,passengers:this.props.searchCriteriaQueryParams.passengers}),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onPassengerCrumbClick(e.props.url)},className:"dxp-breadcrumb-item passenger-breadcrumb-item"})}}]),t}(v.Component);n.d(t,"a",(function(){return I}))},,,,function(e,t,n){"use strict";var a=n(1591);e.exports=a},function(e,t,n){var a=n(775),r=n(179),i=n(120),s=n(116);e.exports=function(e,t,n){return t=(n?r(e,t,n):void 0===t)?1:i(t),a(s(e),t)}},,function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,o,l,c,u,d=n(1),p=r(d),h=r(n(6)),f=n(1971),m=r(n(39)),g=r(n(1943)),v="transform",y=!0,b=0,E=-1,C=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var a=!0;a;){var r=e,i=t,s=n;a=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,i);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=s,a=!0,o=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.handleResize=this.handleResize.bind(this),this.handleScroll=this.handleScroll.bind(this),this.handleScrollStart=this.handleScrollStart.bind(this),this.delta=0,this.stickyTop=0,this.stickyBottom=0,this.frozen=!1,this.skipNextScrollEvent=!1,this.scrollTop=-1,this.bottomBoundaryTarget,this.topTarget,this.subscribers,this.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:0,pos:0,activated:!1}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getTargetHeight",value:function(e){return e&&e.offsetHeight||0}},{key:"getTopPosition",value:function(e){return"string"==typeof(e=e||this.props.top||this.props.topTarget||0)&&(this.topTarget||(this.topTarget=s.querySelector(e)),e=this.getTargetHeight(this.topTarget)),e}},{key:"getTargetBottom",value:function(e){if(!e)return-1;var t=e.getBoundingClientRect();return this.scrollTop+t.bottom}},{key:"getBottomBoundary",value:function(e){var t=e||this.props.bottomBoundary;return"object"==typeof t&&(t=t.value||t.target||0),"string"==typeof t&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=s.querySelector(t)),t=this.getTargetBottom(this.bottomBoundaryTarget)),t&&t>0?t:1/0}},{key:"reset",value:function(){this.setState({status:0,pos:0})}},{key:"release",value:function(e){this.setState({status:1,pos:e-this.state.y})}},{key:"fix",value:function(e){this.setState({status:2,pos:e})}},{key:"updateInitialDimension",value:function(e){e=e||{};var t=this.outerElement.getBoundingClientRect(),n=this.innerElement.getBoundingClientRect(),a=t.width||t.right-t.left,r=n.height||n.bottom-n.top,i=t.top+this.scrollTop;this.setState({top:this.getTopPosition(e.top),bottom:Math.min(this.state.top+r,E),width:a,height:r,x:t.left,y:i,bottomBoundary:this.getBottomBoundary(e.bottomBoundary),topBoundary:i})}},{key:"handleResize",value:function(e,t){this.props.shouldFreeze()||(E=t.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(e,t){this.frozen=this.props.shouldFreeze(),this.frozen||(this.scrollTop===t.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=t.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(e,t){this.skipNextScrollEvent?this.skipNextScrollEvent=!1:(b=t.scroll.delta,this.scrollTop=t.scroll.top,this.update())}},{key:"update",value:function(){if(!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||0===this.state.width&&0===this.state.height)0!==this.state.status&&this.reset();else{var e=b,t=this.scrollTop+this.state.top,n=this.scrollTop+this.state.bottom;if(t<=this.state.topBoundary)this.reset();else if(n>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>E-this.state.top)switch(this.state.status){case 0:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case 1:this.stickyBottom=this.stickyTop+this.state.height,e>0&&n>this.stickyBottom?this.fix(this.state.bottom-this.state.height):e<0&&t<this.stickyTop&&this.fix(this.state.top);break;case 2:var a=!0,r=this.state.pos,i=this.state.height;if(e>0&&r===this.state.top)this.stickyTop=t-e,this.stickyBottom=this.stickyTop+i;else if(e<0&&r===this.state.bottom-i)this.stickyBottom=n-e,this.stickyTop=this.stickyBottom-i;else if(r!==this.state.bottom-i&&r!==this.state.top){var s=r+i-this.state.bottom;this.stickyBottom=n-e+s,this.stickyTop=this.stickyBottom-i}else a=!1;a&&this.release(this.stickyTop)}else this.fix(this.state.top);this.delta=e}}},{key:"componentWillReceiveProps",value:function(e){this.updateInitialDimension(e),this.update()}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),e.enabled!==this.props.enabled&&(this.props.enabled?this.setState({activated:!0},(function(){n.updateInitialDimension(),n.update()})):this.setState({activated:!1},(function(){n.reset()})))}},{key:"componentWillUnmount",value:function(){for(var e=(this.subscribers||[]).length-1;e>=0;e--)this.subscribers[e].unsubscribe()}},{key:"componentDidMount",value:function(){u||(u=window,s=document,l=s.documentElement,o=s.body,E=u.innerHeight||l.clientHeight,(c=window.Modernizr)&&c.prefixed&&(y=c.csstransforms3d,v=c.prefixed("transform"))),this.scrollTop=o.scrollTop+l.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[(0,f.subscribe)("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),(0,f.subscribe)("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),(0,f.subscribe)("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(e,t){y&&this.props.enableTransforms&&this.state.activated?e[v]="translate3d(0,"+Math.round(t)+"px,0)":e.top=t+"px"}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.shouldFreeze()||(0,g.default)(this.props,e)&&(0,g.default)(this.state,t))}},{key:"render",value:function(){var e,t=this,n={position:2===this.state.status?"fixed":"relative",top:2===this.state.status?"0px":"",zIndex:this.props.innerZ},a={};this.translate(n,this.state.pos),0!==this.state.status&&(n.width=this.state.width+"px",a.height=this.state.height+"px");var r=(0,m.default)("sticky-outer-wrapper",this.props.className,(i(e={},this.props.activeClass,2===this.state.status),i(e,this.props.releasedClass,1===this.state.status),e)),s=this.props.children;return p.default.createElement("div",{ref:function(e){t.outerElement=e},className:r,style:a},p.default.createElement("div",{ref:function(e){t.innerElement=e},className:"sticky-inner-wrapper",style:n},"function"==typeof s?s({status:this.state.status}):s))}}]),t}(d.Component);C.displayName="Sticky",C.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null},C.propTypes={enabled:h.default.bool,top:h.default.oneOfType([h.default.string,h.default.number]),bottomBoundary:h.default.oneOfType([h.default.object,h.default.string,h.default.number]),enableTransforms:h.default.bool,activeClass:h.default.string,releasedClass:h.default.string,onStateChange:h.default.func,shouldFreeze:h.default.func,innerZ:h.default.oneOfType([h.default.string,h.default.number])},C.STATUS_ORIGINAL=0,C.STATUS_RELEASED=1,C.STATUS_FIXED=2,e.exports=C},function(e,t,n){(function(){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function a(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,a,i,s){if("function"!=typeof a)throw new TypeError("The listener must be a function");var o=new r(a,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,a,r=[];if(0===this._eventsCount)return r;for(a in e=this._events)t.call(e,a)&&r.push(n?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=n?n+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var r=0,i=a.length,s=new Array(i);r<i;r++)s[r]=a[r].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,r,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,a),!0;case 4:return u.fn.call(u.context,t,a,r),!0;case 5:return u.fn.call(u.context,t,a,r,i),!0;case 6:return u.fn.call(u.context,t,a,r,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,a);break;case 4:u[c].fn.call(u[c].context,t,a,r);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,a,r){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||a&&o.context!==a||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||r&&!o[l].once||a&&o[l].context!==a)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}).call(window)},function(e,t){e.exports=function(e,t,n,a){var r=n?n.call(a,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!o(c))return!1;var u=e[c],d=t[c];if(!1===(r=n?n.call(a,u,d,c):void 0)||void 0===r&&u!==d)return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return"dxp-breadcrumbs-container-view-".concat(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={INBOUND:"inbound",OUTBOUND:"outbound"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(36),r=n.n(a),i=n(84),s=n(101),o=n(14),l=n(10),c=n(1363),u=function(e){var t=e&&e.get("productTypes");return t&&t.every((function(e){return e===l.H}))};function d(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=Object(s.a)(n);if(d!==i.a.MTO)return e.getIn(["flows",d]);var p=r()(n.split("/"));return p!==o.a.ANCILLARIES&&(p===o.a.SEAT_SELECTION||a===c.a.ADD_MODIFY_SEATS||u(t)&&!l)?e.getIn(["flows",d,"seats"]):e.getIn(["flows",d,"ancillaries"])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),E=n.n(b),C=n(25),k=n(1714),S=n(326),_=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"shouldComponentUpdate",(function(e){return Object(C.f)()||Object(k.b)({left:n.props,right:e,keys:["defaultValue","placeholder","label","className","noResultsText","index"]})||Object(k.a)({left:n.props,right:e,keys:["options","validators"]})})),n}return f()(t,e),s()(t,[{key:"onChange",value:function(e){return this.props.onChange&&this.props.onChange(e)}},{key:"getValue",value:function(){return this.fieldAutoComplete.getValue()}},{key:"focus",value:function(){return this.fieldAutoComplete.focus()}},{key:"isValid",value:function(){return this.fieldAutoComplete.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.label,r=t.options,i=t.placeholder,s=t.noResultsText,o=t.validators,l=t.defaultValue,c=t.index,u=t.id;return y.a.createElement("div",{className:E()(n,"airport-selection","airport-fields"),id:u},y.a.createElement(S.a,{ref:function(t){e.fieldAutoComplete=t},label:a,keyProp:"".concat(this.props.keyProp).concat(c),options:r,placeholder:i,noResultsText:s,onChange:function(t){return e.onChange(t)},validators:o,useLabelFeedback:!0,defaultValue:l,className:n,index:c}))}}]),t}(v.Component);g()(_,"defaultProps",{validators:[],options:[],className:void 0,defaultValue:"",index:"",placeholder:void 0,noResultsText:void 0,label:void 0,onChange:void 0,id:void 0})},function(e,t,n){"use strict";function a(e,t){if(t)for(var n=Object.keys(t),a=0,r=n.length;a<r;a++)e[n[a]]=t[n[a]];return e}function r(e){return a({},e)}var i=/^\d$/,s=/^[A-Za-z]$/,o=/^[\dA-Za-z]$/,l={"*":{validate:function(e){return o.test(e)}},1:{validate:function(e){return i.test(e)}},a:{validate:function(e){return s.test(e)}},A:{validate:function(e){return s.test(e)},transform:function(e){return e.toUpperCase()}},"#":{validate:function(e){return o.test(e)},transform:function(e){return e.toUpperCase()}}};function c(e,t,n,a){if(!(this instanceof c))return new c(e,t,n);this.placeholderChar=n||"_",this.formatCharacters=t||l,this.source=e,this.pattern=[],this.length=0,this.firstEditableIndex=null,this.lastEditableIndex=null,this._editableIndices={},this.isRevealingMask=a||!1,this._parse()}function u(e){if(!(this instanceof u))return new u(e);if(null==(e=a({formatCharacters:null,pattern:null,isRevealingMask:!1,placeholderChar:"_",selection:{start:0,end:0},value:""},e)).pattern)throw new Error("InputMask: you must provide a pattern.");if("string"!=typeof e.placeholderChar||e.placeholderChar.length>1)throw new Error("InputMask: placeholderChar should be a single character or an empty string.");this.placeholderChar=e.placeholderChar,this.formatCharacters=function(e){var t=r(l);if(e)for(var n=Object.keys(e),a=0,i=n.length;a<i;a++){var s=n[a];null==e[s]?delete t[s]:t[s]=e[s]}return t}(e.formatCharacters),this.setPattern(e.pattern,{value:e.value,selection:e.selection,isRevealingMask:e.isRevealingMask})}c.prototype._parse=function(){for(var e=this.source.split(""),t=0,n=[],a=0,r=e.length;a<r;a++){var i=e[a];if("\\"===i){if(a===r-1)throw new Error("InputMask: pattern ends with a raw \\");i=e[++a]}else i in this.formatCharacters&&(null===this.firstEditableIndex&&(this.firstEditableIndex=t),this.lastEditableIndex=t,this._editableIndices[t]=!0);n.push(i),t++}if(null===this.firstEditableIndex)throw new Error('InputMask: pattern "'+this.source+'" does not contain any editable characters.');this.pattern=n,this.length=n.length},c.prototype.formatValue=function(e){for(var t=new Array(this.length),n=0,a=0,r=this.length;a<r;a++)if(this.isEditableIndex(a)){if(this.isRevealingMask&&e.length<=n&&!this.isValidAtIndex(e[n],a))break;t[a]=e.length>n&&this.isValidAtIndex(e[n],a)?this.transform(e[n],a):this.placeholderChar,n++}else t[a]=this.pattern[a],e.length>n&&e[n]===this.pattern[a]&&n++;return t},c.prototype.isEditableIndex=function(e){return!!this._editableIndices[e]},c.prototype.isValidAtIndex=function(e,t){return this.formatCharacters[this.pattern[t]].validate(e)},c.prototype.transform=function(e,t){var n=this.formatCharacters[this.pattern[t]];return"function"==typeof n.transform?n.transform(e):e},u.prototype.input=function(e){if(this.selection.start===this.selection.end&&this.selection.start===this.pattern.length)return!1;var t=r(this.selection),n=this.getValue(),a=this.selection.start;if(a<this.pattern.firstEditableIndex&&(a=this.pattern.firstEditableIndex),this.pattern.isEditableIndex(a)){if(!this.pattern.isValidAtIndex(e,a))return!1;this.value[a]=this.pattern.transform(e,a)}for(var i=this.selection.end-1;i>a;)this.pattern.isEditableIndex(i)&&(this.value[i]=this.placeholderChar),i--;for(this.selection.start=this.selection.end=a+1;this.pattern.length>this.selection.start&&!this.pattern.isEditableIndex(this.selection.start);)this.selection.start++,this.selection.end++;return null!=this._historyIndex&&(this._history.splice(this._historyIndex,this._history.length-this._historyIndex),this._historyIndex=null),("input"!==this._lastOp||t.start!==t.end||null!==this._lastSelection&&t.start!==this._lastSelection.start)&&this._history.push({value:n,selection:t,lastOp:this._lastOp}),this._lastOp="input",this._lastSelection=r(this.selection),!0},u.prototype.backspace=function(){if(0===this.selection.start&&0===this.selection.end)return!1;var e=r(this.selection),t=this.getValue();if(this.selection.start===this.selection.end)this.pattern.isEditableIndex(this.selection.start-1)&&(this.value[this.selection.start-1]=this.placeholderChar),this.selection.start--,this.selection.end--;else{for(var n=this.selection.end-1;n>=this.selection.start;)this.pattern.isEditableIndex(n)&&(this.value[n]=this.placeholderChar),n--;this.selection.end=this.selection.start}return null!=this._historyIndex&&this._history.splice(this._historyIndex,this._history.length-this._historyIndex),("backspace"!==this._lastOp||e.start!==e.end||null!==this._lastSelection&&e.start!==this._lastSelection.start)&&this._history.push({value:t,selection:e,lastOp:this._lastOp}),this._lastOp="backspace",this._lastSelection=r(this.selection),!0},u.prototype.paste=function(e){var t={value:this.value.slice(),selection:r(this.selection),_lastOp:this._lastOp,_history:this._history.slice(),_historyIndex:this._historyIndex,_lastSelection:r(this._lastSelection)};if(this.selection.start<this.pattern.firstEditableIndex){for(var n=0,i=this.pattern.firstEditableIndex-this.selection.start;n<i;n++)if(e.charAt(n)!==this.pattern.pattern[n])return!1;e=e.substring(this.pattern.firstEditableIndex-this.selection.start),this.selection.start=this.pattern.firstEditableIndex}for(n=0,i=e.length;n<i&&this.selection.start<=this.pattern.lastEditableIndex;n++){if(!this.input(e.charAt(n))){if(this.selection.start>0){var s=this.selection.start-1;if(!this.pattern.isEditableIndex(s)&&e.charAt(n)===this.pattern.pattern[s])continue}return a(this,t),!1}}return!0},u.prototype.undo=function(){if(0===this._history.length||0===this._historyIndex)return!1;var e;if(null==this._historyIndex){this._historyIndex=this._history.length-1,e=this._history[this._historyIndex];var t=this.getValue();e.value===t&&e.selection.start===this.selection.start&&e.selection.end===this.selection.end||this._history.push({value:t,selection:r(this.selection),lastOp:this._lastOp,startUndo:!0})}else e=this._history[--this._historyIndex];return this.value=e.value.split(""),this.selection=e.selection,this._lastOp=e.lastOp,!0},u.prototype.redo=function(){if(0===this._history.length||null==this._historyIndex)return!1;var e=this._history[++this._historyIndex];return this._historyIndex===this._history.length-1&&(this._historyIndex=null,e.startUndo&&this._history.pop()),this.value=e.value.split(""),this.selection=e.selection,this._lastOp=e.lastOp,!0},u.prototype.setPattern=function(e,t){t=a({selection:{start:0,end:0},value:""},t),this.pattern=new c(e,this.formatCharacters,this.placeholderChar,t.isRevealingMask),this.setValue(t.value),this.emptyValue=this.pattern.formatValue([]).join(""),this.selection=t.selection,this._resetHistory()},u.prototype.setSelection=function(e){if(this.selection=r(e),this.selection.start===this.selection.end){if(this.selection.start<this.pattern.firstEditableIndex)return this.selection.start=this.selection.end=this.pattern.firstEditableIndex,!0;for(var t=this.selection.start;t>=this.pattern.firstEditableIndex;){if(this.pattern.isEditableIndex(t-1)&&this.value[t-1]!==this.placeholderChar||t===this.pattern.firstEditableIndex){this.selection.start=this.selection.end=t;break}t--}return!0}return!1},u.prototype.setValue=function(e){null==e&&(e=""),this.value=this.pattern.formatValue(e.split(""))},u.prototype.getValue=function(){return this.value.join("")},u.prototype.getRawValue=function(){for(var e=[],t=0;t<this.value.length;t++)!0===this.pattern._editableIndices[t]&&e.push(this.value[t]);return e.join("")},u.prototype._resetHistory=function(){this._history=[],this._historyIndex=null,this._lastOp=null,this._lastSelection=r(this.selection)},u.Pattern=c,e.exports=u},,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return h}));var a="dxp-ancillaries-view",r="dxp-exchange-ancillaries-view",i="dxp-mto-ancillaries-view",s="dxp-ancillaries",o="featured-ancillaries-list",l="tile-ancillaries-list",c=function(e){return"ancillary-".concat(e)},u="car-feature-price-summary",d="car-feature",p="car-feature-price",h="proceed-to-cars-page"},function(e,t){e.exports={}},function(e,t,n){var a=n(1457),r=n(1459),i=n(1458),s=n(23),o=n(126),l=n(1953),c=Object.prototype.hasOwnProperty;function u(e){if(o(e)&&!s(e)&&!(e instanceof a)){if(e instanceof r)return e;if(c.call(e,"__wrapped__"))return l(e)}return new r(e)}u.prototype=i.prototype,u.prototype.constructor=u,e.exports=u},function(e,t,n){var a=n(1457),r=n(1459),i=n(444);e.exports=function(e){if(e instanceof a)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(9);function r(){var e="".concat(Object(a.l)("profile"),"/mytrips");return Object(a.g)(e,a.b,{ignoreExecKey:!0}).then((function(e){return e}))}},,function(e,t,n){"use strict";var a=n(215),r=n.n(a),i=n(8),s=n.n(i),o=n(0),l=n.n(o),c=n(81),u=n(1893),d=n(1585),p=n(1895),h=n(1896),f=n(1357),m=n(1417);t.a=function(e){var t=e.parameters,n=e.packageName,a=void 0===n?m.a:n;return function(e){e({type:f.LOOKUP_RQ,payload:{parameters:t}});var n=Object(c.a)(a),i=n.boardingPassFormat,o=n.recordLocatorFormat,m=n.passengerEligibilitesPreventingTimaticCall,g=l()(t,"recordLocator");g&&s()(t,"recordLocator",r()(g));var v=Object(u.a)({isCorporatePnrLookup:!1,boardingPassFormat:i,parameters:t,recordLocatorFormat:o});return Object(d.a)({request:v,packageName:a,dispatch:e,passengerEligibilitesPreventingTimaticCall:m}).then((function(t){var n=t.error,a=t.reservation,r=t.results,i=t.rawReservation,s=t.warningNameIndices;if(n||(void 0===s?[]:s).length>0)return Object(h.a)({dispatch:e,returnedCode:500,errorCode:l()(n,"errorCode"),timeToOpen:l()(n,"timeToOpen")});var o=l()(a,"passengers.passenger"),c=Object(p.a)({passengers:o,allPassengersSelectedByDefault:!0});return Object(h.a)({dispatch:e,returnedCode:200,recordLocator:g,pnr:a,rawReservation:i,results:r,selectedPassengerIds:c})})).catch((function(t){var n=t.errorCode;return Object(h.a)({dispatch:e,errorCode:n,returnedCode:500})}))}}},function(e,t,n){var a=n(1459),r=n(556),i=n(1572),s=n(1594),o=n(23),l=n(1920);e.exports=function(e){return r((function(t){var n=t.length,r=n,c=a.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new TypeError("Expected a function");if(c&&!d&&"wrapper"==s(u))var d=new a([],!0)}for(r=d?r:n;++r<n;){u=t[r];var p=s(u),h="wrapper"==p?i(u):void 0;d=h&&l(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?d[s(h[0])].apply(d,h[3]):1==u.length&&l(u)?d[p]():d.thru(u)}return function(){var e=arguments,a=e[0];if(d&&1==e.length&&o(a))return d.plant(a).value();for(var r=0,i=n?t[r].apply(this,e):a;++r<n;)i=t[r].call(this,i);return i}}))}},function(e,t,n){"use strict";(function(e){var a=n(1959),r=n(1596),i=n(81),s=n(196),o=n(182),l=n(0),c=n.n(l),u=n(526);t.a=function(t){var n=t.locale,l=Object(i.a)(u.a).intlPolyfillMap,d=c()(l,n,n),p=Object(s.a)("vendors/intl/locales/".concat(d,".js"));if(!e.Intl){var h="true"===Object(o.a)("isDevelopment"),f=Object(s.a)("vendors/intl/Intl.".concat(h?"":"min.","js"));return Object(r.a)(f).then((function(){return Object(r.a)(p)}))}return Object(a.a)([n])?Promise.resolve():Object(r.a)(p)}}).call(this,n(41))},function(e,t,n){"use strict";function a(e,t){if("undefined"==typeof Intl)return!1;if(!e)throw new Error("locales must be supplied.");Array.isArray(e)||(e=[e]),t||(t=[Intl.DateTimeFormat,Intl.NumberFormat,Intl.PluralRules]);var n=t.filter(Boolean);return 0!==n.length&&n.every((function(t){return t.supportedLocalesOf(e).length===e.length}))}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";(function(e){t.a=function(t,n){var a=n||e;a.loadedScripts=a.loadedScripts||{};var r=a.loadedScripts;return r[t]?r[t].success?Promise.resolve(r[t].result):Promise.reject(r[t].result):new Promise((function(n,a){var r=e.document.createElement("script");return r.src=t,r.addEventListener("load",n),r.addEventListener("error",a),e.document.body.appendChild(r),r})).then((function(e){return r[t]={success:!0,result:e},e})).catch((function(e){throw r[t]={success:!1,result:e},e}))}}).call(this,n(41))},function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a);t.a=function(){return r()(e,"navigator.languages[0]")||r()(e,"navigator.language")}}).call(this,n(41))},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(16),r=n.n(a),i=n(1942),s=n.n(i),o=!1;if("undefined"!=typeof window)try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,l)}catch(e){}var c=o,u={connections:{},EE:new s.a,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:c},d=u.supportPassiveEvent,p={capture:!1,passive:!1};var h=function(e,t,n,a){var i="addEventListener",s="removeEventListener",o=t,l=!!d&&r()({},p,a);return!e.addEventListener&&e.attachEvent&&(i="attachEvent",s="detachEvent",o="on"+t),e[i](o,n,l),{remove:function(){e[s](t,n)}}},f=!1;if("undefined"!=typeof navigator){var m=navigator.userAgent.match(/MSIE (\d+\.\d+)/);m&&(f=parseFloat(m[1],10)<9)}var g=f,v=n(92),y=n.n(v),b=n(1385),E=n.n(b),C=n(122),k=n.n(C),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var O={width:0,height:0},w={delta:0,top:0},P={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},A=function(e){var t={x:0,y:0},n=document.body,a=document.documentElement;return e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+n.scrollLeft+a.scrollLeft,t.y=e.clientY+n.scrollTop+a.scrollTop),t},x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,e);var n=(t.mainType||"").toLowerCase(),a=(t.subType||"").toLowerCase();this.mainType=n,this.subType=a,this.type=n+a.charAt(0).toUpperCase()+a.slice(1)||"",this.scroll=w,this.resize=O,this.touch=P}return S(e,[{key:"update",value:function(e){var t=this.mainType,n=this.subType,a=document.documentElement;if(u.enableScrollInfo&&("scroll"===t||"touchmove"===t)){var r=a.scrollTop+document.body.scrollTop;r!==this.scroll.top&&(this.scroll.delta=r-this.scroll.top,this.scroll.top=r)}if(u.enableResizeInfo&&"resize"===t&&(this.resize.width=window.innerWidth||a.clientWidth,this.resize.height=window.innerHeight||a.clientHeight),u.enableTouchInfo&&e.touches&&("touchstart"===t||"touchmove"===t||"touchend"===t)){var i=void 0,s=void 0,o=void 0;"touchstart"===t||"start"===n?(i=A(e.touches[0]),this.touch.axisIntention="",this.touch.startX=i.x,this.touch.startY=i.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===t&&(i=A(e.touches[0]),this.touch.deltaX=i.x-this.touch.startX,this.touch.deltaY=i.y-this.touch.startY,""===this.touch.axisIntention&&(s=Math.abs(this.touch.deltaX),o=Math.abs(this.touch.deltaY),s>5&&s>=o?this.touch.axisIntention="x":o>5&&o>s&&(this.touch.axisIntention="y")))}}}]),e}(),N=n(1691),T=n.n(N),I=Date.now||function(){return(new Date).getTime()};var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=void 0,a=void 0,r=0,i=0,s=function s(){var o=I();t-(o-r)<=0?(r=o,i=0,e.apply(n,a)):i=T()(s)};return function(){n=this,a=arguments,i||(i=T()(s))}},L=u.connections,D=u.EE,j=u.listeners,F=u.removers,M=void 0,R=void 0,V=void 0,H=0;function U(e){return e.id||"target-id-"+H++}function W(e,t,n,a){return D.on(e,t||k.a,n),L[a=a||e]=(L[a]||0)+1,{_type:e,_cb:t,_ctx:n,unsubscribe:function(){if(this._type){D.removeListener(e,t,n),L[a]--,0===L[a]&&(j[a].remove(),j[a]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var r=F.length-1;r>=0;r--){if(F[r]===this){F.splice(r,1);break}}}}}}function q(e,t,n){return function(a,r,i,s){var o=i.context,l=i.target,c=l&&U(l),u=c?":"+c:"",d=t+"Start:"+a+u,p=t+"End:"+a+u,f=t+":"+a+u,m=W(n+":"+a+u,r,o,f);if(F.push(m),j[f])return m;var v={start:new x({mainType:t,subType:"start"}),main:new x({mainType:t}),end:new x({mainType:t,subType:"end"})};"raf"===a?(a=16,k=B(k)):a>0&&(k=E()(k,a));var b=void 0;function C(e){v.end.update(e),D.emit(p,e,v.end),b=null}function k(e){b||(v.start.update(e),D.emit(d,e,v.start)),clearTimeout(b),v.main.update(e),D.emit(f,e,v.main),b=g?setTimeout((function(){C(y()(e))}),a+100):setTimeout(C.bind(null,e),a+100)}return j[f]=h(l||e,t,k,s),m}}function z(e,t){return function(n,a,r,i){var s=r.context,o=r.target,l=o&&U(o),c=t+":0"+(l?":"+l:""),u=W(c,a,s);if(F.push(u),j[c])return u;var d=new x({mainType:t});return j[c]=h(o||e,t,(function(e){d.update(e),D.emit(c,e,d)}),i),u}}"undefined"!=typeof window&&(V=(M=(R=window).document||document).body);var G={scrollStart:q(R,"scroll","scrollStart"),scrollEnd:q(R,"scroll","scrollEnd"),scroll:q(R,"scroll","scroll"),resizeStart:q(R,"resize","resizeStart"),resizeEnd:q(R,"resize","resizeEnd"),resize:q(R,"resize","resize"),visibilitychange:z(M,"visibilitychange"),touchmoveStart:q(V,"touchmove","touchmoveStart"),touchmoveEnd:q(V,"touchmove","touchmoveEnd"),touchmove:q(V,"touchmove","touchmove"),touchstart:z(V,"touchstart"),touchend:z(V,"touchend")};var K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.useRAF||!1,r=parseInt(n.throttleRate,10),i=n.eventOptions;return isNaN(r)&&(r=50),a&&(r="raf"),g&&(r=0),u.enableScrollInfo=u.enableScrollInfo||n.enableScrollInfo||!1,u.enableResizeInfo=u.enableResizeInfo||n.enableResizeInfo||!1,u.enableTouchInfo=u.enableTouchInfo||n.enableTouchInfo||!1,G[e](r,t,n,i)},Y=u.removers;var Q=function(e,t){for(var n=void 0,a=Y.length-1;a>=0;a-=1)(n=Y[a])._cb===t&&n._type.indexOf(e)>=0&&(n.unsubscribe(),Y.splice(a,1))};n.d(t,"listen",(function(){return Z})),n.d(t,"subscribe",(function(){return $})),n.d(t,"unsubscribe",(function(){return ee}));var X="undefined"!=typeof window;function J(){0}var Z=X?h:J,$=X?K:J,ee=X?Q:J},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(1),E=n.n(b),C=n(39),k=n.n(C),S=(n(6),n(1537)),_=n(1385),O=n.n(_),w=n(16),P=n.n(w),A=n(2),x=n.n(A),N=n(18),T=n.n(N),I=n(5),B=n.n(I),L=n(36),D=n.n(L),j=n(286),F=n.n(j),M=n(52),R=n.n(M),V=(n(194),n(11)),H=n(123),U=n(174),W=n(195),q=n(1286),z=n(50),G=n(12),K=n(1565),Y=n.n(K),Q=n(105),X=n.n(Q),J=n(35),Z=n.n(J),$=n(1564),ee=n.n($),te=n(0),ne=n.n(te),ae=n(27),re=n.n(ae),ie=n(17),se=n.n(ie),oe=n(85);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e,t){var n=ne()(e,"itineraryParts[0].date");return ne()(e,"itineraryParts[1].date")||se()(n).add(t,"days")},de=n(527),pe=n(544),he=n(68),fe=n(146),me=n(2151),ge=n(2149),ve=n(84),ye=n(24),be=n(14),Ee=n(46),Ce=n(1524),ke=n(1525),Se=n(1305),_e=n(1320),Oe=n(1360),we=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){var e=n.props.breadcrumbConfiguration.getIn(["flowIcons","home"]);return E.a.createElement(z.c,{name:e})})),g()(p()(n),"getCrumbTitle",(function(e){return E.a.createElement(Oe.a,{pageName:be.a.HOME,flowName:ve.a.B2C,hideTitle:e})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(G.i)("summaryBar.flowCrumbs.".concat(be.a.HOME,".").concat(Se.a.HOVER));return E.a.createElement(_e.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return E.a.createElement(q.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(!0),subTitle:this.getCrumbTitle(!1),icon:this.getCrumbIcon(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onHomeCrumbClick(e.props.url)},className:"dxp-home-breadcrumb-item"})}}]),t}(b.Component),Pe=n(2031),Ae=n(1934),xe=n(1588),Ne=n(1732),Te=n(1535),Ie=n(82),Be=n.n(Ie),Le=n(42),De=n(214),je=n(2008),Fe=n(327),Me=n(328),Re=n(1560),Ve=n(1526),He=n(58),Ue=n.n(He),We=function(e){return e.seatSelection.get("selectedSeats",Object(V.List)())},qe=function(e){return e.seatSelection.get("uniquePassengers",Object(V.List)())},ze=function(e){return e.seatSelection.get("seatSelectionSkipped")},Ge=Object(Le.a)((function(e){return e.shoppingCart.get("data").get("segments",Object(V.List)())}),(function(e){return Ue()(e.valueSeq().toArray().map((function(e){return e.segments}))).length})),Ke=function(e){return e.metadata.get("seatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},Ye=n(2014),Qe=n(1482),Xe=n(1567),Je=function(e){return e.metadata.get("breadcrumbs")},Ze=function(e){return e.flightSelection.get("isSearchingForFlights")},$e=function(e){return e.flightSelection.get("isSelectingFlights")},et=function(e){return e.metadata},tt=function(e){return e.shoppingCart.get("isLoading")},nt=function(e){return e.shoppingCart.getIn(["data","products"])},at=Object(Le.a)((function(e,t){return ne()(t,"location.query",{})}),(function(e){return"true"===e.awardBooking})),rt=function(e){return e.metadata.get("flows")},it=function(e){return!e.ancillaries.get("ancillariesAvailable",!1)},st=Object(Le.a)(Object(De.a)(),(function(e){return e})),ot=Object(Le.a)(et,U.a,U.b,(function(e,t,n){return e.getIn(["summaryBar","showNewItinerarySearchWarning",t,n])})),lt=Object(Le.a)(Object(De.a)(),Object(je.a)(),Je,Ve.a,(function(e){return e.metadata.getIn(["flightSelectionConfiguration","priceJump","displayType"])}),(function(e){return e.session.get("user")}),(function(e,t,n,a,r,i){var s=n.getIn(["displayRunningFlightSelectionTotal","isEnabled"]),o=n.getIn(["displayRunningFlightSelectionTotal","displayRevenueFarePerPax"]),l=n.getIn(["displayRunningFlightSelectionTotal","displayRedemptionFarePerPax"]),c=ne()(t,"selectedFlights"),u=ne()(t,"selectedBrands");return s&&Be()(a)&&c.size>0?Object(Qe.c)(c,u,e,r,o,l,i):a})),ct=n(2154),ut=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,be.a.HOME,(function(e,t,n){return a.renderHomeBreadcrumbItem(e,t,n)})),g()(n,be.a.FLIGHT_SELECTION,(function(e,t,n){return a.renderFlightSelectionBreadcrumbItem(e,t,n)})),g()(n,be.a.PASSENGERS,(function(e,t,n){return a.renderPassengersBreadcrumbItem(e,t,n)})),g()(n,be.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,be.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,be.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{isEditPanelOpen:!1,isNewSearchCriteriaAlertOpen:!1,journeyTypeChanged:!1,currentSearchCriteria:a.props.searchCriteriaQueryParams,newSearchCriteria:void 0,showCondensed:void 0}),g()(p()(a),"onNewItinerarySearchModalClose",(function(){a.setState({isNewSearchCriteriaAlertOpen:!1})})),g()(p()(a),"getActiveStep",(function(e){var t=e.b2cFlowConfiguration,n=e.lastPath,r=e.seatsOnExtrasPage;return a.isCurrentPageSubflowOfAncillaries(n,r)?be.a.ANCILLARIES:t.keySeq().includes(n)?n:ye.a.B2C})),g()(p()(a),"getActualSteps",(function(e,t){for(var n=[],a=e.size,r=e.get("start");r&&n.length<a&&!Object(Ce.d)(e,r);)n.push(r),r=e.get(r);return t?F()(n,be.a.DATE_SELECTION,be.a.MATRIX):F()(n,be.a.DATE_SELECTION,be.a.MATRIX,be.a.HOME)})),g()(p()(a),"getTripEditIcon",(function(){var e=a.props.breadcrumbConfiguration.getIn(["flowIcons","edit-trip"]);return E.a.createElement(z.c,{name:e})})),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleHomeBreadcrumbClick",(function(e){var t=a.props.breadcrumbConfiguration.get("homeBreadcrumbRedirectionURL");t?window.location.href=t:a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleItineraryEdit",(function(e){a.props.setCartDefault(),a.handleNewSearchCriteria(e)})),g()(p()(a),"handleNewItinerarySearch",(function(){a.props.setRecentSearches(T()(a.state.currentSearchCriteria,a.state.newSearchCriteria)),a.onNewItinerarySearchModalClose(),a.closeEditPanel(),a.props.summaryBarEditSearchRequest(),a.handleItineraryEdit(a.state.newSearchCriteria),a.props.clearFlightSelectionState()})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"handleTripEditButtonOpen",(function(){a.setState((function(e){return{isEditPanelOpen:!e.isEditPanelOpen}})),window.scrollTo(0,0)})),g()(p()(a),"isCurrentPageSubflowOfAncillaries",(function(e,t){var n=t&&t.get("isEnabled")&&e===be.a.SEAT_SELECTION;return e===be.a.CARS||e===be.a.HOTEL_DETAILS||e===be.a.HOTELS_SEARCH||n})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){return E.a.createElement(Ne.a,{searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ce.b)(be.a.ANCILLARIES,e,n,t),url:Object(Ce.c)(ye.a.B2C,be.a.ANCILLARIES),ancillaries:a.props.ancillaries,index:n,onAncillariesCrumbClick:a.handleCrumbClick,key:be.a.ANCILLARIES,isAncillariesAvailable:a.props.isAncillariesAvailable,seatAncillaries:a.props.seatAncillaries})})),g()(p()(a),"renderFlightSelectionBreadcrumbItem",(function(e,t,n){return E.a.createElement(Pe.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ce.b)(be.a.FLIGHT_SELECTION,e,n,t),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:n,url:Object(Ce.c)(ye.a.B2C,be.a.FLIGHT_SELECTION),onFlightSelectionCrumbClick:a.handleCrumbClick,key:be.a.FLIGHT_SELECTION})})),g()(p()(a),"renderHomeBreadcrumbItem",(function(e,t,n){return E.a.createElement(we,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ce.b)(be.a.HOME,e,n,t),index:n,url:Object(Ce.c)(ye.a.B2C,be.a.HOME),onHomeCrumbClick:a.handleHomeBreadcrumbClick,key:be.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPassengersBreadcrumbItem",(function(e,t,n){return E.a.createElement(Ae.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ce.b)(be.a.PASSENGERS,e,n,t),searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:n,url:Object(Ce.c)(ye.a.B2C,be.a.PASSENGERS),onPassengerCrumbClick:a.handleCrumbClick,key:be.a.PASSENGERS})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return E.a.createElement(Te.a,{searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ce.b)(be.a.PAYMENT,e,n,t),url:Object(Ce.c)(ye.a.B2C,be.a.PAYMENT),index:n,onPaymentCrumbClick:a.handleCrumbClick,key:be.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return E.a.createElement(xe.a,{searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(Ce.b)(be.a.SEAT_SELECTION,e,n,t),url:Object(Ce.c)(ye.a.B2C,be.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:n,onSeatSelectionCrumbClick:a.handleCrumbClick,key:be.a.SEAT_SELECTION})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=O()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"onEditPanelCancel",value:function(){this.setState({isEditPanelOpen:!1})}},{key:"onEditPanelSave",value:function(e,t){if(e.journeyType!==t.journeyType){var n=function(e,t){var n=X()(e,(function(e){return x()(e)&&!ee()(e)})),a=ce({},n,{journeyType:e.journeyType}),r=P()({},n,a),i=re()(r.itineraryParts);if(e.journeyType===oe.a.ONE_WAY){var s=ce({},r,{itineraryParts:[i]});return P()({},n,s)}if(e.journeyType===oe.a.ROUND_TRIP){var o=ce({},r,{itineraryParts:[i,{origin:ne()(r,"itineraryParts[1].origin")||ne()(i,"destination"),destination:ne()(r,"itineraryParts[1].destination")||ne()(i,"origin"),date:ue(r,t)}]});return P()({},n,o)}return r}(e,this.props.metadata.get("defaultReturnDateOffset"));this.updateNewSearchCriteriaInState(n)}this.updateCurrentSearchCriteriaInState(t),!Object(fe.a)(e,t)||this.state.journeyTypeChanged?(this.updateNewSearchCriteriaInState(e),this.isNewChangesConfirmationModalNeeded()?this.setState({isNewSearchCriteriaAlertOpen:!0}):(this.props.setRecentSearches(T()(t,e)),this.closeEditPanel(),this.props.summaryBarEditSearchRequest(),this.handleItineraryEdit(e)),this.setState({journeyTypeChanged:!1})):this.closeEditPanel()}},{key:"closeEditPanel",value:function(){this.setState({isEditPanelOpen:!1})}},{key:"handleNewSearchCriteria",value:function(e){var t=function(e,t){var n=re()(e.itineraryParts),a=ce({},e,{origin:ne()(n,"origin"),destination:ne()(n,"destination")});return Z()(P()({},t,a),"flightIds")}(e,this.props.searchCriteriaQueryParams),n=Object(fe.t)(t),a=P()({},n,{direction:0});this.props.updateURLQueryParameters("/".concat(be.a.FLIGHT_SELECTION),a)}},{key:"isNewChangesConfirmationModalNeeded",value:function(){return!!this.props.isShowItineraryChangesWarning&&!x()(this.props.products,Object(V.List)())}},{key:"updateCurrentSearchCriteriaInState",value:function(e){this.setState({currentSearchCriteria:e})}},{key:"updateNewSearchCriteriaInState",value:function(e){this.setState({newSearchCriteria:e})}},{key:"renderEditPanel",value:function(){var e=this;return E.a.createElement(me.a,null,E.a.createElement(ge.a,{onCancel:function(t){return e.onEditPanelCancel(t)},onSave:function(t){return e.onEditPanelSave(t,e.props.searchCriteriaQueryParams)},isRBEEnabled:this.props.isRBEEnabled,dateFormat:this.props.dateFormat,language:this.props.language,metadata:this.props.metadata,flowAndPage:Object(U.c)(this.props.currentFlow,this.props.currentPage),airlineCode:Object(Ee.b)().airlineCode,location:this.props.location}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=t.cartCollapsed,l=t.isSearchingForFlights,c=t.isSelectingFlights,u=t.metadata,d=t.isShoppingCartLoading,p=t.currentFlow,h=n.get(ve.a.B2C),f=D()(a.pathname.split("/")),m=this.getActiveStep({b2cFlowConfiguration:h,lastPath:f,seatsOnExtrasPage:u.getIn(["seatsOnExtrasPage",p])}),g=this.getActualSteps(h,r.get("displayHomeCrumb")),v=R()(g,m),y=Object(W.a)(s,"breadcrumbs"),b=g.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",C=k()("dxp-breadcrumbs",b);return E.a.createElement("div",y,E.a.createElement(Y.a,null,E.a.createElement(q.b,{stickyBottomBoundaryID:void 0,className:C,PACKAGE_NAME_CLASSIFIED:"app",onCartSummaryClick:i,showTripEditButton:!0,tripEditIcon:this.getTripEditIcon(),onTripEditButtonClick:this.handleTripEditButtonOpen,cartPrice:this.props.total,showCondensed:this.state.showCondensed&&!this.state.isEditPanelOpen,cartCollapsed:o,showPriceProcessing:c||l||d,dropDownLabel:Object(G.i)("summaryBar.mobileBreadcrumbDropdownLabel")},B()(g,(function(t){return e.flowsToBreadcrumbComponentMapper[t](m,g,v)}))),this.state.isNewSearchCriteriaAlertOpen&&E.a.createElement(ct.a,{closeModalDelegation:this.onNewItinerarySearchModalClose,handleNewItinerarySearch:this.handleNewItinerarySearch}),this.state.isEditPanelOpen&&this.renderEditPanel()))}}]),t}(b.PureComponent));g()(ut,"defaultProps",{seatAncillaries:void 0,seatsCrumbData:void 0,ancillaries:Object(V.List)(),onCartSummaryClick:y.a,setCartDefault:void 0,isShowItineraryChangesWarning:!1,products:Object(V.List)(),total:void 0,isAuthorable:!0,cartCollapsed:!0,isSearchingForFlights:!1,isSelectingFlights:!1,isShoppingCartLoading:!1});var dt=Object(H.b)((function(){return Object(Le.b)({isShoppingCartLoading:tt,searchCriteriaQueryParams:st,breadcrumbConfiguration:Je,tripParams:Object(Re.a)(),flowConfiguration:rt,seatsCrumbData:Object(Le.b)({selectedSeats:We,passengers:qe,passengersExcludedFromSeatSelection:Ke,flightsCount:Ge,seatSelectionSkipped:ze}),ancillaries:Ye.a,metadata:et,isRBEEnabled:at,language:Fe.a,dateFormat:Me.b,currentFlow:U.a,seatAncillaries:Xe.a,currentPage:U.b,products:nt,isShowItineraryChangesWarning:ot,total:lt,isAncillariesAvailable:it,isSearchingForFlights:Ze,isSelectingFlights:$e})}),{updateURLQueryParameters:ke.a,setRecentSearches:he.C,summaryBarEditSearchRequest:pe.l,clearFlightSelectionState:pe.e,setCartDefault:de.h})(ut);n.d(t,"a",(function(){return pt}));var pt=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return E.a.createElement(dt,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.children,o=e.id,l=e.onCartItemRemove,c=e.subtitle,u=k()(t,{"is-visible":this.state.isCartExpanded});return E.a.createElement(S.a,{className:u,location:n,title:a,subtitle:c,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,id:o,onCartItemRemove:l},s)}}]),t}(b.PureComponent);g()(pt,"defaultProps",{className:"",title:"",subtitle:void 0,id:"",authorableAttributes:{},isCartEnabled:!0,onCartItemRemove:y.a})},function(e,t,n){"use strict";var a=n(62),r=n.n(a),i=n(91),s=n.n(i),o=n(3),l=n.n(o),c=n(51),u=n.n(c),d=n(18),p=n.n(d),h=n(36),f=n.n(h),m=n(0),g=n.n(m),v=n(2),y=n.n(v),b=n(7),E=n(1956),C=n(1357),k=n(14),S=n(1363),_=n(1533),O=n(440),w=n(15),P=n.n(w),A=function(e){var t=e.response,n=g()(t,"tripOptions",[]),a=P()(n,{tripOption:S.a.CHECK_IN});return g()(a,"enabled",!1)},x=s()(r.a.mark((function e(){var t,a,i,s,o,l,c,u,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(14).then(n.bind(null,3370));case 2:return t=e.sent,e.next=5,Promise.all([n.e(0),n.e(5)]).then(n.bind(null,3369));case 5:return a=e.sent,e.next=8,Promise.all([n.e(0),n.e(5)]).then(n.bind(null,3356));case 8:return i=e.sent,e.next=11,Promise.all([n.e(0),n.e(5)]).then(n.bind(null,3302));case 11:return s=e.sent,e.next=14,n.e(19).then(n.bind(null,2631));case 14:return o=e.sent,e.next=17,n.e(15).then(n.bind(null,3361));case 17:return l=e.sent,e.next=20,n.e(25).then(n.bind(null,3355));case 20:return c=e.sent,e.next=23,n.e(20).then(n.bind(null,1927));case 23:return u=e.sent,e.next=26,n.e(18).then(n.bind(null,2632));case 26:return d=e.sent,e.next=29,n.e(11).then(n.bind(null,3368));case 29:return p=e.sent,e.abrupt("return",{emailAll:t.default,printAll:a.default,boardingPassOptions:s.default,passengerStatus:o.default,emailBoardingPass:l.default,print:i.default,viewBoardingPass:c.default,sessionTimeout:u.default,passengerMessages:d.default,confirmationMessages:p.default});case 31:case"end":return e.stop()}}),e)}))),N=n(2036),T=n(439),I=n(9),B=n(1990);function L(e){var t="".concat(Object(I.l)("cancelAndRefund"),"?").concat(Object(B.a)(e));return Object(I.g)(t.toString(),I.b).then((function(){var t="".concat(Object(I.l)("cancelAndRefundReview"),"?").concat(Object(B.a)(e));return Object(I.g)(t.toString(),I.b)}))}var D=n(1954),j=n(66),F=n(114);function M(e,t){return e.messages.map((function(e,n){return{title:e.code,type:"info"===e.level&&"cancelUpgradeConfirmationSuccess"===e.code?"success":e.level,origin:t[n].selectedTravelPart.origin,destination:t[n].selectedTravelPart.destination}}))}var R=n(144),V=n.n(R),H=n(5),U=n.n(H),W=n(11);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){return function(t,n){t({type:b.Hf});var a=n(),r={flightDetails:a.metadata.get("flightDetails"),ancillaryMap:a.metadata.get("ancillaryMap")};return Object(_.f)(e,r).then((function(e){return t({type:b.If,tripDetails:e})}))}}function G(e){var t=e.pnrLookupQuery,n=e.location,a=e.shouldRedirect,r=void 0===a||a,i=e.passengerLastName,s=void 0===i?"":i,o=e.ignoreCartUpdate,c=void 0!==o&&o,d=e.shouldSkipSilentLookup,h=void 0!==d&&d,f=t.pnr,m=void 0===f?"":f,v=t.firstName,S=void 0===v?"":v,w=t.lastName,P=void 0===w?s:w,x=t.email,N=void 0===x?"":x;return function(e,a){e({type:b.sf}),e({type:b.Ib}),e({type:b.fb});var i=a(),s=i.metadata.getIn(["shoppingCart","showGroupedTaxes"]),o=u()(i.metadata.getIn(["shoppingCart","paymentSurcharges"]),"toJS",[]),d=u()(i.metadata.getIn(["shoppingCart","excludeStandAloneAncillaries"]),"toJS",[]),f={flightDetails:i.metadata.get("flightDetails"),ancillaryMap:i.metadata.get("ancillaryMap")};return Object(_.d)(Object(F.b)({pnr:m,firstName:S,lastName:P,email:N}),f,!0,s,o,d).then((function(a){var s=i.metadata.get("isCheckInIntegrated",!1),o=A({response:a});if(e({type:b.tf,tripDetails:a,isLoading:s&&o&&!h}),e({type:b.Cc,tripDetails:a}),c||e({type:b.eb,results:a.cart}),e({type:b.fe,pnrInfo:a.pnrInfo}),!h&&s)if(o){var u=a.pnr;e(Object(E.a)({parameters:{recordLocator:u}}));var d=g()(n,"query",{});e(Object(j.c)(j.b,"/myb",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d,{recordLocator:u}))),e({type:b.nb,payload:{config:i.metadata.get("checkInConfiguration")}})}else e((function(e){return e({type:C.CLEAR_LOOKUP_STATE})}));if(r){var f=g()(n,"query",{}),m=p()(t,{locale:f.locale||Object(T.b)(),carReservation:!y()(a.carReservationSummary),hotelReservation:!y()(a.pnrInfo.hotelReservationSummary),recordLocator:s&&o?a.pnr:void 0});m=Object(F.b)(m),e(Object(O.c)(m,k.a.MYB))}})).catch((function(t){e({type:b.rf,error:t.response})}))}}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.pnr,a=void 0===n?"":n,r=e.firstName,i=void 0===r?"":r,s=e.lastName,o=void 0===s?t:s,l=e.email,c=void 0===l?"":l;return function(e){e({type:b.Ob}),Object(_.e)(Object(F.b)({pnr:a,firstName:i,lastName:o,email:c}))}}function Y(){return function(e){return e({type:b.uf}),Object(D.a)().then((function(t){e({type:b.vf,upcomingTrips:t})}))}}function Q(){return function(e){e({type:b.Rb})}}function X(e,t){return function(n){return n({type:b.lb,name:e.name}),(e.name===S.a.CANCEL_FLIGHT?L:N.a)(t).then((function(){Object(I.m)(),n({type:b.mb,option:e})})).catch((function(e){Object(I.m)(),n({type:b.kb,error:f()(g()(e,"response.errorCode","").split(".")),errorCode:e.response.errorCode})}))}}function J(e){return function(t){Object(I.m)(),t({type:b.A});var n=[{url:"".concat(Object(I.l)("cancelUpgrade"),"?").concat(Object(F.l)(e)),method:I.b,options:{saveExecutionKey:!0}},{url:Object(I.l)("cancelUpgradeOffers"),method:I.b,options:{onComplete:function(e){return t({type:b.B,segmentUpgradeInfos:(n=e,a=n.cancelUpgradeOffers,Object(W.List)(V()(a,(function(e){return U()(e.travelPartUpgradeOffers,(function(t){var n=t.travelPart,a=Object(W.List)(V()(t.passengerPrices,(function(e){return{upgradePrice:{alternatives:e.upgradeOfferPrice.totalPrice.alternatives}}})));return Object(W.Map)({code:e.code,origin:n.origin,destination:n.destination,departure:n.departure,type:n["@type"],status:t.status,segment:Object(W.Map)(n),passengerUpgradePrices:a,bookingClass:e.bookingClass})}))}))))});var n,a},saveExecutionKey:!0}}];return Object(I.h)(n).catch((function(){Object(I.m)(),t({type:b.z,messages:[{title:"unableToFetchOffers",type:"error"}]})}))}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:b.od,isUpgradeClicked:e})}}function $(){return function(e){return e({type:b.F})}}function ee(e){var t=e.selectedSegments;return function(e){e({type:b.D});var n=[{url:Object(I.l)("cancelUpgradeOffers"),method:I.c,options:{body:{cancelUpgradeOfferOperations:t},saveExecutionKey:!0}},{url:Object(I.l)("cancelUpgradeProducts"),method:I.b,options:{saveExecutionKey:!0}},{url:Object(I.l)("cancelUpgradeConfirm"),method:I.c,options:{onComplete:function(n){Object(I.m)();var a=n.pnr.reloc;e(G({pnrLookupQuery:{pnr:a},location:!0,shouldRedirect:!1})),e({type:b.E,messages:M(n,t)})},saveExecutionKey:!0}}];return Object(I.h)(n).catch((function(){Object(I.m)(),e({type:b.C,messages:[{title:"unableToCancelOffers",type:"error"}]})}))}}function te(){return function(){var e=s()(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:b.tc}),e.next=3,x();case 3:return n=e.sent,e.abrupt("return",t({type:b.uc,payload:n}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function ne(){return function(e){e(Object(j.c)(j.a,"/create-profile"))}}function ae(e){var t=e.pnr,n=e.origin,a=e.flightNumber,r=e.departureDateTime;return function(e){return e({type:b.Md}),function(e){var t=e.pnr,n=e.origin,a=e.flightNumber,r=e.departureDateTime,i=Object(F.l)({pnr:t}),s="".concat(Object(I.l)("offloadPassenger"),"?").concat(i),o={origin:n,flightNumber:a,departureDate:r};return Object(I.g)(s,I.c,{body:o})}({pnr:t,origin:n,flightNumber:a,departureDateTime:r}).then((function(t){e({type:b.Nd,response:t})})).catch((function(t){return e({type:b.Ld,errorCode:t.errorCode}),Promise.reject()}))}}n.d(t,"m",(function(){return z})),n.d(t,"h",(function(){return G})),n.d(t,"c",(function(){return K})),n.d(t,"i",(function(){return Y})),n.d(t,"d",(function(){return Q})),n.d(t,"b",(function(){return X})),n.d(t,"g",(function(){return J})),n.d(t,"j",(function(){return Z})),n.d(t,"l",(function(){return $})),n.d(t,"a",(function(){return ee})),n.d(t,"f",(function(){return te})),n.d(t,"e",(function(){return ne})),n.d(t,"k",(function(){return ae}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=n(39),E=n.n(b),C=(n(6),n(1537)),k=n(1385),S=n.n(k),_=n(122),O=n.n(_),w=n(5),P=n.n(w),A=n(36),x=n.n(A),N=n(52),T=n.n(N),I=(n(194),n(123)),B=n(11),L=n(1286),D=n(12),j=n(195),F=n(84),M=n(24),R=n(14),V=n(1524),H=n(1525),U=n(2031),W=n(1934),q=n(1588),z=n(1732),G=n(1535),K=n(1587),Y=n(1305),Q=n(1360),X=n(1320),J=n(1374),Z=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(J.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:R.a.SEARCH})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=Object(D.i)("summaryBar.flowCrumbs.".concat(R.a.SEARCH,".").concat(n.props.crumbState));return y.a.createElement(X.a,{crumbSubTitle:e})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(Q.a,{pageName:R.a.SEARCH,flowName:F.a.EXCHANGE})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(J.a,{crumbState:Y.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:R.a.SEARCH})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(D.i)("summaryBar.flowCrumbs.".concat(R.a.SEARCH,".").concat(Y.a.HOVER));return y.a.createElement(X.a,{crumbSubTitle:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(L.a,{index:this.props.index,state:this.props.crumbState,icon:this.getCrumbIcon(),title:this.getCrumbTitle(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubtitle(),hoverIcon:this.getHoverIcon(),onClick:function(){return e.props.onSearchCrumbClick(e.props.url)}})}}]),t}(v.Component),$=n(42),ee=n(214),te=n(1560),ne=n(1526),ae=n(58),re=n.n(ae),ie=function(e){return e.seatSelection.get("selectedSeats",Object(B.List)())},se=function(e){return e.seatSelection.get("uniquePassengers",Object(B.List)())},oe=function(e){return e.seatSelection.get("seatSelectionSkipped")},le=Object($.a)((function(e){return e.shoppingCart.get("data").get("segments",Object(B.List)())}),(function(e){return re()(e.valueSeq().toArray().map((function(e){return e.segments}))).length})),ce=function(e){return e.metadata.get("seatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},ue=function(e){var t=e.ancillaries.getIn(["cartData","result","ancillaries"],Object(B.Map)()),n=e.shoppingCart.getIn(["data","insurance"],Object(B.Map)()),a=n&&n.size?n.get("breakdownElements"):Object(B.List)();return(t&&t.size?t.get("breakdownElements",Object(B.List)()):Object(B.List)()).merge(a)},de=n(101),pe=n(1567),he=function(e){return e.metadata.get("breadcrumbs")},fe=function(e){return e.metadata.get("flows")},me=function(e,t){return e.metadata.getIn(["seatsOnExtrasPage",Object(de.a)(t.location.pathname),"isEnabled"],!1)},ge=Object($.a)(Object(ee.a)(),(function(e){return e})),ve=function(e){return!e.ancillaries.get("ancillariesAvailable",!1)},ye=(n(1568),n(1569),n(1570),n(1571),n(2311),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,R.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,R.a.EXCHANGE,(function(e,t,n){return a.renderExchangeBreadcrumbItem(e,t,n)})),g()(n,R.a.SEARCH,(function(e,t,n){return a.renderSearchBreadcrumbItem(e,t,n)})),g()(n,R.a.FLIGHT_SELECTION,(function(e,t,n){return a.renderFlightSelectionBreadcrumbItem(e,t,n)})),g()(n,R.a.PASSENGERS,(function(e,t,n){return a.renderPassengersBreadcrumbItem(e,t,n)})),g()(n,R.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,R.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,R.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){return y.a.createElement(z.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.ANCILLARIES,e,n,t),url:Object(V.c)(M.a.EXCHANGE,R.a.ANCILLARIES),ancillaries:a.props.ancillaries,index:T()(t,R.a.ANCILLARIES),onAncillariesCrumbClick:a.handleCrumbClick,key:R.a.ANCILLARIES,isAncillariesAvailable:a.props.isAncillariesAvailable,seatAncillaries:a.props.seatAncillaries})})),g()(p()(a),"renderExchangeBreadcrumbItem",(function(e,t,n){return y.a.createElement(U.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.EXCHANGE,e,n,t),url:Object(V.c)(M.a.EXCHANGE,R.a.EXCHANGE),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:T()(t,R.a.EXCHANGE),onFlightSelectionCrumbClick:a.handleCrumbClick,key:R.a.EXCHANGE,displayPnrFlightData:!0})})),g()(p()(a),"renderFlightSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(U.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.FLIGHT_SELECTION,e,n,t),url:Object(V.c)(M.a.EXCHANGE,R.a.FLIGHT_SELECTION),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:T()(t,R.a.FLIGHT_SELECTION),onFlightSelectionCrumbClick:a.handleCrumbClick,key:R.a.FLIGHT_SELECTION})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(K.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.HOME,e,n,t),index:n,url:Object(V.c)(R.a.MYB,R.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:R.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPassengersBreadcrumbItem",(function(e,t,n){return y.a.createElement(W.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.PASSENGERS,e,n,t),searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:T()(t,R.a.PASSENGERS),url:Object(V.c)(M.a.EXCHANGE,R.a.PASSENGERS),onPassengerCrumbClick:a.handleCrumbClick,key:R.a.PASSENGERS})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(G.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.PAYMENT,e,n,t),url:Object(V.c)(M.a.EXCHANGE,R.a.PAYMENT),index:T()(t,R.a.PAYMENT),onPaymentCrumbClick:a.handleCrumbClick,key:R.a.PAYMENT})})),g()(p()(a),"renderSearchBreadcrumbItem",(function(e,t,n){return y.a.createElement(Z,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.SEARCH,e,n,t),index:T()(t,R.a.SEARCH),url:Object(V.c)(M.a.EXCHANGE,R.a.SEARCH),onSearchCrumbClick:a.handleCrumbClick,key:R.a.SEARCH})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.SEAT_SELECTION,e,n,t),url:Object(V.c)(M.a.EXCHANGE,R.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:T()(t,R.a.SEAT_SELECTION),onSeatSelectionCrumbClick:a.handleCrumbClick,key:R.a.SEAT_SELECTION})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=S()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"getActiveStep",value:function(e){return this.props.isSeatsOnExtrasPageEnabled&&e===R.a.SEAT_SELECTION?R.a.ANCILLARIES:this.props.flowConfiguration.get(F.a.EXCHANGE).keySeq().includes(e)?e:M.a.B2C}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=n.get(F.a.EXCHANGE),l=x()(a.pathname.split("/")),c=this.getActiveStep(l),u=Object(V.a)(o,r.get("displayHomeCrumb")),d=T()(u,c),p=Object(j.a)(s,"breadcrumbs"),h=u.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",f=E()("dxp-breadcrumbs",h);return y.a.createElement("div",p,y.a.createElement(L.b,{stickyBottomBoundaryID:void 0,className:f,PACKAGE_NAME_CLASSIFIED:"app",onCartSummaryClick:i,cartPrice:this.props.total,showCondensed:this.state.showCondensed,dropDownLabel:Object(D.i)("summaryBar.mobileBreadcrumbDropdownLabel")},P()(u,(function(t){return e.flowsToBreadcrumbComponentMapper[t](c,u,d)}))))}}]),t}(v.PureComponent));g()(ye,"defaultProps",{seatAncillaries:void 0,seatsCrumbData:void 0,ancillaries:Object(B.List)(),onCartSummaryClick:O.a,total:void 0,isAuthorable:!0,cartCollapsed:!0,isSeatsOnExtrasPageEnabled:!1});var be=Object(I.b)((function(){return Object($.b)({searchCriteriaQueryParams:ge,breadcrumbConfiguration:he,tripParams:Object(te.a)(),flowConfiguration:fe,seatsCrumbData:Object($.b)({selectedSeats:ie,passengers:se,passengersExcludedFromSeatSelection:ce,flightsCount:le,seatSelectionSkipped:oe}),seatAncillaries:pe.a,ancillaries:ue,total:ne.a,isAncillariesAvailable:ve,isSeatsOnExtrasPageEnabled:me})}),{updateURLQueryParameters:H.a})(ye);n.d(t,"a",(function(){return Ee}));var Ee=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(be,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.params,o=e.children,l=e.id,c=E()(t,{"is-visible":this.state.isCartExpanded});return y.a.createElement(C.a,{className:c,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,params:s,id:l},o)}}]),t}(v.PureComponent);g()(Ee,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},params:{},isCartEnabled:!0})},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(39)),k=n.n(C),S=n(1334),_=n(12),O=n(244),w=n(1981),P=(n(2215),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onOpen",(function(e){n.closeIcon&&n.closeIcon.focus(),n.props.onOpen(e)})),g()(p()(n),"closePopover",(function(e){return(O.a.is(O.a.code.special.enter,e.which)||O.a.is(O.a.code.special.esc,e.which))&&n.sparkInstance.close()})),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.position,n=t.anchorX,a=t.anchorY,r=e.onClose,i=e.toggleEl;this.sparkInstance=new S.Popover(this.container,{anchorX:n,anchorY:a,onOpen:this.onOpen,onClose:r,toggleEl:i})}},{key:"componentWillUnmount",value:function(){this.sparkInstance.close(),this.sparkInstance=void 0}},{key:"onKeyPress",value:function(e){return e&&e.preventDefault(),(O.a.is(O.a.code.special.enter,e.which)||O.a.is(O.a.code.special.space,e.which))&&this.togglePopover()}},{key:"togglePopover",value:function(){this.sparkInstance.toggle()}},{key:"render",value:function(){var e=this,t=k()("spark-popover",this.props.className);return E.a.createElement("div",{ref:function(t){e.container=t},className:t},E.a.createElement("div",{className:"spark-popover-trigger"}," ",this.props.toggleEl," "),E.a.createElement("div",{className:k()("spark-popover__content",{"spark-popover-header":!this.props.includesHeader}),role:"tooltip"},this.props.showClose&&E.a.createElement("a",{ref:function(t){e.closeIcon=t},className:"spark-popover__close",onKeyDown:this.closePopover,role:"button",tabIndex:"0",title:Object(_.i)("app.close"),"aria-label":Object(_.i)("app.close")}),this.props.children,E.a.createElement("span",{className:"spark-popover__caret"})))}}]),t}(b.PureComponent));g()(P,"defaultProps",{position:w.a.BOTTOM,onOpen:y.a,onClose:y.a,showClose:!0,className:"",includesHeader:!1})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={LEFT:{anchorX:"left",anchorY:"middle"},RIGHT:{anchorX:"right",anchorY:"middle"},TOP:{anchorX:"center",anchorY:"top"},BOTTOM:{anchorX:"center",anchorY:"bottom"}}},function(e,t,n){"use strict";var a=n(1885);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(194),n(78)),s=n(39),o=n.n(s),l=n(12);function c(e){var t=e.rulesAndFeeData,n=e.className,a=o()("fare-rules-link",n),s=t.fareRules.get("isExternalLinkEnabled"),c=t.fareRules.get("link");return s?r.a.createElement(i.a,{className:a,href:c,target:"_blank",rel:"external",isExternalLink:!0},Object(l.a)("fareRules.title")):r.a.createElement(i.a,{className:o()(a,"link-underlined"),onClick:function(t){return n=t,a=e.onFareRulesClick,n.preventDefault(),a&&a(n);var n,a},tabIndex:"0"},Object(l.a)("fareRules.title"))}c.defaultProps={onFareRulesClick:void 0,className:void 0},t.a=c},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(194),n(78)),s=n(12);function o(e){var t=e.rulesAndFeeData,n=t.bagFee.get("isExternalLinkEnabled"),a=t.bagFee.get("link");return n?r.a.createElement(i.a,{href:a,target:"_blank",rel:"external",isExternalLink:!0,className:"bag-fee-link"},Object(s.a)("bagfee.title")):r.a.createElement(i.a,{className:"link-underlined bag-fee-link",onClick:function(t){return n=t,a=e.onBagFeeLinkClick,n.preventDefault(),a&&a(n);var n,a},tabIndex:"0"},Object(s.a)("bagfee.title"))}o.defaultProps={onBagFeeLinkClick:void 0},t.a=o},function(e,t,n){var a=n(554),r=n(779),i=n(104),s=n(23),o=n(766);e.exports=function(e,t){return(s(e)?a:r)(e,o(i(t,3)))}},,function(e,t,n){var a=n(285),r=n(761),i=Object.prototype.hasOwnProperty,s=r((function(e,t,n){i.call(e,n)?++e[n]:a(e,n,1)}));e.exports=s},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n.n(a);function i(e){return r()(e,(function(e,t,n){return"".concat(e).concat(n,"=").concat(t,"&")}),"")}},,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(22),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(82),E=n.n(b),C=n(15),k=n.n(C),S=n(2),_=n.n(S),O=n(591),w=n.n(O),P=n(61),A=n.n(P),x=n(13),N=n.n(x),T=n(0),I=n.n(T),B=n(27),L=n.n(B),D=(n(6),n(1)),j=n.n(D),F=n(39),M=n.n(F),R=n(17),V=n.n(R),H=n(12),U=n(50),W=n(2046),q=n(325),z=n(1249),G=n(59),K=(n(2366),function(e){function t(){return s()(this,t),l()(this,u()(t).apply(this,arguments))}return g()(t,e),f()(t,[{key:"onClickHandler",value:function(e){return this.props.onReturnSameDay&&this.props.onReturnSameDay(e)}},{key:"render",value:function(){var e=this,t=this.props.multicity,n=t?Object(H.a)("dateSelection.selectNextFlight"):Object(H.a)("dateSelection.selectReturnDateMessage"),a=t?Object(H.i)("dateSelection.flightSameDay"):Object(H.i)("dateSelection.returnSameDay");return this.props.direction===G.a.INBOUND&&!this.props.isFirstReturnDate||this.props.multicity?j.a.createElement("div",{className:"day-overlay",role:"tooltip"},j.a.createElement("span",{className:"select-return-date-label"},n),j.a.createElement("button",{type:"button",className:"dxp-borderless-button return-same-day",title:a,onClick:function(t){return e.onClickHandler(t)}},a)):j.a.createElement("span",null)}}]),t}(D.Component)),Y=n(78),Q=n(146),X="short",J=(n(2367),function(e){function t(){return s()(this,t),l()(this,u()(t).apply(this,arguments))}return g()(t,e),f()(t,[{key:"render",value:function(){return j.a.createElement("div",{className:"dxp-flight-details-overlay",role:"tooltip"},j.a.createElement("span",{className:"dates"},this.props.date.format(this.props.dateFormat),void 0!==this.props.associatedFlight&&j.a.createElement("span",null," -",V()(this.props.associatedFlight).format(this.props.dateFormat))),j.a.createElement(z.a,{currencyDisplay:this.props.currencyDisplay,price:this.props.price,ffcurrencyDisplay:X,showAbbreviation:this.props.showAbbreviation}),j.a.createElement("div",{className:"flight-details"},j.a.createElement("div",{className:"cabin-class"},this.props.cabinClass),j.a.createElement("div",{className:"stops"},Object(H.i)("dateSelection.flightStops",{stopsCount:this.props.stops})),j.a.createElement("div",{className:"flight-nubmbers"},this.props.flightNumbers.map((function(e){return t.renderFlightNumber(e)})))))}}],[{key:"renderFlightNumber",value:function(e){return j.a.createElement("div",{className:"flight-number",key:e.airlineCode+e.number},e.airlineCode," ",e.number)}}]),t}(D.Component));y()(J,"defaultProps",{flightNumbers:[]});var Z=n(351),$=n(244);n(2368);n.d(t,"a",(function(){return ee})),n.d(t,"b",(function(){return ne}));var ee={AVAILABLE:"AVAILABLE",UNAVAILABLE:"UNAVAILABLE"},te=[$.a.code.special.esc.code,$.a.code.arrow.left.code,$.a.code.arrow.up.code,$.a.code.arrow.right.code,$.a.code.arrow.down.code],ne=function(e){function t(e){var n;return s()(this,t),n=l()(this,u()(t).call(this,e)),y()(p()(n),"onCancelClick",(function(e){return n.setState({isHovered:!1}),n.props.onDeselect&&n.props.onDeselect(e)})),n.state={showFlightDetailsOverlay:!1,isHovered:!1},n}return g()(t,e),f()(t,null,[{key:"checkIfTodaysDateIsDepartureDate",value:function(e){var t=Object(Q.i)(e.searchCriteria),n=L()(t).date;return n&&n.isSame(e.date,"day")}},{key:"checkIfTodaysDateIsReturnDate",value:function(e){var t=Object(Q.l)(e.searchCriteria);return t&&t.isSame(e.date,"day")}},{key:"wrapInBetweenOrReturnDay",value:function(e){return j.a.createElement("span",null,j.a.createElement("div",{className:"in-between-bar"}),e)}}]),f()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(){this.setState({showFlightDetailsOverlay:!1,isHovered:!1})}},{key:"onClick",value:function(e,t){return this.props.selected?this.onCancelClick(t):this.props.onDayClick&&this.props.onDayClick(e,t)}},{key:"onReturnSameDay",value:function(e){return this.props.onReturnSameDay&&this.props.onReturnSameDay(e)}},{key:"getDay",value:function(e){var n=this,a=this.props.month.month()!==this.props.date.month(),r=this.state.isHovered,i=this.props.date.locale("en").format(Z.a),s=I()(this.props,["prices",i],{}),o=I()(s,"status")!==ee.AVAILABLE,l=this.props.date.locale("en").format("DD"),c=this.props.date.format("DD"),u=Object(Q.i)(this.props.searchCriteria),d=L()(u).date,p=Object(Q.l)(this.props.searchCriteria),h=t.checkIfTodaysDateIsDepartureDate(this.props),f=h||k()(w()(u,u.length-1),(function(e){return e.date&&e.date.isSame(n.props.date,"day")})),m=!this.props.searchCriteria.isOneWay&&t.checkIfTodaysDateIsReturnDate(this.props),g=this.props.prices&&Object.prototype.hasOwnProperty.call(this.props.prices,"lowestFare")?this.props.prices.lowestFare:0,v=this.props.configuration.isLowestFareCalendar&&!_()(s),y=d&&this.props.date.isBefore(d),b=p&&this.props.date.isAfter(p),C=o&&!this.props.selected||V()().isAfter(this.props.date,"day")||y,S=Object(Q.n)(this.props.searchCriteria),O=Object(H.a)("dateSelection.".concat(this.props.date.format("MMMM"))),P=o?s.status:ee.AVAILABLE;E()(s.status)&&(P="noFlights");var x,T=Object(H.a)("dateSelection.".concat(P)),B="no-flights-label ".concat(P),D=!this.props.searchCriteria.isOneWay&&this.props.date.isBetween(d,p),F=!1,R="";if(S){var G=this.props.date,K=0;N()(u,(function(e){A()(e.date)&&(K+=1),A()(e.date)&&e.date.isSame(G,"day")&&(x=u[K-1].destination,R=u[K-1].origin,F=!0)})),K>1&&(D=this.props.date.isBetween(L()(u).date,u[K-1].date),C=this.props.date.isBetween(L()(u).date,u[K-1].date))}var X=M()("day-btn",{"is-first-departure-date":h,"is-departure-date":h||f,"is-return-date":m,"is-in-between":D,"is-events":this.props.configuration.isEventFareCalendar,loading:this.props.isLoading,"no-flights":o,"is-wrapped":e,isSelected:F,"is-hidden":a,"is-hovered":r,"is-preselected":this.props.selected}),$=a||C&&!F||D&&!F||b,ne=M()("day-content",{"is-lowest-fare":I()(s,"total[0][0].amount")===g,"button-disabled":$}),ae=M()("day-of-month",{"is-events":this.props.configuration.isEventFareCalendar,"is-lowest-fare":this.props.configuration.isLowestFareCalendar}),re=s&&s.event&&s.event.hasOwnProperty("label")&&j.a.createElement("span",{className:"day-event",dangerouslySetInnerHTML:{__html:s.event.label}}),ie=I()(this.props.configuration,"showAbbreviation",!1),se=this.props.configuration.currencyDisplay||z.a.CURRENCY_DISPLAY.SYMBOL,oe=!(a||C||F||b||f||m||D),le=this.props.configuration.displayFlightDetailsOverlay&&this.state.showFlightDetailsOverlay&&0===this.props.direction&&oe&&!this.props.isMobileView,ce=s.totalWithoutDiscount&&this.props.configuration.displayTotalWithoutDiscount;return j.a.createElement("div",{className:"dxp-day","data-component-state":v?W.b.DAY_HAS_PRICE:W.b.NO_PRICE_AVAILABLE},j.a.createElement("button",{type:"button",className:X,disabled:$,ref:function(e){n["day".concat(l)]=e},"aria-pressed":F,onKeyUp:function(e){return te.includes(e.keyCode)&&n.handleNavigation(e.keyCode)},onClick:function(e){return n.onClick(n.props.date,e)},onMouseOver:function(){return n.setState({showFlightDetailsOverlay:!0,isHovered:!0})},onFocus:function(){return n.setState({showFlightDetailsOverlay:!0,isHovered:!0})},onMouseOut:function(){return n.setState({showFlightDetailsOverlay:!1,isHovered:!1})},onBlur:function(){return n.setState({showFlightDetailsOverlay:!1,isHovered:!1})},"data-test-id":W.a,"data-component-state":F||f||m?W.b.DATE_SELECTED:W.b.DATE_NOT_SELECTED},x&&j.a.createElement("span",{className:"destination-label"},"".concat(R," - ").concat(x)),(F||f||m)&&j.a.createElement(Y.a,{onClick:this.onCancelClick,className:"text-btn close","aria-label":Object(H.i)("dateSelection.aria.cancelSelection")},j.a.createElement(U.c,{name:U.a.CLOSE,fill:!0})),j.a.createElement("span",{className:"sr-only"},O),j.a.createElement("span",{className:ae},c),j.a.createElement("div",{className:ne},!this.props.isLoading&&v&&j.a.createElement(q.a,{animations:{animated:!0,type:"fadeIn"}},ce&&j.a.createElement("div",null,j.a.createElement("span",{className:"sr-only"},Object(H.a)("dateSelection.withoutDiscountPrice")," "),j.a.createElement(z.a,{currencyDisplay:se,price:s.totalWithoutDiscount,className:"old-price",isDiscountedPrice:!0})),j.a.createElement("span",{className:"sr-only"},Object(H.a)("dateSelection.price")," "),j.a.createElement(z.a,{currencyDisplay:se,price:s.total,ffcurrencyDisplay:"short",showAbbreviation:ie})),!this.props.isLoading&&o&&j.a.createElement(q.a,{animations:{animated:!0,type:"fadeIn"}},j.a.createElement("span",{className:B},T)),o&&j.a.createElement(q.a,{animations:{animated:!0,type:"fadeIn"}},j.a.createElement("span",{className:"none-label"},Object(H.a)("dateSelection.none"))),re,(F||f||m)&&j.a.createElement("span",{className:"sr-only"},Object(H.a)("dateSelection.selected")),h&&j.a.createElement("span",{className:"sr-only"},Object(H.a)("dateSelection.departureDate")),f&&D&&j.a.createElement("span",{className:"sr-only"},Object(H.a)("dateSelection.nextFlight")),m&&j.a.createElement("span",{className:"sr-only"},Object(H.a)("dateSelection.returnDate")))),le&&j.a.createElement(J,{stops:s.stops,cabinClass:s.cabinClass,flightNumbers:s.flightNumbers,associatedFlight:s.associatedFlight,date:this.props.date,price:s.total,showAbbreviation:!1,currencyDisplay:se,dateFormat:this.props.configuration.flightDetailsOverlayDateFormat}))}},{key:"focus",value:function(){var e=this.props.date.locale("en").format("DD"),t=this["day".concat(e)];return!t.disabled&&(t.focus(),!0)}},{key:"handleNavigation",value:function(e){return this.props.onDayNavigation&&this.props.onDayNavigation(e,this.props.dayOfWeekIndex)}},{key:"wrapFirstDepartureDate",value:function(e,t){var n=this;return j.a.createElement("span",null,e,!this.props.isMobileView&&j.a.createElement(K,{isFirstReturnDate:!!Object(Q.l)(this.props.searchCriteria),multicity:t,onReturnSameDay:function(e){return n.onReturnSameDay(e)},direction:this.props.direction}))}},{key:"renderButton",value:function(){if(!(this.props.month.month()!==this.props.date.month())){var e=this.props.searchCriteria,n=e.isOneWay,a=Object(Q.i)(e),r=L()(a).date,i=Object(Q.l)(e),s=r&&r.isSame(this.props.date,"day"),o=!n&&i&&i.isSame(this.props.date,"day"),l=Object(Q.n)(e),c=!n&&this.props.date.isBetween(r,i);if(l){var u=!1;this.props.direction>0&&I()(a[this.props.direction-1],"date")&&a[this.props.direction-1].date.isSame(this.props.date,"day")&&(u=!0);var d=0;if(N()(a,(function(e){A()(e.date)&&(d+=1)})),d>1&&(c=this.props.date.isBetween(L()(a).date,a[d-1].date)),u&&!i)return this.wrapFirstDepartureDate(this.getDay(!0),!0)}return s||!c&&!o?s&&!l?void 0===this.props.prices||"AVAILABLE"!==I()(this.props.prices[this.props.date.format(Z.a)],"status")?this.getDay():this.wrapFirstDepartureDate(this.getDay(!0),!1):this.getDay():t.wrapInBetweenOrReturnDay(this.getDay(!0),!1)}return this.getDay()}},{key:"render",value:function(){var e=this.props.date.locale("en").format("DD"),t=M()("dxp-date-selection-day",{"is-the-first":"01"===e}),n={};return this.props.month.month()!==this.props.date.month()||(n.id="day-".concat(this.props.date.format("YYYYMMDD"),"-").concat(this.props.active)),j.a.createElement("td",r()({className:t,role:"gridcell"},n),j.a.createElement(q.a,{animations:{animated:!0,delay:150*(this.props.dayOfWeekIndex+1),type:"fadeIn"}},this.renderButton()))}}]),t}(D.Component);y()(ne,"defaultProps",{isLoading:!1,direction:0})},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(12)),s=n(39),o=n.n(s),l=function(e){var t=o()("ancillary-common",e.className,e.displayType);return r.a.createElement("div",{className:t},e.isRecommended&&r.a.createElement("div",{className:"recommendation"},r.a.createElement("h3",{className:"lead"},Object(i.a)([e.PACKAGE_NAME_CLASSIFIED,"recommended"]))),e.children)};l.defaultProps={className:void 0,children:void 0,displayType:"tile",isRecommended:!1};var c=l,u=n(26),d=n.n(u),p=n(22),h=n.n(p),f=n(29),m=n.n(f),g=n(28),v=n.n(g),y=n(30),b=n.n(y),E=n(2),C=n.n(E),k=n(1561),S=n(1490),_=n(1264),O=n(50),w=n(1249),P=function(e){function t(){return d()(this,t),m()(this,v()(t).apply(this,arguments))}return b()(t,e),h()(t,[{key:"componentDidUpdate",value:function(){this.props.isCurrentlyActive&&this.button.focus()}},{key:"getAriaDescribedBy",value:function(){var e=[],t=this.props,n=t.price,a=t.isAddedToCart,r=t.startingFromText,i=t.code,s=t.id;return n&&!a&&e.push("".concat(i,"-ancillary-price-").concat(s)),a&&e.push("".concat(i,"-added-to-cart-").concat(s)),r&&e.push("".concat(i,"-starting-from-text")),e.length>0?e.join(","):void 0}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.code,s=t.hasDiscounts,l=t.isPreselected,c=t.isAddedToCart,u=t.displayOriginalPrice,d=t.originalPrice,p=t.isIncludedInPrice,h=t.title,f=t.priceBeforeDiscount,m=t.isLoading,g=t.isFree,v=t.price,y=t.discountPrice,b=t.priceForAllPassengers,E=t.priceNote,P=t.isDealBannerDisplayed,A=t.dealBannerClasses,x=t.displayQuantityRemaining,N=t.availableInventoryText,T=t.bagDisclosure,I=t.summaryButtonContent,B=t.startingFromText,L=t.isExpanded,D=t.PACKAGE_NAME_CLASSIFIED,j=t.id,F=t.retainedTotal,M=o()("ancillary-summary-common",n),R=!C()(F),V=r.a.createElement(w.a,{PACKAGE_NAME_CLASSIFIED:D,className:"ancillary-discount-info",price:y});return r.a.createElement("div",{className:M,"data-ancillary":a},s&&r.a.createElement("div",{className:"dxp-ancillary-sale"},r.a.createElement("span",null,Object(i.a)([D,"sale"]))),r.a.createElement("div",{className:"summary-content spark-panel spark-panel--card"},r.a.createElement("div",{className:"spark-panel__content spark-expand"},l&&r.a.createElement("div",{className:"preselected-container"},r.a.createElement(O.c,{className:"preselected-icon",size:"md",fill:!0,name:O.a.CHECK_CIRCLE}),r.a.createElement("span",{className:"preselected-cart-title"},Object(i.a)([D,"preselected"]))),R&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"retained-total-title",id:"".concat(a,"-retained-total-").concat(j)},r.a.createElement(O.c,{size:"md",name:O.a.CHECK}),Object(i.a)([D,"retainedTotal"])),r.a.createElement(w.a,{PACKAGE_NAME_CLASSIFIED:D,className:"retained-price",price:F,includeDecimal:!0}),r.a.createElement("div",{className:"added-to-cart-title",id:"".concat(a,"-added-to-cart-").concat(j)},r.a.createElement(O.c,{size:"md",name:O.a.CHECK}),Object(i.a)([D,"newlyAdded"]))),c&&!R&&r.a.createElement("div",{className:"added-to-cart-title",id:"".concat(a,"-added-to-cart-").concat(j)},r.a.createElement(O.c,{size:"md",name:O.a.CHECK}),Object(i.a)([D,"addedToCart"])),u&&r.a.createElement("div",null,r.a.createElement(O.c,{name:O.a.TAG})," ",r.a.createElement(w.a,{PACKAGE_NAME_CLASSIFIED:D,className:"original-price",price:d,includeDecimal:!0})),p&&r.a.createElement("div",{className:"title"},Object(i.a)([D,"includedInPrice"])),h&&r.a.createElement("div",{className:"title"},h),B&&r.a.createElement("div",{id:"".concat(a,"-starting-from-text"),className:"starting-from caption"},B),f&&r.a.createElement(w.a,{PACKAGE_NAME_CLASSIFIED:D,className:"original-max-price",price:f}),!m&&!g&&v&&r.a.createElement(w.a,{PACKAGE_NAME_CLASSIFIED:D,id:"".concat(a,"-ancillary-price-").concat(j),className:"ancillary-price",price:v,includeDecimal:!0,raiseDecimal:!0}),s&&r.a.createElement("div",{className:"ancillary-discount"},Object(i.k)([D,"discountInfo"],{price:V})),g&&!m&&r.a.createElement("div",{className:"price"},Object(i.a)([D,"free"])),m&&r.a.createElement(k.a,{className:"dark"}),b&&r.a.createElement("div",{className:"caption"},b),E&&r.a.createElement("div",{className:"caption"},E),P&&d&&r.a.createElement("div",{className:A},r.a.createElement(O.c,{name:O.a.TAG})," ",Object(i.a)([D,"deal"])),x&&r.a.createElement("div",{className:"quantity-left"},Object(i.a)([D,"ancillaryRunningOut"],{ancillaryType:h})),N&&r.a.createElement("div",{className:"quantity-left"},N," ",Object(i.a)([D,"left"])),T)),r.a.createElement("div",{className:"summary-button"},r.a.createElement(_.a,{isExpanded:L,disabled:this.props.summaryButtonDisabled,isSecondaryButton:c,onClick:this.props.onClick,label:I,"data-test-id":"add-ancillary-".concat(a),ariaDescribedBy:this.getAriaDescribedBy(),ref:function(t){e.button=t}},c&&r.a.createElement(O.c,{name:O.a.PENCIL}))),r.a.createElement(S.a,{className:"summary-link",onClick:this.props.onClick},Object(i.a)([D,"moreDetails"])))}}]),t}(a.PureComponent);P.defaultProps={className:void 0,code:void 0,title:void 0,priceForAllPassengers:void 0,priceNote:void 0,dealBannerClasses:void 0,availableInventoryText:void 0,bagDisclosure:void 0,startingFromText:void 0,hasDiscounts:!1,isPreselected:!1,isAddedToCart:!1,displayOriginalPrice:void 0,isIncludedInPrice:!1,isLoading:!1,isFree:!1,isDealBannerDisplayed:void 0,displayQuantityRemaining:void 0,discountPrice:void 0,price:void 0,originalPrice:void 0,priceBeforeDiscount:void 0,summaryButtonContent:void 0,summaryButtonDisabled:!1,isExpanded:!1,isCurrentlyActive:!1,onClick:void 0,id:"",retainedTotal:[]};var A=n(1359),x=n(111),N=function(e){var t=e.className,n=e.code,a=e.altText,i=e.imgStyle,s=e.iconName,l=e.title,c=e.intro,u=e.discountLabel,d=e.isBundle,p=e.ancillaryBundle,h=e.imgPath,f=o()("dxp-ancillary-content",t,e.displayType);return r.a.createElement("div",{className:f,"data-ancillary":n},r.a.createElement(A.a,{tag:"h3",className:"title",iconName:s,iconSize:"lg",title:l}),r.a.createElement("div",{className:"description"},r.a.createElement("img",{alt:a,className:"img-div",src:Object(x.f)(h),style:i}),r.a.createElement("p",{className:"intro"},c,u)),d&&r.a.createElement("div",{className:"bundle"},p))};N.defaultProps={className:void 0,code:void 0,altText:void 0,imgStyle:void 0,iconName:void 0,title:void 0,intro:void 0,discountLabel:void 0,isBundle:!1,ancillaryBundle:void 0,imgPath:void 0,displayType:"tile"};var T=N;n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return T}));t.c=c},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(122)),E=n.n(b),C=n(39),k=n.n(C),S=n(1249),_=n(1371);var O=function(e){var t=e.price,n=e.packageName;return y.a.createElement(S.a,{price:t,PACKAGE_NAME_CLASSIFIED:n})},w=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"onToggle",(function(e){var t=e.isExpanded;n.setState({isExpanded:t},(function(){return n.props.onToggle({isExpanded:t})}))})),n.state={isExpanded:n.props.isExpanded},n.accordionElement=y.a.createRef(),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({isExpanded:e.isExpanded})}},{key:"expand",value:function(){this.accordionElement.current&&this.accordionElement.current.expand()}},{key:"collapse",value:function(){this.accordionElement.current&&this.accordionElement.current.collapse()}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.title,a=e.iconName,r=e.children,i=e.price,s=e.packageName,o=e.classname,l=e.lazyInitContent,c=e.disabled,u=this.state.isExpanded&&!c,d=i?function(){return O({price:i,packageName:s})}:E.a,p=k()("ducp-component-cart-panel-section",o,{"accordion-expanded":u,"hide-accordion-content":!r});return y.a.createElement("li",{className:p,id:t,key:t},y.a.createElement(_.a,{ref:this.accordionElement,title:n,disabled:c,iconName:a,id:"accordion-".concat(t),renderAdditionalAccordionHeaderContent:d,isExpanded:u,onToggle:this.onToggle,headerIcon:this.props.headerIcon,iconSize:"md",lazyInitContent:l},r))}}]),t}(v.PureComponent);g()(w,"defaultProps",{packageName:"",children:void 0,classname:void 0,isExpanded:!1,price:void 0,onToggle:E.a,headerIcon:void 0,disabled:!1,lazyInitContent:!1});t.a=w},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(95),s=n.n(i),o=n(15),l=n.n(o),c=n(4),u=n.n(c),d=n(5),p=n.n(d),h=n(0),f=n.n(h),m=n(13),g=n.n(m),v=n(2),y=n.n(v),b=n(58),E=n.n(b),C=n(19),k=n.n(C),S=n(27),_=n.n(S),O=n(249),w=n.n(O),P=n(34),A=n.n(P),x=n(36),N=n.n(x),T=n(128),I=n.n(T),B=n(17),L=n.n(B),D=n(545),j=n(54),F=n.n(j),M=n(21),R=n.n(M),V=function(e,t){return k()(t,(function(t){var n=t.breakdownElementAssignment;if(y()(n.travelPart))return!1;var a=f()(n,"travelPart.segments",[]);if(!y()(a)){var r=l()(a,(function(t){return l()(e,t)}));return!y()(r)}return l()(e,n.travelPart)}))},H=function(e){var t=["ancillariesPrice","seatsPrice"];return function(e){return u()(e,(function(e,t){var n=t.subElements,a=void 0===n?[]:n;return[].concat(F()(a),F()(e))}),[])}(k()(e,(function(e){var n=e.label,a=void 0===n?"":n;return R()(t,a)})))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){return 1===e.length}function q(e){if(2===e.length){var t=f()(I()(e),"segments",[]),n=f()(N()(e),"segments",[]),a={origin:f()(I()(t),"origin"),destination:f()(N()(t),"destination")},r={origin:f()(I()(n),"origin"),destination:f()(N()(n),"destination")};return a.origin===r.destination&&a.destination===r.origin}return!1}function z(e){return!y()(e)&&!W(e)&&!q(e)}function G(e,t,n){return p()(e,(function(e){var a,i,s,o,c,u,d,h,m,g=(i=t,s=(a=e).segments,o=void 0===s?[]:s,c=a.cancelledSegments,u=void 0===c?[]:c,d=a.totalDuration,h=a.connectionInformations,m=y()(o)?u:o,{origin:f()(I()(m),"origin"),destination:f()(N()(m),"destination"),departure:L()(f()(I()(m),"departure")),arrival:L()(f()(N()(m),"arrival")),stops:Object(D.d)(m),duration:L.a.duration(d,"minutes"),connectionInfo:h,cabinClass:f()(I()(m),"cabinClass",""),ancillaries:V(m,i)}),v=y()(e.segments)?e.cancelledSegments:e.segments;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g,{segments:p()(v,(function(e){var t=function(e,t){var n=l()(t,(function(t){var n=t.segmentKey;return w()(n.arrival,e.arrival)&&w()(n.departure,e.departure)&&w()(n.destination,e.destination)&&w()(n.origin,e.origin)}));return n?f()(n,"description","").replace("/",""):""}(e,n);return{origin:e.origin,destination:e.destination,departure:L()(e.departure),arrival:L()(e.arrival),flight:e.flight,duration:L.a.duration(e.duration,"minute"),equipment:e.equipment,fareBasis:e.fareBasis,brandId:t,segmentStatusCode:e.segmentStatusCode}}))})}))}function K(e,t,n){var a=e.itineraryParts,r=G(A()(a),t,n);return{itineraryType:function(e){return{isRoundTrip:q(e),isOneWayTrip:W(e),isMultiCityTrip:z(e)}}(a),itineraryParts:r}}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){return _()(E()(e.alternatives))||{}},J=function(e){var t=Q({},e),n=f()(e,"subElements",[]);return t.price=X(e.price),y()(n)||(t.subElements=function e(t){var n=[];return y()(t)||g()(t,(function(t){var a=Q({},t);y()(f()(t,"price"))||(a.price=X(t.price)),y()(f()(t,"subElements",[]))||(a.subElements=e(t.subElements)),n.push(a)})),n}(n)),t};t.a=function(e){var t=e.pnr,n=t.reloc,a=t.iropAffected,r=t.itinerary,i=t.specialServiceRequests,o=t.travelPartsAdditionalDetails,c=t.payments,d=t.insuranceInformation,h=void 0===d?{}:d,m=t.passengers,g=void 0===m?[]:m,v=J(f()(t,"priceBreakdown",{})),y=f()(v,"subElements",[]),b=H(y),C=k()(i,{code:"BRND"}),S=K(r,b,C=k()(C,(function(e){return void 0!==e.segmentKey}))),_=function(e,t){return p()(e,(function(e){return{passengerDetails:f()(e,"passengerDetails",{}),passengerInfo:f()(e,"passengerInfo",{}),flights:u()(t,(function(t,n){var a=l()(n.passengers,{passenger:e});return a&&"Segment"===f()(n,'travelPart["@type"]')&&t.push({eTicket:a.eticketNumber,seat:a.seat&&a.seat.seatCode||"-",segment:{origin:f()(n,"travelPart.origin"),destination:f()(n,"travelPart.destination"),airlineCode:f()(n,"travelPart.flight.airlineCode"),flightNumber:f()(n,"travelPart.flight.flightNumber")}}),t}),[])}}))}(g,o),O=function(e){var t=e.map((function(e){return e.eligibilities}));return s()(E()(t))}(o);return{pnr:n,iropAffected:a,totalPaid:f()(v,"price",{}),itineraryParts:f()(S,"itineraryParts",[]),itineraryType:f()(S,"itineraryType"),paymentOptionsDetails:c,products:y,passengers:_,eligibilities:O,insuranceInformation:h}}},function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(58),s=n.n(i),o=n(0),l=n.n(o),c=n(51),u=n.n(c),d=n(42),p=n(11),h=n(324),f=n(84),m=n(14),g="EXCH",v=n(2),y=n.n(v),b=n(157),E=n(60);function C(e,t,n){return e.getIn(["data",t,"total"],n)}function k(e){var t=C(e,"ancillaries",Object(p.List)()).toJS(),n=function(e){return e.getIn(["data","external","breakdownElements"],Object(p.List)()).some((function(e){return e.get("label")===b.d}))}(e)?t:Object(E.c)(t,C(e,"insurance",Object(p.List)()).toJS()),a=C(e,"external",Object(p.Map)()).get("alternatives",Object(p.List)()).toJS();return y()(n)||y()(a)?y()(n)?Object(p.fromJS)(a):Object(p.fromJS)(n):Object(p.fromJS)(Object(E.d)(n,a))}var S=n(1442),_=n(45),O=n(214),w=n(1946),P=function(e){return e.metadata.get("shoppingCart")},A=function(e){return u()(e.ancillaries,"toJS")},x=function(e){return e.payment},N=function(e){return e.cars.get("selectedCarOfferTransformed")},T=function(e){return{fareRules:e.metadata.get("fareRules"),bagFee:e.metadata.get("bagFee")}},I=function(e,t){if(t!==m.a.PAYMENT)return Object(p.List)();var n=e.toObject().selectedPaymentOptions;return(void 0===n?Object(p.List)():n).filter((function(e){return e&&e.getIn(["surcharge","amount"],0)>0}))},B=function(e,t){return Object(w.a)(e.metadata,e.payment,t.location.pathname,e.sessionStorage.get("selectedTripOption"))},L=function(e,t){return e.findIndex((function(e){return S.a[e.get("sectionName")]===t}))},D=function(e){var t=e.hotels.get("selectedHotel");return t?t.merge(e.shoppingCart.getIn(["data","hotelProduct"])):e.shoppingCart.getIn(["data","hotelProduct"])},j=Object(d.a)((function(e){return e.shoppingCart}),(function(e){var t=k(e);return e.get("isLoading")?e:e.setIn(["data","ancillaries","total"],t)})),F=function(e){return e.metadata.get("defaultDateFormats")},M=function(e){return e.metadata.get("selectedLocale")},R=function(e){return e.flightSelection.get("isCompanionFareSearch")},V=function(e){var t=l()(e,"pnrInfo",Object(p.Map)()).get("payments",Object(p.List)()),n=t.isEmpty()?Object(p.List)():t.filter((function(e){return e.get("paymentDCCSummary")}));return n.isEmpty()?Object(p.Map)():n.getIn(["0","paymentDCCSummary"])},H=function(e,t){return l()(t,"location.query.exchangeType")},U=function(e){var t=l()(e,"pnrInfo",Object(p.Map)()).get("documents",Object(p.List)()),n=s()(t.map((function(e){return e.get("coupons")})).toJS());return r()(n,(function(e){return e.couponStatus===g}))},W=function(e,t,n,a){var r=e.get("cartSections"),i="true"===_.a.get("isSeatsExtrasCombined");if(t===f.a.MTO&&a!==m.a.CONFIRMATION&&!i)return n.includes("seat-selection")?r.delete(L(r,S.a.ANCILLARIES)):r.delete(L(r,S.a.SEATS));if(t===f.a.B2C)return n.includes("seat-selection")||r.delete(L(r,S.a.SEATS)),n.includes("ancillaries")||r.delete(L(r,S.a.ANCILLARIES)),r;if(t===f.a.CANCEL){var s=r.delete(L(r,S.a.ANCILLARIES));return s.delete(L(s,S.a.SEATS))}return t===f.a.UPGRADE?r.delete(L(r,S.a.ANCILLARIES)):r};t.a=function(){var e=Object(d.a)(Object(h.c)(),(function(e){return e}));return Object(d.a)(A,P,j,e,x,T,N,D,F,Object(O.a)(),B,R,V,H,U,M,(function(e,t,n,a,r,i,s,o,l,c,u,d,h,f,g,v){return{ancillaries:e,configuration:t,shoppingCart:n,isLoading:n.get("isLoading"),currentPage:a.currentPage,currentFlow:a.currentFlow,rulesAndFeeData:i,paymentData:r,paymentSurcharges:I(r,a.currentPage),paymentSurchargeTotal:a.currentPage===m.a.PAYMENT?r.get("totalSurcharge"):Object(p.List)(),selectedCarOffer:s,hotelProduct:o,defaultDateFormats:l,isRoundTrip:c.isRoundTrip,isMultiCity:c.isMultiCity,itineraryParts:c.itineraryParts,flowConfiguration:u,isCompanionFareSearch:d,paymentDCCSummary:h,exchangeType:f,isPnrExchanged:g,isConfirmationOrMybPage:[m.a.MYB,m.a.CONFIRMATION].includes(a.currentPage),cartSections:W(t,a.currentFlow,u,a.currentPage),selectedLocale:v}}))}},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(56),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(39)),k=n.n(C),S=n(1334),_=n(50),O=n(1264),w=n(12),P=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"carouselRef",E.a.createRef()),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.sparkCarousel=new S.Carousel(this.carouselRef.current),this.focusSelectedItem()}},{key:"componentDidUpdate",value:function(e){y()(this.props.children)!==y()(e.children)&&(this.sparkCarousel.change(),this.focusSelectedItem())}},{key:"componentWillUnmount",value:function(){this.sparkCarousel&&(this.sparkCarousel._removeListeners(),this.sparkCarousel.remove())}},{key:"focusSelectedItem",value:function(){var e=this,t=this.sparkCarousel.items.find((function(t){return t.order===e.props.selectedItemIndex}));t&&(t.setSelected(!0),this.sparkCarousel._scrollTo(t))}},{key:"render",value:function(){return E.a.createElement("div",{className:k()("ducp-component-filmstrip-carousel","spark-carousel",this.props.className),ref:this.carouselRef,"data-spark-carousel-panel":!0},E.a.createElement("div",{className:"spark-carousel__outer-container "},E.a.createElement("div",{className:"spark-carousel__container-mask"},E.a.createElement("div",{className:"spark-carousel__container"},this.props.children)),E.a.createElement("div",{className:"spark-carousel__controls"},E.a.createElement(O.a,{type:"button",isSecondaryButton:!0,className:"spark-carousel__back xs",onClick:this.props.onLeftArrowClick,disabled:this.props.isLoading||!this.props.isLeftArrowEnabled},E.a.createElement(_.c,{name:_.a.CHEVRON_LEFT,srOnlyText:Object(w.i)("".concat(this.props.packageName,".prev"))})),E.a.createElement(O.a,{type:"button",isSecondaryButton:!0,className:"spark-carousel__forward xs",onClick:this.props.onRightArrowClick,disabled:this.props.isLoading||!this.props.isRightArrowEnabled},E.a.createElement(_.c,{name:_.a.CHEVRON_RIGHT,srOnlyText:Object(w.i)("".concat(this.props.packageName,".next"))})),E.a.createElement("div",{className:"spark-carousel__dots"}))))}}]),t}(b.Component);g()(P,"defaultProps",{className:"",selectedItemIndex:0,isLeftArrowEnabled:!0,isRightArrowEnabled:!0,isLoading:!1});var A=function(e){return E.a.createElement("div",{className:"spark-carousel__item"},e.children)};A.defaultProps={children:void 0};var x=A;n.d(t,"a",(function(){return x}));t.b=P},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(27),r=n.n(a),i=n(17),s=n.n(i),o=n(131);function l(e){return e.map((function(e){var t=e.get("segments");return{origin:t.first().get("origin"),departure:s()(t.first().get("departure")).locale("en").format("YYYY-MM-DDTHH:mm:ss"),destination:t.last().get("destination"),arrival:s()(t.last().get("arrival")).locale("en").format("YYYY-MM-DDTHH:mm:ss")}}))}function c(e){return e.map((function(e){return{firstName:e.get("passengerDetails").get("firstName"),lastName:e.get("passengerDetails").get("lastName"),type:e.get("passengerInfo").get("type")}}))}function u(e){return e.first().first().get("currency")===o.b?{amount:e.first().last().get("amount"),currency:e.first().last().get("currency")}:{amount:e.first().first().get("amount"),currency:e.first().first().get("currency")}}function d(e){return r()(e.split("-"))}},function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(4),s=n.n(i),o=n(109),l=n.n(o),c=n(15),u=n.n(c),d=n(0),p=n.n(d),h=n(51),f=n.n(h),m=n(56),g=n.n(m),v=n(42),y=n(11),b=n(214),E=n(1593),C=n(2009),k=n(101),S=n(532),_=n(328),O=n(327),w=n(531),P=n(438),A=n(566),x=n(174),N=n(549);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var I=function(e,t){return e.metadata.getIn(["flows",Object(k.a)(t.location.pathname)])},B=function(e){return f()(e.flightSelection.get("ribbons"),"toJS",e.flightSelection.get("ribbons"))||{}},L=function(e){return f()(e.metadata.get("calendarRibbon"),"toJS",{})},D=function(e){return e.flightSelection.get("isSearchingForFlights")},j=function(e){return e.flightSelection.get("isSelectingFlights")},F=function(e){return e.flightSelection.get("isSearchCallCompleted",!1)},M=function(e){return e.metaSearch.get("error")||e.flightSelection.get("error")},R=function(e){return e.metadata.get("selectedLocale")},V=function(e){return e.metadata.get("locales")},H=function(e){return f()(e.flightSelection.get("appliedFilters"),"toJS",{})},U=function(e){return e.flightSelection.get("previouslyAppliedFilters",{})},W=function(e){return e.flightSelection.get("filteredFlights",Object(y.List)())},q=function(e){return e.flightSelection.get("flights",Object(y.Map)())},z=function(e,t){return p()(t,"location.query.exchangeType")},G=function(e){return f()(e.flightSelection.get("filters"),"toJS",{})},K=function(e){return e.flightSelection.get("promocodeValid")},Y=function(e){return e.flightSelection.get("negotiateFarePresent")},Q=function(e){return e.flightSelection.get("combinabilityMapping")},X=function(e){return e.flightSelection.get("summaryBarSearchEditRequested")},J=function(e){return f()(e.flightSelection.get("appliedSorting"),"toJS",{})},Z=function(e,t){var n=e.metadata.get("flightSelectionConfiguration");return Object(b.a)()(e,t).isMultiCity?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{displayOffersBy:N.a.BRAND}):n},$=function(e){return p()(e.metadata.get("flightSelectionConfiguration"),"displayFlightAdvisories",!1)},ee=function(e){return e.flightSelection.get("warnings")||Object(y.List)()},te=function(e){return e.flightSelection.get("messages")},ne=function(e){return e.advisoryMessages.get("globalAdvisories")},ae=function(e){return e.advisoryMessages.get("travelPartAdvisories")},re=function(e){return e.flightSelection.get("minimalPointsThresholdNotMetForSomeFlights",!1)},ie=function(e){return e.metadata.get("seatSelectionConfiguration")},se=function(e){return e.seatSelection.get("seatMapsPreview")},oe=function(e){return e.seatSelection.get("legendPreview")},le=function(e){return e.seatSelection.get("segmentsPreview")},ce=function(e){return e.session.get("isSigningIn")},ue=function(e){return e.seatSelection.get("isFetchingSeatMapPreview")},de=function(e){return e.seatSelection.get("seatMapPreviewError")},pe=function(e){return e.flightSelection.get("isBundledOffers",!1)},he=function(e){return e.flightSelection.get("isLowFareOffers",!1)},fe=Object(v.a)(Object(b.a)(),(function(e){return void 0===e.direction?0:Number(e.direction)})),me=function(e){return e.flightSelection.get("selectedFlights",Object(y.Map)())},ge=function(e){return e.flightSelection.get("selectedBrands",Object(y.Map)())},ve=function(e){return e.flightSelection.get("requiredPointsForSelectedFlights")},ye=function(e){return e.flightSelection.get("isAllFlightsSelected",!1)},be=function(e){return e.flightSelection.get("showSpinner",!1)},Ee=function(e){return e.flightSelection.get("isSelectedFlightsSubmitted",!1)},Ce=function(e){return e.flightSelection.get("selectedFlightIds",Object(y.Map)())},ke=function(e){return e.flightSelection.get("shouldSetSelectedFlights",!0)},Se=function(e){return e.metadata.get("upsellConfiguration")},_e=function(e){return e.metadata.get("defaultSummaryBarOffset")},Oe=function(e,t){return Object(A.a)(e,t)},we=function(e){return e.metadata.get("defaultHeaderOffset")},Pe=function(e){return f()(e.metadata.get("contextShopping"),"toJS",{})},Ae=function(e){return e.metadata.get("defaultSearchType")},xe=function(e){return e.metadata.getIn(["pointOfSale","isEnabled"])},Ne=function(e){return e.metadata.getIn(["currencySelection","isEnabled"])},Te=function(e){return e.metadata.getIn(["currencySelection","currencies"])},Ie=function(e){return e.metadata.getIn(["currencySelection","applicableRoutes"])},Be=function(e){return e.metadata.getIn(["pointOfSale","allowCurrencySelection"])},Le=function(e){return f()(e.metadata.getIn(["classes","options"]),"toJS",{})},De=function(e){return f()(e.metadata.get("cabinClasses"),"toJS",{})},je=function(e){return f()(e.metadata.get("brandSortOrder"),"toJS",{})},Fe=function(e){return e.metadata.get("exchangeBackLink","/myb")},Me=function(e){return e.metadata.get("errorBackLink","/home")},Re=function(e){return e.metadata.get("airlineHostedHomepage",!1)},Ve=function(e){return e.metadata.get("viewBreakPoint")},He=function(e){return e.metadata.get("awardBooking")},Ue=function(e){return e.metadata.get("getMaximumDaysInCalendar",365)},We=function(e){return e.metadata.get("isFlightNotFoundEnabled",!1)},qe=function(e){return e.metadata.getIn(["defaultDateFormats","short"])},ze=function(e){return e.metadata.getIn(["defaultDateFormats","irops"])},Ge=function(e){return e.metadata.get("flightDetails")},Ke=function(e){return e.session.get("isChanging")},Ye=function(e){return e.session.get("user")},Qe=function(e){return e.metadata.get("countries")},Xe=function(e){return!e.session.get("user").isEmpty()},Je=function(e){return e.flightSelection.get("isCompanionFareSearch")},Ze=function(e){return e.flightSelection.get("currency")},$e=function(e){return e.flightSelection.get("availableBrandOffersCodes")},et=function(e){return e.metadata.get("ancillaryMap")},tt=function(e){return e.metadata.get("flightSelectionBackRedirectionURL")},nt=function(e){return e.metadata.getIn(["signInConfiguration","travelBank"])},at=Object(v.a)((function(e){return e.metadata.get("brandBonusesConfiguration")}),(function(e){return f()(e.flightSelection.get("brandBenefitReferences"),"toJS",[])}),(function(e,t){return s()(t,(function(t,n){return t[n]=p()(e,n),t}),{})})),rt=Object(v.a)((function(e){return e.shoppingCart}),Ye,(function(e,t){var n=e.get("data"),a=p()(u()(l()(n.total),{currency:"FFCURRENCY"}),"amount",0);return p()(t,"loyaltyDetails.balance",0)<a})),it=Object(v.a)(Object(E.a)(),(function(e){return e})),st=Object(v.a)(it,(function(e){return f()(e.flightSelection.get("selectedOfferIds"),"toJS",[])}),(function(e,t){return g()(t)===g()(e)})),ot=Object(v.a)((function(e,t){return p()(t,"location.query",{})}),(function(e){return"true"===e.awardBooking}));t.a=function(){var e=Object(v.b)({isSearchingForFlights:D,isSelectingFlights:j,error:M,isUserLoggedIn:Xe,isRBEEnabled:ot,appliedFilters:H,filteredFlights:W,flights:q,direction:fe,exchangeType:z,searchCriteria:Object(b.a)(),flightIds:it,isSearchCallCompleted:F,IsFrequentFlyerBalanceAmountAvailable:rt}),t=Object(v.b)({filters:G,direction:fe,filteredFlights:W,appliedFilters:H}),n=Object(v.b)({configuration:L,ribbons:B}),a=Object(v.b)({seatMapsPreview:se,legendPreview:oe,segmentsPreview:le,isFetchingSeatMapPreview:ue,seatMapPreviewError:de,seatsConfiguration:ie}),r=Object(v.b)({maximumNumberOfDays:Ue,isFlightNotFoundEnabled:We,defaultHeaderOffset:we,contextShopping:Pe,searchType:Ae,isPointOfSaleEnabled:xe,allowPointOfSaleCurrencySelection:Be,isCurrencySelectionEnabled:Ne,currencies:Te,applicableRoutesForCurrencyDropdown:Ie,classesOptions:Le,cabinClasses:De,brandSortOrder:je,exchangeBackLink:Fe,errorBackLink:Me,airlineHostedHomepage:Re,viewBreakPoint:Ve,awardBooking:He,defaultDateFormat:qe,iropDateFormat:ze,flightDetails:Ge,brandBonusesConfiguration:at,countries:Qe,ancillaryMap:et,travelBankConfiguration:nt});return Object(v.b)({flowConfiguration:I,flightSelection:e,filter:t,appliedFilters:H,filteredFlights:W,error:M,promocodeValid:K,negotiateFarePresent:Y,combinabilityMapping:Q,summaryBarSearchEditRequested:X,isRBEEnabled:ot,flights:q,direction:fe,messages:te,globalAdvisories:ne,travelPartAdvisories:ae,previouslyAppliedFilters:U,minimalPointsThresholdNotMetForSomeFlights:re,appliedSorting:J,flightIds:it,calendarRibbons:n,isAllFlightSelectionsSubmitted:st,configuration:Z,displayFlightAdvisories:$,seatMapPreview:a,warnings:ee,isBundledOffers:pe,isLowFareOffers:he,selectedFlights:me,selectedFlightIds:Ce,selectedBrands:ge,isAllFlightsSelected:ye,showSpinner:be,isSelectedFlightsSubmitted:Ee,shouldSetSelectedFlights:ke,defaultSummaryBarOffset:_e,metadata:r,selectedLocale:R,isSessionChanging:Ke,upsellData:Object(C.a)(),locales:V,requiredPointsForSelectedFlights:ve,upsellConfiguration:Se,searchCriteria:Object(b.a)(),user:Ye,isCompanionFareSearch:Je,isSigningIn:ce,dateFormat:_.b,getNextPage:S.a,language:O.a,formatDateTime:_.c,background:Object(w.a)(),currentFlow:x.a,getBackLinkProps:P.a,currency:Ze,availableBrandOffersCodes:$e,signInProperties:Oe,flightSelectionBackRedirectionURL:tt})}},function(e,t,n){"use strict";var a=n(42);t.a=function(){return Object(a.b)({upsellOptions:function(e){return e.upsell.get("upsellOptions")},isUpsellOffersLoading:function(e){return e.upsell.get("isUpsellOffersLoading")},initiallySelectedHashCodes:function(e){return e.upsell.get("initiallySelectedHashCodes")},upsellSelectionError:function(e){return e.upsell.get("upsellSelectionError")},isUpsellSelectionLoading:function(e){return e.upsell.get("isUpsellSelectionLoading")},upsellSelectionSuccess:function(e){return e.upsell.get("upsellSelectionSuccess")},hasPremiumSeatRemovedWarning:function(e){return e.upsell.get("hasPremiumSeatRemovedWarning")}})}},function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=n(12),l=(n(2376),function(e){var t=e.className,n=e.onClick,a=e.children,i=e.isEnabled;return r.a.createElement("button",{type:"button",className:s()("dxp-clear-filter",t),onClick:n,title:Object(o.i)("filter.clear"),disabled:!i},r.a.createElement("span",{className:"sr-only"},Object(o.i)("filter.reset")),a)});l.defaultProps={className:void 0,children:void 0,isEnabled:!1},t.a=l},function(e,t,n){var a=n(555),r=n(159);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=r(n))==n?n:0),void 0!==t&&(t=(t=r(t))==t?t:0),a(r(e),t,n)}},function(e,t,n){"use strict";var a=n(12),r=n(17),i=n.n(r);t.a=function(e){var t=i.a.duration(e,"minutes"),n=Math.floor(t.asDays()),r=Math.floor(t.subtract(n,"days").asHours()),s=Math.floor(t.subtract(r,"hours").asMinutes()),o=Math.floor(t.subtract(s,"minutes").asSeconds()),l=0===n?"":n+Object(a.i)("time.days",{days:n}),c=0===r?"":r+Object(a.i)("time.hours",{hours:r}),u=s+Object(a.i)("time.minutes",{minutes:s}),d=o+Object(a.i)("time.seconds",{seconds:o});return"".concat(l," ").concat(c," ").concat(u," ").concat(d)}},function(e,t,n){"use strict";var a=n(16),r=n.n(a),i=n(1),s=n.n(i),o=n(6),l=(n(194),n(12)),c=n(528),u=n(78),d=n(1983),p=n(1984),h=n(1566);function f(e){var t=e.checkboxEnabled,n=e.checkboxChecked,a=e.handleCheckboxChange,r=e.purchaseAgreementLinks,i=e.rulesAndFeeData,o=e.onBagFeeLinkClick,u=e.onFareRulesClick;return s.a.createElement("span",{className:"dxp-cart-terms-checkbox"},s.a.createElement(c.a,{id:h.g,translatedLabel:Object(l.h)("payment.completePurchaseAgreementDescription",m(r,i,o,u),"span"),checked:t&&n,disabled:!t,onChange:function(e,t){return a&&a(e,t)}}))}function m(e,t,n,a){var i=e.reduce((function(e,t,n){return e["purchaseAgreementLink".concat(n)]=s.a.createElement(u.a,{className:"link-underlined",href:t,target:"_blank",rel:"external",isExternalLink:!0},Object(l.i)("payment.purchaseAgreementTitles[".concat(n,"]"))),e}),{});return r()({},{fareRules:s.a.createElement(d.a,{rulesAndFeeData:t,onFareRulesClick:a}),baggageInformation:s.a.createElement(p.a,{rulesAndFeeData:t,onBagFeeLinkClick:n})},i)}f.defaultProps={checkboxEnabled:!1,checkboxChecked:!1,handleCheckboxChange:void 0,onBagFeeLinkClick:void 0,onFareRulesClick:void 0},f.contextTypes={translateWithComponents:o.func.isRequired},t.a=f},function(e,t,n){"use strict";var a=n(11),r=n(10);t.a=function(e){var t=e.shoppingCart.getIn(["data","products"],Object(a.Map)()).find((function(e){return e.get("label")===r.c.toLowerCase()})),n=e.shoppingCart.getIn(["data","insurance"],Object(a.Map)()),i=n.isEmpty()||n.get("breakdownElements").isEmpty()?Object(a.List)():Object(a.fromJS)([n]);return(t&&t.size?t.get("breakdownElements",Object(a.List)()):Object(a.List)()).merge(i)}},,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=n(39),E=n.n(b),C=n(158),k=n.n(C),S=(n(6),n(1537)),_=n(1385),O=n.n(_),w=n(5),P=n.n(w),A=n(36),x=n.n(A),N=n(52),T=n.n(N),I=(n(194),n(123)),B=n(11),L=n(1286),D=n(12),j=n(195),F=n(84),M=n(24),R=n(14),V=n(1524),H=n(1525),U=n(1934),W=n(1588),q=n(1732),z=n(1535),G=n(1587),K=n(2),Y=n.n(K),Q="myb-review",X=n(1305),J=n(1360),Z=n(1320),$=n(1374),ee=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement($.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:Q})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props,t=e.crumbState,a=e.breadcrumbConfiguration,r=e.tripParams,i=e.searchCriteriaQueryParams,s=Object(D.i)("summaryBar.flowCrumbs.".concat(Q,".").concat(t),{tripDate:Y()(r.originDate)&&Y()(r.destinationDate)?"":n.getTripDate(i,a,r.originDate,r.destinationDate)});return y.a.createElement(Z.a,{crumbSubTitle:s})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(J.a,{pageName:Q,flowName:M.a.BNPL})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement($.a,{crumbState:X.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:Q})})),g()(p()(n),"getTripDate",(function(e,t,n,a){var r=t.get("flightSelectionCrumbDateFormat");return e.isOneWay?n.format(r):Object(D.i)("summaryBar.flowCrumbs.tripDate",{originDate:n.format(r),destinationDate:a.format(r)})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(L.a,{index:this.props.index,state:this.props.crumbState,icon:this.getCrumbIcon(),title:this.getCrumbTitle(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getCrumbSubTitle(),hoverIcon:this.getHoverIcon(),onClick:function(){return e.props.onMybReviewCrumbClick(e.props.url)}})}}]),t}(v.Component),te=n(42),ne=n(214),ae=n(1560),re=n(1526),ie=function(e){return e.seatSelection.get("selectedSeats",Object(B.List)())},se=function(e){return e.seatSelection.get("uniquePassengers",Object(B.List)())},oe=Object(te.a)((function(e){return e.seatSelection.get("segments",Object(B.List)())}),(function(e){return e.flatten(!0).size})),le=function(e){return e.metadata.get("seatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},ce=n(2014),ue=function(e){return e.metadata.get("breadcrumbs")},de=function(e){return e.metadata.get("flows")},pe=Object(te.a)(Object(ne.a)(),(function(e){return e})),he=function(e){return!e.bnplAncillaries.get("ancillariesAvailable",!1)},fe=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,R.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,R.a.BNPL,(function(e,t,n){return a.renderMYBReviewBreadcrumbItem(e,t,n)})),g()(n,R.a.PASSENGERS,(function(e,t,n){return a.renderPassengersBreadcrumbItem(e,t,n)})),g()(n,R.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,R.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,R.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){return y.a.createElement(q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.ANCILLARIES,e,n,t),url:Object(V.c)(M.a.BNPL,R.a.ANCILLARIES),ancillaries:a.props.ancillaries,index:T()(t,R.a.ANCILLARIES),onAncillariesCrumbClick:a.handleCrumbClick,key:R.a.ANCILLARIES,isAncillariesAvailable:a.props.isAncillariesAvailable})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(G.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.HOME,e,n,t),index:n,url:Object(V.c)(R.a.MYB,R.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:R.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderMYBReviewBreadcrumbItem",(function(e,t,n){return y.a.createElement(ee,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.BNPL,e,n,t),index:T()(t,R.a.BNPL),url:Object(V.c)(M.a.BNPL,R.a.BNPL),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,onMybReviewCrumbClick:a.handleCrumbClick,key:R.a.BNPL})})),g()(p()(a),"renderPassengersBreadcrumbItem",(function(e,t,n){return y.a.createElement(U.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.PASSENGERS,e,n,t),searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:T()(t,e),url:Object(V.c)(M.a.BNPL,R.a.PASSENGERS),onPassengerCrumbClick:a.handleCrumbClick,key:R.a.PASSENGERS})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(z.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.PAYMENT,e,n,t),url:Object(V.c)(M.a.BNPL,R.a.PAYMENT),index:T()(t,R.a.PAYMENT),onPaymentCrumbClick:a.handleCrumbClick,key:R.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(W.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(V.b)(R.a.SEAT_SELECTION,e,n,t),url:Object(V.c)(M.a.BNPL,R.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:T()(t,R.a.SEAT_SELECTION),onSeatSelectionCrumbClick:a.handleCrumbClick,key:R.a.SEAT_SELECTION})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=O()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.isAuthorable,s=n.get(F.a.BNPL),o=x()(a.pathname.split("/")),l=s.keySeq().includes(o)?o:M.a.B2C,c=Object(V.a)(s,r.get("displayHomeCrumb")),u=T()(c,l),d=Object(j.a)(i,"breadcrumbs"),p=c.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",h=E()("dxp-breadcrumbs",p);return y.a.createElement("div",d,y.a.createElement(L.b,{stickyBottomBoundaryID:void 0,className:h,PACKAGE_NAME_CLASSIFIED:"app",cartPrice:this.props.total,showCondensed:this.state.showCondensed,dropDownLabel:Object(D.i)("summaryBar.mobileBreadcrumbDropdownLabel")},P()(c,(function(t){return e.flowsToBreadcrumbComponentMapper[t](l,c,u)}))))}}]),t}(v.PureComponent));g()(fe,"defaultProps",{seatsCrumbData:void 0,ancillaries:Object(B.List)(),total:void 0,isAuthorable:!0,cartCollapsed:!0});var me=Object(I.b)((function(){return Object(te.b)({searchCriteriaQueryParams:pe,breadcrumbConfiguration:ue,tripParams:Object(ae.a)(),flowConfiguration:de,seatsCrumbData:Object(te.b)({selectedSeats:ie,passengers:se,passengersExcludedFromSeatSelection:le,flightsCount:oe}),ancillaries:ce.a,total:re.a,isAncillariesAvailable:he})}),{updateURLQueryParameters:H.a})(fe);n.d(t,"a",(function(){return ge}));var ge=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(me,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.params,o=e.children,l=e.id,c=E()(t,{"is-mobile":k.a.mobile,"is-visible":this.state.isCartExpanded});return y.a.createElement(S.a,{className:c,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,params:s,id:l},o)}}]),t}(v.Component);g()(ge,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},params:{},isCartEnabled:!0})},,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(2),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(12)),k=n(1286),S=n(50),_=n(14),O=n(1305),w=n(85),P=n(1320),A=n(1374),x=function(e){var t=e.origin,n=e.tripIcon,a=e.destination;return E.a.createElement("span",{className:"dxp-flight-breadcrumb-title-container"},t&&E.a.createElement("span",{className:"dxp-flight-selection-origin"},t),!t&&E.a.createElement("span",{className:"sr-only"},Object(C.i)("origin.label")),E.a.createElement(S.c,{name:n,size:"sm"}),a&&E.a.createElement("span",{className:"dxp-flight-selection-destination"},a),!a&&E.a.createElement("span",{className:"sr-only"},Object(C.i)("destination.label")))},N=(n(2266),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return E.a.createElement(A.a,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:_.a.FLIGHT_SELECTION})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props,t=e.crumbState,a=e.tripParams,r=Object(C.i)("summaryBar.flowCrumbs.".concat(_.a.FLIGHT_SELECTION,".").concat(t),{tripDate:y()(a.originDate)&&y()(a.destinationDate)?"":n.getTripDate()});return E.a.createElement(P.a,{crumbSubTitle:r})})),g()(p()(n),"getCrumbTitle",(function(){var e=n.props,t=e.tripParams,a=e.searchCriteriaQueryParams;if(!e.displayPnrFlightData){var r=a.isRoundTrip?S.a.ARROWS_LEFT_RIGHT:S.a.ARROW_BASIC_RIGHT;return E.a.createElement(x,{origin:t.origin,tripIcon:r,destination:t.destination})}var i=t.reservationRoute||{},s=(y()(i.tripType)?a.isRoundTrip:i.tripType===w.a.ROUND_TRIP)?S.a.ARROWS_LEFT_RIGHT:S.a.ARROW_BASIC_RIGHT;return E.a.createElement(x,{origin:i.origin,tripIcon:s,destination:i.destination})})),g()(p()(n),"getHoverIcon",(function(){return E.a.createElement(A.a,{crumbState:O.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration,pageName:_.a.FLIGHT_SELECTION})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(C.i)("summaryBar.flowCrumbs.".concat(_.a.FLIGHT_SELECTION,".").concat(O.a.HOVER));return E.a.createElement(P.a,{crumbSubTitle:e})})),g()(p()(n),"getTripDate",(function(){var e,t,a,r=n.props,i=r.breadcrumbConfiguration,s=r.tripParams,o=r.searchCriteriaQueryParams,l=r.displayPnrFlightData,c=i.get("flightSelectionCrumbDateFormat");return l?(e=y()(s.reservationDates)?s.originDate:s.reservationDates.originDate,t=y()(s.reservationDates)?s.destinationDate:s.reservationDates.destinationDate,a=y()(s.reservationRoute)?o.isOneWay:s.reservationRoute.tripType===w.a.ONE_WAY):(e=s.originDate,t=s.destinationDate,a=o.isOneWay),a?e.locale("en").format(c):Object(C.i)("summaryBar.flowCrumbs.tripDate",{originDate:e.locale("en").format(c),destinationDate:t.locale("en").format(c)})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return E.a.createElement(k.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onFlightSelectionCrumbClick(e.props.url)},className:"dxp-breadcrumb-item flight-selection-breadcrumb-item"})}}]),t}(b.Component));g()(N,"defaultProps",{displayPnrFlightData:!1}),n.d(t,"a",(function(){return N}))},,function(e,t,n){"use strict";var a=n(36),r=n.n(a),i=n(128),s=n.n(i),o=(n(6),n(1)),l=n.n(o),c=n(39),u=n.n(c),d=(n(2277),function(e){var t=e.name,n=e.className,a=t.trim().split(" ");return l.a.createElement("div",{className:u()("user-initial",n)},s()(t)+s()(r()(a)))});n.d(t,"a",(function(){return d}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(5),g=n.n(m),v=n(2),y=n.n(v),b=(n(6),n(1)),E=n.n(b),C=n(39),k=n.n(C),S=n(50),_=n(17),O=n.n(_),w=n(12),P=n(2010),A=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getElement",value:function(e){var t=this,n=this.props.appliedFilters,a={"clear-all":function(){return t.renderClearAll()},departure:function(){return t.renderDeparture(n.departure)},arrival:function(){return t.renderArrival(n.arrival)},duration:function(){return t.renderDuration(n.duration)},stops:function(){return t.renderStops(n.stops)},price:function(){return t.renderPrice(n.price)},airports:function(){return t.renderAirports(n.airports)},airlines:function(){return t.renderAirlines(n.airlines)}};return a[e]&&(n[e]||"clear-all"===e)?a[e]():null}},{key:"clearFilter",value:function(e){return this.props.clearFilter&&this.props.clearFilter(e,!0)}},{key:"renderAirlines",value:function(e){var t=g()(e,(function(t,n){var a="airline".concat(n);return E.a.createElement("span",{key:a},t,n+1!==e.length?", ":null)}));return E.a.createElement("div",{className:"filter"},this.props.clearFilter?this.renderClearFilter(["airlines"]):null,E.a.createElement("span",{className:"filter-label"},Object(w.a)("filter.header.airlines")),t)}},{key:"renderAirports",value:function(e){var t=g()(e,(function(t,n){var a="airport".concat(n);return E.a.createElement("span",{key:a},t,n+1!==e.length?", ":null)}));return E.a.createElement("div",{className:"filter"},this.props.clearFilter?this.renderClearFilter(["airports"]):null,E.a.createElement("span",{className:"filter-label"},Object(w.a)("filter.header.airports")),t)}},{key:"renderArrival",value:function(e){return E.a.createElement("div",{className:"filter"},this.props.clearFilter?this.renderClearFilter(["arrival"]):null,E.a.createElement("span",{className:"filter-label"},Object(w.a)("filter.header.arrival")),Object(w.a)("filter.between",{first:O.a.utc(6e4*e[0]).format(this.props.timeFormat),last:O.a.utc(6e4*e[1]).format(this.props.timeFormat)}))}},{key:"renderClearAll",value:function(){var e=this;return this.props.clearFilter?E.a.createElement(P.a,{className:"clear-all dxp-button secondary pull-right small",onClick:function(){return e.clearFilter(["departure","arrival","duration","stops","price","airports","airlines"])},isEnabled:!0},E.a.createElement(S.c,{name:S.a.CLOSE})," ",Object(w.a)("filter.clearAll")):null}},{key:"renderClearFilter",value:function(e){var t=this;return E.a.createElement(P.a,{onClick:function(){return t.clearFilter(e)},isEnabled:!0},E.a.createElement(S.c,{name:S.a.TRASH}))}},{key:"renderDeparture",value:function(e){return E.a.createElement("div",{className:"filter"},this.props.clearFilter?this.renderClearFilter(["departure"]):null,E.a.createElement("span",{className:"filter-label"},Object(w.a)("filter.header.departure")),Object(w.a)("filter.between",{first:O.a.utc(6e4*e[0]).format(this.props.timeFormat),last:O.a.utc(6e4*e[1]).format(this.props.timeFormat)}))}},{key:"renderDuration",value:function(e){return E.a.createElement("div",{className:"filter"},this.props.clearFilter?this.renderClearFilter(["duration"]):null,E.a.createElement("span",{className:"filter-label"},Object(w.a)("filter.header.duration")),"<"," ",Math.floor(e[0]/60)," ",Object(w.a)("filter.hrs"))}},{key:"renderPrice",value:function(e){return E.a.createElement("div",{className:"filter"},this.props.clearFilter?this.renderClearFilter(["price"]):null,E.a.createElement("span",{className:"filter-label"},Object(w.a)("filter.header.price")),"<"," ",Math.floor(e[0]))}},{key:"renderStops",value:function(e){var t=g()(e,(function(t,n){var a="stops".concat(n);return E.a.createElement("span",{key:a},Object(w.a)("filter.stops.".concat(t)),n+1!==e.length?", ":null)}));return E.a.createElement("div",{className:"filter"},this.props.clearFilter?this.renderClearFilter(["stops"]):null,E.a.createElement("span",{className:"filter-label"},Object(w.a)("filter.header.stops")),t)}},{key:"render",value:function(){var e=this.props,t=e.summary,n=e.appliedFilters,a=!y()(n),r=k()("dxp-filter-summary",this.props.className);return E.a.createElement("div",{className:r},a?this.getElement(t):null)}}]),t}(b.Component);f()(A,"defaultProps",{className:void 0,clearFilter:void 0,timeFormat:"HH:mm A"}),n.d(t,"a",(function(){return A}))},,function(e,t,n){"use strict";var a=n(9),r=n(114),i=n(1998).a;n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var s=function(e){var t=Object(a.l)("exchange").concat("?").concat(Object(r.l)(e));return Object(a.g)(t.toString(),a.b).then((function(e){return i({pnr:e})}))},o=function(e){var t=Object(a.l)("exchange").concat("?").concat(Object(r.l)(e));return Object(a.g)(t.toString(),a.b)}},,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(321),y=n.n(v),b=n(145),E=n.n(b),C=n(5),k=n.n(C),S=(n(6),n(1)),_=n.n(S),O=n(39),w=n.n(O),P=n(12),A=(n(2216),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={selectedValue:e.defaultValue||"",focusedValue:""},n}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.defaultValue!==this.props.defaultValue&&this.setState({selectedValue:e.defaultValue})}},{key:"onBlur",value:function(){this.setState({focusedValue:""})}},{key:"onClick",value:function(e,t){this.setState({selectedValue:t}),this.props.onClick&&this.props.onClick(e,t)}},{key:"onFocus",value:function(e){this.setState({focusedValue:e})}},{key:"getValue",value:function(){return this.state.selectedValue}},{key:"isValid",value:function(){return!0}},{key:"renderButtons",value:function(e,t,n,a){var i=this,s=t?{checked:"checked"}:{},o=w()("toggle-button-item",y()(n));return _.a.createElement("li",{className:o,key:a},_.a.createElement("label",{htmlFor:"toggle-button-group-".concat(y()(a)),className:e},this.props.prefix?Object(P.a)("".concat(this.props.prefix,".").concat(n)):Object(P.a)(n),_.a.createElement("input",r()({id:"toggle-button-group-".concat(y()(a)),type:"radio",className:"hidden"},s,{name:"toggle-button-group-".concat(y()(a)),value:n,onClick:function(e){return i.onClick(e,n)},onChange:function(e){return i.onClick(e,n)},onFocus:function(){return i.onFocus(n)},onBlur:function(){return i.onBlur()},"aria-describedby":this.props.ariaDescribedBy}))))}},{key:"renderToggleBar",value:function(){var e=this;return k()(E()(0,Number(this.props.numberOfOptions||2)),(function(t){var n=w()("toggle-button dxp-toggle-button-option-".concat(t),e.props.buttonClassNames,{selected:e.props.options[t]===e.state.selectedValue,focused:e.props.options[t]===e.state.focusedValue}),a=e.props.options[t]===e.state.selectedValue,r=e.props.options[t];return e.renderButtons(n,a,r,t)}))}},{key:"render",value:function(){var e=w()("dxp-toggle-button clearfix",this.props.className,{processing:this.props.processing});return _.a.createElement("fieldset",{className:e,disabled:this.props.disabled},_.a.createElement("legend",{className:"dxp-toggle-button-label"},Object(P.a)(this.props.label)),_.a.createElement("ul",{className:"btn-group toggle-button-group"},this.renderToggleBar()))}}]),t}(S.Component));g()(A,"defaultProps",{className:"",processing:!1,buttonClassNames:"",ariaDescribedBy:void 0,label:"",disabled:!1}),n.d(t,"a",(function(){return A}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(105),y=n.n(v),b=n(2),E=n.n(b),C=(n(6),n(1)),k=n.n(C),S=n(153),_=n(27),O=n.n(_),w=n(0),P=n.n(w),A=n(50),x=n(39),N=n.n(x),T=n(12),I=n(129),B=n(88),L=function(e){function t(e){var n;r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"handlePromoCodeBlur",(function(e){e&&e.preventDefault();var t=n.promoCode.current.getValue(),a=t?[t]:[];E()(a)&&n.onPromoCodeClose(),n.props.onBlur&&n.props.onBlur({promoCodes:a})})),g()(p()(n),"handlePromoCodeClick",(function(e){e&&e.preventDefault(),n.setState({isPromoCodeFieldDisplayed:!0},(function(){n.promoCode.current&&n.promoCode.current.setFocusToTheInput()}))}));var a=!E()(P()(e,"promoCodes"));return n.promoCode=k.a.createRef(),n.promoCodeMask=k.a.createRef(),n.state={isPromoCodeFieldDisplayed:a||!1},n}return f()(t,e),s()(t,[{key:"onPromoCodeClose",value:function(){this.setState({isPromoCodeFieldDisplayed:!1}),this.promoCodeMask.current.focus()}},{key:"isValid",value:function(){return E()(this.promoCode.current)||Object(S.c)({promoCode:"promoCode"},{promoCode:this.promoCode.current})}},{key:"renderPromoCodeField",value:function(){var e=this.props,t=e.validators,n=e.promoCodes;return k.a.createElement(I.a,{validators:t,ref:this.promoCode,defaultValue:O()(n),label:"".concat(Object(T.i)("flightSearch.promoCode.label")," (").concat(Object(T.i)("app.optional"),")"),onBlur:this.handlePromoCodeBlur,className:"promo-code"})}},{key:"renderPromoCodeMask",value:function(){var e=N()("small secondary dxp-promo-code-button");return k.a.createElement(B.a,{id:"promo-code-mask",className:e,onClick:this.handlePromoCodeClick,ref:this.promoCodeMask},k.a.createElement(A.c,{name:A.a.TAG,size:this.props.size,fill:!0})," ",Object(T.a)("flightSearch.promoCode.label"))}},{key:"render",value:function(){var e=this.state.isPromoCodeFieldDisplayed;return k.a.createElement("div",{className:"dxp-promo-code"},e&&this.renderPromoCodeField(),!e&&this.renderPromoCodeMask())}}]),t}(C.Component);g()(L,"defaultProps",{validators:[],promoCodes:[],size:void 0});n(2263);n.d(t,"a",(function(){return F}));var D="awardBookingPromoCode",j="flightSearchPromoCode",F=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"handlePromoCodeBlur",(function(e){n.isValid()&&n.props.onPromoCodeChange(e)})),n}return f()(t,e),s()(t,[{key:"isValid",value:function(){var e={awardBookingPromoCode:this.props.isPromoCodeEnabledWhenRBE&&!E()(this.awardBookingPromoCode),flightSearchPromoCode:!E()(this.flightSearchPromoCode)};return Object(S.c)(e,y()({awardBookingPromoCode:this.awardBookingPromoCode,flightSearchPromoCode:this.flightSearchPromoCode},E.a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRBEEnabled,a=t.promoCodes,r=t.isPromoCodeEnabledWhenRBE,i=t.promoCodeValidators,s=t.awardBookingPromoCodeValidators,o=t.size,l=n&&r?s:i,c=n&&r?D:j;return k.a.createElement(L,{validators:l,ref:function(t){e[c]=t},promoCodes:a,size:o,onBlur:this.handlePromoCodeBlur})}}]),t}(C.Component);g()(F,"defaultProps",{isRBEEnabled:!1,promoCodes:[],isPromoCodeEnabledWhenRBE:!1,promoCodeValidators:[],awardBookingPromoCodeValidators:[],size:void 0})},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2011),g=n.n(m),v=n(67),y=n.n(v),b=n(0),E=n.n(b),C=(n(6),n(1)),k=n.n(C),S=n(39),_=n.n(S),O=n(17),w=n.n(O),P=n(114),A=n(1886),x=(n(2158),function(e){function t(e,n){var a;return r()(this,t),(a=l()(this,u()(t).call(this,e,n))).state={hourFocused:!1,minFocused:!1,minuteValue:0,hourValue:0},a}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setValue(this.props.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setValue(e.value)}},{key:"onBlur",value:function(e,t){this.setFocused(t,!1);var n,a=parseInt(e.target.value,10),r=this.props,i=r.max,s=r.min;if("hour"===t){var o=g()(a,0,23);n=w.a.duration("".concat(o,":").concat(this.state.minuteValue)).asMinutes()}else{var l=g()(a,0,59);n=w.a.duration("".concat(this.state.hourValue,":").concat(l)).asMinutes()}var c=g()(n,s,i);this.setValue(c),this.props.onChange&&this.props.onChange({target:{value:w.a.utc(6e4*c).format("HH:mm")}})}},{key:"onChange",value:function(e,t){var n,a=parseInt(e.target.value,10);n="hour"===t?w.a.duration("".concat(a,":").concat(this.state.minuteValue)).asMinutes():w.a.duration("".concat(this.state.hourValue,":").concat(a)).asMinutes(),this.setValue(n)}},{key:"setFocused",value:function(e,t){"hour"===e&&this.setState({hourFocused:t}),"min"===e&&this.setState({minFocused:t})}},{key:"setValue",value:function(e){return Object(P.h)("time")?null:y()(e)?this.setState({minuteValue:E()(e.split(":"),"1",0),hourValue:E()(e.split(":"),"0",0)}):this.setState({minuteValue:w.a.utc(6e4*e).format("mm"),hourValue:w.a.utc(6e4*e).format("HH")})}},{key:"isFocused",value:function(){return this.state.hourFocused||this.state.minFocused}},{key:"renderNumberField",value:function(){var e=this;return k.a.createElement("div",{className:_()("dxp-time-input",this.props.className)},k.a.createElement("div",{className:_()("dxp-time-input-container",{"is-focused":this.isFocused()})},k.a.createElement("input",{className:"hour-input",step:"1",placeholder:"00",type:A.a.NUMBER,min:"0",max:"23",id:"".concat(this.props.id,"-hours"),disabled:this.props.disabled,value:this.state.hourValue,onFocus:function(){return e.setFocused("hour",!0)},onBlur:function(t){return e.onBlur(t,"hour")},onChange:function(t){return e.onChange(t,"hour")}}),k.a.createElement("span",{className:"separator"},":"),k.a.createElement("input",{className:"min-input",step:"1",placeholder:"00",type:A.a.NUMBER,disabled:this.props.disabled,min:"0",max:"59",id:"".concat(this.props.id,"-minutes"),onFocus:function(){return e.setFocused("min",!0)},onBlur:function(t){return e.onBlur(t,"min")},value:this.state.minuteValue,onChange:function(t){return e.onChange(t,"min")}})))}},{key:"renderTimeField",value:function(){return k.a.createElement("input",{id:this.props.id,type:A.a.TIME,onChange:this.props.onChange,onBlur:this.props.onBlur,value:this.props.value})}},{key:"render",value:function(){return Object(P.h)(A.a.TIME)?this.renderTimeField():this.renderNumberField()}}]),t}(C.Component));f()(x,"defaultProps",{className:"",onBlur:function(){},id:"input"}),n.d(t,"a",(function(){return x}))},,function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(1),s=n.n(i),o=n(78),l=(n(6),n(177)),c=n(39),u=n.n(c),d=n(17),p=n.n(d),h=n(12);n(2156);function f(e){var t=e.origin,n=e.destination,a=e.departure,i=e.flight,c=e.configuration,d=e.className,f=function(e,t,n,a,i){var s=p()(n),o={flightNumber:a.flightNumber,airline:a.airlineCode,origin:e,destination:t,departureDate:s.format(i.departureDateFormat),departureTime:s.format(i.departureTimeFormat)},c=r()(i.urlQueryParameters,(function(e,t){return e[i.fieldMapping[t]]=o[t],e}),{});return"".concat(i.url,"?").concat(Object(l.stringify)(c))}(t,n,a,i,c);return s.a.createElement(o.a,{className:u()("dxp-on-time-performance",d),title:Object(h.i)("flightSelection.onTimePerformance"),isExternalLink:!0,target:"_blank",rel:"external",href:f},Object(h.a)("flightSelection.onTimePerformance"))}f.defaultProps={className:""};var m=f;n.d(t,"a",(function(){return m}))},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o}));var a="dxp-date-selection-view",r="month-calendar",i="calendar-day",s="dxp-calendar-load-next-month",o={DATE_SELECTED:"calendar-day-selected",DATE_NOT_SELECTED:"calendar-day-not-selected",DAY_HAS_PRICE:"calendar-day-has-price",NO_PRICE_AVAILABLE:"no-price-available"}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));var a="main-trip-details",r="dxp-cancel-flight-summary-refund-details",i="dxp-flight-summary-payment-details"},function(e,t,n){var a=n(2457),r=n(2280);e.exports=function(e){return a(r(e))}},,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(21),E=n.n(b),C=n(321),k=n.n(C),S=n(0),_=n.n(S),O=n(2),w=n.n(O),P=n(82),A=n.n(P),x=n(36),N=n.n(x),T=n(27),I=n.n(T),B=n(122),L=n.n(B),D=n(1),j=n.n(D),F=n(6),M=(n(194),n(123)),R=n(11),V=n(39),H=n.n(V),U=n(12),W=n(50),q=(n(1292),"ducp-component-cart-panel");var z=function(e){var t=e.children;return j.a.createElement("ul",{className:"".concat(q,"-list")},t)},G=n(1249),K=n(1393),Y=n(1414),Q=n(1561);function X(e){var t=e.packageName,n=e.parentType,a=e.removeItem,r=e.cancelRemoval,i=e.removalFailed,s=e.removalProcessing,o=H()("cart-item-remove-confirmation",{error:i}),l=n?".".concat(n.toLowerCase()):"";return j.a.createElement("div",{className:o},j.a.createElement("span",{className:"cart-item-remove-confirmation-text"},i&&Object(U.a)("".concat(t,".removeItemError").concat(l)),!i&&Object(U.a)("".concat(t,".removeItemConfirmation").concat(l))),j.a.createElement("div",{className:"cart-item-remove-confirmation-actions"},j.a.createElement("button",{type:"button",onClick:r,className:"secondary spark-btn spark-btn--xs spark-btn--secondary"},Object(U.a)("".concat(t,".cancel"))),j.a.createElement("button",{type:"button",onClick:a,className:"primary spark-btn spark-btn--xs"},s&&j.a.createElement(Q.a,{className:"small"}),!s&&i&&Object(U.a)("".concat(t,".retry")),!s&&!i&&Object(U.a)("".concat(t,".yes")))))}X.defaultProps={removalFailed:!1,removalProcessing:!1,parentType:void 0};var J=X,Z=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{showRemoveConfirmation:!1,removeConfirmationError:!1,removalProcessing:!1,showBreakdown:n.props.isExpanded}),y()(f()(n),"onCancelRemoveClick",(function(){n.setState({showRemoveConfirmation:!1,removeConfirmationError:!1})})),y()(f()(n),"onRemoveItem",(function(){var e=n.props.onRemoveItemClick;return n.setState({showRemoveConfirmation:!1,removalProcessing:!0}),e&&e(n.props.item).then((function(){!n.componentIsUnmounted&&n.setState({removalProcessing:!1})})).catch((function(){!n.componentIsUnmounted&&n.setState({removeConfirmationError:!0,removalProcessing:!1})}))})),y()(f()(n),"onToggleClick",(function(){n.setState((function(e){return{showBreakdown:!e.showBreakdown}}))})),n}return g()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.componentIsUnmounted=!0}},{key:"handleRemoveItemClick",value:function(){this.props.showRemoveConfirmation?this.setState({showRemoveConfirmation:!0}):this.onRemoveItem(this.props.item)}},{key:"handleSeatDisplay",value:function(){var e=this.props,t=e.showNewOldSeatAsOneEntry,n=e.label,a=e.originalSeat,r=e.seatType;return t?j.a.createElement("div",{className:"seats-together"},j.a.createElement("div",{className:"cart-item-label"},n),a&&j.a.createElement("div",{className:"original-seat"},a)):j.a.createElement("div",{className:"seats-separately"},j.a.createElement("div",{className:"cart-item-label"},n),r&&j.a.createElement("div",{className:"seat-type"},r))}},{key:"renderRemoveItem",value:function(){var e=this;return j.a.createElement("button",{type:"button",className:"item-remove spark-icon-close-circle",onClick:function(){return e.handleRemoveItemClick(e.props.item)}},j.a.createElement("span",{className:"spark-assistive-text"},Object(U.i)([this.props.packageName,"removeItem"])))}},{key:"renderToggleIcon",value:function(e){var t=this.state.showBreakdown?"expanded":"collapsed";return j.a.createElement("button",{type:"button",className:"breakdown-icon",onClick:this.onToggleClick},j.a.createElement(W.c,{className:"breakdown-elements-icon",name:e,srOnlyText:Object(U.i)([this.props.packageName,t])}))}},{key:"renderRemoveConfirmation",value:function(){return j.a.createElement(J,{packageName:this.props.packageName,parentType:this.props.parentType,removeItem:this.onRemoveItem,cancelRemoval:this.onCancelRemoveClick,removalFailed:this.state.removeConfirmationError,removalProcessing:this.state.removalProcessing})}},{key:"render",value:function(){var e=this.props,n=e.iconName,a=e.iconFill,r=e.labelSize,i=e.initial,s=e.className,o=e.price,l=e.isCartItemRemovable,c=e.tooltipText,u=e.packageName,d=e.children,p=e.id,h=e.isFree,f=e.isAlreadyPaid,m=e.isIncluded,g=e.initialAriaLabel,v=e.showBreakdown,y=e.breakdownElements,b=H()("ducp-component-cart-item","cart-item",s,r,{"have-icon":n||i}),E=this.state.showBreakdown?W.a.ARROW_CHEVRON_UP:W.a.ARROW_CHEVRON_DOWN;return j.a.createElement("div",{className:b},j.a.createElement("div",{className:"main-content"},j.a.createElement("div",{className:"left-content"},n&&j.a.createElement(W.c,{className:"flex-items",name:n,fill:a}),!n&&i&&t.createInitialTooltip(i,c,p,g),this.handleSeatDisplay()),j.a.createElement("div",{className:"right-content"},f&&j.a.createElement("div",{className:"already-paid"},Object(U.a)([u,"alreadyPaid"])),!f&&m&&j.a.createElement("div",{className:"included"},Object(U.a)([u,"included"])),!f&&!m&&h&&j.a.createElement("div",{className:"free"},Object(U.a)([u,"free"])),!f&&!m&&!h&&o&&j.a.createElement("div",{className:"cart-item-price flex-items"},j.a.createElement(G.a,{price:o,PACKAGE_NAME_CLASSIFIED:u})),v&&this.renderToggleIcon(E),l&&j.a.createElement("div",{className:"remove-item flex-items"},this.renderRemoveItem()))),this.state.showBreakdown&&j.a.createElement("div",{className:"breakdown-elements"},y),d&&j.a.createElement("div",{className:"additional-details"},d),(this.state.showRemoveConfirmation||this.state.removeConfirmationError)&&this.renderRemoveConfirmation())}}],[{key:"createInitialTooltip",value:function(e,t,n,a){var r=j.a.createElement(K.a,{className:"trigger flex-items",isLight:!0,initial:e,size:"xs"});return t?j.a.createElement(Y.b,{ariaLabel:a,position:Y.a.LEFT,tooltip:t,id:"".concat(n,"-tooltip")},r):r}}]),t}(D.PureComponent);y()(Z,"defaultProps",{breakdownElements:void 0,showBreakdown:!1,item:void 0,showRemoveConfirmation:!1,parentType:"",children:void 0,onRemoveItemClick:void 0,initial:"",className:"",isCartItemRemovable:!1,tooltipText:"",price:void 0,label:void 0,iconName:void 0,iconFill:!0,labelSize:"sm",isFree:!1,isAlreadyPaid:!1,isIncluded:!1,initialAriaLabel:void 0,isExpanded:!1,seatType:void 0,originalSeat:void 0,showNewOldSeatAsOneEntry:!0});var $=Z;function ee(e){var t=e.children,n=e.totalPrice,a=e.PACKAGE_NAME_CLASSIFIED;return j.a.createElement("div",{className:"".concat(q,"-footer")},t,n&&j.a.createElement($,{id:"cart-total",className:"cart-total",packageName:a,price:n,label:Object(U.a)([a,"cartTotalCost"])}))}ee.defaultProps={children:void 0,totalPrice:void 0,PACKAGE_NAME_CLASSIFIED:void 0};var te=ee;function ne(e){var t=e.label,n=e.subTitle,a=e.children,r=e.className,i=e.titleTag;return j.a.createElement("div",{className:H()(q,r)},j.a.createElement(i,{className:"title"},t),n&&j.a.createElement("div",{className:"cart-panel-subtitle"},n),a)}ne.CartPanelList=z,ne.CartPanelFooter=te,ne.defaultProps={className:void 0,subTitle:void 0,titleTag:"h3"};var ae=ne,re=n(1997),ie=n(1602),se=n(1324),oe=n(2051),le=n(322),ce=n(60),ue=n(10),de=n(4),pe=n.n(de),he=n(5),fe=n.n(he),me=n(1281),ge=n(154),ve=n(14);n(2222);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){return{price:{alternatives:e.get("alternatives",[]).toArray().map((function(e){return[I()(e.toArray()).toObject()]}))}}}function Ce(e){return e.valueSeq().toArray().map((function(e){var t,n,a=e.toObject();return be({},a,{},a.price?Ee(a.price):{},{},a.refund?(t=a.refund,{refund:be({},n=t.toObject(),{},n.price?Ee(n.price):{})}):{})}))}function ke(e,t){var n=e.paymentOptionsDetails,a=e.title,r=e.carPrice,i=e.hotelPrice,s=e.id,o=e.currentPage,l=e.className,c=t.translateWithComponents,u=Ce(n);return w()(u)&&w()(r)?null:j.a.createElement("div",{id:s,className:H()("payment-details",l)},j.a.createElement(me.a,{className:"payment-details-title",title:a,tag:"h4"}),!w()(u)&&j.a.createElement("ul",{className:"payment-details-list"},function(e,t){var n=t===ve.a.MYB?function(e){return pe()(e,(function(e,t){if(A()(_()(t,"price",void 0)))return t.refund&&t.refund.paymentCode&&(e[t.refund.paymentCode]=t),e;if(A()(e[t.paymentCode])&&(e[t.paymentCode]={price:{alternatives:[]},identifier:t.identifier,paymentCode:t.paymentCode,paymentType:t.paymentType,paymentSubCode:t.paymentSubCode}),Object(ce.k)(_()(t,["price","alternatives"],[])))return e;var n=_()(e[t.paymentCode].price,"alternatives",[]),a=_()(t.price,"alternatives",[]);return e[t.paymentCode].price={alternatives:Object(ce.q)(n,a)},e}),{})}(e):e;return fe()(n,(function(e,t){var n=function(e){if(A()(e.refund))return _()(e,"paymentCode",_()(e,"paymentType",""));return _()(e,"refund.paymentCode",_()(e,"refund.paymentType",""))}(e),a=e.thirdPartyTransactionId,r=e.thirdPartyReferenceNumber,i=e.paymentSubCode,s=e.refund?e.refund.paymentType:e.paymentType,o=function(e){if(A()(e.refund))return pe()([e.price],(function(e,t){return Object(ce.q)(e,_()(t,"alternatives",[]))}),0);return _()(e,"refund.price.alternatives")}(e),l=H()("".concat(n,"-card"),"credit-card-image",s!==ge.b.CREDIT_CARD&&"non-credit-card");return j.a.createElement("li",{key:n+t},j.a.createElement("span",{className:"payment-card-amount"},j.a.createElement("span",{className:l}),j.a.createElement("span",{className:"card-identifier-details"},!i&&j.a.createElement("span",{className:"payment-method"},Object(U.a)("paymentMethods.".concat(n))),i&&j.a.createElement("span",{className:"payment-method"},Object(U.a)("paymentMethods.".concat(n,".").concat(i))),j.a.createElement("span",{className:"payment-card-details"}," ",e.identifier," ")),j.a.createElement("span",{className:"dxp-cart-item-amount"},j.a.createElement(G.a,{price:o}))),a&&j.a.createElement("div",{className:"third-party-transaction-id"},Object(U.a)("paymentDetails.thirdPartyTransactionId",{thirdPartyTransactionId:a})),r&&j.a.createElement("div",{className:"third-party-reference-number"},Object(U.a)("paymentDetails.thirdPartyReferenceNumber",{thirdPartyReferenceNumber:r})))}))}(u,o)),!w()(r)&&c("confirmation.carPaymentDetails",{price:j.a.createElement(G.a,{price:r})}),!w()(i)&&c("confirmation.hotelPaymentDetails",{price:j.a.createElement(G.a,{price:i})}))}ke.defaultProps={paymentOptionsDetails:[],carPrice:{},hotelPrice:void 0,id:void 0,currentPage:"",className:void 0},ke.contextTypes={translateWithComponents:F.func.isRequired};var Se=ke,_e=n(1565),Oe=n.n(_e),we=n(1944),Pe=n(1442),Ae=n(84),xe=n(1539),Ne=n(521),Te=n(2078),Ie=n(195),Be=n(534),Le=n(542),De=n(527),je=n(439),Fe=n(1999);function Me(e){var t=e.children,n=e.airports,a=e.label,r=e.className,i=e.PACKAGE_NAME_CLASSIFIED,s=e.routeSeparator,o=e.showFlightRoute;return j.a.createElement("div",{className:H()("ducp-component-cart-flight-segment",r)},j.a.createElement("div",{className:"cart-flight-segment-header"},j.a.createElement("div",{className:"flight-segment-title"},j.a.createElement("div",null,a),o&&j.a.createElement(se.b,{airports:n,packageName:i,separator:s}))),j.a.createElement("div",{className:"cart-flight-segment-content"},t))}Me.defaultProps={className:void 0,PACKAGE_NAME_CLASSIFIED:"airports",routeSeparator:"-",showFlightRoute:!0};var Re=Me,Ve=n(52),He=n.n(Ve),Ue=n(51),We=n.n(Ue),qe=n(23),ze=n.n(qe),Ge=n(109),Ke=n.n(Ge),Ye=n(15),Qe=n.n(Ye),Xe=n(155);function Je(e,t){var n=t.get("price");if(A()(n))return!1;var a,r,i=(a=n,r=ze()(a)?a:[a],!Boolean(Qe()(Ke()(r),(function(e){return 0!==e.amount}))));return t.get("label")!==Xe.a.SEAT||!i||e.get("freePremiumSeatsRemovable")}function Ze(e,t,n,a,r){return function(e,t,n){return e.getIn(["enableAncillaryRemove",t,n],!1)}(e,a,r)&&Je(e,t)&&function(e,t,n){var a=n.toObject(),r=a.removableItemTypes,i=a.ancillariesNotRemovable;return!!r.includes(t)&&(t!==Xe.a.ANCILLARY||-1===He()(We()(i,"toJS",[]),_()(We()(e,"toJS",{}),"label")))}(t,n,e)}var $e=n(125),et=n(574),tt=(n(2224),function(e){var t=e.element,n=e.breakDownConfiguration,a=n.showZeroTaxBreakdown,r=n.collapseCartWithOneItem,i=t.get("label")===ue.G,s=t.get("subElements",Object(R.List)()).filter((function(e){return e.get("label")!==ue.L||Object(ce.m)(e.get("price"),a)}));return Object(le.e)(s.size,r)&&j.a.createElement("ul",{className:"cart-items-additional-breakdown"},function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.reduce((function(e,n,a){var r=t&&n.get("label")===ue.s?"shoppingCart.discountCartItems.SEAT":"shoppingCart.subElements.".concat(n.get("label"));return e.push(j.a.createElement("li",{key:"sub-element-".concat(n.get("label"),"-").concat(a),className:H()("sub-element","".concat(n.get("label").toLowerCase()))},j.a.createElement($,{className:H()("sub-element-label","".concat(n.get("label").toLowerCase(),"-label")),item:n.toJS(),packageName:"shoppingCart",price:n.get("price"),label:Object(U.a)(r),id:"sub-element-".concat(n.get("label"),"-").concat(a)}))),e}),[])}(s,i))});function nt(e){var t=e.getIn(["passengerDetails","firstName"],"").toUpperCase(),n=e.getIn(["passengerDetails","lastName"],"").toUpperCase();return Object(U.i)("shoppingCart.passengerName",{firstName:t,lastName:n})}n(2225);function at(e,t,n,a,r,i,s,o,l){var c="".concat(n.get("origin")).concat(n.get("destination")).concat(a);return t.getIn([c],Object(R.List)()).map((function(t,c){return t.valueSeq().toArray().map((function(u){return function(e,t,n,a,r,i,s,o,l,c,u,d){var p,h,f=l.get("price")&&l.get("price",Object(R.List)());if(s===Ae.a.MTO){if(u&&2===d.size){if(l.get("seatType")===et.a.OLD)return null;var m=d.filter((function(e){return e.get("seatType")===et.a.OLD}));p=Object(U.i)("shoppingCart.originalSeatNumber",{originalSeat:m.getIn(["0","seatNumber"])})}l.get("seatNumber")&&(h=l.get("seatType",Object(R.List)())===et.a.NEW?et.a.NEW:et.a.ORIGINAL)}var g="".concat(n.get("origin")).concat(n.get("destination")).concat(a),v=l.getIn(["passenger","passengerInfo","type"]),y=r.get(l.getIn(["passenger","passengerIndex"])-1),b=Object(U.a)("shoppingCart.seatNumber",{seatNumber:l.get("seatNumber")}),E=l.get("seatNumber")?b:Object(U.a)("shoppingCart.emptyPassenger"),C=v===$e.a.INF?Object(U.a)("shoppingCart.infantPassenger"):E,k=Xe.a.SEAT,S=!A()(l.get("seatNumber"))&&Ze(e,l,k,s,o),O=e.get("cartItemsWithRemoveConfirmation"),w=O&&O.includes(k),P=v!==$e.a.INF&&(f.isEmpty()&&!A()(l.get("seatNumber"))),x=Object(le.b)(e),N=Object(le.e)(l.get("subElements",Object(R.List)()).size,_()(x,"collapseCartWithOneItem"))&&!P,T=N&&j.a.createElement(tt,{element:l,breakDownConfiguration:x});return j.a.createElement("li",{className:H()("seat-cart-item",{"grouped-taxes-breakdown":N,"remove-confirmation-icon":S}),key:"".concat(c,"-").concat(g,"-").concat(l.get("seatNumber"))},j.a.createElement($,{showBreakdown:N,breakdownElements:T,isFree:P,showRemoveConfirmation:w,isCartItemRemovable:S,parentType:k,item:l.toJS(),configuration:e,onRemoveItemClick:i,packageName:"shoppingCart",price:f,tooltipText:nt(l.get("passenger")),label:C,initial:y,id:"".concat(c,"-").concat(g,"-").concat(a,"-cart-item"),originalSeat:p,showNewOldSeatAsOneEntry:u,seatType:h}))}(e,0,n,a,r,i,s,o,u,c,l,t)}))}))}var rt=function(e){var t=e.configuration,n=e.seatAssignmentPerSegment,a=e.passengerTypeCount,r=e.segments,i=e.onRemoveItemClick,s=e.currentFlow,o=e.currentPage,l=e.showNewOldSeatAsOneEntry;return r.map((function(e,r){var c=e.get("origin"),u=e.get("destination"),d={departure:{code:c,name:c},arrival:{code:u,name:u}};return j.a.createElement("div",{className:"seat-cart-items",key:"".concat(c,"-").concat(u,"-").concat(r)},j.a.createElement(Re,{airports:d,label:Object(U.a)("shoppingCart.flight")},j.a.createElement("ul",{className:"cart-item-list"},at(t,n,e,r,a,i,s,o,l))))}))};rt.defaultProps={onRemoveItemClick:L.a,currentFlow:"b2c",currentPage:"seat-selection",searchCriteria:{passengers:{ADT:1}},segments:Object(R.List)()};var it=rt;n(2226);function st(e,t,n,a,r,i,s,o){var l="".concat(r.get("origin")).concat(r.get("destination")).concat(i),c=r&&r.get("price"),u=r.get("seatNumber")?Object(U.a)("shoppingCart.exchangeSeat",{origin:r.get("origin"),destination:r.get("destination"),quantity:r.get("quantity")}):Object(U.a)("shoppingCart.emptyPassenger"),d=w()(o)||o.getIn(["passengerInfo","type"])!==$e.a.INF?u:Object(U.a)("shoppingCart.infantPassenger"),p=r.size?r.toJS():{},h=Ze(e,r,Xe.a.SEAT,n,a),f=e.get("cartItemsWithRemoveConfirmation"),m=f&&f.includes(Xe.a.SEAT),g=(A()(c)||c.isEmpty())&&!A()(r.get("seatNumber")),v=Object(le.b)(e),y=Object(le.e)(r.get("subElements",Object(R.List)()).size,_()(v,"collapseCartWithOneItem"))&&!g,b=y&&j.a.createElement(tt,{element:r,breakDownConfiguration:v});return j.a.createElement("li",{className:H()("exchange-seat-cart-item",{"grouped-taxes-breakdown":y,"remove-confirmation-icon":h}),key:l},j.a.createElement($,{showBreakdown:y,breakdownElements:b,isFree:g,showRemoveConfirmation:m,isCartItemRemovable:h,parentType:Xe.a.SEAT,item:p,configuration:e,onRemoveItemClick:t,packageName:"shoppingCart",tooltipText:!w()(o)&&nt(o),price:c,label:d,initial:s,id:"".concat(l,"-cart-item")}))}var ot=function(e){var t=e.seatConfiguration,n=e.seatAssignment,a=e.onRemoveItemClick,r=e.currentFlow,i=e.currentPage,s=e.segments,o=e.passengerTypeCount,l=e.passengers;return s.map((function(e){var s=e.get("origin"),c=e.get("destination"),u={departure:{code:s,name:s},arrival:{code:c,name:c}},d=n.filter((function(e){return e.get("origin")===s&&e.get("destination")===c}));return j.a.createElement("div",{className:"exchange-seat-cart-items",key:"".concat(s,"-").concat(c)},j.a.createElement(Re,{airports:u,label:Object(U.a)("shoppingCart.flight")},j.a.createElement("ul",{className:"exchange-cart-item-list"},d.size>0?d.toArray().map((function(e,n){return st(t,a,r,i,e,n)})):o.toArray().map((function(e,n){return st(t,a,r,i,Object(R.fromJS)({origin:s,destination:c}),n,e,l.get(n))})))))}))};var lt=function(e){var t=e.upgradeItem,n=e.passengerTypeCount,a=e.breakDownConfiguration,r=e.id,i=t.get("price"),s=t.getIn(["passenger","passengerIndex"]),o=n.get(s-1),l=function(e){var t=e.get("additionalProductInformation",Object(R.Map)()),n=t.get("originalBookingClass"),a=t.get("selectedBookingClass"),r=e.getIn(["travelPart","bookingClass"]),i=e.get("label");if(n&&a)return j.a.createElement("div",{className:H()("upgrade-offer-label",i)},Object(U.a)("upgrade.bookingClass.".concat(n)),j.a.createElement(W.c,{name:W.a.ARROW_EMPTY_RIGHT,size:"sm",fill:!0}),Object(U.a)("upgrade.bookingClass.".concat(a)));if(e.get("label")===ue.P){var s=e.getIn(["travelPart","segments"],Object(R.Map)()).getIn(["0","bookingClass"],void 0);return j.a.createElement("div",{className:"upgrade-offer-label"},s&&j.a.createElement("span",null,Object(U.a)("upgrade.bookingClass.".concat(s))," ",Object(U.i)("upgrade.flightSegmentStatus.upgradeLabelSeparator")," "),j.a.createElement("span",null,Object(U.a)("upgrade.flightSegmentStatus.waitlisted",{bookingClass:Object(U.i)("upgrade.bookingClass.".concat(r))})))}return e.get("label")===ue.d?j.a.createElement("div",{className:"upgrade-offer-label"},Object(U.a)("cart.taxes.ANCILLARY_FEE_TAX")):j.a.createElement("div",{className:H()("upgrade-offer-label",i)},Object(U.i)("upgrade.bookingClass.".concat(r))," - ",Object(U.a)("upgrade.upgradedText.".concat(i)))}(t),c=t.getIn(["subElements","0"],Object(R.List)()),u=Object(le.e)(c.size,_()(a,"collapseCartWithOneItem")),d=u&&j.a.createElement(tt,{element:c,breakDownConfiguration:a});return j.a.createElement("div",{className:"dxp-upgrade-cart-item"},j.a.createElement($,{packageName:"shoppingCart",showBreakdown:u,breakdownElements:d,price:i,tooltipText:nt(t.get("passenger")),label:l,initial:o,id:r}))};lt.defaultProps={upgradeItem:Object(R.Map)(),passengerTypeCount:Object(R.List)()};var ct=lt,ut=(n(2227),function(e){var t=e.upgradeProducts,n=e.passengerTypeCount,a=e.breakDownConfiguration,r=t.get("breakdownElements",Object(R.List)()).groupBy((function(e){return e.getIn(["travelPart","departure"])})).valueSeq().toArray();return!r.length>0?j.a.createElement("div",{className:"no-upgrades"},j.a.createElement(W.c,{name:W.a.STAR,fill:!0}),j.a.createElement("span",{className:"no-upgrades-label"},Object(U.a)("shoppingCart.noUpgradesSelected"))):j.a.createElement("div",{className:"upgrade-cart-items"},r.map((function(e){var t=e.first().get("travelPart"),r=t.get("origin")||t.get("segments").first().get("origin"),i=t.get("destination")||t.get("segments").first().get("destination"),s={departure:{code:r,name:r},arrival:{code:i,name:i}};return j.a.createElement("div",{className:"upgrade-cart-item",key:"".concat(r,"-").concat(i)},j.a.createElement(Re,{airports:s,label:Object(U.a)("shoppingCart.flight")},e.map((function(e,t){var s="".concat(e.get("label"),"-").concat(r,"-").concat(i);return j.a.createElement(ct,{upgradeItem:e,passengerTypeCount:n,key:s,id:"".concat(s,"-").concat(t),breakDownConfiguration:a})}))))})))});ut.defaultProps={upgradeProducts:Object(R.Map)(),passengerTypeCount:Object(R.List)()};var dt=ut,pt=(n(2228),function(){return j.a.createElement("div",{className:"no-extras"},j.a.createElement(W.c,{name:W.a.SUITCASE,fill:!0}),j.a.createElement("span",{className:"no-extras-label"},Object(U.i)("shoppingCart.travelExtras.noExtras")))}),ht=n(103),ft=n.n(ht),mt=n(117),gt=n(17),vt=n.n(gt);n(2229);function yt(e){var t=e.selectedHotel,n=e.dateFormat,a=e.cartItemsWithRemoveConfirmation,r=e.isRemoveHotelEnabled,i=e.onRemoveHotelItem,s=t.getIn(["hotelRoomType","price","amount"]),o=t.getIn(["hotelRoomType","price","currency"]),l=Xe.a.HOTEL,c=a&&a.includes(l);return j.a.createElement($,{showRemoveConfirmation:c,isCartItemRemovable:r,parentType:l,item:t.toJS(),onRemoveItemClick:i,className:"selected-hotel-details",packageName:"shoppingCart",id:"hotel-details",iconName:W.a.HOTEL,label:Object(U.i)("shoppingCart.travelExtras.selectedHotel"),price:{amount:s,currency:o}},function(e,t){var n=e.get("hotelName"),a=e.getIn(["address","street"]),r=e.getIn(["address","city"]),i=vt()(e.get("checkinDate")),s=vt()(e.get("checkoutDate"));return j.a.createElement("div",{className:"hotel-details",role:"region"},j.a.createElement("div",{className:"hotel-stay-details"},j.a.createElement("span",{className:"hotel-stay-info"},j.a.createElement("div",null,j.a.createElement("span",{className:"check-in-date"},"".concat(i.format(t))),j.a.createElement("span",{className:"check-out-date"},"".concat(s.format(t)))))),j.a.createElement("div",{className:"hotel-information"},j.a.createElement("div",{className:"hotel-name"},n),j.a.createElement("div",{className:"hotel-address"},j.a.createElement("span",null,"".concat(a,", ").concat(r)))))}(t,n))}yt.defaultProps={isRemoveHotelEnabled:!1,onRemoveHotelItem:L.a};var bt=yt;n(2230),n(2231);function Et(e){return j.a.createElement(G.a,{price:e.getIn(["car","rentalRate","estimatedTotal"])})}function Ct(e){var t=e.cartItemsWithRemoveConfirmation,n=e.selectedCarOffer,a=e.isRemoveCarsEnabled,r=e.onRemoveCarItem,i=n.getIn(["car","rentalRate","estimatedTotal","amount"]),s=n.getIn(["car","rentalRate","estimatedTotal","currency"]),o=Xe.a.CARS,l=t&&t.includes(o);return j.a.createElement($,{showRemoveConfirmation:l,isCartItemRemovable:a,parentType:o,item:n.toJS(),onRemoveItemClick:r,className:"selected-car-details",packageName:"shoppingCart",id:"car-details",iconName:W.a.CAR_RENTAL,label:Object(U.i)("shoppingCart.travelExtras.carHire"),price:{amount:i,currency:s}},function(e){var t=e.getIn(["car","model"]),n=e.getIn(["car","carCharacteristics"]),a=n.getIn(["passengerCapacity","values"]),r=n.getIn(["baggageCapacity","values"]),i=n.getIn(["features","transmissionType"]),s=n.getIn(["features","airCondition"]),o=e.getIn(["vendorInfo","name"],"").toLowerCase(),l=Object(U.a)("shoppingCart.car.transmissionType.".concat(i.toLowerCase())),c=Object(U.a)("shoppingCart.car.airCondition.".concat(s));return j.a.createElement("div",{className:"car-details"},j.a.createElement("div",{className:"car-offer-header"},j.a.createElement("span",{className:"car-offer-header-title"},t)),j.a.createElement("div",{className:"car-offer-info"},j.a.createElement("span",{className:"passenger-capacity"},j.a.createElement(W.c,{name:W.a.USER,fill:!0}),a),j.a.createElement("span",{className:"baggage-capacity"},j.a.createElement(W.c,{name:W.a.SUITCASE,fill:!0}),r),j.a.createElement("span",{className:"is-automatic"},l," "),j.a.createElement("span",{className:"has-air-conditioner"},c)),j.a.createElement("div",{className:"car-provider"},o),j.a.createElement("div",{className:"note"},j.a.createElement(W.c,{name:W.a.INFO_CIRCLE}),j.a.createElement("span",{className:"car-offer-details-summary"},Object(U.k)("car.selectedOffer.summary",{price:Et(e)}))))}(n))}Ct.defaultProps={onRemoveCarItem:L.a,isRemoveCarsEnabled:!1};var kt=Ct;n(2232);function St(e){var t=e.insuranceProduct,n=e.numberOfPassengers,a=e.onRemoveItemClick,r=e.configuration,i=e.cartItemsWithRemoveConfirmation,s=e.isRemoveInsuranceEnabled,o=e.showInsuranceDisclaimer,l=e.market,c=Xe.a.INSURANCE,u=i&&i.includes(c),d=Object(le.b)(r),p=t.get("subElements",Object(R.List)()).filter((function(e){return e.get("label")!==ue.L||Object(ce.m)(e.get("price"),_()(d,"showZeroTaxBreakdown"))})),h=Object(le.e)(p.size,_()(d,"collapseCartWithOneItem")),f=h&&j.a.createElement(tt,{element:t,breakDownConfiguration:d});return j.a.createElement("div",{className:"selected-insurance"},j.a.createElement($,{showBreakdown:h,breakdownElements:f,item:t.toJS(),showRemoveConfirmation:u,onRemoveItemClick:a,isCartItemRemovable:s,parentType:c,packageName:"shoppingCart",id:"insurance-details",iconName:W.a.SHIELD_CHECK,label:Object(U.i)("shoppingCart.travelExtras.travelInsurance"),price:t.get("total")},!h&&function(e,t,n){return j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{className:"insurance-details"},j.a.createElement(W.c,{name:W.a.USER,fill:!0}),j.a.createElement("span",{className:"passengers-count"},"(",e,")")),t&&j.a.createElement("div",{className:"insurance-disclaimer"},Object(U.a)("shoppingCart.travelExtras.travelInsuranceDisclaimer.".concat(n))))}(n,o,l)))}St.defaultProps={onRemoveItemClick:L.a,isRemoveInsuranceEnabled:!1,showInsuranceDisclaimer:!1,market:""};var _t=St;function Ot(e){var t=e.cartItemsWithRemoveConfirmation,n=e.ancillaries,a=e.passengerTypeCount,r=e.configuration,i=e.currentFlow,s=e.currentPage,o=e.onRemoveAncillaryItem,l=e.className;return n.map((function(e,n){var c=e.getIn(["passenger","passengerIndex"]),u=e.get("passenger"),d=A()(u)?"":nt(e.get("passenger")),p=A()(u)?"":a.get(c-1),h=Ze(r,e,Xe.a.ANCILLARY,i,s),f=t.includes(e.get("label")),m="".concat(n,"-").concat(c,"-").concat(e.get("label"),"-entire-trip-ancillary-item"),g=Object(le.b)(r),v=Object(le.e)(e.get("subElements",Object(R.List)()).size,_()(g,"collapseCartWithOneItem")),y=v&&j.a.createElement(tt,{element:e,breakDownConfiguration:g}),b=H()(i,l,{"grouped-taxes-breakdown":v,"remove-confirmation-icon":h});return j.a.createElement($,{className:b,breakdownElements:y,showBreakdown:v,parentType:Xe.a.ANCILLARY,isCartItemRemovable:h,item:e.toJS(),showRemoveConfirmation:f,onRemoveItemClick:o,packageName:"shoppingCart",price:e.get("price"),initial:p,tooltipText:d,label:Object(U.a)("cart.quantity",{translation:Object(U.i)("ancillary.items.".concat(e.get("label"),".name")),quantity:e.get("quantity",0),symbol:"x"}),key:m,id:m})})).toArray()}Ot.defaultProps={onRemoveAncillaryItem:L.a,className:void 0};var wt=Ot,Pt=function(e){var t=e.cartItemsWithRemoveConfirmation,n=e.ancillary,a=e.passengerTypeCount,r=e.id,i=e.onRemoveAncillaryItem,s=e.configuration,o=e.currentFlow,l=e.currentPage,c=n.getIn(["passenger","passengerIndex"]),u=a.get(c-1),d=Ze(s,n,Xe.a.ANCILLARY,o,l),p="".concat(r,"-").concat(c,"-ancillary-cart-item-").concat(n.get("label")),h=n.get("passenger"),f=A()(h)?"":nt(h),m=t&&t.includes(n.get("label")),g=Object(le.b)(s),v=Object(le.e)(n.get("subElements",Object(R.List)()).size,_()(g,"collapseCartWithOneItem")),y=v&&j.a.createElement(tt,{element:n,breakDownConfiguration:g});return j.a.createElement("li",{className:H()("ancillary-cart-item",o,n.get("label"),{"grouped-taxes-breakdown":v,"remove-confirmation-icon":d}),key:p},j.a.createElement($,{showBreakdown:v,breakdownElements:y,parentType:Xe.a.ANCILLARY,isCartItemRemovable:d,item:n.toJS(),showRemoveConfirmation:m,onRemoveItemClick:i,packageName:"shoppingCart",price:n.get("price"),initial:u,tooltipText:f,label:Object(U.a)("cart.quantity",{translation:Object(U.i)("ancillary.items.".concat(n.get("label"),".name")),quantity:n.get("quantity",0),symbol:"x"}),id:"".concat(r,"-").concat(c,"-").concat(n.get("label"),"-segment-ancillary-item")}))};Pt.defaultProps={onRemoveAncillaryItem:L.a};var At=Pt,xt=function(e){var t=e.cartItemsWithRemoveConfirmation,n=e.ancillaries,a=e.flights,r=e.passengerTypeCount,i=e.ancillariesType,s=e.configuration,o=e.currentFlow,l=e.currentPage,c=e.onRemoveAncillaryItem;return a.reduce((function(e,a,u){var d=a.get("origin"),p=a.get("destination"),h="".concat(d).concat(p).concat(u),f=n.get(h),m=o===Ae.a.EXCHANGE?Object(le.a)(f):f;if(m.isEmpty())return e;var g={departure:{name:d},arrival:{name:p}},v="".concat(h,"-").concat(i,"-").concat(d,"-").concat(p);return e.push(j.a.createElement(Re,{airports:g,label:Object(U.a)("shoppingCart.flight"),key:v},j.a.createElement("ul",{className:H()("".concat(i,"-ancillaries"),"".concat(d,"-").concat(p))},m.map((function(e){return j.a.createElement(At,{cartItemsWithRemoveConfirmation:t,onRemoveAncillaryItem:c,ancillary:e,passengerTypeCount:r,id:"".concat(v,"-").concat(e.get("label")),key:"".concat(v,"-").concat(e.get("label")),configuration:s,currentFlow:o,currentPage:l})}))))),e}),[])};xt.defaultProps={onRemoveAncillaryItem:L.a};var Nt=xt;n(2233);function Tt(e){var t=e.onRemoveAncillaryItem,n=e.onRemoveHotelItem,a=e.onRemoveCarItem,r=e.configuration,i=e.onRemoveInsuranceItem,s=e.currentFlow,o=e.currentPage,l=e.insuranceProduct,c=e.passengers,u=e.selectedCarOffer,d=e.hotelProduct,p=e.longDateFormat,h=e.segmentAncillaries,f=e.segments,m=e.passengerTypeCount,g=e.itineraryPartAncillaries,v=e.standaloneAncillaries,y=e.itineraryPartAirports,b=e.itineraryEntireTripAncillaries,E=e.retainedAmount,C=r.get("cartItemsWithRemoveConfirmation"),k=r.getIn(["enableAncillaryRemove",s,o],!1),S=function(e){var t=e.configuration,n=e.segments.first(Object(R.Map)()).get("origin"),a=t.getIn(["insurance","airportMarketMapping",n])||t.getIn(["insurance","airportMarketMapping","DEFAULT"]);return[t.getIn(["insurance","marketsForInsuranceDisclaimer"],Object(R.List)()).includes(a),a]}({configuration:r,segments:f}),_=ft()(S,2),O=_[0],w=_[1];return j.a.createElement("div",{className:"ancillary-cart-items"},!E.isEmpty()&&Object(U.k)("shoppingCart.retainedAmountMessage",{amount:j.a.createElement(G.a,{price:E}),item:Object(U.i)("app.extras")}),!v.isEmpty()&&j.a.createElement(wt,{className:mt.b.STANDALONE.toLowerCase(),currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:C,ancillaries:v,passengerTypeCount:m}),!h.isEmpty()&&j.a.createElement(Nt,{currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:C,ancillaries:h,flights:f,passengerTypeCount:m,ancillariesType:mt.b.SEGMENT_ANCILLARY.toLowerCase()}),!g.isEmpty()&&j.a.createElement(Nt,{currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:C,ancillaries:g,flights:y,passengerTypeCount:m,ancillariesType:mt.b.ITINERARY_PART_ANCILLARY.toLowerCase()}),!b.isEmpty()&&j.a.createElement(wt,{currentFlow:s,currentPage:o,onRemoveAncillaryItem:t,configuration:r,cartItemsWithRemoveConfirmation:C,ancillaries:b,passengerTypeCount:m}),l.has("total")&&0!==l.get("total").size&&j.a.createElement(_t,{insuranceProduct:l,numberOfPassengers:c.size,configuration:r,onRemoveItemClick:i,cartItemsWithRemoveConfirmation:C,isRemoveInsuranceEnabled:k,showInsuranceDisclaimer:O,market:w}),u&&j.a.createElement(kt,{onRemoveCarItem:a,cartItemsWithRemoveConfirmation:C,selectedCarOffer:u,isRemoveCarsEnabled:k}),d&&j.a.createElement(bt,{onRemoveHotelItem:n,cartItemsWithRemoveConfirmation:C,selectedHotel:d,dateFormat:p,isRemoveHotelEnabled:k}))}Tt.defaultProps={longDateFormat:"D MMM YYYY",hotelProduct:void 0,passengers:Object(R.List)(),insuranceProduct:Object(R.Map)(),selectedCarOffer:void 0,segmentAncillaries:Object(R.Map)(),itineraryPartAncillaries:Object(R.Map)(),passengerTypeCount:Object(R.List)(),itineraryEntireTripAncillaries:Object(R.List)(),standaloneAncillaries:Object(R.List)(),itineraryPartAirports:Object(R.List)(),onRemoveAncillaryItem:L.a,onRemoveHotelItem:L.a,onRemoveCarItem:L.a,onRemoveInsuranceItem:L.a,retainedAmount:Object(R.List)()};var It=Tt,Bt=(n(2234),function(e){var t=e.shoppingCart,n=e.paymentSurchargeTotal,a=t.get("isRefundCart"),r=!w()(t.getIn(["data","paymentCompleted"])),i=t.get("isLoading"),s=Object(ce.e)(Object(ce.b)(t.getIn(["data","total"],Object(R.List)()),n)),o=a?Object(U.i)("app.refund"):Object(U.i)("shoppingCart.tripTotal");return j.a.createElement("div",{className:"trip-total"},j.a.createElement("div",{className:"label"},o),!i&&!r&&j.a.createElement("div",{className:"total"},j.a.createElement(G.a,{price:s,PACKAGE_NAME_CLASSIFIED:"shoppingCart"})))});Bt.defaultProps={paymentSurchargeTotal:Object(R.List)()};var Lt=Bt,Dt=n(250),jt=n.n(Dt),Ft=n(73),Mt=n.n(Ft);n(2235);function Rt(e,t,n){return j.a.createElement("li",{className:k()(e),key:"".concat(e,"-'.label'")},e!==ue.w&&e!==ue.N&&j.a.createElement($,{packageName:"shoppingCart",price:t,label:Object(U.a)("shoppingCart.".concat(Mt()(e)))}),(e===ue.w||e===ue.N)&&j.a.createElement("div",{className:"".concat(Mt()(e),"-cart")},j.a.createElement("div",{className:"main-content"},j.a.createElement("div",{className:"left-content"},j.a.createElement("div",{className:"cart-item-label"}," ",Object(U.a)("shoppingCart.".concat(Mt()(e)))," ")),j.a.createElement("div",{className:"right-content"},j.a.createElement("div",{className:"cart-item-label"},j.a.createElement("span",{className:"price-info"}," ",n," ",t," "))))))}var Vt=function(e){var t=e.originalFare,n=e.cancellationFee,a=_()(t.toJS(),"breakdownElements[0]"),r=_()(t.toJS(),"breakdownElements[1]"),i=_()(n.toJS(),"breakdownElements[0]"),s=_()(n.toJS(),"breakdownElements[1]"),o=jt()(_()(a,"price[0][0].amount"),_()(i,"price[0][0].amount")),l=jt()(_()(r,"price[0][0].amount"),_()(s,"price[0][0].amount")),c=_()(a,"price[0][0].currency");return j.a.createElement("div",{className:"fare-refund-cart-items"},j.a.createElement("ul",{className:"cart-items-refund"},!w()(a)&&Rt(_()(a,"label",""),_()(a,"price","")),!w()(i)&&Rt(_()(i,"label",""),_()(i,"price","")),!w()(a)&&Rt(ue.w,o,c),!w()(r)&&Rt(_()(r,"label",""),_()(r,"price","")),!w()(s)&&Rt(_()(s,"label",""),_()(s,"price","")),!w()(r)&&Rt(ue.N,l,c)))};var Ht=function(e){var t=e.taxes,n=e.isTaxBreakdownEnabled;return j.a.createElement("ul",{className:"tax-cart-items"},t.map((function(e,t){var a,r,i,s,o=n&&!e.get("subElements",Object(R.List)()).isEmpty(),l=H()({"has-tax-breakdown":o}),c=o&&!e.get("breakdownElementAssignment").isEmpty()?(a=e.get("breakdownElementAssignment"),r=a.get("quantity"),i=a.get("passengerType"),s="shoppingCart.passengerDetails.label.".concat(i),Object(U.i)("cart.taxes.".concat(a.get("passengerType"))),Object(U.i)(s,{quantity:r})):Object(U.i)("cart.taxes.".concat(e.get("label")));return j.a.createElement("li",{className:"tax-cart-item",key:"tax.get('label')-".concat(t)},j.a.createElement($,{packageName:"shoppingCart",price:e.get("price"),label:c,id:"".concat(e.get("label"),"-").concat(t),className:l,key:"".concat(e.get("label"),"-").concat(t)},o&&j.a.createElement("ul",{className:"tax-breakdown-items"},e.get("subElements").map((function(n){return j.a.createElement($,{packageName:"shoppingCart",className:n.get("label"),price:n.get("price"),label:Object(U.i)("cart.taxes.".concat(n.get("label"))),id:"".concat(n.get("label"),"-").concat(t),key:"".concat(e.get("label"),"-").concat(n)})})))))})))};Ht.defaultProps={isTaxBreakdownEnabled:!1};var Ut=Ht,Wt=function(e){var t=e.changeFees.getIn(["breakdownElements","0","subElements"],Object(R.List)()),n=t.find((function(e){return e.get("label")===ue.f}))||Object(R.Map)(),a=(t.find((function(e){return e.get("label")===ue.L}))||Object(R.Map)()).get("subElements",Object(R.List)());return j.a.createElement("div",{className:"change-fees-cart-items"},j.a.createElement("ul",{className:"change-fees-cart-items-list"},j.a.createElement("li",{className:"change-fee-cart-item",key:"change-fee-base-fare"},j.a.createElement($,{className:"change-fee-cart-item base",packageName:"shoppingCart",id:"change-fee-base",label:Object(U.i)("shoppingCart.changeFeesFare"),price:n.get("price"),key:"base"})),!a.isEmpty()&&a.map((function(e,t){return j.a.createElement("li",{className:"change-fee-cart-item",key:"change-fee-base-fare-".concat(e.get("label"),"-").concat(t)},j.a.createElement($,{packageName:"shoppingCart",price:e.get("price"),label:Object(U.i)("cart.taxes.".concat(e.get("label"))),id:"".concat(e.get("label"),"-").concat(t),key:"tax.get('label')-".concat(t)}))}))))};var qt=function(e){var t=e.fees.get("breakdownElements",Object(R.List)());return j.a.createElement("ul",{className:"fees-cart-items"},function(e){return e.map((function(e){var t=e.get("label");return j.a.createElement("li",{className:"fees-cart-item",key:"fees-cart-item-".concat(t)},j.a.createElement($,{id:"fees-cart-item-".concat(t),className:"fees-cart-item-".concat(t),packageName:"shoppingCart",label:Object(U.i)("shoppingCart.feesCartItems.".concat(t)),price:e.get("price"),key:t}))}))}(t))},zt=function(e){var t=e.refundableItems,n=e.passengerTypeCount;return j.a.createElement("ul",{className:"refund-cart-items-list"},t.get("breakdownElements").reduce((function(e,t,a){if(!t.get("price").isEmpty()){var r=t.get("label"),i=t.getIn(["breakdownElementAssignment","passenger"]),s=!w()(i)&&n.get(t.getIn(["breakdownElementAssignment","passenger","passengerIndex"])-1),o=t.getIn(["breakdownElementAssignment","quantity"],0),l="refundable-item-".concat(r,"-").concat(a);e.push(j.a.createElement("li",{className:"refundable-cart-item",key:l},j.a.createElement($,{initial:s,className:r,packageName:"shoppingCart",id:l,label:Object(U.a)("cart.quantity",{translation:Object(U.i)("ancillary.items.".concat(r,".name")),quantity:o,symbol:"x"}),price:t.get("price"),tooltipText:!w()(i)&&nt(i)})))}return e}),[]))},Gt=function(e){var t=e.nonRefundableItems,n=e.passengerTypeCount;return j.a.createElement("ul",{className:"non-refundable-cart-items-list"},t.get("breakdownElements").reduce((function(e,t,a){if(!t.get("price").isEmpty()){var r=t.get("label"),i=t.getIn(["breakdownElementAssignment","passenger"]),s=t.getIn(["breakdownElementAssignment","passenger","passengerIndex"]),o=!w()(i)&&n.get(s-1),l=t.getIn(["breakdownElementAssignment","quantity"],0),c=!w()(i)&&nt(i),u="non-refundable-item-".concat(r,"-").concat(a);e.push(j.a.createElement("li",{className:"non-refundable-cart-item",key:u},j.a.createElement($,{className:r,packageName:"shoppingCart",id:u,initial:o,label:Object(U.a)("cart.quantity",{translation:Object(U.i)("ancillary.items.".concat(r,".description")),quantity:l,symbol:"x"}),price:t.get("price"),tooltipText:c})))}return e}),[]))},Kt=n(1419),Yt=n(1601),Qt=n(1945),Xt=n(545);n(2236),n(2237);var Jt=function(e){var t=e.itineraryPart,n=e.isMultiCity,a=e.index,r=e.departureTimeFormat,i=e.locale,s=n?Object(U.i)("shoppingCart.flightDetails.multiCity",{index:a+1}):Object(U.i)("shoppingCart.flightDetails.nonMultiCity",{index:a}),o=t.getIn(["segments","0","departure"]);return vt.a.locale(i),j.a.createElement("div",{className:"itinerary-part-header"},j.a.createElement("span",null,s),j.a.createElement("span",{className:"date-time"},vt()(o).locale(i).format(r)))};Jt.defaultProps={departureTimeFormat:""};var Zt=Jt,$t=(n(2238),n(2239),function(e,t){return function(e){if(e)return e.map((function(e){return j.a.createElement("div",{className:"disclaimer ".concat(e)},Object(U.a)("shoppingCart.disclaimers.".concat(e)))}))}(t.get("disclaimers").get("brand").get(e))}),en=function(e){var t=e.selectedBrands,n=e.itineraryParts,a=e.isMultiCity,r=e.configuration,i=e.exchangeType,s=e.currentFlow,o=e.isConfirmationOrMybPage,l=e.locale;return n.map((function(e,n){var c=w()(e.get("segments"))||0===e.get("segments").size?e.get("cancelledSegments"):e.get("segments"),u=function(e){return{origin:e.first().get("origin"),destination:e.last().get("destination")}}(c),d=u.origin,p=u.destination,h=e.get("totalDuration"),f={departure:{name:Object(U.i)("airportCityAndCode",{cityName:Object(U.i)("city.".concat(d)),code:d})},arrival:{name:Object(U.i)("airportCityAndCode",{cityName:Object(U.i)("city.".concat(p)),code:p})}},m=e.get("stops"),g=i===Qt.a.INBOUND&&0===n?1:0,v=s==="".concat(Ae.a.EXCHANGE)&&i===Qt.a.INBOUND?g:n,y=Object(Xt.d)(c.toJS()),b=o?t.getIn(["".concat(v),"brand"]):t.get(v);return j.a.createElement("div",{className:"itinerary-part-details",key:"itinerary-part-".concat(d,"-").concat(p,"-").concat(c.first().get("departure"))},j.a.createElement("div",{className:"itinerary-part-time-details"},j.a.createElement(Zt,{itineraryPart:e,isMultiCity:a,index:n,locale:l,departureTimeFormat:r.get("departureTimeFormat")})),j.a.createElement("div",{className:"itinerary-part-flight-details"},j.a.createElement(se.b,{separator:j.a.createElement(W.c,{name:W.a.AIRPLANE_ROUTE}),airports:f,packageName:"shoppingCart",className:"origin-destination"}),r.get("displayDuration")&&j.a.createElement("div",{className:"duration-stop-details"},j.a.createElement("span",{className:"duration-label"},Object(U.a)("shoppingCart.flightDetails.duration")),j.a.createElement(Kt.a,{duration:vt.a.duration(h,"minutes")}),j.a.createElement("span",{className:"duration-stops-separator"}),j.a.createElement("span",{className:"number-of-stops"},Object(U.a)("shoppingCart.flightDetails.totalStops",{stops:m})),j.a.createElement("span",{className:"stops"},m?function(e){return j.a.createElement("span",{className:"stop-airports"},"(",fe()(e,(function(e){return e.airport})).join(","),")")}(y):"")),r.get("displayBrand")&&j.a.createElement("div",{className:"brand-id"},Object(U.a)("brand.".concat(b))),r.get("displayFlightNumber")&&function(e,t){return j.a.createElement("ul",{className:"segment-operated-by-list"},e.map((function(e){return j.a.createElement("li",{key:"".concat(e.get("origin"),"-").concat(e.get("destination"),"-").concat(e.getIn(["flight","flightNumber"]))},j.a.createElement(Yt.a,{segment:e.toJS(),operatedBy:t.get("operatedBy").toJS(),tag:"div"}),t.get("displayCabinClass")&&j.a.createElement("span",{className:"cabin-class"},e.get("cabinClass")),t.get("displayFareBasis")&&j.a.createElement("span",{className:"fare-basis"},Object(U.a)("flightDetails.details.fareBasis")," ",e.get("fareBasis")))})))}(c,r),r.get("displayDisclaimers")&&$t(t.get(n),r)))})).toArray()};en.defaultProps={isMultiCity:!1,selectedBrands:Object(R.List)(),isConfirmationOrMybPage:!1,configuration:Object(R.Map)({displayDuration:!0,displayFlightNumber:!0,displayBrand:!1,displayCabinClass:!1,displayFareBasis:!1,operatedBy:Object(R.Map)({displayCarrierLogo:"",alwaysDisplayOperatingCarrier:!1,displayAircraftLeaseText:!1}),departureTimeFormat:""}),locale:"en-US"};var tn=en,nn=n(293),an=n.n(nn),rn=n(287),sn=n.n(rn),on=(n(2240),function(e){var t=e.passengers,n=e.passengerType;return j.a.createElement("ul",{className:"passenger-cart-list-by-type ".concat(n)},t.map((function(e,t){var a=an()(e.getIn(["passengerDetails","firstName"])),r=an()(e.getIn(["passengerDetails","lastName"])),i=sn()(e.getIn(["passengerDetails","prefix"])),s=sn()(e.getIn(["passengerDetails","middleName"])),o=sn()(e.getIn(["passengerDetails","maidenName"])),l=sn()(e.getIn(["passengerDetails","suffix"])),c="".concat(I()(n)).concat(t+1).toUpperCase();return j.a.createElement("li",{className:"passenger-details",key:c},Object(U.i)("shoppingCart.passengerDetails.fullName",{initial:c,firstName:a,lastName:r,prefix:i,middleName:s,maidenName:o,suffix:l}))})))}),ln=(n(2241),n(2242),function(e){var t=e.airProducts,n=e.passengers,a=e.showGroupedTaxes,r=e.formatPriceWithZeroPointsAndCurrency,i=n.groupBy((function(e){return e.getIn(["passengerInfo","type"])}));return(a?t.get("breakdownElements",Object(R.List)()):t.get("subElements",Object(R.List)())).map((function(e){var t=e.get("label"),n=i.get(t,Object(R.List)()).filter((function(e){return!w()(e.getIn(["passengerDetails","firstName"],""))})),a=e.getIn(["breakdownElementAssignment","quantity"],0),s=r?Object(le.c)(e.get("price")):e.get("price");return j.a.createElement($,{className:"passenger-cart-item ".concat(t),packageName:"shoppingCart",id:"passenger-details-".concat(t),label:Object(U.i)("shoppingCart.passengerDetails.label.".concat(t),{quantity:a}),price:s,key:t},!n.isEmpty()&&j.a.createElement(on,{passengers:n,passengerType:t}))}))}),cn=n(533),un=n.n(cn);n(2243);function dn(e,t,n,a){var r=e.get("subElements").filter((function(e){return e.get("label")!==$e.a.INF}));return j.a.createElement("ul",{className:H()("cart-items-additional-breakdown",{"tax-breakdown-enabled":t})},r.map((function(e,r){return j.a.createElement("li",{className:"sub-element",key:"".concat(e.get("label"),"-").concat(r)},j.a.createElement($,{packageName:"shoppingCart",showBreakdown:Object(le.e)(e.get("subElements",Object(R.List)()).size,_()(a,"collapseCartWithOneItem")),price:e.get("price"),breakdownElements:t&&!e.get("subElements",Object(R.List)()).isEmpty()&&j.a.createElement(tt,{element:e,breakDownConfiguration:a}),label:Object(U.i)("cart.taxes.".concat(e.get("label"))),id:"".concat(e.get("label"),"-").concat(n),key:"".concat(e.get("label"),"-").concat(r)}))})))}var pn=function(e){var t=e.baseFareBreakdown,n=e.isTaxBreakdownEnabled,a=e.breakDownConfiguration;return j.a.createElement("ul",{className:"fare-cart-items"},t.map((function(e,t){var r=!e.get("subElements",Object(R.List)()).isEmpty(),i=Object(U.i)("cart.".concat(e.get("label")));return(e.get("price",Object(R.List)()).size>0||e.get("total",Object(R.List)()).size>0)&&j.a.createElement("li",{className:H()("fare-cart-item",un()(i),{"has-breakdown":r}),key:"".concat(e.get("label"),"-").concat(t)},j.a.createElement($,{id:"".concat(e.get("label"),"-").concat(t),showBreakdown:r,breakdownElements:r&&dn(e,n,t,a),label:i,price:e.get("price")||e.get("total"),packageName:"shoppingCart",key:"".concat(e.get("label"),"-").concat(t)}))})))};pn.defaultProps={isTaxBreakdownEnabled:!1};var hn=pn,fn=(n(2244),function(e){var t=e.selectedBrands,n=e.itineraryParts,a=e.airProducts,r=e.passengers,i=e.isMultiCity,s=e.configuration,o=e.exchangeType,l=e.baseFareBreakdown,c=e.showGroupedTaxes,u=e.formatPriceWithZeroPointsAndCurrency,d=e.isTaxBreakdownEnabled,p=e.currentFlow,h=e.isConfirmationOrMybPage,f=e.hideTripcostFlightItinerary,m=e.locale;return j.a.createElement("div",{className:"cart-flight-details"},!f&&j.a.createElement(tn,{selectedBrands:t,itineraryParts:n,isMultiCity:i,configuration:s,exchangeType:o,currentFlow:p,isConfirmationOrMybPage:h,locale:m}),j.a.createElement(ln,{airProducts:a,passengers:r,showGroupedTaxes:c,formatPriceWithZeroPointsAndCurrency:u}),l.size>0&&j.a.createElement(hn,{baseFareBreakdown:l,isTaxBreakdownEnabled:d,breakDownConfiguration:Object(le.b)(s)}))});fn.defaultProps={isMultiCity:!1,configuration:Object(R.Map)(),airProducts:Object(R.Map)(),selectedBrands:Object(R.List)(),baseFareBreakdown:Object(R.List)(),isTaxBreakdownEnabled:!1,exchangeType:void 0,hideTripcostFlightItinerary:!1,isConfirmationOrMybPage:!1,showGroupedTaxes:!1,formatPriceWithZeroPointsAndCurrency:!1};var mn=fn;var gn=function(e){var t=e.products,n=e.paymentSurcharges,a=e.breakDownConfiguration,r=e.passengerTypeCount,i=t.get("breakdownElements",Object(R.List)());return j.a.createElement("ul",{className:"surcharge-cart-items"},function(e,t,n){return e.map((function(e){var a=e.get("label"),r=e.getIn(["breakdownElementAssignment","quantity"],0),i=e.getIn(["breakdownElementAssignment","passenger"],Object(R.Map)()),s=!w()(i)&&n.get(i.get("passengerIndex")-1),o=Object(le.e)(e.get("subElements",Object(R.List)()).size,_()(t,"collapseCartWithOneItem")),l=o&&j.a.createElement(tt,{element:e,breakDownConfiguration:t});return j.a.createElement("li",{className:"surcharge-cart-item",key:"surcharge-cart-item-".concat(a)},j.a.createElement($,{showBreakdown:o,initial:s,tooltipText:!w()(i)&&nt(i),breakdownElements:l,id:"surcharge-cart-item-".concat(a),className:"surcharge-cart-item-".concat(a),packageName:"shoppingCart",label:Object(U.i)("shoppingCart.passengerDetails.label.".concat(a),{quantity:r}),price:e.get("price"),key:a}))}))}(i,a,r),function(e){return e.map((function(e){var t=e.get("paymentType"),n=t===ge.b.AFOP?e.get("afopCode"):e.get("paymentCode"),a="".concat(t,"-").concat(n);return j.a.createElement("li",{className:"surcharge-cart-item",key:"surcharge-cart-item-".concat(a)},j.a.createElement($,{id:"surcharge-cart-item-".concat(a),className:"surcharge-cart-item-".concat(a),packageName:"shoppingCart",label:Object(U.i)(Object(ge.f)({paymentType:t,subCode:n})),price:e.get("surcharge"),key:a}))}))}(n))};gn.defaultProps={products:Object(R.Map)(),paymentSurcharges:Object(R.List)(),passengerTypeCount:Object(R.List)()};var vn=gn;var yn=function(e){var t=e.products.get("breakdownElements",Object(R.List)());return j.a.createElement("ul",{className:"discount-cart-items"},function(e){return e.map((function(e){var t=e.get("productType"),n=e.get("quantity",0);return j.a.createElement("li",{className:"discount-cart-item",key:"discount-cart-item-".concat(t)},j.a.createElement($,{id:"discount-cart-item-".concat(t),className:"discount-cart-item-".concat(t),packageName:"shoppingCart",label:Object(U.i)("shoppingCart.discountCartItems.".concat(t),{quantity:n}),price:e.get("price"),key:t}))}))}(t))},bn=function(e){var t=e.carPriceTotal,n=e.carHireDuration;return j.a.createElement($,{id:"car-section-breakdown",className:"car-section-breakdown",packageName:"shoppingCart",label:Object(U.i)("shoppingCart.hireTextWithDuration",{duration:n}),price:t,key:"car-section-breakdown"})};bn.defaultProps={carPriceTotal:void 0,carHireDuration:void 0};var En=bn,Cn=(n(2245),function(e){var t=e.data,n=e.paymentDCCSummary,a=e.paymentData,r=(0===n.size?a.get("dccOptionSelected",Object(R.Map)()):n).get("creditCardCurrencyAmount",Object(R.Map)()),i=r.get("currency"),s=t.getIn(["total","0","0","currency"]),o=0===n.size?"shoppingCartInfo":"confirmationCartInfo",l=n.size>0&&j.a.createElement("div",{className:"dcc-confirmation-disclaimer-information"},j.a.createElement("span",{className:"dcc-confirmation-confirmation-disclaimer"},Object(U.a)("payment.dcc.confirmationDisclaimer",{exchangeRateSource:n.get("exchangeRateSource"),marginPercentRate:n.get("marginPercentRate"),supplierId:n.get("supplierId")})),j.a.createElement("span",{className:"dcc-confirmation-option-exchange-info"},Object(U.a)("payment.dcc.optionExchangeInfo",{firstCurrencyUnit:s,exchangeRate:n.get("exchangeRate"),secondCurrencyUnit:n.getIn(["creditCardCurrencyAmount","currency"])}))),c=a.get("selectedPaymentOptions").size>1?Object(R.List)([[a.getIn(["selectedPaymentOptions","0","amount"]),r]]):r;return j.a.createElement("div",{className:"dxp-confirmation-dcc-item trip-total"},j.a.createElement("div",{className:"label"},Object(U.a)("payment.dcc.".concat(o),{currency:Object(U.i)("currency.".concat(i)),currencyUnit:i})),j.a.createElement("div",{className:"total"},j.a.createElement(G.a,{price:c,showDecimal:!0,currencyDisplay:"code"})),Object(U.a)("payment.dcc.chargeInCurrencyShown"),l)});Cn.defaultProps={paymentDCCSummary:Object(R.Map)(),paymentData:Object(R.Map)(),data:Object(R.Map)()};var kn=Cn,Sn=(n(2246),n(2247),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{isBagFeeOpen:!1,isFareRulesOpen:!1}),y()(f()(n),"onBagFeeCloseClick",(function(e){e&&e.preventDefault(),n.setState({isBagFeeOpen:!1})})),y()(f()(n),"onBagFeeLinkClick",(function(e){e&&e.preventDefault(),n.setState({isBagFeeOpen:!0})})),y()(f()(n),"onFareRulesClick",(function(e){e&&e.preventDefault(),n.setState({isFareRulesOpen:!0})})),y()(f()(n),"onFareRulesCloseClick",(function(e){e&&e.preventDefault(),n.setState({isFareRulesOpen:!1})})),y()(f()(n),"onRemoveAncillaryItem",(function(e){return n.props.removeAncillaryFromCart({label:e.label,breakdownElementAssignment:{passenger:e.passenger,travelPart:e.travelPart}},n.props.currentFlow,n.props.location).then((function(){n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveCarItem",(function(e){return n.props.removeSelectedCarOffer(e).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveHotelItem",(function(e){return n.props.removeHotelFromCart(e).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveInsuranceItem",(function(e){return n.props.removeInsuranceFromCart(e,n.props.currentFlow,n.props.location,n.props.ancillaries).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"onRemoveSeatItem",(function(e){return n.props.removeSeatFromCart(e,n.props.currentFlow,n.props.location,[]).then((function(){return n.props.onCartItemRemove(n.props.currentFlow)}))})),y()(f()(n),"getCartSectionTranslation",(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t!==Pe.a.BASE_FARE||a?Object(U.i)(e):n.getFlightTitle()})),y()(f()(n),"getCompanionFareIcon",(function(){return n.props.isCompanionFareSearch&&j.a.createElement(W.c,{className:"companion-fare-icon",name:W.a.TAG,fill:!0})})),y()(f()(n),"getFlightTitle",(function(){var e=n.props,t=e.itineraryParts,a=e.isRoundTrip,r=e.isMultiCity,i=_()(I()(t),["origin"],""),s=r?_()(N()(t),["destination"],""):_()(I()(t),["destination"],""),o=a?W.a.AIRPLANE_ROUTE_ROUND:W.a.AIRPLANE_ROUTE,l={departure:{name:i},arrival:{name:s}};return j.a.createElement(se.b,{iconName:o,airports:l,packageName:"shoppingCart",className:"itinerary-to-from"})})),y()(f()(n),"getSectionItemsRenderer",(function(e){var t;return(t={},y()(t,Pe.a.BASE_FARE,n.renderBaseFareSectionItems.bind(f()(n))),y()(t,Pe.a.SEATS,n.renderSeatsSectionItems.bind(f()(n))),y()(t,Pe.a.ANCILLARIES,n.renderAncillariesSectionItems.bind(f()(n))),y()(t,Pe.a.CAR_PRICE,n.renderCarPriceSectionItems.bind(f()(n))),y()(t,Pe.a.SURCHARGES,n.renderSurchargesSectionItems.bind(f()(n))),y()(t,Pe.a.DISCOUNT,n.renderDiscountSectionItems.bind(f()(n))),y()(t,Pe.a.TAXES,n.renderTaxesSectionItems.bind(f()(n))),y()(t,Pe.a.ORIGINAL_BOOKING_TOTAL,L.a),y()(t,Pe.a.REFUNDABLE_ITEMS,n.renderRefundableItemsSectionItems.bind(f()(n))),y()(t,Pe.a.NON_REFUNDABLE_ITEMS,n.renderNonRefundableItemsSectionItems.bind(f()(n))),y()(t,Pe.a.NON_REFUNDABLE_AMOUNT,L.a),y()(t,Pe.a.CHANGE_FEES,n.renderChangeFeesSectionItems.bind(f()(n))),y()(t,Pe.a.FEES,n.renderFeesSectionItems.bind(f()(n))),y()(t,Pe.a.UPGRADES,n.renderUpgradesSectionItems.bind(f()(n))),y()(t,Pe.a.WAITLISTED_UPGRADES,n.renderWaitListedUpgradesSectionItems.bind(f()(n))),y()(t,Pe.a.VCR_REFUND_AMOUNT,n.renderVcrRefundAmountSectionItems.bind(f()(n))),y()(t,Pe.a.EMD_REFUND_AMOUNT,L.a),y()(t,Pe.a.CANCELLATION_FEE,L.a),y()(t,Pe.a.PAYMENT_SURCHARGE,L.a),t)[e]||L.a})),y()(f()(n),"renderFareRules",(function(){return j.a.createElement(Te.a,{useCheckboxToAgree:n.props.useCheckboxToAgree,checkboxEnabled:n.props.checkboxEnabled,checkboxChecked:n.props.checkboxChecked,handleCheckboxChange:n.props.handleCheckboxChange,purchaseAgreementLinks:n.props.purchaseAgreementLinks,rulesAndFeeData:n.props.rulesAndFeeData,onBagFeeLinkClick:n.onBagFeeLinkClick,onFareRulesClick:n.onFareRulesClick,currentFlow:n.props.currentFlow,currentPage:n.props.currentPage})})),y()(f()(n),"renderTaxesSectionItems",(function(){var e=n.props.shoppingCart.getIn(["data","taxes","breakdownElements"],Object(R.List)()),t=n.props.configuration;return j.a.createElement(Ut,{taxes:e,isTaxBreakdownEnabled:t.get("isTaxBreakdownEnabled")})})),n}return g()(t,e),l()(t,[{key:"UNSAFE_componentWillMount",value:function(){!this.props.selectedCarOffer&&this.props.fetchSelectedOffer(),!this.props.hotelProduct&&this.props.fetchSelectedHotel()}},{key:"getDCCOptionSelected",value:function(){var e=this.props,t=e.paymentDCCSummary,n=e.paymentData,a=e.currentPage;return a===ve.a.MYB||a===ve.a.CONFIRMATION?t:a===ve.a.PAYMENT?w()(n.get("dccOptionSelected"))?Object(R.Map)():n.get("dccOptionSelected"):Object(R.Map)()}},{key:"getIsShoppingCartLoading",value:function(){return this.props.shoppingCart.get("isLoading")}},{key:"getTotal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.shoppingCart,a="baseFare"===e&&t?n.getIn(["data","updatedBaseFare","total"]):n.getIn(["data",e,"total"]);return a?Object(ce.e)(a):a}},{key:"isCartPanelDisabledForPage",value:function(e,t,n){var a,r=this.props,i=r.flowConfiguration,s=r.currentPage,o=(a={},y()(a,Pe.a.SEATS,ve.a.SEAT_SELECTION),y()(a,Pe.a.ANCILLARIES,ve.a.ANCILLARIES),a);if(t||!o[e])return!1;if(this.props.configuration.getIn(["disableIfEmptyOnPage",e],!1))return!0;if(o[e]===s)return!1;if(n===Ae.a.MTO&&!i.contains(e))return!1;for(var l=o[e],c=i.get(ve.a.START);!w()(c);){if(c===s)return!0;if(c===l)return!1;c=i.get(c)}return!0}},{key:"calculateHeaderPrice",value:function(e,t,n,a){return"exchange"===a?e?void 0:this.getTotal(t,n):e?void 0:this.getTotal(t)}},{key:"createCartPanelSections",value:function(e,t,n){var a=this,r=this.getIsShoppingCartLoading(),i=[Pe.a.ORIGINAL_BOOKING_TOTAL,Pe.a.REFUNDABLE_ITEMS,Pe.a.NON_REFUNDABLE_ITEMS];return e.reduce((function(e,s){var o=a.renderSection(s,r,t,n);return o?E()(i,Pe.a[s.get("sectionName")])?(e.originalBookingSections.push(o),e):(e.defaultSections.push(o),e):e}),{originalBookingSections:[],defaultSections:[]})}},{key:"renderAncillariesSectionItems",value:function(){var e=this.props,t=e.defaultDateFormats,n=e.hotelProduct,a=e.selectedCarOffer,r=e.shoppingCart,i=e.configuration,s=e.currentPage,o=e.currentFlow,l=r.get("data"),c=l.get("segments",Object(R.List)()),u=l.getIn(["passengers","passengers"]),d=l.get("ancillaries",Object(R.Map)()),p=l.get("segmentAncillaries",Object(R.Map)()),h=l.get("itineraryPartAirports"),f=l.get("itineraryPartAncillaries"),m=l.get("itineraryEntireTripAncillaries"),g=l.get("standaloneAncillaries"),v=l.get("insurance"),y=l.get("passengerTypeCount");return d.get("breakdownElements",Object(R.List)()).isEmpty()&&(A()(v)||v&&v.get("breakdownElements",Object(R.List)()).isEmpty())&&A()(n)&&A()(a)?j.a.createElement(pt,null):j.a.createElement(It,{onRemoveCarItem:this.onRemoveCarItem,onRemoveHotelItem:this.onRemoveHotelItem,onRemoveAncillaryItem:this.onRemoveAncillaryItem,onRemoveInsuranceItem:this.onRemoveInsuranceItem,currentFlow:o,currentPage:s,configuration:i,longDateFormat:t.get("long"),passengers:u,hotelProduct:n,selectedCarOffer:a,passengerTypeCount:y,insuranceProduct:v,segmentAncillaries:p,itineraryPartAirports:h,itineraryPartAncillaries:f,itineraryEntireTripAncillaries:m,standaloneAncillaries:g,segments:c,retainedAmount:d.get("retainedAmount")})}},{key:"renderBagFeeModal",value:function(){return j.a.createElement(ie.a,{key:"bagfee",currentFlow:this.props.currentFlow,currentPage:this.props.currentPage,className:"modal",onCloseClick:this.onBagFeeCloseClick})}},{key:"renderBaseFareSectionItems",value:function(){var e=this.props.shoppingCart.get("data"),t=this.props,n=t.isRoundTrip,a=t.isMultiCity,r=t.configuration,i=t.exchangeType,s=t.currentFlow,o=t.isConfirmationOrMybPage,l=e.getIn(["itinerary","itineraryParts"],Object(R.List)()),c=r.get("showGroupedTaxes"),u=c?e.getIn(["updatedBaseFare","breakdownElements"],Object(R.List)()):e.getIn(["baseFare","breakdownElements"],Object(R.List)()),d=u.find((function(e){return e.get("label")===ue.g})),p=e.get("selectedBrands"),h=e.getIn(["passengers","passengers"],Object(R.List)()),f=_()(this.props,"location.query.locale",Object(je.b)()),m=c?u.filter((function(e){return e.get("label")!==ue.g&&e.get("label")!==ue.s&&e.get("label")!==ue.K})):u.filter((function(e){return e.get("label")!==ue.g}));return j.a.createElement(mn,{selectedBrands:p,itineraryParts:l,airProducts:d,passengers:h,isRoundTrip:n,isMultiCity:a,configuration:r,exchangeType:i,baseFareBreakdown:m,showGroupedTaxes:c,formatPriceWithZeroPointsAndCurrency:r.get("formatPriceWithZeroPointsAndCurrency"),isTaxBreakdownEnabled:r.get("isTaxBreakdownEnabled"),currentFlow:s,isConfirmationOrMybPage:o,hideTripcostFlightItinerary:o&&r.get("hideTripcostFlightItinerary",!1),locale:f})}},{key:"renderCarPriceSectionItems",value:function(){var e=this.props.shoppingCart,t=e.getIn(["data","carPrice","total"],void 0);return j.a.createElement(En,{carPriceTotal:t,carHireDuration:e.getIn(["data","carPrice","breakdownElements","0","label"])})}},{key:"renderChangeFeesSectionItems",value:function(){var e=this.props.shoppingCart.get("data").get("changeFees",Object(R.Map)());return j.a.createElement(Wt,{changeFees:e})}},{key:"renderDiscountSectionItems",value:function(){var e=this.props.shoppingCart.get("data").get("discount");return j.a.createElement(yn,{products:e})}},{key:"renderFareRulesModal",value:function(){return j.a.createElement(xe.a,{key:"fare-rules",currentFlow:this.props.currentFlow,currentPage:this.props.currentPage,onCloseClick:this.onFareRulesCloseClick})}},{key:"renderFeesSectionItems",value:function(){var e=this.props.shoppingCart.get("data").get("fees",Object(R.Map)());return j.a.createElement(qt,{fees:e})}},{key:"renderRefundableItemsSectionItems",value:function(){var e=this.props.shoppingCart.getIn(["data","refundableItems"]),t=this.props.shoppingCart.getIn(["data","passengerTypeCount"],Object(R.List)());return j.a.createElement(zt,{refundableItems:e,passengerTypeCount:t})}},{key:"renderNonRefundableItemsSectionItems",value:function(){var e=this.props.shoppingCart.getIn(["data","nonRefundableItems"]),t=this.props.shoppingCart.getIn(["data","passengerTypeCount"],Object(R.List)());return j.a.createElement(Gt,{nonRefundableItems:e,passengerTypeCount:t})}},{key:"renderSeatsSectionItems",value:function(){var e=this.props,n=e.currentFlow,a=e.currentPage,r=e.configuration,i=this.props.shoppingCart.get("data"),s=i.getIn(["seats","retainedAmount"],Object(R.List)()),o=i.get("checkIfExchangeSeatsHasPassenger"),l=i.get("segments",Object(R.List)()),c=i.getIn(["passengers","passengers"],Object(R.List)()),u=i.get("passengerTypeCount",Object(R.List)()),d=i.get("seatAssignmentPerSegment",Object(R.Map)());return n!==Ae.a.EXCHANGE||a===ve.a.CONFIRMATION||o?j.a.createElement(j.a.Fragment,null,n===Ae.a.EXCHANGE&&a!==ve.a.CONFIRMATION&&!s.isEmpty()&&t.renderRetainedAmount(s),j.a.createElement(it,{configuration:r,seatAssignmentPerSegment:d,passengerTypeCount:u,segments:n===Ae.a.EXCHANGE&&a!==ve.a.CONFIRMATION?Object(le.d)({shoppingCartData:i}):l,onRemoveItemClick:this.onRemoveSeatItem,currentFlow:n,currentPage:a,showNewOldSeatAsOneEntry:r.get("showNewOldSeatAsOneEntry")})):j.a.createElement(j.a.Fragment,null,!s.isEmpty()&&t.renderRetainedAmount(s),j.a.createElement(ot,{seatConfiguration:r,seatAssignment:d,onRemoveItemClick:this.onRemoveSeatItem,currentFlow:n,currentPage:a,segments:Object(le.d)({shoppingCartData:i}),passengerTypeCount:u,passengers:c}))}},{key:"renderSurchargesSectionItems",value:function(){var e=this.props,t=e.shoppingCart,n=e.configuration,a=e.paymentSurcharges,r=t.getIn(["data","surcharges"]),i=t.getIn(["data","passengerTypeCount"],Object(R.List)());return j.a.createElement(vn,{products:r,paymentSurcharges:a,passengerTypeCount:i,breakDownConfiguration:Object(le.b)(n)})}},{key:"renderUpgradesSectionItems",value:function(){var e=this.props,t=e.shoppingCart,n=e.configuration,a=t.get("data"),r=a.get("upgrades"),i=a.get("passengerTypeCount",Object(R.List)());return j.a.createElement(dt,{upgradeProducts:r,passengerTypeCount:i,breakDownConfiguration:Object(le.b)(n)})}},{key:"renderVcrRefundAmountSectionItems",value:function(){var e=this.props.shoppingCart.get("data"),t=e.get("cancellationFee",Object(R.Map)()),n=e.get("originalFare",Object(R.Map)());return j.a.createElement(Vt,{originalFare:n,cancellationFee:t})}},{key:"renderWaitListedUpgradesSectionItems",value:function(){var e=this.props,t=e.shoppingCart,n=e.configuration,a=t.get("data"),r=a.get("waitListedUpgrades"),i=a.get("passengerTypeCount",Object(R.List)());return j.a.createElement(dt,{upgradeProducts:r,passengerTypeCount:i,breakDownConfiguration:Object(le.b)(n)})}},{key:"renderSection",value:function(e,t,n,a){var r,i,s,o,l=e.get("sectionName"),c=e.get("title"),u=e.get("icon"),d=e.get("expanded"),p=e.get("showIfEmpty"),h=Pe.a[l],f=(r={item:h,shoppingCart:this.props.shoppingCart,selectedCarOffer:this.props.selectedCarOffer},i=r.item,s=r.shoppingCart,o=r.selectedCarOffer,!s.getIn(["data",i,"breakdownElements"],Object(R.List)()).isEmpty()||Object(ce.l)(s.getIn(["data",i,"total"],Object(R.List)()))||i===Pe.a.ANCILLARIES&&o),m=p||f,g=this.isCartPanelDisabledForPage(h,f,a),v=this.props.configuration.get("displayTextTitleForBaseFareSection");return m&&j.a.createElement(re.a,{classname:k()("".concat(h,"-section")),name:h,key:h,title:this.getCartSectionTranslation(c,h,v),price:this.calculateHeaderPrice(t,h,n,a),iconName:W.a[u],isExpanded:d,disabled:g,packageName:"shoppingCart",headerIcon:h===Pe.a.BASE_FARE&&this.getCompanionFareIcon()},t?j.a.createElement(Ne.a,{isDark:!0}):this.getSectionItemsRenderer(h)())}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAuthorable,a=t.shoppingCart,i=t.id,s=t.currentFlow,o=t.paymentDCCSummary,l=t.paymentData,c=t.configuration,u=t.currentPage,d=t.cartSections,p=t.paymentSurchargeTotal,h=t.refundOptionsDetails,f=t.isCancelFlightSummary,m=t.isPnrExchanged,g=Object(Ie.a)(n,"shoppingCart"),v=a.getIn(["data","paymentOptionsDetails"]),y=a.get("data"),b=this.getDCCOptionSelected(),E=b.isEmpty()?Object(R.Map)():b.get("creditCardCurrencyAmount",Object(R.Map)()),C=E.size&&E.get("currency"),k=y.getIn(["total","0"],Object(R.Map)()),S=k.size>1?k.getIn(["1","currency"]):k.getIn(["0","currency"]),_=a.getIn(["data","carPrice","total"],void 0),O=!y.getIn(["waitListedUpgrades","breakdownElements"],Object(R.List)()).isEmpty(),P=H()({exchanged:m}),A=this.createCartPanelSections(d,c.get("showGroupedTaxes"),s),x=A.originalBookingSections,N=A.defaultSections;a.getIn(["data","nonRefundableAmount","total","0","0"],Object(R.List)()),a.getIn(["data","emdRefundAmount","total","0","0"],Object(R.List)()).toJS(),a.getIn(["data","newCharge","total","0","0"],Object(R.Map)()).toJS(),a.getIn(["data","taxes","total","0","0"],Object(R.Map)()).toJS();return j.a.createElement(Oe.a,{top:"#".concat(Object(we.a)(s)),bottomBoundary:"#".concat(i)},j.a.createElement("div",r()({className:"dxp-shopping-cart ".concat(s)},g,{id:i,ref:function(t){e.shoppingCart=t}}),!w()(x)&&j.a.createElement(ae,{label:Object(U.i)("shoppingCart.originalBookingTitle")},j.a.createElement(ae.CartPanelList,null,x)),j.a.createElement(ae,{label:Object(U.i)(w()(x)?"shoppingCart.title":"shoppingCart.newBookingTitle")},c.get("showFareRulesReview")&&s!==Ae.a.CANCEL&&j.a.createElement("div",{className:"top-fare-rules"},this.renderFareRules()),j.a.createElement(ae.CartPanelList,null,N),j.a.createElement(ae.CartPanelFooter,null,j.a.createElement(Lt,{shoppingCart:a,paymentSurchargeTotal:p}),O&&j.a.createElement("div",{className:"dxp-upgrade-waitlisted-cart-disclaimer"},j.a.createElement(W.c,{className:"spark-icon-note",name:W.a.NOTE,fill:!0}),Object(U.i)("cart.waitListedUpgradeDisclaimer")),(u===ve.a.CONFIRMATION||u===ve.a.MYB)&&(f?j.a.createElement(Se,{id:oe.c,className:P,paymentOptionsDetails:h,title:"titles.refundDetails"}):!w()(v)&&j.a.createElement(Se,{id:oe.b,className:P,paymentOptionsDetails:v,carPrice:_,currentPage:u,title:"titles.paymentDetails"})),!b.isEmpty()&&S!==C&&j.a.createElement(kn,{data:y,paymentDCCSummary:o,paymentData:l}),c.get("showFareRulesReview")&&s!==Ae.a.CANCEL&&this.renderFareRules())),this.state.isBagFeeOpen&&this.renderBagFeeModal(),this.state.isFareRulesOpen&&this.renderFareRulesModal()))}}],[{key:"renderRetainedAmount",value:function(e){return Object(U.k)("shoppingCart.retainedAmountMessage",{amount:j.a.createElement(G.a,{price:e}),item:Object(U.i)("app.seats")})}}]),t}(D.Component));y()(Sn,"contextTypes",{translateWithComponents:F.func}),y()(Sn,"defaultProps",{isConfirmationOrMybPage:!1,isAuthorable:!0,selectedCarOffer:void 0,shoppingCart:Object(R.Map)(),hotelProduct:void 0,defaultDateFormats:Object(R.Map)(),useCheckboxToAgree:!1,checkboxEnabled:!1,checkboxChecked:!1,handleCheckboxChange:void 0,purchaseAgreementLinks:Object(R.List)(),onBagFeeLinkClick:void 0,onFareRulesClick:void 0,configuration:Object(R.Map)(),paid:void 0,isRefundCart:void 0,bnpl:{},isCartItemExpandable:void 0,isCompanionFareSearch:!1,owe:void 0,totalAmountLabel:void 0,confirmation:!1,isRemoteBooking:!1,paymentDCCSummary:Object(R.Map)(),paymentData:void 0,id:void 0,onCartItemRemove:L.a,removeSelectedCarOffer:L.a,onBNPLCancel:L.a,removeSeatFromCart:L.a,removeAncillaryFromCart:L.a,fetchSelectedOffer:L.a,removeHotelFromCart:L.a,fetchSelectedHotel:L.a,isRoundTrip:!1,isMultiCity:!1,isOneWay:!1,refundOptionsDetails:Object(R.List)(),isCancelFlightSummary:!1,paymentSurcharges:Object(R.List)(),paymentSurchargeTotal:Object(R.List)(),location:void 0,exchangeType:void 0,cartSections:Object(R.List)(),isPnrExchanged:!1});var _n=Object(M.b)(Fe.a,{removeAncillaryFromCart:De.d,removeSeatFromCart:De.f,fetchSelectedOffer:Be.d,removeSelectedCarOffer:Be.j,removeHotelFromCart:Le.f,fetchSelectedHotel:Le.d,removeInsuranceFromCart:De.e})(Sn);n.d(t,"a",(function(){return _n}))},,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(18),E=n.n(b),C=n(0),k=n.n(C),S=n(1),_=n.n(S),O=n(6),w=n(12),P=n(2038),A=n(1441),x=n(88),N=n(521),T=n(540),I=n(195),B=n(17),L=n.n(B),D=n(137),j=n.n(D),F=n(1724),M=n(529),R=n(1692),V=n(153);function H(e,t){var n=L()().format(e),a=L()().add(1,"days"),r=L()().subtract(1,"days"),i=a.format(e),s=r.format(e);return[t&&{label:Object(w.i)("flightStatus.form.departureDate.yesterdaysDate",{date:s}),value:s},{label:Object(w.i)("flightStatus.form.departureDate.todaysDate",{date:n}),value:n},{label:Object(w.i)("flightStatus.form.departureDate.tomorrowsDate",{date:i}),value:i}].filter(Boolean)}n(2251),n(2252);var U=function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"onOriginChange",(function(e){n.setState({selectedOrigin:e,destinationAirports:n.buildTranslatedAirportsOptions(n.props.routes.destinationsPerOrigin[e])})})),y()(f()(n),"buildTranslatedAirportsOptions",(function(e){return n.props.configuration.sortAirportsByLabel?n.sortAirportsByLabel(Object(R.a)(e)):j()(Object(R.a)(e),["value"])})),y()(f()(n),"sortAirportsByLabel",(function(e){var t=new Intl.Collator(n.props.locale);return e.sort((function(e,n){return t.compare(e.label,n.label)}))})),n.state={originAirports:n.buildTranslatedAirportsOptions(k()(e.routes,"origins",[])),destinationAirports:[]},e.origin&&(n.state.destinationAirports=n.buildTranslatedAirportsOptions(e.routes.destinationsPerOrigin[e.origin])),n}return g()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.locale!==this.props.locale&&(this.setState({originAirports:this.buildTranslatedAirportsOptions(k()(this.props.routes,"origins",[]))}),this.state.selectedOrigin&&this.setState((function(e){return{destinationAirports:t.buildTranslatedAirportsOptions(t.props.routes.destinationsPerOrigin[e.selectedOrigin])}})))}},{key:"getValue",value:function(){var e=this.props.configuration.departureDate.dateFormat;return{origin:this.origin.getValue(),destination:this.destination.getValue(),date:L()(this.departureDate.getValue(),e).format("YYYY-MM-DD")}}},{key:"isValid",value:function(){var e=this.props.configuration,t={origin:k()(e,"origin.isEnabled",!1),destination:k()(e,"destination.isEnabled",!1),departureDate:k()(e,"departureDate.isEnabled",!1)};return Object(V.c)(t,{origin:this.origin,destination:this.destination,departureDate:this.departureDate})}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.date,r=a?L.a.utc(a,"MM-DD-YYYY").format(n.departureDate.dateFormat):"";return _.a.createElement("div",{className:"flight-status-search-by-route-form"},_.a.createElement("div",{className:"flight-status-search-by-route-airports"},_.a.createElement(F.a,{options:this.state.originAirports,ref:function(t){e.origin=t},defaultValue:this.props.origin,keyProp:"flightStatusOrigin",label:"flightSearch.origin.label",onChange:this.onOriginChange,validators:k()(n,"origin.validators"),className:"flight-status-origin-selection",noResultsText:Object(w.i)("flightSearch.noOriginAirports"),placeholder:Object(w.i)("flightSearch.origin.placeHolder")}),_.a.createElement(F.a,{options:this.state.destinationAirports,ref:function(t){e.destination=t},defaultValue:this.props.destination,keyProp:"flightStatusDestination",label:"flightSearch.destination.label",validators:k()(n,"destination.validators"),className:"flight-status-destination-selection",noResultsText:Object(w.i)("flightSearch.noDestinationAirports"),placeholder:Object(w.i)("flightSearch.destination.placeHolder")})),_.a.createElement("div",{className:"flight-status-search-by-route-date"},_.a.createElement(M.a,{label:"flightStatus.form.departureDate.label",keyProp:"flight-status-departureDate",options:H(n.departureDate.dateFormat,!1),defaultValue:r,useLabelFeedback:!0,validators:k()(n,"departureDate.validators"),ref:function(t){e.departureDate=t},className:"flight-status-departure-date"})))}}]),t}(S.Component);y()(U,"defaultProps",{origin:"",destination:"",date:""});var W=n(129),q=(n(2253),n(2254),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"getValue",value:function(){var e=this.props.configuration.departureDate.dateFormat;return{flightNumber:this.flightNumber.input.value,date:L()(this.departureDate.getValue(),e).format("YYYY-MM-DD")}}},{key:"isValid",value:function(){var e=this.props.configuration,t={flightNumber:k()(e,"flightNumber.isEnabled",!1),departureDate:k()(e,"departureDate.isEnabled",!1)};return Object(V.c)(t,{flightNumber:this.flightNumber,departureDate:this.departureDate})}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.flightNumber,r=t.date,i=r?L.a.utc(r,"MM-DD-YYYY").format(n.departureDate.dateFormat):"";return _.a.createElement("div",{className:"flight-status-search-by-flight-form"},_.a.createElement(W.a,{ref:function(t){e.flightNumber=t},className:"flight-status-flight-number",keyProp:"flight-status-flight-number",label:"flightStatus.form.flightNumber.label",defaultValue:a,useLabelFeedback:!0,validators:k()(n,"flightNumber.validators")}),_.a.createElement(M.a,{label:"flightStatus.form.departureDate.label",keyProp:"flight-status-departureDate",options:H(n.departureDate.dateFormat,!0),useLabelFeedback:!0,defaultValue:i,validators:k()(n,"departureDate.validators"),ref:function(t){e.departureDate=t},className:"flight-status-departure-date"}))}}]),t}(S.Component));y()(q,"defaultProps",{flightNumber:"",date:""});n(2255);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var G=function(e){function t(e){var n;s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"handleSearch",(function(e){(e.preventDefault(),n.isValid())&&(0,n.props.onSearch)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.getValue()))})),y()(f()(n),"updateFlightStatusSearchType",(function(e,t){e.preventDefault(),n.setState({searchType:t})}));var a=k()(e,"configuration.defaultFlightStatusSearchType"),r=k()(e.location,"query.searchType",a);return n.state={searchType:r},n}return g()(t,e),l()(t,[{key:"getValue",value:function(){var e=this.state.searchType===T.a.ROUTE?this.flightStatusByRoute.getValue():this.flightStatusByFlight.getValue();return E()(e,{searchType:this.state.searchType,redirection:!0,airlineCode:this.props.airlineCode})}},{key:"isValid",value:function(){return this.flightStatusByFlight&&this.flightStatusByFlight.isValid()||this.flightStatusByRoute&&this.flightStatusByRoute.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoading,a=t.configuration,i=t.routes,s=t.minDate,o=t.showSearchButton,l=t.location,c=t.isAuthorable,u=Object(I.a)(c,"flightStatusSearch"),d=this.state.searchType,p=l.query,h=p.origin,f=p.destination,m=p.date,g=p.flightNumber,v=k()(a,"isFlightStatusSearchTypeToggleEnabled"),y=k()(a,"defaultFlightStatusSearchType");return _.a.createElement("div",r()({id:"dxp-flight-status",className:"dxp-flight-status"},u),_.a.createElement("form",{className:"flight-status-form"},_.a.createElement("fieldset",{className:"header-title dxp-fieldset"},_.a.createElement("legend",{className:"flight-status-form-legend"},_.a.createElement("h2",{className:"flight-status-form-header"},Object(w.i)("flightStatus.formHeader"))),_.a.createElement(A.a,null),v&&_.a.createElement(P.a,{className:"flight-status-search-type",prefix:"flightStatus.searchType",options:k()(a,"flightSearchOptions",[]),buttonClassNames:["small","secondary"],numberOfOptions:k()(a,"flightSearchOptions",[]).length,defaultValue:d||y,ref:function(t){e.searchType=t},onClick:this.updateFlightStatusSearchType}),d===T.a.ROUTE&&_.a.createElement(U,{configuration:a.flightRouteSearch,routes:i,minDate:s,origin:h,destination:f,date:m,ref:function(t){e.flightStatusByRoute=t},locale:this.props.locale}),d===T.a.FLIGHT_NUMBER&&_.a.createElement(q,{minDate:s,date:m,flightNumber:g,configuration:a.flightNumberSearch,ref:function(t){e.flightStatusByFlight=t}})),o&&_.a.createElement(x.a,{id:"flight-status-button-search",className:"flight-status-button search primary pull-right",onClick:this.handleSearch},n&&_.a.createElement(N.a,null),!n&&_.a.createElement("span",{className:"label"},Object(w.i)("flightStatus.search")))))}}]),t}(S.Component);y()(G,"contextTypes",{language:O.string}),y()(G,"defaultProps",{onSearch:void 0,showSearchButton:!0,isLoading:!1,minDate:new Date,isAuthorable:!0}),n.d(t,"a",(function(){return G}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(34),g=n.n(m),v=n(13),y=n.n(v),b=n(52),E=n.n(b),C=n(0),k=n.n(C),S=n(16),_=n.n(S),O=n(5),w=n.n(O),P=n(2),A=n.n(P),x=n(4),N=n.n(x),T=n(1),I=n.n(T),B=(n(6),n(39)),L=n.n(B),D=n(12),j=n(50),F=n(341),M=n(244),R=n(125),V=n(67),H=n.n(V),U=n(23),W=n.n(U),q=(n(194),n(11)),z=n(1891),G=n(1536),K=function(e){var t=e.passengerAllowance,n=e.quantity,a=e.itineraryPartKey,r=t.get("totalUnits"),i=t.get("totalWeight"),s=I.a.createElement(j.c,{name:j.a.INFO_CIRCLE}),o=n&&n>0?"ancillary.baggage.allowance":"ancillary.baggage.freeAllowanceOnly";return I.a.createElement("div",null,I.a.createElement("span",{className:"passenger-bag-allowance-info"},Object(D.a)(o,{totalUnits:r})),I.a.createElement(G.a,{className:"dxp-popover-bag-allowance",position:"right",id:"bag-allowance-".concat(a),trigger:s},r&&I.a.createElement("div",null,Object(D.a)("ancillary.baggage.totalUnits",{totalUnits:r})),i&&I.a.createElement("div",null,Object(D.a)("ancillary.baggage.totalWeight",{totalWeight:i}))))};K.defaultProps={quantity:void 0};var Y=K,Q=(n(2259),n(2260),function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return p()(t,e),u()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.defaultValue!==e.defaultValue&&(e.defaultValue===e.min&&this.incrementButton.focus(),e.defaultValue===e.max&&this.decrementButton.focus())}},{key:"getMax",value:function(){return this.props.max||1/0}},{key:"getMin",value:function(){return this.props.min||-1/0}},{key:"handleDecrementClick",value:function(e){return e.preventDefault(),this.props.defaultValue>this.getMin()?this.props.onChange&&this.props.onChange(this.props.defaultValue-1):null}},{key:"handleIncrementClick",value:function(e){return e.preventDefault(),this.props.defaultValue<this.getMax()?this.props.onChange&&this.props.onChange(this.props.defaultValue+1):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.defaultValue,a=t.max,r=t.min,i=t.hideControls,s=t.disabled,o=t.label,l=t.type,c=t.ageGroup,u=t.incrementDisabled,d=t.decrementDisabled,p=t.bagAllowance,h=L()("btn-decrement",{disabled:n===r}),f=L()("btn-increment",{disabled:n===a}),m=L()("passenger-selection-option",this.props.className);return I.a.createElement("li",{className:m},I.a.createElement("div",{className:"passenger-type-details"},I.a.createElement("div",{className:"passenger-type-details-label"},Object(D.a)(o)),I.a.createElement("div",{className:"passenger-type-details-age"},I.a.createElement("div",null,c),!p.isEmpty()&&I.a.createElement("div",{className:"passenger-type-bag-allowance"},I.a.createElement(Y,{passengerAllowance:p,itineraryPartKey:this.props.itineraryPartKey,quantity:n})))),!i&&I.a.createElement("div",{className:"passenger-selection-controls"},I.a.createElement("div",{className:"control-icons"},I.a.createElement("button",{type:"button",disabled:s||d||n===r,ref:function(t){e.decrementButton=t},onClick:function(t){return e.handleDecrementClick(t)},className:h},I.a.createElement(j.c,{name:j.a.MATH_SUBTRACT,size:"sm",srOnlyText:"".concat(o," ").concat(l," ").concat(Object(D.i)("passengers.decrement"))})),I.a.createElement("div",{className:"passenger-type-value","aria-live":"polite"},n),I.a.createElement("button",{type:"button","data-test-id":z.a,disabled:s||u||n===a,ref:function(t){e.incrementButton=t},onClick:function(t){return e.handleIncrementClick(t)},className:f},I.a.createElement(j.c,{name:j.a.MATH_ADD,size:"sm",srOnlyText:"".concat(Object(D.i)(o)," ").concat(l," ").concat(Object(D.i)("passengers.increment"))})))))}}],[{key:"extractValuesFromMinOrMax",value:function(e,t){return w()(e,(function(e){return H()(e)?(t[e]||{}).value||0:e}))}},{key:"getMax",value:function(e,n){if(W()(e.max)){var a=t.extractValuesFromMinOrMax(e.max,n);return Math.min.apply(void 0,a)}return e.max}},{key:"getMin",value:function(e,n){if(W()(e.min)){var a=t.extractValuesFromMinOrMax(e.min,n);return Math.max.apply(void 0,a)}return e.min}}]),t}(T.Component));f()(Q,"defaultProps",{disabled:!1,incrementDisabled:!1,decrementDisabled:!1,hideControls:!1,bagAllowance:Object(q.Map)(),itineraryPartKey:"",className:""});n(2261),n(2262);n.d(t,"a",(function(){return X}));var X=function(e){function t(e){var n;return r()(this,t),(n=s()(this,l()(t).call(this,e))).state={expanded:!1,options:t.transformOptions(e.options,e.defaultValue),isValid:!0},n}return p()(t,e),u()(t,null,[{key:"transformOptions",value:function(e,t){return N()(e,(function(e,n){if(n.isEnabled){var a=g()(n);return a.value=t[n.key],e[n.key]=a,e}return e}),{})}}]),u()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({options:t.transformOptions(e.options,e.defaultValue)})}},{key:"UNSAFE_componentWillUpdate",value:function(e){e.isRBEEnabled&&this.removeExcludedPassengers()}},{key:"onChange",value:function(e,t){var n=this;this.setState((function(n){var a=_()({},n.options);return a[e].value=t,{options:a,isValid:!0}}),(function(){return n.props.onChange&&n.props.onChange(n.getValue())}))}},{key:"onClick",value:function(e){e.preventDefault(),this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"getValue",value:function(){return N()(this.state.options,(function(e,t){return e[t.key]=t.value,e}),{})}},{key:"_onKeyPress",value:function(e){M.a.is(M.a.code.special.enter,e.which)&&this.onClick(e)}},{key:"calculateExcludedPassengerCount",value:function(){var e=this.state.options;return N()(e,(function(e,t){return t.excludeInMaxPaxCount?e+t.value:e}),0)}},{key:"calculateMaxCapacity",value:function(e,t,n){var a=this.calculateExcludedPassengerCount(),r=k()(this.props,"totalMaxPassengers",0),i=k()(this.props,"currentPassengers",0),s=r+a+(t.value||k()(n,t.key,0))-i;return t.excludeInMaxPaxCount?e:Math.min(e,Math.max(s,0))}},{key:"isPassengerDisabled",value:function(e){return e===R.a.CMP||e===R.a.CMA||this.props.isRBEEnabled&&E()(this.props.excludedPassengerTypes,e)>-1}},{key:"isValid",value:function(){var e=0!==this.props.currentPassengers;return this.setState({isValid:e}),e}},{key:"removeExcludedPassengers",value:function(){var e=this;y()(this.state.options,(function(t){e.isPassengerDisabled(t.key)&&0!==e.state.options[t.key].value&&e.onChange(t.key,0)}))}},{key:"render",value:function(){var e=this,t=this.props.defaultValue,n=this.state,a=n.options,r=n.isValid,i=L()("passenger-selection",{"is-open":this.state.expanded,"is-empty":A()(this.props.label),"field-success":this.state.isValid,"field-error":!this.state.isValid},this.props.className);return I.a.createElement("div",{className:i,ref:function(t){e.passengerSelectionDropdown=t}},I.a.createElement("button",{type:"button",className:"passenger-selection-button",onClick:function(t){return e.onClick(t)},"aria-expanded":this.state.expanded},I.a.createElement("div",{className:"passenger-selection-summary clearfix"},r&&I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"passenger-selection-label"},Object(D.a)(this.props.label),I.a.createElement(j.c,{name:j.a.ARROW_TRIANGLE_DOWN,className:"passenger-selection-icon",fill:!0})),I.a.createElement("div",{className:"passenger-count"},this.props.summary)),!r&&I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"passenger-selection-is-required"},Object(D.a)("passengerSelection.isRequired"),I.a.createElement(j.c,{name:j.a.ARROW_TRIANGLE_DOWN,className:"passenger-selection-icon",fill:!0}))))),this.state.expanded&&I.a.createElement(F.a,{className:"passenger-selection-options",active:this.state.expanded,onClick:function(t){return e.onClick(t)},focusOnOpen:!0,closeOnEsc:!0},I.a.createElement("fieldset",{className:"passenger-selection-fieldset dxp-fieldset"},I.a.createElement("legend",{className:"passenger-selection-legend sr-only"},Object(D.a)("passengerType.noOfPassengers")),I.a.createElement("ul",null,w()(a,(function(n){var a=e.isPassengerDisabled(n.key),r=Q.getMax(n,e.state.options),i=Q.getMin(n,e.state.options);return n.isEnabled&&I.a.createElement(Q,{className:"passenger-type-".concat((n.key||"").toLowerCase()),key:"passenger-type-".concat(n.key),label:n.label,ageGroup:n.ageGroup,defaultValue:n.value||t[n.key],onChange:function(t){return e.onChange(n.key,t)},disabled:a,type:"passenger",min:i,max:e.calculateMaxCapacity(r,n,t)})}))))))}}]),t}(T.Component);f()(X,"defaultProps",{className:void 0,isRBEEnabled:!1,currentPassengers:0})},,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(18),E=n.n(b),C=n(1),k=n.n(C),S=n(6),_=n(12),O=n(1441),w=n(88),P=n(521),A=n(195),x=n(122),N=n.n(x),T=n(2),I=n.n(T),B=n(0),L=n.n(B),D=n(17),j=n.n(D),F=n(137),M=n.n(F),R=n(1724),V=n(1480),H=n(1692),U=n(153),W=(n(2256),function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),y()(f()(n),"onOriginChange",(function(e){n.setState({selectedOrigin:e,destinationAirports:n.buildTranslatedAirportsOptions(n.props.routes.destinationsPerOrigin[e])})})),y()(f()(n),"onDateChange",(function(e){if(!I()(e)){var t={origin:n.origin.getValue(),destination:n.destination.getValue(),date:j()(n.departureDate.getValue(),n.departureDate.getFormat()).format("YYYY-MM-DD")};n.props.onChange&&n.props.onChange(t)}})),y()(f()(n),"buildTranslatedAirportsOptions",(function(e){return n.props.configuration.sortAirportsByLabel?n.sortAirportsByLabel(Object(H.a)(e)):M()(Object(H.a)(e),["value"])})),y()(f()(n),"sortAirportsByLabel",(function(e){var t=new Intl.Collator(n.props.locale);return e.sort((function(e,n){return t.compare(e.label,n.label)}))})),n.state={originAirports:n.buildTranslatedAirportsOptions(L()(e.routes,"origins",[])),destinationAirports:[]},e.origin&&(n.state.destinationAirports=n.buildTranslatedAirportsOptions(e.routes.destinationsPerOrigin[e.origin])),n}return g()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.locale!==this.props.locale&&(this.setState({originAirports:this.buildTranslatedAirportsOptions(L()(this.props.routes,"origins",[]))}),this.state.selectedOrigin&&this.setState((function(e){return{destinationAirports:t.buildTranslatedAirportsOptions(t.props.routes.destinationsPerOrigin[e.selectedOrigin])}})))}},{key:"getValue",value:function(){return{origin:this.origin.getValue(),destination:this.destination.getValue(),date:j()(this.departureDate.getValue(),this.departureDate.getFormat()).format("YYYY-MM-DD")}}},{key:"isValid",value:function(){var e=this.props.configuration,t={origin:L()(e,"origin.isEnabled",!1),destination:L()(e,"destination.isEnabled",!1),departureDate:L()(e,"departureDate.isEnabled",!1)};return Object(U.c)(t,{origin:this.origin,destination:this.destination,departureDate:this.departureDate})}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.minDate,r=t.origin,i=t.date,s=t.dateFormat,o=t.maximumDaysInCalendar,l=j()(a).subtract(1,"days"),c=j.a.utc().add(o,"days"),u=this.context.language,d=i?j.a.utc(i,"MM-DD-YYYY"):"";return k.a.createElement("div",{className:"flight-schedule-search-by-route-form"},k.a.createElement("div",{className:"flight-schedule-search-by-route-airports"},k.a.createElement(R.a,{options:this.state.originAirports,ref:function(t){e.origin=t},defaultValue:r,keyProp:"flightScheduleOrigin",label:"flightSearch.origin.label",onChange:function(t){return e.onOriginChange(t)},validators:L()(n,"origin.validators"),className:"flight-schedule-origin-selection",id:"dxp-flight-schedule-origin-selection",noResultsText:Object(_.i)("flightSearch.noOriginAirports"),placeholder:Object(_.i)("flightSearch.origin.placeHolder")}),k.a.createElement(R.a,{options:this.state.destinationAirports,ref:function(t){e.destination=t},defaultValue:this.props.destination,keyProp:"destination",label:"flightSearch.destination.label",validators:L()(n,"destination.validators"),className:"flight-schedule-destination-selection",id:"dxp-flight-schedule-destination-selection",noResultsText:Object(_.i)("flightSearch.noDestinationAirports"),placeholder:Object(_.i)("flightSearch.destination.placeHolder")})),k.a.createElement("div",{className:"flight-schedule-search-by-route-date"},k.a.createElement(V.a,{className:"departure-date",ref:function(t){e.departureDate=t},keyProp:"flight-schedule-departureDate",label:"flightStatus.form.departureDate.label",defaultLocale:u,dateFormat:s,defaultValue:d,minDate:l,maxDate:c,useLabelFeedback:!0,renderDatepickerOnTop:!0,validators:L()(n,"departureDate.validators"),onChange:this.onDateChange})))}}]),t}(C.Component));y()(W,"defaultProps",{origin:"",destination:"",date:"",maximumDaysInCalendar:365,onChange:N.a});n(2257),n(2258);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"handleSearch",(function(e){(e.preventDefault(),n.isValid())&&(0,n.props.onSearch)(z({},n.flightScheduleByRoute.getValue()))})),n}return g()(t,e),l()(t,[{key:"getValue",value:function(){var e=this.flightScheduleByRoute.getValue();return E()(e,{airlineCode:this.props.airlineCode})}},{key:"isValid",value:function(){return this.flightScheduleByRoute.isValid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoading,a=t.routes,i=t.configuration,s=t.minDate,o=t.showSearchButton,l=t.location,c=t.isAuthorable,u=t.dateFormat,d=t.maximumDaysInCalendar,p=Object(A.a)(c,"flightScheduleSearch"),h=l.query,f=h.origin,m=h.destination,g=h.date;return k.a.createElement("div",r()({id:"dxp-flight-schedule",className:"dxp-flight-schedule"},p),k.a.createElement("div",{className:"clearfix"},k.a.createElement("form",{className:"flight-schedule-form"},k.a.createElement("fieldset",{className:"header-title dxp-fieldset"},k.a.createElement("legend",{className:"flight-schedule-form-legend"},k.a.createElement("h2",{className:"flight-schedule-form-header"},Object(_.i)("flightSchedule.formHeader"))),k.a.createElement(O.a,null),k.a.createElement(W,{configuration:i.flightScheduleSearch,routes:a,minDate:s,origin:f,destination:m,dateFormat:u,date:g,onChange:this.props.onSearchCriteriaChange,maximumDaysInCalendar:d,ref:function(t){e.flightScheduleByRoute=t},locale:this.props.locale})),o&&k.a.createElement(w.a,{id:"flight-schedule-button-search",className:"flight-schedule-button search primary pull-right",onClick:this.handleSearch,disabled:!1},n&&k.a.createElement(P.a,null),!n&&k.a.createElement("span",{className:"label"},Object(_.i)("flightSchedule.search"))))))}}]),t}(C.PureComponent);y()(G,"contextTypes",{language:S.string}),y()(G,"defaultProps",{onSearch:void 0,isLoading:!1,showSearchButton:!0,minDate:new Date,isAuthorable:!0,maximumDaysInCalendar:365,onSearchCriteriaChange:void 0}),n.d(t,"a",(function(){return G}))},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(156),y=n.n(v),b=n(321),E=n.n(b),C=n(15),k=n.n(C),S=n(2),_=n.n(S),O=n(82),w=n.n(O),P=n(77),A=n.n(P),x=n(592),N=n.n(x),T=n(115),I=n.n(T),B=n(4),L=n.n(B),D=n(169),j=n.n(D),F=n(56),M=n.n(F),R=n(0),V=n.n(R),H=n(1),U=n.n(H),W=n(6),q=n(39),z=n.n(q),G=(n(194),n(11)),K=n(1996),Y=n(12),Q=(n(1249),n(157)),X=n(2110),J=n(1338),Z=n(60),$=n(19),ee=n.n($),te=n(58),ne=n.n(te),ae=n(5),re=n.n(ae);function ie(e){var t=ne()(re()(e,(function(e){return e.travelPartOffers}))),n=ne()(re()(t,(function(e){return e.passengerOffers})));return ee()(n,(function(e){return e.assignedQuantity>0}))}n(2426);var se=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onClick",(function(){return n.props.onClick&&n.props.onClick(n.props.ancillary.code)})),n}return f()(t,e),s()(t,[{key:"getBaggageDisclosure",value:function(){var e=this.props,t=e.bagAllowance,n=e.passengers,a=e.ancillary;if(!t.isEmpty()&&!_()(n)&&a.code===Q.b.BAGGAGE){if(1===M()(n)){var r=L()(a.offers.itineraryParts,(function(e,a){if(a.passengerOffers){var r=Object(J.e)(t,a,n[1]).get("totalUnits");void 0!==r?e.push(r):a.segmentsMap.forEach((function(r){var i=Object(J.e)(t,a.segments[r],n[1]);e.push(i.get("totalUnits"))}))}return e}),[]),i=y()(r);if(1===i.length)return U.a.createElement("div",{className:"bag-allowance"},Object(Y.a)("ancillary.bagAllowance",{totalUnits:i[0]}))}return U.a.createElement("div",{className:"bag-allowance"},Object(Y.a)("ancillary.defaultBagAllowance"))}return null}},{key:"getButtonTranslationKey",value:function(){return this.props.ancillary.isAddedToCart?"ancillary.change":"ancillary.add"}},{key:"getDiscountPrice",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.addedTotal;if(t&&n){var a=function(e){return re()(ie(e),(function(e){var t=V()(e,"dealDiscount.totalDiscount",void 0);return t?Object(Z.p)(t.alternatives,e.assignedQuantity):{}}))}(e.ancillaries||[e]);if(!_()(a))return a.reduce(Z.q)}var r=this.getUniqDiscounts(),i=k()(r,(function(t){return A()(V()(t,"totalPrice.alternatives",[]),V()(e,"offers.lowestPrice"))}));return V()(i,"totalDiscount.alternatives",[])}},{key:"getInsuranceButtonLabels",value:function(e,t){var n=this.getInsuranceButtonTranslationKey(t);return{insuranceButtonLabelLong:Object(Y.a)(n[0],{ancillary:e}),insuranceButtonLabelShort:Object(Y.a)(n[1],{ancillary:e})}}},{key:"getInsuranceButtonTranslationKey",value:function(e){var t=this.props.ancillary.isAddedToCart;return e?t?["ancillary.change","ancillary.change"]:["ancillary.add","ancillary.addInsuranceShort"]:t?["ancillary.remove","ancillary.removeInsuranceShort"]:["ancillary.add","ancillary.addInsuranceShort"]}},{key:"getPriceBeforeDiscount",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.addedTotal,a=e.offers.lowestPrice;if(t&&n){var r=function(e,t){return re()(ie(e),(function(e){var n=V()(e,t)||V()(e,"ancillaryPrice.totalPrice");return Object(Z.p)(n.alternatives,e.assignedQuantity)}))}(e.ancillaries||[e],"ancillaryPrice.originalTotalPrice");if(!_()(r))return r.reduce(Z.q)}var i=this.getUniqDiscounts(),s=k()(i,(function(e){return A()(V()(e,"totalPrice.alternatives",[]),a)}));return V()(s,"originalTotalPrice.alternatives",[])}},{key:"getSummaryButton",value:function(e,t){var n=this.props,a=n.ancillary,r=n.ancillariesConfiguration,i=a.code,s=a.hasInventory,o=a.availableInventory,l=V()(a,"offers.modificationAllowed",!0),c=i===V()(r,"insurance.code"),u=I()(o);if(l){if(c){var d=this.getInsuranceButtonLabels(e,t),p=d.insuranceButtonLabelLong,h=d.insuranceButtonLabelShort;return t?U.a.createElement("span",null,U.a.createElement("span",{className:"regular"},p),U.a.createElement("span",{className:"mobile"},h)):U.a.createElement("span",null,U.a.createElement("span",{className:"regular"},h),U.a.createElement("span",{className:"mobile"},h))}return u&&!s?Object(Y.a)("app.soldOut"):Object(Y.a)(this.getButtonTranslationKey(),{ancillary:Object(Y.i)("ancillary.items.".concat(i,".buttonName"))})}return Object(Y.a)("app.view")}},{key:"getUniqDiscounts",value:function(){var e=V()(this.props.ancillary,"offers.dealDiscounts",[]);return N()(e,A.a)}},{key:"render",value:function(){var e=this.props,n=e.ancillary,a=e.isDealBannerDisplayed,r=e.isOriginalPriceDisplayed,i=e.ancillariesConfiguration,s=e.isRenderedOnModal,o=e.retainedTotal,l=n.isAddedToCart,c=n.code,u=n.total,d=n.isLoading,p=n.totalInventory,h=n.addedTotal,f=n.hasInventory,m=n.availableInventory,g=i.ancillaryInventoryEnabled,v=V()(n,"offers.originalPrice"),y=Object(Y.a)("ancillary.items.".concat(c,".priceNote")),b=V()(n,"isPostInsurance",!1),C=Object(Y.a)("ancillary.items.".concat(c,".startingFrom")),k=Object(Y.a)("ancillary.items.".concat(c,".priceForAllPassengers")),S=Object(Y.i)("ancillary.items.".concat(c,".title")),O=V()(n,"offers.isFree",!1),P=c===V()(i,"insurance.code"),A=M()(n.products),x=I()(p),N=A>1&&P,T=S&&O,B=V()(i,"inventoryThreshold"),D=g&&m<=B,j=g&&f,F=V()(n,"offers.dealDiscounts",[]).length>0,R=F?this.getPriceBeforeDiscount():[],H=g&&t.checkForAncillaryInventoryForAllSubCodesBelowThreshold(n,B),W=z()("dxp-ancillary-summary","clearfix",E()(c),this.props.classNames,{"has-original-price":r&&v,"is-added-to-cart":l,"included-in-price":O,"has-inventory":g&&x&&!l}),q=z()("deal-banner",{"more-top-margin":!l&&r&&v}),G=V()(this.props,"ancillary.isPreselected",!1),Q=t.doesAncillaryHaveAnySubCodes(n),J=L()(n.offers.passengerOffers,(function(e,t){return V()(t,"prices.total",[]).length&&(e=Object(Z.q)(e,t.prices.total)),e}),[]),$=l&&u&&!Object(Z.o)(u)?u:V()(n,"offers.lowestPrice",[]);if(n.groupPriceForPassengers&&($=J),P){var ee=w()(u)||0===u[0].amount?V()(this.props,"ancillary.price"):u,te=b?V()(this.props,"ancillary.insurance.price"):ee;$=l?te:t.getLeadInsurancePrice(n)}h&&l&&($=h),_()(o)||($=Object(Z.q)($,Object(Z.p)(o,-1)));var ne=this.getBaggageDisclosure(),ae=l?X.b:X.c,re=(!l||P)&&!N,ie=V()(n,"ancillaries",[]).length>0&&!l;return U.a.createElement(K.b,{className:W,code:c,title:S,priceForAllPassengers:N?k:void 0,priceNote:re?y:void 0,dealBannerClasses:q,availableInventoryText:D&&j&&!l&&!Q&&m,bagDisclosure:ne,startingFromText:ie?C:void 0,hasDiscounts:F,isPreselected:G,isAddedToCart:Boolean(l),displayOriginalPrice:!l&&r&&!_()(v)&&!F,isIncludedInPrice:T,isLoading:d,isFree:O,isDealBannerDisplayed:a&&!_()(v),displayQuantityRemaining:!H&&g&&x,discountPrice:this.getDiscountPrice(),price:$,originalPrice:v,priceBeforeDiscount:R,retainedTotal:o,summaryButtonContent:this.getSummaryButton(S,N),summaryButtonDisabled:x&&!f,onClick:this.onClick,id:s?"summary-on-modal":"summary",PACKAGE_NAME_CLASSIFIED:"ancillary","data-component-state":ae})}}],[{key:"checkForAncillaryInventoryForAllSubCodesBelowThreshold",value:function(e,t){return L()(V()(e,"children",[]),(function(e,n){return e&&V()(n,"travelPartOffers[0].availableInventory",0)>t}),!0)}},{key:"doesAncillaryHaveAnySubCodes",value:function(e){return M()(V()(e,"children"))>0}},{key:"getLeadInsurancePrice",value:function(e){var t=V()(e,"products"),n=j()(t,(function(e){return V()(e,"insurance.price.amount")}));return V()(n,"insurance.price")}}]),t}(H.Component);g()(se,"contextTypes",{translateWithComponents:W.func.isRequired}),g()(se,"defaultProps",{classNames:"",isDealBannerDisplayed:!1,isOriginalPriceDisplayed:!1,bagAllowance:Object(G.Map)(),passengers:{},isRenderedOnModal:!1,retainedTotal:[]}),n.d(t,"a",(function(){return se}))},,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(21),y=n.n(v),b=n(51),E=n.n(b),C=n(19),k=n.n(C),S=n(321),_=n.n(S),O=n(5),w=n.n(O),P=n(1),A=n.n(P),x=(n(6),n(194),n(39)),N=n.n(x),T=n(1714),I=n(25),B=n(78),L=(n(2250),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"shouldComponentUpdate",(function(e){return Object(I.f)()||Object(T.b)({left:n.props,right:e,keys:["defaultValue","isRBEEnabled"]})||Object(T.a)({left:n.props,right:e,keys:["options"]})})),g()(p()(n),"onClick",(function(e){return n.props.onChange&&n.props.onChange(e)})),n}return f()(t,e),s()(t,[{key:"renderOptions",value:function(e){var t=this,n=this.props,a=n.isRBEEnabled,r=n.defaultValue,i=n.excludedJourneyTypes;return w()(e,(function(e){var n=E()(i,"toJS",[]),s=a&&y()(n,e.key),o=e.key===r,l=N()(_()(e.key),{active:o});return!s&&A.a.createElement("li",{className:N()("journey-type-selection-item",{active:o}),key:"journey-type-selection-".concat(e.key),id:"tab-".concat(e.key),"aria-controls":"panel-".concat(t.props.defaultValue),"aria-selected":o,role:"tab"},A.a.createElement(B.a,{key:"journey-type-".concat(e.key),className:l,disabled:s,onClick:function(n){return t.onClick(e.key,n)}},e.label))}))}},{key:"render",value:function(){var e=this.props,t=e.isRBEEnabled,n=e.excludedJourneyTypes,a=e.options,r=a;return t&&!n.isEmpty()&&(r=k()(a,(function(e){return!n.contains(e.key)}))),A.a.createElement("ul",{className:"journey-type-selection",role:"tablist"},this.renderOptions(r||[]))}}]),t}(P.Component));n.d(t,"a",(function(){return L}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(529),s=function(e){return r.a.createElement("div",{className:"class-selection"},r.a.createElement(i.a,e))};n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(194),n(6)),s=n(2013),o=n(84),l=n(14),c=n(12),u=n(1984),d=n(1983),p=function(e,t){var n=e.useCheckboxToAgree,a=e.isRefundCart,i=e.rulesAndFeeData,s=e.currentFlow,p=e.currentPage,h=t.translateWithComponents,f={fareRules:r.a.createElement(d.a,{rulesAndFeeData:e.rulesAndFeeData,onFareRulesClick:e.onFareRulesClick}),baggageInformation:r.a.createElement(u.a,{rulesAndFeeData:e.rulesAndFeeData,onBagFeeLinkClick:e.onBagFeeLinkClick})},m=i.bagFee.get("isExternalLinkEnabled")||s===o.a.B2C,g="payment.completePurchaseAgreementDescription";return n||(g=m?"shoppingCart.viewFareRules":"shoppingCart.viewFareRulesOnly"),a&&(g=m?"shoppingCart.refundCart.viewFareRules":"shoppingCart.refundCart.viewFareRulesOnly"),p===l.a.MYB&&(g=i.bagFee.get("isExternalLinkEnabled")?"shoppingCart.viewFareRules":"shoppingCart.viewFareRulesOnly"),r.a.createElement("div",{className:!n&&"dxp-shopping-cart-fare-rules"},Object(c.a)("shoppingCart.disclaimerNotice"),h(g,f),Object(c.a)("shoppingCart.disclaimerAdditionalFee"))};p.defaultProps={onBagFeeLinkClick:void 0,onFareRulesClick:void 0,isRefundCart:!1,useCheckboxToAgree:!1},p.contextTypes={translateWithComponents:i.func.isRequired};var h=p,f=(n(2223),function(e){return e.useCheckboxToAgree?r.a.createElement(s.a,{checkboxEnabled:e.checkboxEnabled,checkboxChecked:e.checkboxChecked,handleCheckboxChange:e.handleCheckboxChange,purchaseAgreementLinks:e.purchaseAgreementLinks,rulesAndFeeData:e.rulesAndFeeData,onBagFeeLinkClick:e.onBagFeeLinkClick,onFareRulesClick:e.onFareRulesClick}):r.a.createElement(h,{rulesAndFeeData:e.rulesAndFeeData,onBagFeeLinkClick:e.onBagFeeLinkClick,onFareRulesClick:e.onFareRulesClick,currentFlow:e.currentFlow,currentPage:e.currentPage})});f.defaultProps={useCheckboxToAgree:!1,checkboxEnabled:!1,checkboxChecked:!1,handleCheckboxChange:void 0,onBagFeeLinkClick:void 0,onFareRulesClick:void 0},f.contextTypes={translateWithComponents:i.func};t.a=f},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="CHANGE_PNR_LOOKUP_REQUEST",r="CHANGE_PNR_LOOKUP_RESPONSE",i="CHANGE_PNR_LOOKUP_ERROR"},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="GEOLOCATION_REQUEST",r="GEOLOCATION_RESPONSE",i="GEOLOCATION_FAILURE"},,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return z}));var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(92),E=n.n(b),C=n(36),k=n.n(C),S=n(27),_=n.n(S),O=n(2),w=n.n(O),P=n(13),A=n.n(P),x=n(0),N=n.n(x),T=n(1),I=n.n(T),B=(n(6),n(39)),L=n.n(B),D=n(12),j=n(50),F=n(244),M=n(195),R=n(88),V=n(2219),H=n(2220),U=n(2353),W=n(2034),q=(n(2380),n(2381),["departure","arrival","duration","stops","price","airports","airlines"]),z=function(t){function n(){var e,t;s()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=u()(this,(e=p()(n)).call.apply(e,[this].concat(r))),y()(f()(t),"state",{parentOffset:t.getOffset(t.node),active:{}}),t}return g()(n,t),l()(n,[{key:"componentDidMount",value:function(){this.filters={},e.addEventListener("resize",this),this.handleEvent()}},{key:"componentWillUnmount",value:function(){e.removeEventListener("resize",this)}},{key:"getClassName",value:function(e,t,n){return this.state.active[e]?L()("active",t,n):L()(t,n)}},{key:"getOffset",value:function(e){return e&&"BODY"!==e.tagName.toUpperCase()?e.offsetLeft+this.getOffset(e.offsetParent):0}},{key:"checkClearFilter",value:function(e,t,a,r,i){var s=!1,o=t.filter((function(e){return void 0!==e}));return A()(o,(function(e){if(e.min&&e.max){var t=e.min!==e.max,a=n.isFilterModified(e);s=t&&a}else{var r=Object.keys(e.values).filter((function(t){return!e.values[t]}));s=!w()(r)}if(s)return!1})),this.renderClearFilter(e,a,r,i,s)}},{key:"clearFilter",value:function(e,t){var n=this;return A()(e,(function(e){n[e]&&n[e].reset()})),this.props.clearFilter&&this.props.clearFilter(e,t)}},{key:"handleEvent",value:function(){this.setState({parentOffset:this.getOffset(this.node)})}},{key:"handleFilterUpdate",value:function(e,t){return this.props.updateFilter&&this.props.updateFilter(e,t)}},{key:"handleFiltersConfirm",value:function(){this.props.confirmFilters&&this.props.confirmFilters(),this.props.toggleFilterButtonFocus&&this.props.toggleFilterButtonFocus()}},{key:"toggleFilter",value:function(e){this.setState((function(t){var n=t.active,a=E()(n);return a[e]=!n[e],{active:a}}))}},{key:"renderAirlinesFilter",value:function(e,t){var n=this;return I.a.createElement("div",{className:this.getClassName("airlines","no-border","filter-module")},this.renderFilterButton("airlines"),I.a.createElement("div",{className:"filter-details"},I.a.createElement("div",{className:"filter-title"},Object(D.a)("filter.type.airlines")),this.checkClearFilter(["airlines"],[e],t),I.a.createElement(U.a,{data:e,labelPrefix:"airlines.",type:"airlines",ref:function(e){n.airlines=e},onFilterUpdate:function(e){return n.handleFilterUpdate("airlines",e)}})))}},{key:"renderAirportsFilter",value:function(e,t,n){var a=this;return I.a.createElement("div",{className:this.getClassName("airports",{"no-border":"airports"===n},"filter-module")},this.renderFilterButton("airports"),I.a.createElement("div",{className:"filter-details"},I.a.createElement("div",{className:"filter-title"},Object(D.a)("filter.type.airports")),this.checkClearFilter(["airports"],[e],t),I.a.createElement(U.a,{data:e,labelPrefix:"airports.",type:"airports",ref:function(e){a.airports=e},onFilterUpdate:function(e){return a.handleFilterUpdate("airports",e)}})))}},{key:"renderClearFilter",value:function(e,t,n,a,r){var i=this;return I.a.createElement(V.a,{className:n,onClick:function(){return i.clearFilter(e,a)},isEnabled:r},t)}},{key:"renderDurationFilter",value:function(e,t){var n=this,a=this.props,r=a.selectedLocale,i=a.locales,s=this.state.parentOffset;return I.a.createElement("div",{className:this.getClassName("duration","filter-module")},this.renderFilterButton("duration"),I.a.createElement("div",{className:"filter-details"},I.a.createElement("div",{className:"filter-title"},Object(D.a)("filter.type.duration")),this.checkClearFilter(["duration"],[e],t),I.a.createElement(H.a,{locales:i,selectedLocale:r,data:e,ref:function(e){n.duration=e},onFilterUpdate:function(e){return n.handleFilterUpdate("duration",e)},parentOffset:s,label:"duration"})))}},{key:"renderFilterButton",value:function(e){var t=this;return I.a.createElement("div",{role:"button",tabIndex:"0",className:"filter-btn",onClick:function(){return t.toggleFilter(e)},onKeyPress:function(n){return F.a.is(F.a.code.special.enter,n.which)&&t.toggleFilter(e)}},Object(D.a)("filter.type.".concat(e)),I.a.createElement(W.a,{summary:e,appliedFilters:this.props.appliedFilters,timeFormat:this.props.configuration.filterTimeLabelsFormat}),this.state.active[e]?I.a.createElement(j.c,{name:j.a.CHEVRON_UP}):I.a.createElement(j.c,{name:j.a.CHEVRON_DOWN}))}},{key:"renderFilters",value:function(){var e=this,t=L()("filters-tab","primary-background"),a=this.props,r=a.filters,i=a.configuration,s=a.toggleFilters,o=r.stops,l=r.airports,c=r.airlines,u=N()(i,"filters",{}),d=r.departure,p=r.arrival,h=0===this.props.resultsCount,f=n.getClearContent(),m=n.getClearAllContent(),g=n.topRowEnd(u),v=r.duration,y=r.price;return v&&(v.prefix=Object(D.a)("filter.under"),v.suffix=Object(D.a)("filter.hrs"),y.prefix=Object(D.a)("filter.under"),y.suffix=y.currency),I.a.createElement("div",{className:t},I.a.createElement("div",{className:"clear-all-mobile"},this.checkClearFilter(q,[d,p,v,o,y,l,c],m,"mobile-clear-all",!0)),I.a.createElement("div",{className:"filters-container"},(u.departureEnabled||u.arrivalEnabled)&&this.renderTimeFilter(d,p,f,u),u.durationEnabled&&this.renderDurationFilter(v,f),u.stopsEnabled&&this.renderStopsFilter(o,f),u.priceEnabled&&this.renderPriceFilter(y,f,g),"price"===g&&I.a.createElement("div",{className:"spacer"}),u.airportsEnabled&&this.renderAirportsFilter(l,f,g),"airports"===g&&I.a.createElement("div",{className:"spacer"}),u.airlinesEnabled&&this.renderAirlinesFilter(c,f)),I.a.createElement("div",{className:"bottom-section clearfix"},I.a.createElement(R.a,{className:"small secondary cancel-filter",onClick:s},Object(D.a)("app.cancel")),I.a.createElement(R.a,{disabled:h,className:"small primary apply-filter",onClick:function(){return e.handleFiltersConfirm()}},Object(D.a)("filter.updateFilters"))))}},{key:"renderPriceFilter",value:function(e,t,n){var a=this,i=this.props,s=i.configuration,o=i.selectedLocale,l=i.locales,c=this.state.parentOffset,u=N()(N()(s,"filters"),"price",{}),d=Math.round(100*N()(e,"values[0]"))/100;return I.a.createElement("div",{className:this.getClassName("price",{"no-border":"price"===n},"filter-module")},this.renderFilterButton("price"),I.a.createElement("div",{className:"filter-details"},I.a.createElement("div",{className:"filter-title"},Object(D.a)("filter.type.price")),this.checkClearFilter(["price"],[e],t),I.a.createElement(H.a,r()({data:e,locales:l,selectedLocale:o,ref:function(e){a.price=e},onFilterUpdate:function(e){return a.handleFilterUpdate("price",e)},parentOffset:c,label:"price",ariaValueText:d},u))))}},{key:"renderStopsFilter",value:function(e,t){var n=this;return I.a.createElement("div",{className:this.getClassName("stops","filter-module","stops-filter")},this.renderFilterButton("stops"),I.a.createElement("div",{className:"filter-details"},I.a.createElement("div",{className:"filter-title"},Object(D.a)("filter.type.stops")),this.checkClearFilter(["stops"],[e],t),I.a.createElement(U.a,{data:e,labelPrefix:"filter.stops.",type:"stops",ref:function(e){n.stops=e},onFilterUpdate:function(e){return n.handleFilterUpdate("stops",e)}})))}},{key:"renderTimeFilter",value:function(e,t,n,a){var r=this,i=this.props,s=i.appliedFilters,o=i.selectedLocale,l=i.locales,c=this.state.parentOffset,u=[],d=[];return a.departureEnabled&&(u.push("departure"),d.push(e)),a.arrivalEnabled&&(u.push("arrival"),d.push(t)),I.a.createElement("div",{className:this.getClassName("time","filter-module","time-filter")},I.a.createElement("div",{role:"button",tabIndex:"0",className:"filter-btn",onClick:function(){return r.toggleFilter("time")},onKeyPress:function(e){return F.a.is(F.a.code.special.enter,e.which)&&r.toggleFilter("time")}},Object(D.a)("filter.type.time"),a.departureEnabled&&I.a.createElement(W.a,{summary:"departure",appliedFilters:s,timeFormat:this.props.configuration.filterTimeLabelsFormat}),a.arrivalEnabled&&I.a.createElement(W.a,{summary:"arrival",appliedFilters:s,timeFormat:this.props.configuration.filterTimeLabelsFormat}),this.state.active.time?I.a.createElement(j.c,{name:j.a.CHEVRON_UP}):I.a.createElement(j.c,{name:j.a.CHEVRON_DOWN})),I.a.createElement("div",{className:"filter-details"},I.a.createElement("div",{className:"filter-title"},a.departureEnabled?Object(D.a)("filter.type.departureTime"):Object(D.a)("filter.type.arrivalTime")),this.checkClearFilter(u,d,n),a.departureEnabled&&I.a.createElement(H.a,{locales:l,data:e,selectedLocale:o,ref:function(e){r.departure=e},onFilterUpdate:function(e){return r.handleFilterUpdate("departure",e)},parentOffset:c,label:"departure"}),I.a.createElement("div",{className:"filter-title"},a.departureEnabled&&a.arrivalEnabled&&Object(D.a)("filter.type.arrivalTime")),a.arrivalEnabled&&I.a.createElement(H.a,{locales:l,selectedLocale:o,data:t,ref:function(e){r.arrival=e},onFilterUpdate:function(e){return r.handleFilterUpdate("arrival",e)},parentOffset:c,label:"arrival"})))}},{key:"render",value:function(){var e=this,t=L()("dxp-filter",this.props.className),n=this.props.filters,a=Object(M.a)(this.props.isAuthorable,"filter");return I.a.createElement("div",r()({ref:function(t){e.node=t},className:t},a),n&&this.renderFilters())}}],[{key:"getClearAllContent",value:function(){return I.a.createElement("span",null,Object(D.a)("filter.clearAll"))}},{key:"getClearContent",value:function(){return I.a.createElement("span",null,Object(D.a)("filter.clear"))}},{key:"isFilterModified",value:function(e){var t=e.values.length>1,n=e.min!==_()(e.values)||e.max!==k()(e.values),a=_()(e.values)!==e.max;return t?n:a}},{key:"topRowEnd",value:function(e){var t=0;return(e.departureEnabled||e.arrivalEnabled)&&(t+=1),e.durationEnabled&&(t+=1),e.stopsEnabled&&(t+=1),e.priceEnabled&&4===(t+=1)?"price":e.airportsEnabled&&4===(t+=1)?"airports":e.airlinesEnabled&&4===(t+=1)?"airlines":void 0}}]),n}(T.Component);y()(z,"defaultProps",{isAuthorable:!0,className:void 0,appliedFilters:{},configuration:{},locales:{},selectedLocale:""})}).call(this,n(41))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(0),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),E=n.n(b),C=n(1982),k=(n(2377),function(t){function n(e){var t;return r()(this,n),(t=l()(this,u()(n).call(this,e))).state={parentOffset:e.parentOffset},t}return p()(n,t),s()(n,[{key:"componentDidMount",value:function(){e.addEventListener("resize",this),this.setOffset(this.props.parentOffset)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.parentOffset!==this.props.parentOffset&&this.setOffset(e.parentOffset)}},{key:"componentWillUnmount",value:function(){e.removeEventListener("resize",this)}},{key:"setOffset",value:function(e){this.setState({parentOffset:e+this.node.parentNode.parentNode.offsetLeft})}},{key:"reset",value:function(){this.slider.reset()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.onFilterUpdate,r=t.label,i=t.selectedLocale,s=t.locales,o=t.ariaValueText,l=E()("dxp-slider-filter",this.props.className||""),c=n.min===n.max,u=this.state.parentOffset,d=n.suffix,p=n.prefix,h=s.getIn([i,"isRightToLeft"]);return y.a.createElement("div",{className:l,ref:function(t){e.node=t}},y.a.createElement(C.a,{locales:s,selectedLocale:i,max:g()(n,"max"),min:g()(n,"min"),type:g()(n,"type"),values:g()(n,"values"),parentOffset:u,disabled:c,onUpdate:a,ref:function(t){e.slider=t},isRightToLeft:h,label:r,suffix:d,prefix:p,ariaValueText:o}))}}]),n}(v.Component));f()(k,"defaultProps",{className:"",label:"",parentOffset:0,selectedLocale:"",locales:{},ariaValueText:0})}).call(this,n(41))},,,,,,,function(e,t){e.exports=function(e){return null===e}},,,,,,,function(e,t,n){"use strict";var a=n(2405);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(7);function r(){return function(e){e({type:a.Ae})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a=function(e){return"submit-".concat(e)},r="ancillary-added-to-cart",i="ancillary-not-added-to-cart"},function(e,t,n){var a=n(116),r=0;e.exports=function(e){var t=++r;return a(e)+t}},function(e,t,n){var a=n(2280);e.exports=function(e){return Object(a(e))}},function(e,t){e.exports={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(49),E=n.n(b),C=n(21),k=n.n(C),S=n(0),_=n.n(S),O=n(2),w=n.n(O),P=n(1),A=n.n(P),x=n(6),N=n(39),T=n.n(N),I=n(158),B=n.n(I),L=n(11),D=n(12),j=(n(194),n(195)),F=n(5),M=n.n(F),R=n(50),V=n(1907),H=n(1281);n(2406);function U(e,t){return"ancillary-".concat(e,"-itinerary-part-").concat(t)}var W=function(e){var t=e.itineraryPartIndex,n=e.ancillary,a=e.itineraryPartKey,r=e.journeyType,i=e.isCollapsed,s=e.children,o=0===t,l=_()(n,"offers.itineraryParts[".concat(a,"]")),c=function(e,t){var n;return T()((n={},y()(n,R.a.AIRPLANE_DEPART,e.isMultiCity||t),y()(n,R.a.AIRPLANE_ARRIVE,!e.isMultiCity&&!t),n))}(r,o),u=function(e,t,n,a){if(n.isMultiCity){var r=_()(e,"offers.itineraryParts",{}),i=E()(r),s=_()(r,"".concat(i[t],"].destination"),e.offers.destination),o=_()(r,"".concat(i[t],"].origin"),e.offers.origin);return Object(D.i)("ancillary.multiCityTitle",{index:t+1,from:Object(D.i)("airports.".concat(o)),to:Object(D.i)("airports.".concat(s))})}return a?"ancillary.departureFlights":"ancillary.returnFlights"}(n,t,r,o);return A.a.createElement(V.a,{hideHeaderIcon:!0,isCollapsed:i,className:T()("dxp-ancillary-flight","row",{"is-departure":o}),id:U(n.code,l.key)},A.a.createElement(V.a.Header,null,A.a.createElement(H.a,{className:"flight-title",icon:c,iconFill:!i,title:u})),A.a.createElement(V.a.Body,null,s))};W.defaultProps={isCollapsed:!1};var q=W,z=n(43),G=n.n(z),K=n(95),Y=n.n(K),Q=n(321),X=n.n(Q),J=n(117),Z=n(100);n(2407);function $(e){var t=e.parameters,n=e.ancillariesConfiguration,a=e.ancillary,r=e.itineraryPart,i=e.travelPartType,s=_()(r||_()(a,"offers"),"offeringType"),o=a&&n.ancillaryInventoryEnabled&&a.inventoryMessage&&s!==Z.a.WEIGHT;return A.a.createElement("div",{className:T()("travel-part-title",X()(i))},A.a.createElement("span",{dir:"ltr"},t.airlineCode&&A.a.createElement("span",{className:"airline-code"},t.airlineCode),A.a.createElement("span",{className:"flight-number"},t.flightNumber)),A.a.createElement("span",{className:"origin"},t.origin),A.a.createElement(R.c,{name:R.a.ARROW_CHEVRON_RIGHT,srOnlyText:Object(D.i)("app.to")}),A.a.createElement("span",{className:"destination"},t.destination),o&&t.isInventoryControlled&&A.a.createElement("span",{className:"inventory-message"},Object(D.a)("ancillary.inventory.limitedAvailability")))}$.defaultProps={parameters:{},ancillariesConfiguration:{},ancillary:{},itineraryPart:{},travelPartType:void 0};var ee=$;function te(e){var t=e.ancillary,n=e.className,a=T()("unavailable-message-for-leg",n);return A.a.createElement("p",{className:a},Object(D.a)("ancillary.items.".concat(t.code,".unavailable")))}te.defaultProps={ancillary:{},className:""};var ne=te,ae=n(1338),re=n(157),ie="CHECKBOX",se=n(19),oe=n.n(se),le=n(83),ce=n.n(le),ue=n(115),de=n.n(ue),pe=n(34),he=n.n(pe),fe=n(13),me=n.n(fe),ge=n(8),ve=n.n(ge),ye=n(130),be=n.n(ye),Ee=n(176),Ce=n.n(Ee),ke=n(18),Se=n.n(ke),_e=n(122),Oe=n.n(_e),we=n(1324),Pe=n(1249),Ae=n(245),xe=n.n(Ae),Ne=n(1297),Te=n.n(Ne),Ie=n(1264),Be=n(1690),Le=n.n(Be),De=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onKeyUp",(function(e){e.preventDefault(),e.stopPropagation();var t=n.props,a=t.disableDecrement,r=t.disableIncrement;switch(e.keyCode){case Te()("up"):!r&&n.sparkNumberSelector.increment();break;case Te()("down"):!a&&n.sparkNumberSelector.decrement()}})),n}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.sparkNumberSelector=new Le.a(this.numberSelectorEl,{onChange:this.props.onChange})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.label,r=t.id,i=t.min,s=t.max,o=t.steps,l=t.value,c=t.disableDecrement,u=t.disableIncrement,d=t.ariaLabelDecrementButton,p=t.ariaLabelIncrementButton,h=t.disableInput,f=t.ariaDescribedById,m=t.readOnlyText,g=T()("dx-number-selector-container",n,"ducp-component-number-selector"),v=xe()(f)?"".concat(r," read-only-text-").concat(r):"".concat(r," read-only-text-").concat(r," ").concat(f);return A.a.createElement("div",{className:g},A.a.createElement("div",{className:"spark-number-selector",ref:function(t){e.numberSelectorEl=t}},A.a.createElement("div",{className:"spark-number-selector__item"},A.a.createElement("input",{className:"number-input",disabled:h,onKeyUp:this.onKeyUp,type:"number",id:r,min:i,max:s,step:o,value:l,"aria-live":"assertive","aria-describedby":"".concat(r,"-example-number-selector__message"),readOnly:!0}),A.a.createElement("span",{className:"spark-assistive-text",id:"read-only-text-".concat(r)},m),A.a.createElement(Ie.a,{ariaLabel:d,disabled:c,className:"spark-btn spark-icon spark-btn--secondary spark-icon-math-subtract spark-number-selector__down decrement-button","aria-controls":r,"aria-describedby":v}),A.a.createElement(Ie.a,{ariaLabel:p,disabled:u,className:"spark-btn spark-icon spark-btn--secondary spark-icon-math-add spark-number-selector__up increment-button","aria-controls":r,"aria-describedby":v}),A.a.createElement("label",{htmlFor:r},A.a.createElement("span",{className:"spark-assistive-text"},a))),A.a.createElement("span",{id:"".concat(r,"-example-number-selector__message"),className:"spark-number-selector__message",role:"alert"})))}}]),t}(P.PureComponent);y()(De,"defaultProps",{className:void 0,min:0,max:void 0,label:void 0,steps:1,value:0,id:void 0,onChange:Oe.a,disableIncrement:!1,disableDecrement:!1,disableInput:!1,ariaLabelDecrementButton:void 0,ariaLabelIncrementButton:void 0,ariaDescribedById:void 0,readOnlyText:void 0});var je=function(e){var t=e.subCode,n=e.displayAncillaryLeft,a=e.availableInventory,r=e.price,i=e.originalPrice,s=e.displayNoSpaceAvailable,o=e.PACKAGE_NAME_CLASSIFIED,l=e.className,c=e.id;return A.a.createElement("div",{className:T()("bag-weight-container",l),id:c,"aria-hidden":"false"},A.a.createElement("div",{className:"bag-specs"},Object(D.a)([o,"baggage","subCodes",t])),r&&A.a.createElement("div",{className:"bag-item-price"},A.a.createElement(Pe.a,{price:r,originalPrice:i,PACKAGE_NAME_CLASSIFIED:o})),n&&A.a.createElement("div",{className:"inventory"},a,Object(D.a)([o,"left"])),s&&A.a.createElement("div",{className:"inventory"},Object(D.a)([o,"noSpaceAvailable"])))};je.defaultProps={displayAncillaryLeft:!1,displayNoSpaceAvailable:!1,availableInventory:void 0,price:void 0,originalPrice:void 0,className:void 0};var Fe=je;function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"createOnChangeHandler",(function(e){var t=e.ancillary;return function(e){return n.props.onChange({subCode:t.subCode,count:e})}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,i=t.passenger,s=t.bagRowId,o=t.numberSelectorReadOnlyText,l=i.id,c=i.personName,u=i.total,d=i.baggageAllowance,p=i.baggageEntitlements,h=i.allowanceWithEntitlements,f=i.ancillaries,m=i.count,g=i.showRemoveButton,v=i.hasSelectedAncillary,y=i.isFulfilledStatus;return A.a.createElement("div",{className:T()("passenger-bag-row",n,{"has-selected":v}),key:l},A.a.createElement("div",{className:"each-cell passenger-name-container"},A.a.createElement("div",{className:"passenger-name"},Object(D.a)([a,"name"],Re({},c))),A.a.createElement("div",{className:"count-total-const-container"},A.a.createElement("div",{className:"passenger-suitcase-count"},A.a.createElement(R.c,{className:"passenger-total-bags",size:"md",fill:!0,name:R.a.SUITCASE}),Object(D.a)([a,"baggage","totalBagsForPassenger"],{totalBagsCount:m})),u&&A.a.createElement(Pe.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:a,price:u,includeDecimal:!0})),h>0&&A.a.createElement("div",{className:"allowance"},Object(D.a)([a,"baggage","allowance"],{allowance:d,entitlements:p,allowanceWithEntitlements:h,count:m})),g&&A.a.createElement("div",{className:"remove-button-container"},A.a.createElement("div",{className:"remove-help-text"},Object(D.a)([a,"baggage","removeBagsHelpText"])),A.a.createElement(Ie.a,{ariaLabel:Object(D.i)([a,"baggage","removeBagsAriaLabel"],Re({},c)),onClick:this.props.onRemoveClick,isNegativeButton:!0,className:"remove-bags xs",label:Object(D.a)([a,"baggage","removeBags"])})),y&&A.a.createElement("div",{className:"fulfilled-help-text"},Object(D.a)([a,"baggage","bagsAreFulfilled"]))),A.a.createElement("div",{className:"bag-items-container"},f.map((function(t){return A.a.createElement("div",{className:"each-passenger-bag each-cell",key:t.id},A.a.createElement(Fe,r()({},t,{PACKAGE_NAME_CLASSIFIED:a,id:"bag-weight-".concat(s,"-").concat(t.subCode)})),A.a.createElement(De,{max:t.max,disableIncrement:t.disableIncrement,disableDecrement:t.disableDecrement,disableInput:!0,ariaLabelDecrementButton:Object(D.i)([a,"baggage","decrementBagsAriaLabel"],Re({},c)),ariaLabelIncrementButton:Object(D.i)([a,"baggage","incrementBagsAriaLabel"],Re({},c)),id:"".concat(s,"-number-selector-").concat(t.subCode),value:t.count,label:Object(D.i)([a,"baggage","numberSelector"]),onChange:e.createOnChangeHandler({ancillary:t}),ariaDescribedById:"bag-weight-".concat(s,"-").concat(t.subCode),readOnlyText:o}))}))))}}]),t}(P.Component);y()(Ve,"defaultProps",{bagRowId:"",className:void 0,maxBagsPerPassenger:void 0,onChange:Oe.a,onRemoveClick:Oe.a,numberSelectorReadOnlyText:void 0});var He=function(e){var t=e.PACKAGE_NAME_CLASSIFIED,n=e.passenger;return A.a.createElement("div",{className:"unavailable-message"},A.a.createElement("div",{className:"passenger-name"},Object(D.a)([t,"name"],n.personName)),Object(D.a)([t,"unavailableForPassenger"],{typeName:Object(D.i)([t,"passengerType","codes",n.personName.type])}))},Ue=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"createOnChangeHandler",(function(e){var t=e.passenger;return function(e){var a=e.subCode,r=e.count;return n.props.onChange({subCode:a,passengerId:t.id,count:r})}})),y()(f()(n),"createOnRemoveHandler",(function(e){var t=e.passenger;return function(){return n.props.onRemoveClick({passengerId:t.id})}})),n}return g()(t,e),l()(t,[{key:"renderPassenger",value:function(e){var t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment,r=t.maxBagsPerPassenger,i=t.numberSelectorReadOnlyText;return e.isNotAvailable?A.a.createElement(He,{PACKAGE_NAME_CLASSIFIED:n,passenger:e,key:"".concat(a.id,"-").concat(e.id)}):A.a.createElement(Ve,{maxBagsPerPassenger:r,key:"".concat(a.id,"-").concat(e.id),bagRowId:"".concat(a.id,"-").concat(e.id),passenger:e,onChange:this.createOnChangeHandler({passenger:e}),onRemoveClick:this.createOnRemoveHandler({passenger:e}),PACKAGE_NAME_CLASSIFIED:n,numberSelectorReadOnlyText:i})}},{key:"render",value:function(){var e=this,t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment;return A.a.createElement("div",{className:"segment"},A.a.createElement(we.b,{airports:a,packageName:n}),A.a.createElement("div",{className:"passengers"},a.passengers.map((function(t){return e.renderPassenger(t)}))))}}]),t}(P.PureComponent);y()(Ue,"defaultProps",{onChange:Oe.a,maxBagsPerPassenger:void 0,onRemoveClick:Oe.a,numberSelectorReadOnlyText:void 0});var We=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"createOnChangeHandler",(function(e){var t=e.segment;return function(e){var a=e.subCode,r=e.passengerId,i=e.count;return n.props.onChange({segmentId:t.id,subCode:a,passengerId:r,count:i})}})),y()(f()(n),"createOnRemoveHandler",(function(e){var t=e.segment;return function(e){var a=e.passengerId;return n.props.onRemoveClick({segmentId:t.id,passengerId:a})}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.segments,i=t.maxBagsPerPassenger,s=t.numberSelectorReadOnlyText;return A.a.createElement("div",{className:T()("spark-panel",n,"ducp-component-bags")},A.a.createElement("div",{className:"spark-panel__content"},r.map((function(t){return A.a.createElement(Ue,{onRemoveClick:e.createOnRemoveHandler({segment:t}),maxBagsPerPassenger:i,segment:t,PACKAGE_NAME_CLASSIFIED:a,onChange:e.createOnChangeHandler({segment:t}),key:t.id,numberSelectorReadOnlyText:s})}))))}}]),t}(P.PureComponent);y()(We,"defaultProps",{className:void 0,onChange:Oe.a,onRemoveClick:Oe.a,maxBagsPerPassenger:void 0,numberSelectorReadOnlyText:void 0});var qe=We,ze=n(35),Ge=n.n(ze);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{count:n.props.passenger.count}),y()(f()(n),"onChange",(function(e){var t=n.props,a=t.onChange,r=t.passenger.id;n.count=e,n.setState({count:e},(function(){a({passengerId:r,count:e})}))})),y()(f()(n),"onRemoveClick",(function(e){return function(){n.props.onRemoveClick({passengerId:e})}})),n}return g()(t,e),l()(t,[{key:"getTotalCount",value:function(){var e=_()(this.state,"count",0);return this.props.passenger.hasSelectedAncillary?e+this.props.passenger.baggageAllowance:e}},{key:"shouldDisableIncrementButton",value:function(){var e=this.props.maxBagsPerPassenger||this.props.passenger.max;if(this.state.count>=e)return!0;var t=this.props.passenger,n=t.isFulfilledStatus,a=t.hasSelectedAncillary;return t.disableIncrement||a&&!n}},{key:"shouldDisableDecrementButton",value:function(){var e=this.props.passenger,t=e.isFulfilledStatus,n=e.hasSelectedAncillary;return e.disableDecrement||n&&!t}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.PACKAGE_NAME_CLASSIFIED,a=e.passenger,r=e.maxBagsPerPassenger,i=e.isBaggage,s=e.bagRowId,o=e.numberSelectorInputDisabled,l=e.numberSelectorReadOnlyText,c=a.id,u=a.personName,d=a.isFulfilledStatus,p=a.hasSelectedAncillary,h=a.baggageAllowance,f=a.displayAncillaryLeft,m=a.availableInventory,g=a.displayNoSpaceAvailable,v=a.total,y=a.min,b=a.max,E=a.ancillaries||{},C=E.subCode,k=E.price,S=p&&!d,_=b||r;return A.a.createElement("div",{className:T()("passenger-spinner-list",t,{"has-selected":S})},A.a.createElement("div",{className:"passenger-details-bag-amount-container"},A.a.createElement("div",{className:"each-cell passenger-name-container"},A.a.createElement("div",{className:"passenger-name"},Object(D.a)([n,"name"],u)),i&&A.a.createElement("div",{className:"passenger-suitcase-count"},A.a.createElement(R.c,{className:"passenger-total-bags",size:"md",fill:!0,name:R.a.SUITCASE}),Object(D.a)([n,"baggage","totalBagsForPassenger"],{totalBagsCount:this.getTotalCount()})),h>0&&A.a.createElement("div",{className:"allowance"},Object(D.a)([n,"baggage","allowance"],{allowance:h})),f&&A.a.createElement("div",{className:"inventory"},m,Object(D.a)([n,"left"])),S&&A.a.createElement("div",{className:"remove-button-container"},A.a.createElement("div",{className:"remove-help-text"},Object(D.a)([n,"baggage","removeBagsHelpText"])),A.a.createElement(Ie.a,{ariaLabel:Object(D.i)([n,"baggage","removeBagsAriaLabel"],Ye({},u)),onClick:this.onRemoveClick(c),isNegativeButton:!0,className:"remove-bags xs",label:Object(D.a)([n,"baggage","removeBags"])})),g&&A.a.createElement("div",{className:"inventory"},Object(D.a)([n,"noSpaceAvailable"]))),v&&A.a.createElement(Pe.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:n,price:v,includeDecimal:!0})),A.a.createElement("div",{className:"baggage-passenger-holder"},A.a.createElement("div",{className:"bag-weight-container",id:"bag-weight-container-".concat(s)},C&&A.a.createElement("div",{className:"baggage-weight"},Object(D.a)([n,"baggage","subCodes",C])),k&&A.a.createElement("div",{className:"bag-item-price"},A.a.createElement(Pe.a,{price:k,PACKAGE_NAME_CLASSIFIED:n}))),A.a.createElement("div",{className:"each-passenger-bag each-cell"},A.a.createElement(De,{label:Object(D.i)([n,"baggage","numberSelector"]),id:s,min:y,max:_,value:this.state.count,disableIncrement:this.shouldDisableIncrementButton(),disableDecrement:this.shouldDisableDecrementButton(),disableInput:S||o,ariaLabelDecrementButton:Object(D.i)([n,"baggage","decrementBagsAriaLabel"],Ye({},u)),ariaLabelIncrementButton:Object(D.i)([n,"baggage","incrementBagsAriaLabel"],Ye({},u)),onChange:this.onChange,ariaDescribedById:"bag-weight-container-".concat(s),readOnlyText:l}))))}}]),t}(P.Component);y()(Qe,"defaultProps",{bagRowId:"",className:void 0,maxBagsPerPassenger:void 0,onChange:Oe.a,onRemoveClick:Oe.a,isBaggage:!1,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var Xe=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{segmentData:M()(n.props.segment.passengers,(function(e){return{passengerId:e.id,count:_()(e,"count",0)}}))}),y()(f()(n),"onChange",(function(e){n.setState((function(t){var n=t.segmentData,a=oe()(n,(function(t){return t.passengerId!==e.passengerId}));return a.push(e),{segmentData:a}}),(function(){return n.props.onChange(n.state.segmentData)}))})),n}return g()(t,e),l()(t,[{key:"renderPassenger",value:function(e){var t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment,r=t.maxBagsPerPassenger,i=t.onRemoveClick,s=t.isBaggage,o=t.numberSelectorInputDisabled,l=t.numberSelectorReadOnlyText;return e.isNotAvailable?A.a.createElement(He,{PACKAGE_NAME_CLASSIFIED:n,passenger:e,key:"".concat(a.id,"-").concat(e.id)}):A.a.createElement(Qe,{maxBagsPerPassenger:r,key:"".concat(a.id,"-").concat(e.id),bagRowId:"".concat(a.id,"-").concat(e.id),passenger:e,onChange:this.onChange,onRemoveClick:i,isBaggage:s,PACKAGE_NAME_CLASSIFIED:n,numberSelectorInputDisabled:o,numberSelectorReadOnlyText:l})}},{key:"render",value:function(){var e=this,t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment;return A.a.createElement("div",{className:"segment"},A.a.createElement(we.b,{airports:a,packageName:n}),A.a.createElement("div",{className:"passengers"},a.passengers.map((function(t){return e.renderPassenger(t)}))))}}]),t}(P.PureComponent);y()(Xe,"defaultProps",{onChange:Oe.a,maxBagsPerPassenger:void 0,onRemoveClick:Oe.a,isBaggage:!1,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var Je=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{data:{}}),y()(f()(n),"onChange",(function(e){return function(t){n.setState((function(n){var a=n.data,r=Ge()(a,e);return r[e]=t,{data:r}}),(function(){return n.props.onChange(n.state.data)}))}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.segments,i=t.maxBagsPerPassenger,s=t.onRemoveClick,o=t.isBaggage,l=t.numberSelectorInputDisabled,c=t.numberSelectorReadOnlyText;return A.a.createElement("div",{className:T()("spark-panel",n,"ducp-component-bags")},A.a.createElement("div",{className:"spark-panel__content"},r.map((function(t){return A.a.createElement(Xe,{onRemoveClick:s,maxBagsPerPassenger:i,segment:t,PACKAGE_NAME_CLASSIFIED:a,onChange:e.onChange(t.id),key:t.id,isBaggage:o,numberSelectorInputDisabled:l,numberSelectorReadOnlyText:c})}))))}}]),t}(P.PureComponent);y()(Je,"defaultProps",{className:void 0,onChange:Oe.a,onRemoveClick:Oe.a,maxBagsPerPassenger:void 0,isBaggage:!1,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var Ze=Je,$e=n(4),et=n.n($e),tt=n(1987),nt=n.n(tt),at=n(2199),rt=function(e,t){return A.a.createElement("div",{className:"bag-specs"},A.a.createElement("div",{className:"weight-specs"},Object(D.a)([t,"baggage","subCodes",e.code])),e.price&&A.a.createElement(Pe.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:t,price:e.price,includeDecimal:!0}))},it=function(e){var t=e.subCodes,n=e.selectedSubCode,a=e.disabled,r=e.disabledSubCodes,i=e.PACKAGE_NAME_CLASSIFIED;return M()(t,(function(e){return{label:rt(e,i),checked:e.code===n,className:"bag-weight ".concat(e.code),value:e.code,disabled:a||r[e.code]}}))},st=function(e){var t=e.index,n=e.PACKAGE_NAME_CLASSIFIED,a=e.componentId,r=e.onChange,i=e.subCodes,s=e.selectedSubCode,o=e.disabled,l=e.disabledSubCodes;return A.a.createElement("div",{className:"bag-weights"},A.a.createElement("div",{className:"bag-index"},A.a.createElement(R.c,{size:"md",fill:!0,name:R.a.SUITCASE}),Object(D.a)([n,"checkedBag"],{index:t+1})),A.a.createElement("div",{className:"select-weight"},Object(D.a)([n,"selectWeight"])),A.a.createElement(at.a,{name:"bag-weights-toggle-".concat(a),onChange:function(e,t){return r(t)},items:it({subCodes:i,selectedSubCode:s,disabled:o,disabledSubCodes:l,PACKAGE_NAME_CLASSIFIED:n})}))};st.defaultProps={subCodes:[],selectedSubCode:void 0,disabled:!1,disabledSubCodes:{},onChange:Oe.a};var ot=st;function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"renderBagWeights",(function(e){var t=n.props,a=t.passenger,r=t.componentId,i=t.PACKAGE_NAME_CLASSIFIED;return A.a.createElement(ot,{index:e,key:"".concat(r,"-").concat(a.id,"-").concat(e),componentId:"".concat(r,"-").concat(a.id,"-").concat(e),subCodes:a.subCodes,selectedSubCode:a.selectedSubCodes[e],disabledSubCodes:n.getDisabledSubCodes(e),disabled:!a.modificationAllowed,onChange:function(t){return n.props.onWeightSelectionChange({index:e,subCode:t})},PACKAGE_NAME_CLASSIFIED:i})})),n}return g()(t,e),l()(t,[{key:"getDisabledSubCodes",value:function(e){var t=this.props.passenger,n=t.subCodes,a=t.selectedSubCodes,r=nt()(a.slice(0,e));return et()(n,(function(e,t){var n=r[t.code];return e[t.code]=n>=t.max,e}),{})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.passenger,i=t.bagRowId,s=t.numberSelectorInputDisabled,o=t.numberSelectorReadOnlyText,l=r.personName,c=r.baggageAllowance,u=r.total;return A.a.createElement("div",{className:T()("passenger-weights-list",n)},A.a.createElement("div",{className:"passenger-controls-container"},A.a.createElement("div",{className:"each-cell passenger-name-container"},A.a.createElement("div",{className:"passenger-name"},Object(D.a)([a,"name"],l)),c>0&&A.a.createElement("div",{className:"allowance"},Object(D.a)([a,"baggage","allowance"],{allowance:c})),r.displayAncillaryLeft&&A.a.createElement("div",{className:"inventory"},r.availableInventory,Object(D.a)([a,"left"])),r.displayNoSpaceAvailable&&A.a.createElement("div",{className:"inventory"},Object(D.a)([a,"noSpaceAvailable"]))),u&&A.a.createElement(Pe.a,{className:"dxp-passenger-ancillary-price",PACKAGE_NAME_CLASSIFIED:a,price:u,includeDecimal:!0}),A.a.createElement("div",{className:"each-passenger-bag each-cell"},A.a.createElement(De,{label:Object(D.i)([a,"baggage","numberSelector"]),id:i,min:r.min,max:r.max,value:r.value,ariaLabelDecrementButton:Object(D.i)([a,"baggage","decrementBagsAriaLabel"],ct({},l)),ariaLabelIncrementButton:Object(D.i)([a,"baggage","incrementBagsAriaLabel"],ct({},l)),disableIncrement:r.disableIncrement,disableDecrement:r.disableDecrement,onChange:function(t){return e.props.onQuantityChange({count:t})},disableInput:s,readOnlyText:o}))),A.a.createElement("div",{className:"weight-list"},Ce()(r.value,this.renderBagWeights)))}}]),t}(P.Component);y()(ut,"defaultProps",{bagRowId:"",className:void 0,onQuantityChange:Oe.a,onWeightSelectionChange:Oe.a,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var dt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onQuantityChange",(function(e){return function(t){var a=t.count;return n.props.onQuantityChange({passengerId:e,count:a})}})),y()(f()(n),"onWeightSelectionChange",(function(e){return function(t){var a=t.index,r=t.subCode;return n.props.onWeightSelectionChange({passengerId:e,index:a,subCode:r})}})),n}return g()(t,e),l()(t,[{key:"renderPassenger",value:function(e){var t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment,r=t.numberSelectorInputDisabled,i=t.numberSelectorReadOnlyText;return e.isNotAvailable?A.a.createElement(He,{PACKAGE_NAME_CLASSIFIED:n,passenger:e,key:"".concat(a.id,"-").concat(e.id)}):A.a.createElement(ut,{key:"".concat(a.id,"-").concat(e.id),bagRowId:"".concat(a.id,"-").concat(e.id),componentId:"".concat(a.id,"-").concat(e.id),passenger:e,onWeightSelectionChange:this.onWeightSelectionChange(e.id),onQuantityChange:this.onQuantityChange(e.id),PACKAGE_NAME_CLASSIFIED:n,numberSelectorInputDisabled:r,numberSelectorReadOnlyText:i})}},{key:"render",value:function(){var e=this,t=this.props,n=t.PACKAGE_NAME_CLASSIFIED,a=t.segment;return A.a.createElement("div",{className:"segment"},A.a.createElement(we.b,{airports:a,packageName:n}),A.a.createElement("div",{className:"passengers"},a.passengers.map((function(t){return e.renderPassenger(t)}))))}}]),t}(P.PureComponent);y()(dt,"defaultProps",{onQuantityChange:Oe.a,onWeightSelectionChange:Oe.a,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var pt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onQuantityChange",(function(e){return function(t){var a=t.passengerId,r=t.count;return n.props.onQuantityChange({segmentId:e,passengerId:a,count:r})}})),y()(f()(n),"onWeightSelectionChange",(function(e){return function(t){var a=t.passengerId,r=t.index,i=t.subCode;return n.props.onWeightSelectionChange({segmentId:e,passengerId:a,index:r,subCode:i})}})),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.PACKAGE_NAME_CLASSIFIED,r=t.segments,i=t.numberSelectorInputDisabled,s=t.numberSelectorReadOnlyText;return A.a.createElement("div",{className:T()("spark-panel",n,"ducp-component-bags")},A.a.createElement("div",{className:"spark-panel__content"},r.map((function(t){return A.a.createElement(dt,{segment:t,PACKAGE_NAME_CLASSIFIED:a,onWeightSelectionChange:e.onWeightSelectionChange(t.id),onQuantityChange:e.onQuantityChange(t.id),key:t.id,numberSelectorInputDisabled:i,numberSelectorReadOnlyText:s})}))))}}]),t}(P.PureComponent);y()(pt,"defaultProps",{className:void 0,onQuantityChange:Oe.a,onWeightSelectionChange:Oe.a,numberSelectorInputDisabled:!1,numberSelectorReadOnlyText:void 0});var ht=pt;n(2408);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onChange",(function(e){var a=n.props,r=a.ancillary,i=a.segmentKey,s=a.itineraryPartKey,o=e["".concat(s,"-").concat(i)],l=Object(ae.i)(r,s,i),c=oe()(o,(function(e){return l[e.passengerId]}));me()(c,(function(e){var a=e.passengerId,i=e.count,s=he()(l[a]),o=t.getQuantity(s);if(i!==o){var c=r.availableInventory,u=o<i,d=t.getNewInventoryCount(c,u);s.quantity=i,s=t.updateChildQuantity(s),l[a]=s,n.props.onChange(r,l,d)}}))})),y()(f()(n),"transformBags",(function(e){var t=n.props,a=t.ancillary,r=t.offeringType,i=n.getInventory("available"),s=_()(e,r);return mt({ancillaries:{subCode:_()(ce()(s),"0.code"),price:_()(ce()(s),"0.prices.total")}},n.getControlQuantities(e),{displayAncillaryLeft:_()(a,"hasInventory",!1),price:_()(e,"total",{}),displayNoSpaceAvailable:i<=0,availableInventory:i})})),n}return g()(t,e),l()(t,[{key:"getControlQuantities",value:function(e){var n=this.props,a=n.ancillary,r=n.reducingSpinnerValueThanMinValueNotAllowed,i=void 0!==r&&r,s=n.enabled,o=n.offeringCodesNotAllowedForReducingQuantity,l=void 0===o?[]:o,c=n.increasingSpinnerValueThanMaxAllowed,u=void 0!==c&&c,d=n.offeringCodesNotAllowedForIncreasingQuantity,p=void 0===d?[]:d,h=n.isDecrementDisabled,f=n.isIncrementDisabled,m=_()(a,"hasInventory",!1),g=!w()(e)&&e.available,v=this.getInventory("available"),y=_()(e,"originalAssignedQuantity",0),b=function(e,t){return function(n,a,r){return n&&(w()(a)||k()(a,e))?_()(t,"originalAssignedQuantity"):r}}(_()(a,"code"),e),E=b(i,l,0),C=b(u,p,this.getMaxQuantity(a,e)),S=t.getQuantity(e),O=!(s&&(g||m)&&e.modificationAllowed);return{max:C,min:E,count:S,disableIncrement:f&&S===y||O||m&&v<=0||S>=C,disableDecrement:h&&S===y||O||S<=E}}},{key:"getInventory",value:function(e){var t=this.props,n=t.ancillary,a=t.segmentKey,r=t.itineraryPartKey,i=_()(n,"offers.itineraryParts[".concat(r,"].segments[").concat(a,"].").concat(e,"Inventory"));return void 0===i&&(i=_()(n,"offers.itineraryParts[".concat(r,"].").concat(e,"Inventory"))),void 0===i?_()(n,"".concat(e,"Inventory"),999):i}},{key:"getMaxQuantity",value:function(e,t){return _()(e,"hasInventory",!1)?this.getInventory("total"):_()(t,"maxQuantity")||_()(this,"props.ancillary.maxQuantity")||_()(this,"props.ancillary.maxGroupedQuantity")||1/0}},{key:"getSegments",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.bagAllowance,i=e.passengers;return Object(ae.l)(t,n,a,r,this.transformBags,i)}},{key:"render",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.isMobile;return A.a.createElement("div",{className:T()("dxp-passenger-spinner-list",{"mobile-view":r})},A.a.createElement(Ze,{"data-ancillary":t.code,"data-itinerary-part":a,"data-segment":n,isBaggage:t.isBaggage,segments:this.getSegments(),onChange:this.onChange,PACKAGE_NAME_CLASSIFIED:"ancillary",numberSelectorInputDisabled:!0,numberSelectorReadOnlyText:Object(D.a)("ancillary.numberSelectorReadOnlyText")}))}}],[{key:"getNewInventoryCount",value:function(e,t){if(de()(e))return t?e-1:e+1}},{key:"getQuantity",value:function(e){return e.quantity||0}},{key:"getTotal",value:function(e){return _()(e,"total")}},{key:"renderUnavailableMessage",value:function(e){return A.a.createElement("div",{className:"unavailable-message"},Object(D.a)("ancillary.unavailableForPassenger",Se()({},e,{typeName:Object(D.i)("passengerType.codes.".concat(e.type))})))}},{key:"resetQuantity",value:function(e){var t=he()(e);return me()(t,(function(e,n){t[n].quantity=0})),t}},{key:"updateChildQuantity",value:function(e){var n=_()(e,Z.a.PIECE);if(!w()(n))return t.updatePieceQuantity(e,n);var a=_()(e,Z.a.REGULAR);return w()(a)?e:t.updateRegularQuantity(e,a)}},{key:"updatePieceQuantity",value:function(e,n){var a=he()(n),r=t.getQuantity(e);return a=t.resetQuantity(a),Ce()(r,(function(e){var t=be()(a,(function(t){return _()(t,"bagCharacteristics.PIECES")===e+1}));ve()(a[t],"quantity",1)})),ve()(e,Z.a.PIECE,a),e}},{key:"updateRegularQuantity",value:function(e,n){var a=he()(n),r=t.getQuantity(e);a=t.resetQuantity(a);for(var i=E()(a),s=0;s<i.length&&!(s>=r);s+=1)s<i.length-1?ve()(a[i[s]],"quantity",1):ve()(a[i[s]],"quantity",r-s);return ve()(e,Z.a.REGULAR,a),e}}]),t}(P.Component);y()(gt,"defaultProps",{ancillary:{},segmentKey:"",itineraryPartKey:"",onChange:void 0,enabled:!1,reducingSpinnerValueThanMinValueNotAllowed:!1,increasingSpinnerValueThanMaxAllowed:!1,offeringCodesNotAllowedForIncreasingQuantity:!1,offeringCodesNotAllowedForReducingQuantity:!1,bagAllowance:Object(L.Map)(),isDecrementDisabled:!1,isIncrementDisabled:!1,offeringType:Z.a.PIECE,isMobile:!1,passengers:{}});var vt=n(15),yt=n.n(vt),bt=n(246),Et=n.n(bt),Ct=n(144),kt=n.n(Ct),St=n(175),_t=n.n(St),Ot=n(55),wt=n.n(Ot),Pt=n(528),At=(n(2409),n(2410),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"paxCheckBox",{}),y()(f()(n),"isAncillarySelectedForAnyPassengerInCurrentFlow",(function(e){return G()(yt()(e,(function(e){return e.originalAssignedQuantity<e.quantity})))})),n}return g()(t,e),l()(t,[{key:"onCheck",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.itineraryPartKey,s=a.segmentKey,o=Object(ae.i)(r,i,s),l=Object(ae.c)(r,0),c=Object(ae.g)(l,e);return t.quantity=e?1:0,o[n]=t,this.props.onChange&&this.props.onChange(r,o,c)}},{key:"onSelectAllCheck",value:function(e,t){var n=this,a=this.props,r=a.ancillary,i=a.itineraryPartKey,s=a.segmentKey,o=Object(ae.i)(r,i,s),l=e?1:0,c=Object(ae.c)(r,0);return me()(o,(function(a,r){if(_()(n.paxCheckBox[a.index],"props.disabled",!0)||(a.quantity=l),(e&&!_()(n.paxCheckBox[a.index],"props.checked")||!e&&_()(n.paxCheckBox[a.index],"props.checked"))&&(c=Object(ae.g)(c,e)),t&&"1"===r)return!1})),this.props.onChange&&this.props.onChange(r,o,c)}},{key:"getValue",value:function(){var e=this.props,t=e.ancillary,n=e.itineraryPartKey,a=e.segmentKey,r=Object(ae.i)(t,n,a);return et()(r,(function(e,t,n){return e[n]=t.quantity,e}),{})}},{key:"isAllSelected",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.itineraryPartKey,r=t.segmentKey;return wt()(oe()(Object(ae.i)(n,a,r),(function(t){return t.available&&!e.isDisabledByQuantityControl(t)})),(function(e){return 1===e.quantity}))}},{key:"isAncillaryInABundleSelectedInABundle",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments,s=a.ancillaries;if(!r.isBundle)return!1;var o=_t()("".concat(e).concat(t).concat(n),"undefined"),l=kt()(i[o],(function(e){return!w()(e)&&r.code!==e&&s[e].isBundle?s[e].bundleItems:[]}));return G()(l,(function(e){return G()(r.bundleItems,(function(t){return t.code===e.code}))}))&&1===_()(r,"ancillaryConfiguration.maxQuantityPerPax")}},{key:"isAncillaryInBundleAlreadySelected",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments;if(!r.isBundle)return!1;var s=_t()("".concat(e).concat(t).concat(n),"undefined");return G()(r.bundleItems,(function(e){return k()(i[s],e.code)&&1===_()(r,"ancillaryConfiguration.maxQuantityPerPax")}))}},{key:"isAncillarySelectable",value:function(e,n,a){var r=this.props,i=r.ancillary,s=r.seatBundleAssignments,o=r.ancillaries,l=_t()("".concat(e).concat(n).concat(a),"undefined");if(G()(s[l],(function(e){return e.code===i.code}))||!i.isSeatBundle)return!0;var c=oe()(o,(function(e){return e.isSeatBundle&&e.code!==i.code}));return!(G()(c,(function(r){var i=_()(t.getBundlePassengerOffers(r,n,a),e);return i&&i.quantity>0}))||this.isAnySeatBundleSelected(e,n,a))}},{key:"isAncillarySelectedInABundle",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments,s=a.ancillaries;if(r.isBundle)return!1;var o=_t()("".concat(e).concat(t).concat(n),"undefined"),l=kt()(i[o],(function(e){return!w()(e)&&s[e].isBundle?s[e].bundleItems:[]}));return G()(l,(function(e){return e.code===r.code&&1===_()(r,"ancillaryConfiguration.maxQuantityPerPax")}))}},{key:"isAnySeatBundleSelected",value:function(e,t,n){var a=this.props,r=a.ancillary,i=a.seatBundleAssignments,s=a.ancillaries,o=_t()("".concat(e).concat(t).concat(n),"undefined"),l=_t()("".concat(e).concat(t),"undefined"),c=oe()(Object.keys(i),(function(t){return Et()(t,o)||Et()(t,l)||t===e}));return G()(c,(function(e){return G()(i[e],(function(e){return!w()(e)&&(s[e].isSeatBundle&&e!==r.code)}))}))}},{key:"isDisabledByQuantityControl",value:function(e){var t=this.props,n=t.isDecrementDisabled,a=t.isIncrementDisabled;return e.originalAssignedQuantity>0&&n||0===e.originalAssignedQuantity&&a}},{key:"isSeatBundleSelectedForAnyPassengers",value:function(e,t){var n=this,a=this.props,r=a.ancillary,i=a.passengers,s=G()(i,(function(a,r){return n.isAnySeatBundleSelected(r,e,t)}));return r.isSeatBundle&&s}},{key:"renderCheckboxes",value:function(){var e=this,n=this.props,a=n.ancillary,r=n.passengers,i=n.itineraryPartKey,s=n.segmentKey,o=Object(ae.i)(a,i,s),l=Object.keys(o).length;return M()(r,(function(n,r){var c=o[r],u=Y()([a.code,i,s,r]).join("-"),d=c&&c.available&&(Object(ae.c)(a,1)>0||c.originalAssignedQuantity<c.quantity),p=Object(ae.d)(a,i,1),h=d&&c.quantity>0,f=_()(c,"total",[]),m=d&&c.isFree,g=e.isAncillarySelectable(r,i,s),v=e.isAncillarySelectedInABundle(r,i,s),y=e.isAncillaryInABundleSelectedInABundle(r,i,s),b=e.isAncillaryInBundleAlreadySelected(r,i,s),E=c&&c.modificationAllowed,C=!d||!E||!g||b||v||y,k=_()(a,"passengerSelectionDisabled",!1),S=C||c&&e.isDisabledByQuantityControl(c)||!p,O=0===p;return A.a.createElement("li",{key:u,className:"passenger-item","data-ancillary":a.code,"data-itinerary-part":i,"data-segment":s,"data-passenger":r},m&&t.renderFreePrice(),h&&!m&&A.a.createElement(Pe.a,{className:"pull-right passenger-total",price:f,includeDecimal:!0}),!d&&t.renderMessage(n,"ancillary.unavailableForPassenger"),d&&!g&&t.renderMessage(n,"ancillary.seatBundleAlreadySelected"),d&&g&&v&&t.renderMessage(n,"ancillary.ancillarySelectedInABundle"),d&&g&&y&&t.renderMessage(n,"ancillary.ancillaryInABundleAlreadySelected"),d&&g&&b&&t.renderMessage(n,"ancillary.ancillaryInABundleAlreadySelected"),A.a.createElement(Pt.a,{className:k&&"hidden",checked:h,id:u,"data-itinerary-part":i,"data-segment":s,"data-passenger":r,disabled:S,ref:function(t){e.paxCheckBox[r]=t},onChange:function(t,n){return e.onCheck(n,c,r)},label:Object(D.i)("account.fullName",n)}),k&&A.a.createElement("span",{className:"passenger-name"},Object(D.i)("account.fullName",n)),O&&1===l&&A.a.createElement("span",{className:"inventory"},Object(D.a)("ancillary.noSpaceAvailable")))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.itineraryPartKey,r=t.segmentKey,i=t.isDecrementDisabled,s=n.code,o=Object(ae.i)(n,a,r),l=this.isAllSelected(),c=[n.code,a,r].join("-"),u=Object.keys(o).length,d=Object(D.i)("ancillary.items.".concat(s,".name")),p=_()(n,"offers.modificationAllowed",!0),h=Object(ae.c)(n,999)>=u,f=Object(ae.d)(n,a,1),m=l?!p||i&&!this.isAncillarySelectedForAnyPassengerInCurrentFlow(o):!p||!h||!f,g=l?"ancillary.selectAllRemove":"ancillary.selectAllAdd",v=this.isSeatBundleSelectedForAnyPassengers(a,r),y=0===f,b=_()(n,"passengerSelectionDisabled",!1),E=_()(n,"applicableOnlyToPrimaryPassenger",!1);return A.a.createElement("div",{className:"dxp-passenger-checklist","data-ancillary":s,"data-itinerary-part":a,"data-segment":r},1===u&&!b&&A.a.createElement("div",{className:"dxp-passenger-checklist-info"},A.a.createElement(R.c,{name:R.a.INFO_CIRCLE}),Object(D.a)("ancillary.selectAncillaryForPassengersMessage",{ancillary:d})),(b||u>1&&!v)&&A.a.createElement("div",null,A.a.createElement(Pt.a,{id:"passenger-checklist-select-all-".concat(c),onChange:function(t,n){return e.onSelectAllCheck(n,E)},disabled:m,checked:l,label:Object(D.i)(g,{ancillary:d})}),y&&A.a.createElement("span",{className:"inventory"},Object(D.a)("ancillary.noSpaceAvailable"))),A.a.createElement("ul",null,this.renderCheckboxes()))}}],[{key:"getBundlePassengerOffers",value:function(e,t,n){if(t){if(n){var a=_()(e,"offers.itineraryParts[".concat(t,"].segments[").concat(n,"].passengerOffers"));return a||1!==_()(e,"offers.itineraryParts[".concat(t,"].segmentsMap.length"),0)?a:_()(e,"offers.itineraryParts[".concat(t,"].passengerOffers"))}var r=_()(e,"offers.itineraryParts[".concat(t,"].passengerOffers"));if(!r){var i=_()(e,"offers.itineraryParts[".concat(t,"].segmentsMap"),[]);if(1===i.length)return _()(e,"offers.itineraryParts[".concat(t,"].segments[").concat(i[0],"].passengerOffers"))}return r}return _()(e,"offers.passengerOffers")}},{key:"renderFreePrice",value:function(){return A.a.createElement("div",{className:"price pull-right passenger-total"},Object(D.a)("app.free"))}},{key:"renderMessage",value:function(e,t){return A.a.createElement("div",{className:"unavailable-message"},Object(D.a)(t,Se()({},e,{typeName:Object(D.i)("passengerType.codes.".concat(e.type))})))}}]),t}(P.Component));y()(At,"defaultProps",{onChange:void 0,itineraryPartKey:"",segmentKey:"",ancillary:{},passengers:{},seatBundleAssignments:{},ancillaries:{},isDecrementDisabled:!1,isIncrementDisabled:!1});var xt=n(137),Nt=n.n(xt),Tt=n(56),It=n.n(Tt),Bt=n(378),Lt=n.n(Bt),Dt=n(82),jt=n.n(Dt),Ft=n(334),Mt=n.n(Ft),Rt=n(145),Vt=n.n(Rt);n(2411);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onQuantityChange",(function(e){var a=e.passengerId,r=e.count,i=n.props,s=i.ancillary,o=i.segmentKey,l=i.itineraryPartKey,c=Object(ae.i)(s,l,o),u=c[a];return c[a]=Ut({},u,{quantity:r,quantityToCodeMap:t.adjustCodeMap(_()(u,"quantityToCodeMap",{}),r)}),n.props.onChange(s,c)})),y()(f()(n),"onWeightSelectionChange",(function(e){var t=e.passengerId,a=e.index,r=e.subCode,i=n.props,s=i.ancillary,o=i.segmentKey,l=i.itineraryPartKey,c=i.offeringType,u=Object(ae.i)(s,l,o)[t],d=_()(u,[c,r],{});n.onBagWeightClick(d,a+1,u,t)})),y()(f()(n),"transformBags",(function(e){var a=n.props.offeringType,r=t.getSortAncillaryCodesByWeight(e,a),i=M()(Vt()(e.quantity||0),(function(t){return _()(e,"quantityToCodeMap[".concat(t+1,"].code"))}));return Ut({},n.getControlQuantities(e),{subCodes:r,selectedSubCodes:i})})),n}return g()(t,e),l()(t,[{key:"onBagWeightClick",value:function(e,t,n,a){var r=this.props,i=r.ancillary,s=r.segmentKey,o=r.itineraryPartKey,l=Object(ae.i)(i,o,s),c=_()(n,"quantityToCodeMap",{});return ve()(c,"".concat(t,".code"),e.code),ve()(c,"".concat(t,".quantity"),1),ve()(n,"quantityToCodeMap",c),l[a]=this.removeSelectedBagEntryWithMoreThanAllowedLimit(e,t,n),this.props.onChange(i,l)}},{key:"getControlQuantities",value:function(e){var t=this.props,n=t.ancillary,a=t.isAncillaryRemovalAllowed,r=t.selectedAncillaryCodes,i=t.isDecrementDisabled,s=t.isIncrementDisabled,o=!w()(e),l=_()(e,"modificationAllowed",!1),c=w()(r)||k()(r,_()(n,"code")),u=_()(e,"originalAssignedQuantity",0),d=c&&a?u:0,p=e.maxQuantity||1/0,h=e.quantity||0,f=!o||!l;return{min:d,max:p,disableDecrement:i&&u===h||f||!this.isBegWeightsEnabled(e,h)||h<=d,disableIncrement:s&&u===h||f||h>=p,value:h,modificationAllowed:l}}},{key:"getSegments",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.bagAllowance,i=e.passengers;return Object(ae.l)(t,n,a,r,this.transformBags,i)}},{key:"adjustCodeMapForSpinnerChange",value:function(e,n){var a=this.props.offeringType,r=_()(t.getWhichBagsCanBeSelectedFromBags(e,a),"[".concat(n,"]")),i=_()(e,"quantityToCodeMap",{}),s=E()(_()(e,a)),o=yt()(s,(function(e){return jt()(_()(r,e))||!_()(r,e)}));return o&&(ve()(i,"".concat(n,".code"),o),ve()(i,"".concat(n,".quantity"),1)),ve()(e,"quantityToCodeMap",i),e}},{key:"isBegWeightsEnabled",value:function(e,t){var n=this.props.ancillary,a=_()(e,"quantityToCodeMap.".concat(t));if(a&&a.originallyAssigned){var r=yt()(n.ancillaries,(function(e){return e.code===a.code}));return _()(r,"refundable",!0)}return!0}},{key:"removeSelectedBagEntryWithMoreThanAllowedLimit",value:function(e,n,a){var r=this,i=he()(a),s=this.props.offeringType,o=_()(i,"quantityToCodeMap");return Ce()(It()(o),(function(a){var l=a+1,c=t.getCurrentQuantityOfBags(o,l),u=t.getAllowedQuantity(_()(i,s,Z.a.WEIGHT));_()(c,"".concat(e.code))>=_()(u,"".concat(e.code))&&et()(o,(function(t,a,r){return Lt()(r)>n&&a.code===e.code&&(t[r]={}),t}),o),l>n&&w()(_()(o,"[".concat(l,"]")))&&(i=r.adjustCodeMapForSpinnerChange(i,l))})),i}},{key:"render",value:function(){return A.a.createElement(ht,{segments:this.getSegments(),onQuantityChange:this.onQuantityChange,onWeightSelectionChange:this.onWeightSelectionChange,PACKAGE_NAME_CLASSIFIED:"ancillary",numberSelectorInputDisabled:!0,numberSelectorReadOnlyText:"".concat(Object(D.i)("ancillary.numberSelectorReadOnlyText")," ").concat(Object(D.i)("ancillary.numberSelectorReadOnlyDetailedText"))})}}],[{key:"adjustCodeMap",value:function(e,t){return et()(e,(function(e,n,a){return e[a]&&(a<=t?e[a].quantity=1:e[a]&&(e[a].quantity=0)),e}),e)}},{key:"getAllowedQuantity",value:function(e){return et()(e,(function(e,t,n){return e[n]=_()(t,"ancillaryConfiguration.maxQuantityPerPax",0),e}),{})}},{key:"getCurrentQuantityOfBags",value:function(e,t){return et()(e,(function(e,n,a){return Lt()(a)<=t&&(e[n.code]=Mt()([e[n.code],n.quantity])),e}),{})}},{key:"getSortAncillaryCodesByWeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.a.WEIGHT,n=E()(_()(e,t,{})),a=Nt()(n,(function(n){return _()(e,"".concat(t,"[").concat(n,"].bagCharacteristics.POUNDS"))}));return a.map((function(n){return{code:n,price:_()(e,[t,n,"prices","total"]),quantity:_()(e,[t,n,"quantity"],0),max:_()(e,[t,n,"ancillaryConfiguration","maxQuantityPerPax"],1/0)}}))}},{key:"getWhichBagsCanBeSelectedFromBags",value:function(e,n){var a=e.quantity,r=t.getAllowedQuantity(_()(e,n,Z.a.WEIGHT)),i={};return Ce()(a,(function(n){var a=t.getCurrentQuantityOfBags(e.quantityToCodeMap,n);i[n+1]=et()(a,(function(e,t,n){return e[n]=t>=r[n]||jt()(t)||jt()(r[n]),e}),{})})),i}},{key:"renderUnavailableMessage",value:function(e){return A.a.createElement("div",null,A.a.createElement("div",{className:"passenger-type-details-label"},Object(D.a)("account.fullName",e)),A.a.createElement("div",{className:"unavailable-message"},Object(D.a)("ancillary.unavailableForPassenger",Se()({},e,{typeName:Object(D.i)("passengerType.codes.".concat(e.type))}))))}}]),t}(P.Component);y()(Wt,"defaultProps",{ancillary:{},itineraryPartKey:"",segmentKey:"",offeringType:"",onChange:Oe.a,bagAllowance:Object(L.Map)(),isAncillaryRemovalAllowed:!1,selectedAncillaryCodes:[],isDecrementDisabled:!1,isIncrementDisabled:!1,passengers:{}});var qt=n(291),zt=n.n(qt),Gt=n(529),Kt=n(88),Yt=n(125);n(2412);function Qt(e){var t=e.id,n=e.passengerIndex,a=e.firstName,r=e.lastName,i=e.onPassengerSelected,s=e.isSelected,o=e.passengerType,l=e.selectedQuantity,c=e.ancillaryCode,u=e.isAvailable,d=T()("dxp-ancillary-custom-group-list-passenger",{active:s}),p="".concat(a," ").concat(r),h=l>0;return A.a.createElement("div",{key:t,className:d},A.a.createElement("span",{className:"single-passenger"},A.a.createElement("span",{className:"passenger-name"},A.a.createElement("div",null,p))),A.a.createElement("span",{className:"select-ancillary"},A.a.createElement(Ie.a,{isTextButton:!0,onClick:function(){return function(e,t){return t(e)}(n,i)}},!u&&o===Yt.a.INF&&Object(D.a)("passengerType.infant"),h&&A.a.createElement("span",{className:"selected"},A.a.createElement(R.c,{name:R.a.CHECK}),A.a.createElement("span",null,"".concat(l," ").concat(Object(D.i)("ancillary.customGroups.".concat(c,".numberOfGroupedAncillariesSelected"))))),!h&&o!==Yt.a.INF&&Object(D.a)("ancillary.customGroups.".concat(c,".passengerSelectButtonLabel")))))}Qt.defaultProps={id:"",passengerIndex:1,isSelected:!1,firstName:"",lastName:"",selectedQuantity:0,onPassengerSelected:void 0,ancillaryCode:"",isAvailable:!0,passengerType:"ADT"};var Xt=Qt;function Jt(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillaryPassengers,r=e.onPassengerSelected,i=e.activePassengerIndex,s=e.itineraryPartKey,o=e.segmentKey;return A.a.createElement("ul",{className:"dxp-passenger-custom-group-list-passengers"},function(e,t,n,a,r,i,s){return M()(n,(function(n){var o="passenger-".concat(n.index),l=r===n.index,c=T()({active:l},"animated","fadeIn"),u="dxp-custom-group-li-".concat(o),d=Object(ae.i)(e,i,s),p=d&&d[n.index],h=!w()(p)&&p.available,f=h?Object(ae.j)(e,t,n.index,i,s):0;return A.a.createElement("li",{className:c,"aria-live":"assertive","aria-atomic":"true",key:u},A.a.createElement(Xt,{passengerType:n.type,isAvailable:h,passengerIndex:n.index,id:o,isSelected:l,firstName:n.firstName,lastName:n.lastName,selectedQuantity:f,ancillaryCode:e.code,onPassengerSelected:function(e){return a(e)}}))}))}(t,n,a,r,i,s,o))}Jt.defaultProps={itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:{},activePassengerIndex:1,onPassengerSelected:void 0};var Zt=Jt,$t=n(63);n(2413);function en(e){var t=e.ancillary,n=e.itineraryPartKey,a=e.segmentKey,r=e.ancillaries,i=e.passengerOffers,s=e.passengerOffer,o=e.activePassengerIndex,l=e.onChange,c=r[t.code],u="".concat(c.code,"-").concat(o,"-").concat(n,"-").concat(a),d=s.quantity>0,p=Object(D.i)("app.image"),h=Object(D.i)("ancillary.items.".concat(t.code,".name")),f="".concat(p," ").concat(h),m=Object(D.i)("ancillary.items.".concat(t.code,".image")),g={backgroundImage:"url(".concat(Object($t.a)(m))},v=_()(s,"prices.total",[]),y=Object(D.a)("ancillary.items.".concat(t.code,".priceNote")),b=d?"secondary-button":"medium primary",E=s.maxQuantity||1/0,C=s.originalAssignedQuantity||0,k=s.modificationAllowed||C<E,S=Object(D.a)(d?"app.remove":"app.select");return A.a.createElement("div",{key:u,className:"dxp-grouped-ancillary"},A.a.createElement("img",{alt:f,className:" image img-div",src:Object($t.a)("images/Clear.gif"),style:g}),A.a.createElement("span",{className:"ancillary-description"},A.a.createElement("div",null,A.a.createElement("h3",{className:"title"},A.a.createElement("span",{className:"title-text"},h))),A.a.createElement("div",null,A.a.createElement("p",{className:"description"},Object(D.a)("ancillary.items[".concat(t.code,"].description"))))),A.a.createElement("span",{className:"ancillary-selection"},A.a.createElement(Pe.a,{price:v,includeDecimal:!0,raiseDecimal:!0}),A.a.createElement("div",{className:"caption"},y),d&&A.a.createElement("div",{className:"selected"},A.a.createElement(R.c,{name:R.a.CHECK}),A.a.createElement("span",null,Object(D.a)("app.selected"))),k&&A.a.createElement(Ie.a,{onClick:function(){return function(e,t,n,a,r){var i=r.ancillaries,s=r.activePassengerIndex,o=i[r.ancillary.code],l=Object(ae.c)(o,0),c=Object(ae.g)(l,e);n[s]=Se()(t,{quantity:e?1:0}),a(o,n,c)}(!d,s,i,l,e)},className:b},S)))}en.defaultProps={itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},passengerOffers:{},passengerOffer:{},onChange:void 0,activePassengerIndex:0};var tn=en;function nn(e){var t=e.parentAncillaryCode,n=function(e,t,n,a,r,i){return et()(e,(function(e,s){var o="grouped-ancillary-".concat(s.code,"-").concat(r,"-").concat(n,"-").concat(a),l=t[s.code],c=Object(ae.i)(l,n,a),u=c&&c[r];return u&&u.available&&(Object(ae.c)(l,1)>0||u.originalAssignedQuantity<u.quantity)&&e.push(A.a.createElement(tn,{key:o,itineraryPartKey:n,segmentKey:a,ancillaries:t,ancillary:s,passengerOffers:c,passengerOffer:u,onChange:function(e,t,n){return i(l,c,n)},activePassengerIndex:r})),e}),[])}(e.childAncillaries,e.ancillaries,e.itineraryPartKey,e.segmentKey,e.activePassengerIndex,e.onChange),a=!w()(n);return A.a.createElement("div",{className:"dxp-grouped-ancillary-list"},A.a.createElement("div",{className:"dxp-grouped-ancillary-list"},a&&n,!a&&A.a.createElement("p",{className:"grouped-ancillaries-not-available"},Object(D.a)("ancillary.customGroups.".concat(t,".noAncillariesAvailableInSubGroup")))))}nn.defaultProps={itineraryPartKey:"",segmentKey:"",parentAncillaryCode:"",childAncillaries:[],ancillaries:{},onChange:void 0,activePassengerIndex:1};var an=nn,rn=(n(2414),n(2415),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{activePassenger:1,selectedSubGroupType:n.getDefaultSelectedGroupType()}),n}return g()(t,e),l()(t,[{key:"onPassengerSelected",value:function(e){this.setState({activePassenger:e})}},{key:"onSelectNextPassenger",value:function(e){var t=parseInt(zt()(E()(e)),10),n=this.state.activePassenger,a=n===t?1:n+1;this.setState({activePassenger:a})}},{key:"onSubGroupChange",value:function(e){this.setState({selectedSubGroupType:e})}},{key:"getDefaultSelectedGroupType",value:function(){var e=this.props,t=e.ancillary;return e.ancillariesConfiguration.customGroupSubGroups[t.code].default}},{key:"getSubGroupOptions",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration;return E()(n.customGroupSubGroups[t.code].items||[]).map((function(e){return{value:e,label:Object(D.i)("ancillary.customGroups.".concat(t.code,".subGroups.").concat(e))}}))}},{key:"filterAncillaries",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration.customGroupSubGroups[t.code].items[this.state.selectedSubGroupType];return oe()(t.ancillaries,(function(e){return k()(n,e.code)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.ancillaries,r=t.ancillariesConfiguration,i=t.ancillaryPassengers,s=t.itineraryPartKey,o=t.segmentKey,l=t.onChange,c=It()(i)>1,u=this.getSubGroupOptions(),d=r.items[n.code].customSubGroupLabel||"ancillary.all",p=r.items[n.code].customGroupUserInstructionLabel,h=this.filterAncillaries();return A.a.createElement("div",{className:"dxp-passenger-custom-group-list"},A.a.createElement("div",{className:"top-container"},A.a.createElement(Gt.a,{keyProp:"subGroup",onChange:function(t){return e.onSubGroupChange(t)},options:u,label:d,defaultValue:this.state.selectedSubGroupType})),A.a.createElement("div",{className:"user-instruction"},Object(D.a)(p)),A.a.createElement("div",{className:"middle-container"},A.a.createElement("div",{className:"left-container"},A.a.createElement(Zt,{ancillary:n,ancillaries:a,itineraryPartKey:s,segmentKey:o,ancillaryPassengers:i,activePassengerIndex:this.state.activePassenger,onPassengerSelected:function(t){return e.onPassengerSelected(t)}})),A.a.createElement("div",{className:"right-container"},A.a.createElement(an,{parentAncillaryCode:n.code,childAncillaries:h,ancillaries:a,itineraryPartKey:s,segmentKey:o,onChange:function(e,t,n){return l(e,t,n)},activePassengerIndex:this.state.activePassenger}),A.a.createElement("div",{className:"right-bottom-container"},c&&A.a.createElement(Kt.a,{className:"medium secondary next-passenger",onClick:function(){return e.onSelectNextPassenger(i)}},Object(D.a)("ancillary.nextPassenger"))))))}}]),t}(P.Component));y()(rn,"defaultProps",{itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:[],ancillariesConfiguration:{},onChange:void 0});n(2416);var sn=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{isCollapsed:!0}),n}return g()(t,e),l()(t,[{key:"onAncillarySelection",value:function(e,t,n,a,r){var i=this.props.onChange,s=Object(ae.c)(t,0),o=Object(ae.g)(s,e),l=he()(r);l[n]=Se()(a,{quantity:e?1:0}),i(t,l,o)}},{key:"onSelectAncillary",value:function(){this.setState((function(e){return{isCollapsed:!e.isCollapsed}}))}},{key:"renderPassengers",value:function(e,t){var n=this,a=this.props,r=a.itineraryPartKey,i=a.segmentKey,s=a.ancillaryPassengers;return M()(s,(function(a){var s=t&&t[a.index],o=s&&s.available&&(Object(ae.c)(e,1)>0||s.originalAssignedQuantity<s.quantity),l=o&&s.quantity>0,c="".concat(e.code,"-").concat(a.index,"-").concat(r,"-").concat(i);return A.a.createElement(Pt.a,{checked:l,id:c,key:c,"data-itinerary-part":r,"data-segment":i,"data-passenger":a.index,disabled:!o,onChange:function(r,i){return n.onAncillarySelection(i,e,a.index,s,t)},label:Object(D.i)("account.fullName",a)})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.itineraryPartKey,r=t.segmentKey,i=t.ancillaries,s=t.ancillaryPassengers,o=t.parentAncillaryCode,l=i[n.code],c=Object(ae.i)(l,a,r),u=Object(D.i)("app.image"),d=Object(D.i)("ancillary.items.".concat(n.code,".name")),p="".concat(u," ").concat(d),h=Object(D.i)("ancillary.items.".concat(n.code,".mobileImage")),f={backgroundImage:"url(".concat(Object($t.a)(h))},m=_()(l,"offers.lowestPrice",[]),g=Object(D.a)("ancillary.items.".concat(n.code,".priceNote")),v=Object(ae.k)(n,i,s,a,r),y=v>0,b=T()("dxp-grouped-ancillary-mobile-header",{"is-collapsed":this.state.isCollapsed});return A.a.createElement(V.a,{isCollapsed:this.state.isCollapsed},A.a.createElement(V.a.Header,{className:b},A.a.createElement("div",{className:"ancillary-description"},A.a.createElement("h3",{className:"title"},A.a.createElement("span",{className:"title-text"},d))),A.a.createElement("img",{alt:p,className:" image img-div",src:Object($t.a)("images/Clear.gif"),style:f}),A.a.createElement("span",{className:"ancillary-selection"},A.a.createElement(Pe.a,{price:m,includeDecimal:!0,raiseDecimal:!0}),A.a.createElement("div",{className:"caption"},g),y&&A.a.createElement("span",{className:"selected"},A.a.createElement(R.c,{name:R.a.CHECK,className:"icon"}),A.a.createElement("span",null,"".concat(v," ").concat(Object(D.i)("ancillary.customGroups.".concat(o,".numberOfGroupedAncillariesSelected"))))),A.a.createElement("div",{className:"select-button"},A.a.createElement(Kt.a,{className:"medium secondary",onClick:function(){return e.onSelectAncillary()}},y?Object(D.a)("app.edit"):Object(D.a)("app.select")))),A.a.createElement("div",{className:"ancillary-selection-description"},A.a.createElement("p",null,Object(D.a)("ancillary.items[".concat(n.code,"].description"))))),A.a.createElement(V.a.Body,null,A.a.createElement("div",{className:"dxp-grouped-ancillary-mobile-body ancillary-passenger-selection"},A.a.createElement("div",{className:"header"},Object(D.a)("ancillary.customGroups.".concat(o,".userPrompt"))),this.renderPassengers(l,c),A.a.createElement("div",{className:"footer"},A.a.createElement(Kt.a,{className:"medium secondary",onClick:function(){return e.onSelectAncillary()}},Object(D.a)("app.done"))))))}}]),t}(P.Component);function on(e){var t=e.childAncillaries,n=e.ancillaries,a=e.itineraryPartKey,r=e.segmentKey,i=e.ancillaryPassengers,s=e.parentAncillaryCode,o=e.onChange,l=M()(t,(function(e){var t="grouped-ancillary-".concat(e.code,"-").concat(a,"-").concat(r);return A.a.createElement(sn,{key:t,itineraryPartKey:a,segmentKey:r,ancillaries:n,ancillary:e,parentAncillaryCode:s,onChange:function(e,t,n){return o(e,t,n)},ancillaryPassengers:i})}));return A.a.createElement("div",{className:"dxp-grouped-ancillary-list"},l)}y()(sn,"defaultProps",{itineraryPartKey:"",segmentKey:"",parentAncillaryCode:"",ancillary:{},ancillaries:{},onChange:void 0,ancillaryPassengers:[]}),on.defaultProps={itineraryPartKey:"",segmentKey:"",parentAncillaryCode:"",childAncillaries:[],ancillaryPassengers:[],ancillaries:{},onChange:void 0};var ln=on,cn=(n(2417),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{selectedSubGroupType:n.getDefaultSelectedGroupType()}),y()(f()(n),"onSubGroupChange",(function(e){n.setState({selectedSubGroupType:e})})),n}return g()(t,e),l()(t,[{key:"getDefaultSelectedGroupType",value:function(){var e=this.props,t=e.ancillary;return e.ancillariesConfiguration.customGroupSubGroups[t.code].default}},{key:"getSubGroupOptions",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration;return E()(n.customGroupSubGroups[t.code].items||[]).map((function(e){return{value:e,label:Object(D.i)("ancillary.customGroups.".concat(t.code,".subGroups.").concat(e))}}))}},{key:"filterAncillaries",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration.customGroupSubGroups[t.code].items[this.state.selectedSubGroupType];return oe()(t.ancillaries,(function(e){return k()(n,e.code)}))}},{key:"render",value:function(){var e=this.props,t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.ancillaryPassengers,i=e.itineraryPartKey,s=e.segmentKey,o=e.onChange,l=this.getSubGroupOptions(),c=a.items[t.code].customSubGroupLabel||"ancillary.all",u=this.filterAncillaries();return A.a.createElement("div",{className:"dxp-passenger-custom-group-list-mobile"},A.a.createElement("div",{className:"top-container"},A.a.createElement(Gt.a,{keyProp:"subGroup",onChange:this.onSubGroupChange,options:l,label:c,defaultValue:this.state.selectedSubGroupType})),A.a.createElement("div",{className:"bottom-container"},A.a.createElement(ln,{ancillaryPassengers:r,childAncillaries:u,ancillaries:n,parentAncillaryCode:t.code,itineraryPartKey:i,segmentKey:s,onChange:function(e,t,n){return o(e,t,n)}})))}}]),t}(P.Component));y()(cn,"defaultProps",{itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:[],ancillariesConfiguration:{},onChange:void 0});n(2418);var un=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"onAncillarySelection",value:function(e,t,n,a,r){var i=this.props,s=i.allowMultiSelectionWithinASubGroup,o=i.onChange,l=Object(ae.c)(t,0),c=Object(ae.g)(l,e);r[n]=Se()(a,{quantity:e?1:0}),o(t,r,c),e&&!s&&this.uncheckOtherAncillariesInSubGroup(t,n)}},{key:"uncheckOtherAncillariesInSubGroup",value:function(e,t){var n=this,a=this.props,r=a.subGroupAncillaries,i=a.itineraryPartKey,s=a.segmentKey,o=oe()(r,(function(t){return t!==e.code}));me()(o,(function(e){var a="".concat(e,"-").concat(t,"-").concat(i,"-").concat(s,"-check-box");n[a].isChecked()&&n[a].onChange()}))}},{key:"renderCheckboxes",value:function(e){var n=this,a=this.props,r=a.subGroupAncillaries,i=a.ancillaries,s=a.itineraryPartKey,o=a.segmentKey,l=a.isInventoryEnabled,c=a.inventoryThreshold;return M()(r,(function(a){var r=i[a],u=Object(ae.i)(r,s,o),d=u&&u[e.index],p=Object(ae.c)(r,1),h=d&&d.available&&(p>0||d.originalAssignedQuantity<d.quantity),f=h&&d.quantity>0,m="".concat(a,"-").concat(e.index,"-").concat(s,"-").concat(o,"-check-box"),g=!f&&h&&l&&p<=c,v=!h;return A.a.createElement("td",{key:"ancillary-by-location".concat(a,"-").concat(s,"-").concat(o,"-").concat(e.index),className:"dxp-passenger-custom-group-by-location-checkbox"},A.a.createElement(Pt.a,{checked:f,id:m,key:m,ref:function(e){n[m]=e},"data-itinerary-part":s,"data-segment":o,"data-passenger":e.index,disabled:v,onChange:function(t,a){return n.onAncillarySelection(a,r,e.index,d,u)}}),g&&A.a.createElement("div",{className:"quantity-left"},p," ",Object(D.a)("ancillary.left")),v&&t.renderMessages(e))}))}},{key:"render",value:function(){var e=this,t=this.props.ancillaryPassengers,n=M()(t,(function(t){return A.a.createElement("tr",{key:"table-row-ancillary-by-location-passenger-".concat(t.index),className:"dxp-passenger-custom-group-by-location-table-row"},A.a.createElement("td",{className:"passenger-name"},"".concat(t.firstName," ").concat(t.lastName)),e.renderCheckboxes(t))}));return A.a.createElement("tbody",null,n)}}],[{key:"renderMessages",value:function(e){return e.type===Yt.a.INF?A.a.createElement("div",{className:"not-available"},Object(D.a)("ancillary.unavailableForPassenger",Se()({},e,{typeName:Object(D.i)("passengerType.codes.".concat(e.type))}))):A.a.createElement("div",{className:"not-available"},Object(D.a)("ancillary.unavailableShort"))}}]),t}(P.Component);function dn(e){var t=e.subGroupAncillaries,n=e.ancillaries,a=M()(t,(function(e){var t=_()(n[e],"offers.lowestPrice",[]);return A.a.createElement("th",{className:"column-header",key:"sub-group-header-".concat(e)},A.a.createElement("div",{className:"ancillary-name"},Object(D.a)("ancillary.items.".concat(e,".name"))),A.a.createElement("div",{className:"ancillary-price"},A.a.createElement(Pe.a,{price:t})))}));return A.a.createElement("tr",{className:"row-header"},A.a.createElement("th",{"aria-label":Object(D.i)("ancillary.items.pricingAriaLabel")}),a)}y()(un,"defaultProps",{subGroupAncillaries:[],isInventoryEnabled:!1,inventoryThreshold:0,ancillaries:{},ancillaryPassengers:[],itineraryPartKey:"",segmentKey:"",allowMultiSelectionWithinASubGroup:!1,onChange:void 0}),dn.defaultProps={subGroupAncillaries:[],ancillaries:{}};var pn=dn;n(2419);function hn(e){var t=e.ancillaryCode,n=e.subGroupKey,a=e.subGroupAncillaries,r=e.isInventoryEnabled,i=e.inventoryThreshold,s=e.ancillaries,o=e.ancillaryPassengers,l=e.itineraryPartKey,c=e.segmentKey,u=e.allowMultiSelectionWithinASubGroup,d=e.onChange;return A.a.createElement("div",{className:"dxp-grouped-ancillaries-by-location"},A.a.createElement("h5",null,Object(D.a)("ancillary.customGroups.".concat(t,".subGroups.").concat(n))),A.a.createElement("table",null,A.a.createElement("thead",null,A.a.createElement(pn,{subGroupAncillaries:a,ancillaries:s})),A.a.createElement(un,{subGroupAncillaries:a,isInventoryEnabled:r,inventoryThreshold:i,ancillaries:s,ancillaryPassengers:o,itineraryPartKey:l,segmentKey:c,allowMultiSelectionWithinASubGroup:u,onChange:d})))}hn.defaultProps={ancillaryCode:"",subGroupKey:"",subGroupAncillaries:[],isInventoryEnabled:!1,inventoryThreshold:0,itineraryPartKey:"",segmentKey:"",ancillaries:{},ancillaryPassengers:[],allowMultiSelectionWithinASubGroup:!1,onChange:void 0};var fn=hn;n(2420);function mn(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.ancillaryPassengers,i=e.itineraryPartKey,s=e.segmentKey,o=e.onChange,l=_()(a.items,"".concat(t.code,".customSubGroupAllowMultiSelection"),!1),c=Object(ae.h)(t,i,s),u=!w()(c)&&_()(a.customGroupSubGroupsByLocation,"".concat(t.code,".").concat(c),[]),d=!w()(u),p=_()(a,"ancillaryInventoryEnabled",!1),h=_()(a,"inventoryThreshold");return A.a.createElement("div",{className:"dxp-passenger-custom-group-list-by-location"},d&&A.a.createElement("div",null,A.a.createElement("div",{className:"dxp-passenger-custom-group-list-by-location-header"},Object(D.a)("ancillary.customGroups.".concat(t.code,".userPrompt"))),A.a.createElement("div",{className:"dxp-passenger-custom-group-list-by-location-body"},M()(E()(u),(function(e){return A.a.createElement(fn,{key:"".concat(t.code,"-sub-group-").concat(e),ancillaryCode:t.code,subGroupKey:e,subGroupAncillaries:u[e],isInventoryEnabled:p,inventoryThreshold:h,ancillaryPassengers:r,ancillaries:n,itineraryPartKey:i,segmentKey:s,allowMultiSelectionWithinASubGroup:l,onChange:o})})))),!d&&A.a.createElement(ne,{ancillary:t}))}mn.defaultProps={itineraryPartKey:"",segmentKey:"",ancillary:{},ancillaries:{},ancillaryPassengers:[],ancillariesConfiguration:{},onChange:void 0};var gn=mn,vn=n(110),yn=n.n(vn),bn=n(16),En=n.n(bn);n(2421);function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onChange",(function(e){var a=e.passengerId,r=e.count,i=e.subCode,s=n.props,o=s.ancillary,l=s.segmentKey,c=s.itineraryPartKey,u=s.onChange,d=s.updateQuantityToCode,p=Object(ae.i)(o,c,l),h=p[a],f=t.findQuantityOfWeight(i,h);r!==f&&(r<f?(h.quantity-=1,h.quantityToCodeMap=t.adjustCodeMap(_()(h,"quantityToCodeMap",{}),r,i)):d(h,{code:i},o.code),u&&u(o,p))})),y()(f()(n),"getBagTypes",(function(e){var a=t.getSortAncillaryCodesByWeight(e,n.props.offeringType);return{ancillaries:M()(a,(function(t,a){return kn({},n.getControlQuantities(e,t),{subCode:t.code,displayAncillaryLeft:!1,availableInventory:0,originalPrice:_()(t,"prices.original",{}),price:_()(t,"prices.total",{}),displayNoSpaceAvailable:!1,max:_()(t,"ancillaryConfiguration.maxQuantityPerPax",1/0),id:"".concat(t.code,"-").concat(e.index),steps:1,index:a})}))}})),n}return g()(t,e),l()(t,[{key:"getControlQuantities",value:function(e,n){var a=this.props,r=a.isIncrementDisabled,i=a.isDecrementDisabled,s=w()(e),o=_()(n,"modificationAllowed",!0),l=t.findQuantityOfWeight(n.code,e),c=_()(n,"originalAssignedQuantity",0),u=c,d=_()(n,"ancillaryConfiguration.maxQuantityPerPax",1/0),p=s||!o;return{min:u,max:d,disableDecrement:i&&c===l||p||!this.isBegWeightsEnabled(e,e.quantity)||l<=u,disableIncrement:r&&c===l||p||l>=d,count:l}}},{key:"getSegments",value:function(){var e=this.props,t=e.ancillary,n=e.segmentKey,a=e.itineraryPartKey,r=e.bagAllowance,i=e.passengers;return Object(ae.l)(t,n,a,r,this.getBagTypes,i)}},{key:"isBegWeightsEnabled",value:function(e,t){var n=this.props.ancillary,a=_()(e,"quantityToCodeMap.".concat(t));if(a&&a.originallyAssigned){var r=yt()(n.ancillaries,(function(e){return e.code===a.code}));return _()(r,"refundable",!0)}return!0}},{key:"render",value:function(){return A.a.createElement(qe,{className:"dxp-passenger-bags-by-weight",segments:this.getSegments(),onChange:this.onChange,PACKAGE_NAME_CLASSIFIED:"ancillary",numberSelectorReadOnlyText:Object(D.a)("ancillary.numberSelectorReadOnlyText")})}}],[{key:"adjustCodeMap",value:function(e,t,n){var a=!1;return et()(e,(function(e,r,i){return r.code!==n||a||1!==r.quantity||i<=t?e[i]=r:r.assignedCode?(e[i]=En()({},r,{quantity:0}),a=!0):a=!0,e}),{})}},{key:"findQuantityOfWeight",value:function(e,t){var n=t.quantityToCodeMap,a=function(e,t){return e+t.quantity},r=yn()(n,"code"),i=M()(r,(function(e,t){return{key:t,quantity:et()(e,a,0)}})),s=oe()(i,{key:e});return w()(s)?0:s[0].quantity}},{key:"getSortAncillaryCodesByWeight",value:function(e,t){var n=_()(e,t,"WEIGHT");return Nt()(n,(function(n){return _()(e,"".concat(t,"[").concat(n.code,"].bagCharacteristics.POUNDS"))}))}},{key:"renderUnavailableMessage",value:function(e){return A.a.createElement("tr",null,A.a.createElement("th",{className:"each-cell passenger-type-details",scope:"row"},A.a.createElement("div",{className:"passenger-type-details-label"},Object(D.a)("account.fullName",e))),A.a.createElement("td",{className:"unavailable-message"},Object(D.a)("ancillary.unavailableForPassenger",Se()({},e,{typeName:Object(D.i)("passengerType.codes.".concat(e.type))}))))}}]),t}(P.Component);y()(Sn,"defaultProps",{ancillary:{},itineraryPartKey:"",segmentKey:"",offeringType:"",onChange:void 0,bagAllowance:Object(L.Map)(),updateQuantityToCode:void 0,isDecrementDisabled:!1,isIncrementDisabled:!1,passengers:{}});n(2422);var _n=function(e,t){return function(n,a){return _()(e,"".concat(t,".").concat(n),a)}};function On(e,t){return w()(e)||_()(e,t,!1)}function wn(e,t){return Pn(e,t,re.c.BY_ANCILLARY)}function Pn(e,t,n){return e.isCustomGroup&&t.customGroupDisplayMode[e.code]===n}function An(e){var t=e.itineraryPart,n=e.itineraryPartKey,a=e.segment,r=e.segmentKey,i=e.ancillary,s=e.passengers,o=e.ancillaries,l=e.ancillariesConfiguration,c=e.seatBundleAssignments,u=e.isMobile,d=e.segmentEnabled,p=e.onChange,h=e.updateQuantityToCode,f=e.bagAllowance;if(e.excludedItineraryParts.some((function(e){return e===n})))return null;var m=(a||t||_()(i,"offers",{})).offeringType,g=(a||t||_()(i,"offers",{})).inputType,v=_()(l,"showBaggageByWeight",!1),y=_()(l,"controlReducingAncillariesQuantity.enabled",!1)&&k()(_()(l,"controlReducingAncillariesQuantity.offeringCodes",[]),i.code),b=_()(l,"controlIncreasingAncillariesQuantity.enabled",!1)&&k()(_()(l,"controlIncreasingAncillariesQuantity.offeringCodes",[]),i.code);return wn(i,l)&&!u?A.a.createElement(rn,{itineraryPartKey:n,segmentKey:r,ancillary:i,ancillaries:o,ancillaryPassengers:s,ancillariesConfiguration:l,isDecrementDisabled:y,isIncrementDisabled:b,onChange:function(e,i,s){return p(e,i,t,n,a,r,s)}}):wn(i,l)&&u?A.a.createElement(cn,{itineraryPartKey:n,segmentKey:r,ancillary:i,ancillaries:o,ancillaryPassengers:s,ancillariesConfiguration:l,isDecrementDisabled:y,isIncrementDisabled:b,onChange:function(e,i,s){return p(e,i,t,n,a,r,s)}}):function(e,t){return Pn(e,t,re.c.BY_LOCATION)}(i,l)?A.a.createElement(gn,{itineraryPartKey:n,segmentKey:r,ancillary:i,ancillaries:o,ancillaryPassengers:s,ancillariesConfiguration:l,isDecrementDisabled:y,isIncrementDisabled:b,onChange:function(e,i,s){return p(e,i,t,n,a,r,s)}}):g!==ie||i.isBaggage?m===Z.a.WEIGHT?v?A.a.createElement(Sn,{updateQuantityToCode:h,ancillary:i,passengers:s,onChange:function(e,i){return p(e,i,t,n,a,r)},itineraryPartKey:n,segmentKey:r,offeringType:m,bagAllowance:f,isDecrementDisabled:y,isIncrementDisabled:b}):A.a.createElement(Wt,{ancillary:i,passengers:s,onChange:function(e,i){return p(e,i,t,n,a,r)},itineraryPartKey:n,segmentKey:r,offeringType:m,bagAllowance:f,isAncillaryRemovalAllowed:l.controlReducingAncillariesQuantity.enabled,selectedAncillaryCodes:l.controlReducingAncillariesQuantity.offeringCodes,isDecrementDisabled:y,isIncrementDisabled:b}):function(e,t,n,a,r,i,s,o,l,c,u,d,p,h){var f=_n(s,"controlReducingAncillariesQuantity"),m=_n(s,"controlIncreasingAncillariesQuantity");return A.a.createElement(gt,{ancillary:r,passengers:i,onChange:function(r,i,s){return l(r,i,e,t,n,a,s)},itineraryPartKey:t,segmentKey:a,enabled:On(o,t),reducingSpinnerValueThanMinValueNotAllowed:f("enabled",!1),offeringCodesNotAllowedForReducingQuantity:f("offeringCodes",[]),increasingSpinnerValueThanMaxAllowed:m("enabled",!1),offeringCodesNotAllowedForIncreasingQuantity:m("offeringCodes",[]),bagAllowance:c,isDecrementDisabled:u,isIncrementDisabled:d,offeringType:p,isMobile:h})}(t,n,a,r,i,s,l,d,p,f,y,b,m,u):function(e,t,n,a,r,i,s,o,l,c,u,d){return A.a.createElement(At,{passengers:i,ancillaries:s,ancillary:r,onChange:function(r,i,s){return c(r,i,e,t,n,a,s)},segmentKey:a,itineraryPartKey:t,seatBundleAssignments:l,isDecrementDisabled:u,isIncrementDisabled:d})}(t,n,a,r,i,s,o,0,c,p,y,b)}An.defaultProps={segmentEnabled:!1,segment:void 0,segmentKey:void 0,seatBundleAssignments:{},isMobile:!1,onChange:void 0,updateQuantityToCode:void 0,onSelectNextFlight:void 0,bagAllowance:Object(L.Map)(),excludedItineraryParts:Object(L.List)()};var xn=An;n(2423);function Nn(e){var t=e.ancillary,n=e.itineraryPart,a=e.itineraryPartKey,r=e.itineraryPartIndex,i=e.ancillaries,s=e.ancillariesConfiguration,o=e.updateQuantityToCode,l=e.passengers,c=e.onChange,u=e.bagAllowance,d=_()(s,"showBaggageByWeight",!1);if(w()(n.passengerOffers)){if(!G()(n.segments,(function(e){return!w()(e.passengerOffers)})))return A.a.createElement("div",{className:"itinerary-part-offers"},A.a.createElement(ee,{parameters:Object(ae.a)(n),ancillariesConfiguration:s,ancillary:t,travelPartType:J.b.ITINERARY_PART_ANCILLARY,displayFlightIndex:d,flightIndex:d?r:void 0}),A.a.createElement(ne,{ancillary:t}));var p=Y()(M()(n.segmentsMap,(function(e){var r=n.segments[e],d=!w()(r.passengerOffers);return!s.offerBagsBySegment&&t.isGroup?A.a.createElement(ne,{ancillary:t}):A.a.createElement("div",{className:"segment-offers",key:"segment-offers-".concat(e)},1!==n.segments.size&&A.a.createElement(ee,{parameters:Object(ae.b)(r),ancillariesConfiguration:s,travelPartType:J.b.SEGMENT_ANCILLARY}),!d&&A.a.createElement(ne,{ancillary:t}),d&&A.a.createElement(xn,{updateQuantityToCode:o,ancillary:t,ancillaries:i,ancillariesConfiguration:s,passengers:l,itineraryPart:n,itineraryPartKey:a,segment:r,segmentKey:e,onChange:c,isMobile:B.a.mobile,bagAllowance:u}))})));return A.a.createElement("div",{className:"itinerary-part-offers"},A.a.createElement(ee,{parameters:Object(ae.a)(n),ancillariesConfiguration:s,travelPartType:J.b.ITINERARY_PART_ANCILLARY}),p)}return A.a.createElement("div",{className:"itinerary-part-offers"},A.a.createElement(ee,{parameters:Object(ae.a)(n),ancillariesConfiguration:s,ancillary:t,itineraryPart:n,travelPartType:J.b.ITINERARY_PART_ANCILLARY}),d&&t.isBaggage&&n.offeringType==J.c.OFFERING_TYPE.WEIGHT&&A.a.createElement("div",{className:"description"},A.a.createElement(R.c,{name:R.a.INFO_CIRCLE}),Object(D.a)("ancillary.selectBagsWithRespectiveWeights")),d&&t.isBaggage&&n.offeringType!=J.c.OFFERING_TYPE.WEIGHT&&A.a.createElement("div",{className:"description"},A.a.createElement(R.c,{name:R.a.INFO_CIRCLE}),Object(D.a)("ancillary.selectBagsWithRespectiveRegular")),A.a.createElement(xn,{updateQuantityToCode:o,ancillary:t,ancillaries:i,ancillariesConfiguration:s,passengers:l,itineraryPart:n,itineraryPartKey:a,onChange:c,isMobile:B.a.mobile,bagAllowance:u}))}Nn.defaultProps={onChange:void 0,updateQuantityToCode:void 0,bagAllowance:Object(L.Map)()};var Tn=Nn;var In=function(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.passengers,i=e.journeyType,s=e.onChange,o=e.updateQuantityToCode,l=e.segmentEnabled,c=void 0===l?{}:l,u=e.bagAllowance,d=e.excludedItineraryParts,p=_()(a,"isFlightExpandedByDefault",!1),h=M()(_()(t,"offers.itineraryPartsMap",[]),(function(e,l){if(d.some((function(t){return t===e})))return null;var h,f,m=_()(t,"offers.itineraryParts[".concat(e,"]")),g=t.code===re.b.BAGGAGE&&u.get(m.key)||u;return A.a.createElement(q,{key:e,ancillary:t,isCollapsed:!p,journeyType:i,itineraryPartKey:e,itineraryPartIndex:l,enabled:(h=c,f=e,w()(h)||_()(h,f,!1))},A.a.createElement(Tn,{updateQuantityToCode:o,ancillary:t,ancillaries:n,ancillariesConfiguration:a,passengers:r,journeyType:i,itineraryPart:m,itineraryPartKey:e,itineraryPartIndex:l,segmentEnabled:c,onChange:s,bagAllowance:g}))}));return A.a.createElement("div",null,h)};In.defaultProps={segmentEnabled:!1,updateQuantityToCode:void 0,bagAllowance:Object(L.Map)(),excludedItineraryParts:Object(L.List)()};var Bn=In,Ln=n(1370);n(2424);function Dn(e){var t=e.itineraryPart,n=e.segment,a=e.segmentKey;return w()(a)?Object(ae.a)(t):Object(ae.b)(n)}function jn(e,t){return e.isCustomGroup&&t.customGroupDisplayMode[e.code]===re.c.BY_ANCILLARY}function Fn(e){var t=e.ancillary,n=e.ancillaries,a=e.ancillariesConfiguration,r=e.passengers,i=e.flightOffer,s=e.flightIndex,o=e.isMobile,l=e.numberOfFlightOffers,c=e.onChange,u=e.onSelectNextFlight,d=e.updateQuantityToCode,p=e.bagAllowance,h=i.itineraryPart,f=i.itineraryPartKey,m=i.segment,g=i.segmentKey,v=i.passengerOffers,y=o?"small secondary":"medium secondary",b=!w()(v),E=l>1,C=T()("dxp-ancillary-flight-tab","flight-offers","clearfix",{"has-alert":t.isAddedToCart,"has-items-left":t.quantityLeft,"is-custom-group-displayed-by-ancillary":jn(t,a)});return A.a.createElement("div",{className:C},A.a.createElement(ee,{parameters:Dn(i),ancillariesConfiguration:a,displayFlightIndex:!0,flightIndex:s}),!b&&A.a.createElement(ne,{className:"offers-unavailable",ancillary:t}),b&&A.a.createElement(xn,{updateQuantityToCode:d,ancillary:t,ancillaries:n,ancillariesConfiguration:a,passengers:r,itineraryPart:h,itineraryPartKey:f,segment:m,segmentKey:g,isMobile:o,onChange:c,onSelectNextFlight:u,bagAllowance:p}),E&&A.a.createElement("div",{className:"next-flights"},A.a.createElement(Kt.a,{className:y,onClick:function(){return u()}},Object(D.a)("ancillary.nextFlights"))))}Fn.defaultProps={ancillary:{},ancillaries:{},ancillariesConfiguration:{},passengers:{},flightOffer:[],flightIndex:0,isMobile:!1,numberOfFlightOffers:0,onChange:void 0,onSelectNextFlight:void 0,updateQuantityToCode:void 0,bagAllowance:Object(L.Map)()};var Mn=Fn,Rn=(n(2425),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{selectedTabIndex:0}),y()(f()(n),"onFlightTabChange",(function(e){n.setState({selectedTabIndex:e})})),y()(f()(n),"onSelectNextFlight",(function(){var e=Object(ae.f)(n.props.ancillary);n.setState((function(t){var n=It()(e),a=t.selectedTabIndex+1;return a>=n||a<0?{selectedTabIndex:0}:{selectedTabIndex:a}}))})),n}return g()(t,e),l()(t,[{key:"getFlightTabsData",value:function(e){var n=this,a=this.props,r=a.ancillary,i=a.ancillaries,s=a.ancillariesConfiguration,o=a.passengers,l=a.onChange,c=a.isMobile,u=a.updateQuantityToCode,d=a.bagAllowance,p=a.excludedItineraryParts,h=e.filter((function(e){var t=e.itineraryPartKey;return!p.some((function(e){return e===t}))}));return M()(h,(function(e,a){var p=w()(e.segmentKey)?"flight-offers-".concat(e.itineraryPartKey):"flight-offers-".concat(e.itineraryPartKey,"-").concat(e.segmentKey),f=0===e.itineraryPartIndex,m=n.getIcon(f);return{key:p,name:t.getTitle(e,c),icon:m,content:A.a.createElement(Mn,{updateQuantityToCode:u,ancillary:r,ancillaries:i,ancillariesConfiguration:s,passengers:o,flightOffer:e,flightIndex:a,onSelectNextFlight:n.onSelectNextFlight,isMobile:c,numberOfFlightOffers:It()(h),onChange:l,bagAllowance:d})}}))}},{key:"getIcon",value:function(e){return this.props.journeyType.isMultiCity||e?R.a.AIRPLANE_DEPART:R.a.AIRPLANE_ARRIVE}},{key:"render",value:function(){var e=this.props.ancillary,n=Object(ae.f)(e),a=this.getFlightTabsData(n),r=t.getTabList(a),i=t.getTabs(a);return A.a.createElement(Ln.c,{selectedTabIndex:this.state.selectedTabIndex,className:"dxp-ancillary-flight-tabs"},A.a.createElement(Ln.e,{onTabSelect:this.onFlightTabChange,key:"tab-header"},r),A.a.createElement(Ln.d,{key:"tab-content"},i))}}],[{key:"getFlightDestination",value:function(e){var t=e.itineraryPart,n=e.segmentKey,a=e.segment;return w()(n)?t.destination:a.destination}},{key:"getFlightOrigin",value:function(e){var t=e.itineraryPart,n=e.segmentKey,a=e.segment;return w()(n)?t.origin:a.origin}},{key:"getTabList",value:function(e){return M()(e,(function(e){var t="tab-list-".concat(e.key);return A.a.createElement(Ln.a,{key:t},A.a.createElement(H.a,{title:e.name,icon:e.icon}))}))}},{key:"getTabs",value:function(e){return M()(e,(function(e){var t="tab-".concat(e.key);return A.a.createElement(Ln.b,{key:t},e.content)}))}},{key:"getTitle",value:function(e,n){var a=t.getFlightOrigin(e),r=t.getFlightDestination(e),i=n?a:Object(D.i)("city.".concat(a)),s=n?r:Object(D.i)("city.".concat(r));return a&&r?Object(D.i)("app.flightTo",{origin:i,destination:s}):Object(D.i)("app.unknownFlight")}}]),t}(P.PureComponent));y()(Rn,"defaultProps",{isMobile:!1,onChange:void 0,updateQuantityToCode:void 0,bagAllowance:Object(L.Map)(),excludedItineraryParts:Object(L.List)()});var Vn=n(1491),Hn=n(2073);n(2427),n(2428);var Un=function(e){var t=e.ancillary,n=e.onDisclosureClick,a=e.useDescription,r=e.ancillariesConfiguration,i=e.isRenderedOnModal,s=t.code,o=t.isDisclosureRequired,l=Object(D.i)("ancillary.items.".concat(s,".name")),c=Object($t.a)(Object(D.i)("ancillary.items.".concat(s,".image"))),u=_()(r,"ancillaryMap.".concat(s,".icon")),d=_()(r,"ancillaryMap.".concat(s,".iconSize"),""),p=Object(D.i)("app.image"),h=i?"".concat(p," ").concat(l," ").concat(Object(D.i)("app.modal")):"".concat(p," ").concat(l);return A.a.createElement("div",{className:"dxp-ancillary-panel-content"},A.a.createElement("h3",{className:"title"},A.a.createElement(R.c,{name:u,size:d})," ",l),A.a.createElement("div",{className:"content row"},A.a.createElement("img",{alt:h,className:"item img-div",src:Object($t.a)("images/Clear.gif"),style:{backgroundImage:"url(".concat(c,")")}}),A.a.createElement("p",{className:"item intro"}," ",function(e,t){var n=e.code,a=Object(D.a)("ancillary.items.".concat(n,".intro")),r=t&&Object(D.a)("ancillary.items.".concat(n,".description"));return r==="ancillary.items.".concat(n,".description")&&(r=a),r}(t,a)," "),o&&A.a.createElement("div",{className:"disclosure-link-container"},A.a.createElement("a",{className:"disclosure-link",href:Object(D.i)("ancillary.items.".concat(s,".disclosure.link")),onClick:function(e){return function(e,t){return e.preventDefault(),t()}(e,n)}},Object(D.a)("ancillary.items.".concat(s,".disclosure.title"))))))};Un.defaultProps={onDisclosureClick:void 0,useDescription:!1,ancillariesConfiguration:{},isRenderedOnModal:!1};var Wn=Un,qn=n(78),zn=(n(2429),function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"onDisclosureClick",value:function(e){return e.preventDefault(),this.props.onDisclosureClick&&this.props.onDisclosureClick()}},{key:"createInsuranceDescriptionMarkup",value:function(){return this.props.useDescription&&Object(D.a)("ancillary.insurance.airlineMarketingText")}},{key:"render",value:function(){var e=this.props,t=e.ancillary,n=e.onDisclosureClick,a=e.translateWithComponents,r=e.ancillariesConfiguration,i=e.isMobile,s=t.code,o=Object(D.a)("ancillary.items.".concat(s,".name")),l=_()(t,"productDescriptionURL"),c=Object($t.a)(Object(D.i)("ancillary.items.".concat(s,".image"))),u=_()(r,"ancillaryMap.".concat(s,".icon")),d=_()(r,"ancillaryMap.".concat(s,".iconSize"),""),p=n&&l,h=Object(D.i)("app.image"),f=_()(r,"ancillaryPanelImage"),m=Object($t.a)(f),g=Object(D.i)("ancillary.insurance.suppliers.".concat(t.supplierCode,".ancillaryPanelTitle")),v="".concat(g,"-").concat(h),y=A.a.createElement(qn.a,{className:"disclosure-link",href:l,target:"_blank",rel:"external",isExternalLink:!0},Object(D.a)("ancillary.items.".concat(s,".disclosure.title")));return A.a.createElement("div",{className:"dxp-ancillary-insurance-panel-content"},A.a.createElement("h3",{className:"title"},A.a.createElement(R.c,{name:u,size:d})," ",o),A.a.createElement("div",{className:"content row insurance"},A.a.createElement("div",{className:"provider-logo item",style:{backgroundImage:"url(".concat(c,")")}}),A.a.createElement("div",{className:"insurance-description"},i&&A.a.createElement("img",{alt:v,className:"item img-insurance",src:m}),A.a.createElement("p",{className:"intro"},this.createInsuranceDescriptionMarkup(s)),p&&A.a.createElement("div",{className:"disclosure-link-container"},a("ancillary.items.".concat(s,".disclosure.intro"),{insuranceDisclosureLink:y})))))}}]),t}(P.Component));y()(zn,"defaultProps",{onDisclosureClick:void 0,useDescription:!1,isMobile:!1,ancillariesConfiguration:{}});var Gn=n(2110),Kn=n(60),Yn=n(447),Qn=(n(2430),function(e){function t(e){var n;return s()(this,t),n=u()(this,p()(t).call(this,e)),_()(e,"ancillary.isTOCRequired")||_()(e,"isTOCRequired")?n.state={isTOCChecked:e.isTOCChecked||!1,country:""}:n.state={country:""},n}return g()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.ancillary,n=e.isTOCRequired;(t.isTOCRequired||n)&&this.setState({isTOCChecked:t.isAddedToCart})}},{key:"componentDidMount",value:function(){var e=this;Object(Yn.a)(_()(this.props.ancillary,"offers.origin","")).then((function(t){e.setState({country:t})}))}},{key:"onCheckTOC",value:function(e){this.setState({isTOCChecked:e})}},{key:"onClick",value:function(){return this.props.onClick&&this.props.onClick()}},{key:"onClose",value:function(){return this.props.onClose&&this.props.onClose()}},{key:"getButtonLabel",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.isExpandable?"ancillary.updateCart":"ancillary.removeFromCart";return t?Object(D.a)(n):Object(D.a)("ancillary.addToCart")}},{key:"getNeedsUpdate",value:function(){var e=this.props,t=e.ancillary,n=e.ancillaries;return t.isCustomGroup?G()(t.children,(function(e){return n[e.code].needsUpdate})):t.needsUpdate}},{key:"getTotal",value:function(){var e,t=this.props,n=t.ancillary,a=t.ancillaries,r=t.retainedTotal;return n.isCustomGroup&&(n.total[0][0].amount=et()(n.children,(function(e,t){return e+a[t.code].total[0][0].amount}),0)),e=n.total,w()(r)||(e=Object(Kn.q)(e,Object(Kn.p)(r,-1))),e}},{key:"isButtonEnabled",value:function(e){var t=this.props.ancillary.isExpandable,n=this.getNeedsUpdate();return _()(this.props,"ancillary.offers.modificationAllowed",!0)&&(n||!t)&&(!e||e&&this.state.isTOCChecked)}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.isTOCRequired,i=t.isTOCDisclaimerEnabled,s=_()(n,"code"),o="ancillary.acceptTOC.".concat(this.state.country),l="ancillary.checkBoxText.".concat(this.state.country),c=a||_()(n,"isTOCRequired"),u=this.isButtonEnabled(c),d={id:Object(Gn.a)(s),disabled:!u},p=T()("row","add-border",{"toc-border":a}),h=this.getTotal();return A.a.createElement("div",{className:"dxp-ancillary-footer row"},!w()(h)&&A.a.createElement("div",{className:"row"},A.a.createElement("span",{className:"total pull-right"},A.a.createElement("span",{className:"total-content","aria-live":"polite","aria-atomic":"true"},Object(D.a)("app.total")," ",A.a.createElement(Pe.a,{price:h,includeDecimal:!0,raiseDecimal:!0})))),A.a.createElement("div",{className:p},c&&A.a.createElement("div",{className:"left-item pull-left add-top-margin"},i&&A.a.createElement("div",{className:"additional-disclaimer"},Object(D.a)(o)),A.a.createElement(Pt.a,{id:"toc-checkbox-".concat(s),checked:this.state.isTOCChecked,onChange:function(t,n){return e.onCheckTOC(n)},label:l})),A.a.createElement("div",{className:"right-item pull-right"},A.a.createElement("div",{className:"pull-right add-left-margin add-top-margin"},A.a.createElement(Kt.a,{className:"cancel-btn medium secondary",onClick:function(){return e.onClose()}},Object(D.a)("app.cancel")),A.a.createElement(Kt.a,r()({className:"add-to-cart-btn add-left-margin medium primary"},d,{onClick:function(){return e.onClick()}}),this.getButtonLabel())))))}}]),t}(P.Component));y()(Qn,"defaultProps",{isTOCChecked:!1,isTOCRequired:!1,retainedTotal:[],isTOCDisclaimerEnabled:!1});n(2431);var Xn=function(e){var t=e.children;return A.a.createElement("div",{className:"dxp-ancillary-body clearfix"},t)},Jn=n(109),Zn=n.n(Jn);function $n(e,t,n){var a=yn()(oe()(e,(function(e){return e.passengerName===t}),"passengerName"));return M()(a,(function(e,t){return{key:t,quantity:et()(e,n,0)}}))}function ea(e,t){return e+t.quantity}function ta(e,t){return e+Object(Kn.j)(t,"amount")}function na(e){var t=e.passengersBagSummary,n=e.passengers,a=e.bagAllowance,r=e.ancillary;return A.a.createElement("tbody",null,M()(n,(function(e,n){if(e.type===Yt.a.INF)return function(e){return A.a.createElement("tr",{className:"passenger"},A.a.createElement("td",{className:"passenger-type-details-label"},Object(D.a)("account.fullName",e)),A.a.createElement("td",{className:"unavailable-message",colSpan:"2"},Object(D.a)("ancillary.unavailableForPassenger",Se()({},e,{typeName:Object(D.i)("passengerType.codes.".concat(e.type))}))))}(e);var i=[e.firstName,e.lastName].join(" "),s=Zn()(t),o=!w()(s)&&Object(Kn.j)(s[0],"currency"),l=$n(s,i,ea),c=$n(s,i,ta),u=function(e,t,n){var a=_()(n,"offers.itineraryParts",{});return et()(a,(function(n,a){return 0===a.segmentsMap.length?n+Object(ae.e)(t,a,e).get("totalUnits",0):n+et()(a.segments,(function(n,a){return n+Object(ae.e)(t,a,e).get("totalUnits",0)}),0)}),0)}(e,a,r),d=w()(c)?0:{amount:c[0].quantity,currency:o},p=w()(l)?u:l[0].quantity+u,h=0===p,f=T()("total-bag-price",{"not-selected":h}),m=T()("total-number-of-bags",{"not-selected":h});return A.a.createElement("tr",{className:"passenger",key:"passenger-".concat(n)},A.a.createElement("td",{className:"passenger-name"},i),A.a.createElement("td",{className:"passenger-free-bags"},u),A.a.createElement("td",{className:m},p),A.a.createElement("td",{className:f},h&&Object(D.a)("ancillary.notSelected"),p>0&&A.a.createElement(Pe.a,{price:d,includeDecimal:!0})))})))}na.defaultProps={passengers:{passenger:{type:void 0,lastName:void 0,firstName:void 0}},passengersBagSummary:[],bagAllowance:Object(L.Map)(),ancillary:void 0};var aa=na;n(2432);function ra(e,t,n){var a=Object(ae.f)(e),r=et()(a,(function(e,t){var n=function(e){return et()(e,(function(e,t){var n,a,r,i,s;return e.push((n=_()(t,"firstName"),a=_()(t,"lastName"),r=_()(t,"quantity"),i=_()(t,"total"),s=[n,a].join(" "),r>0?{passengerName:s,quantity:r,total:i}:{passengerName:s,quantity:0,total:i})),e}),[])}(t.passengerOffers);return e.push(n),e}),[]);return A.a.createElement(aa,{passengersBagSummary:r,passengers:t,bagAllowance:n,ancillary:e})}function ia(e){var t=e.ancillary,n=e.passengers,a=e.bagAllowance;return A.a.createElement("div",{className:"summary-container"},A.a.createElement("table",{className:"passengers-bag-summary"},A.a.createElement("caption",{className:"summary-caption"},Object(D.a)("ancillary.selectedBagsSummary")),A.a.createElement("thead",null,A.a.createElement("tr",{className:"summary-headings"},A.a.createElement("th",{className:"passengers-name",scope:"col"},Object(D.a)("ancillary.passengerName")),A.a.createElement("th",{className:"no-of-free-bags",scope:"col"},Object(D.a)("ancillary.totalFreeBags")),A.a.createElement("th",{className:"no-of-bags",scope:"col"},Object(D.a)("ancillary.totalNumberOfBags")),A.a.createElement("th",{className:"price-per-passenger",scope:"col"},Object(D.a)("ancillary.pricePerPassenger")))),ra(t,n,a)))}ia.defaultProps={passengers:{},ancillary:{},bagAllowance:Object(L.Map)()};var sa=ia,oa=n(1606),la=(n(2433),function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={productId:""},n}return g()(t,e),l()(t,null,[{key:"renderDropInsuranceProductDetail",value:function(){return A.a.createElement("div",{className:"product-details"},A.a.createElement("div",{className:"product-price-name"},A.a.createElement("div",{className:"no-insurance"},Object(D.a)("ancillary.insurance.optOut"))))}},{key:"renderProductDetail",value:function(e,t,n){return A.a.createElement("div",{className:"product-details"},A.a.createElement("div",{className:"product-price-name"},A.a.createElement(Pe.a,{className:"price",price:_()(e,"insurance.price"),includeDecimal:!0,raiseDecimal:!0}),A.a.createElement("span",{className:"product-name"},_()(e,"insurance.productName"))),A.a.createElement("div",{className:"product-description"},t," ",n))}}]),l()(t,[{key:"onRadioButtonChange",value:function(e,t,n,a,r){e.stopPropagation();var i=he()(n);this.setState({productId:a}),i.insuranceProductId=a,i.price=r,this.props.onChange&&this.props.onChange(i)}},{key:"getPassengerOffers",value:function(){var e=this.props,t=e.ancillary,n=e.itineraryPartKey,a=e.segmentKey;return a?_()(t,"offers.itineraryParts[".concat(n,"].segments[").concat(a,"].passengerOffers"),{}):n?_()(t,"offers.itineraryParts[".concat(n,"].passengerOffers"),{}):_()(t,"offers.passengerOffers",{})}},{key:"renderProductRadio",value:function(e,t,n,a,r,i){var s=this;return A.a.createElement("div",null,A.a.createElement("div",{className:"product-radio"},A.a.createElement(oa.a,{id:t,onChange:function(e,n){return s.onRadioButtonChange(e,n,i,t,a)},checked:this.state.productId===t||n===t,ref:t})),this.renderRadioText(e,r))}},{key:"renderProductRadios",value:function(e,t,n){var a=this,r=_()(this.props,"ancillary.isAddedToCart"),i=e.insuranceProductId,s=this.props.ancillariesConfiguration;return M()(t,(function(t){var o=_()(t,"insurance.price"),l=_()(t,"insurance.productID");return r||l===s.insurance.dropInsurance?r?a.renderProductRadio(t,l,i,o,n,e):null:a.renderProductRadio(t,l,i,o,n,e)}))}},{key:"renderRadioText",value:function(e,n){var a=this.props.ancillariesConfiguration,r=Object(D.a)("ancillary.insurance.suppliers.".concat(n,".").concat(e.insurance.productID)),i=e.insurance.productDescriptionURL,s=A.a.createElement(qn.a,{target:"_BLANK",href:i},Object(D.a)("ancillary.insurance.learnMore"));return _()(e,"insurance.productID")===a.insurance.dropInsurance?t.renderDropInsuranceProductDetail():t.renderProductDetail(e,r,s)}},{key:"render",value:function(){var e=this.props.ancillary,t=this.getPassengerOffers(),n=_()(e,"products"),a=e.supplierCode,r=Object($t.a)(Object(D.i)("ancillary.insurance.suppliers.".concat(a,".ancillaryPanelImage"))),i={backgroundImage:"url(".concat(r,")")},s=Object(D.a)("ancillary.insurance.suppliers.".concat(a,".ancillaryPanelTitle")),o=Object(D.a)("ancillary.insurance.suppliers.".concat(a,".ancillaryPanelDesc")),l=Object(D.a)("app.image"),c="".concat(s,"-").concat(l);return A.a.createElement("div",{className:"ancillary-insurance-supplier"},A.a.createElement("img",{className:"img-div",alt:c,src:Object($t.a)("images/Clear.gif"),style:i}),A.a.createElement("div",{className:"insurance-provider"},A.a.createElement("div",{className:"insurance-provider-title"},s),A.a.createElement("div",{className:"insurance-provider-desc"},o),A.a.createElement("div",{className:"insurance-products"},this.renderProductRadios(t,n,a))))}}]),t}(P.Component));y()(la,"defaultProps",{ancillary:{},itineraryPartKey:"",onChange:void 0,ancillariesConfiguration:{},segmentKey:""});var ca=n(2203),ua=n(777),da=n.n(ua),pa=n(79),ha=n.n(pa),fa=n(73),ma=n.n(fa);function ga(e){var t=e.insuranceProductBenefits,n=e.insuranceBenefitKey,a=e.insuranceBenefitIndex,r=t[n],i=T()("individual-benefit",n);return A.a.createElement("li",{key:a,className:i},A.a.createElement("div",{className:"each-benefit-value"},Object(D.a)("ancillary.insurance.value.".concat(r))))}ga.defaultProps={insuranceBenefitIndex:void 0};var va=ga;n(2435);function ya(e){var t=e.productName,n=e.ancillariesConfiguration,a=e.products,r=_()(n,"insuranceBenefits",[])[ma()(t)],i=E()(r),s=function(e,t){var n=t.filter((function(e){return!w()(_()(e,"insurance.productName"))})),a=_()(e,"insuranceBenefits",[]),r=M()(n,(function(e){var t=ma()(_()(e,"insurance.productName")),n=a[t];return E()(n).length}));return zt()(r)}(n,a)-i.length;if(0!==s){var o=Ce()(s,da()("emptyBenefit")),l=ha()(i,o);return M()(l,(function(e,t){return A.a.createElement(va,{key:"benefit-".concat(t),insuranceBenefitKey:e,insuranceBenefitIndex:t,insuranceProductBenefits:r})}))}return M()(i,(function(e,t){return A.a.createElement(va,{key:"benefit-".concat(t),insuranceBenefitKey:e,insuranceBenefitIndex:t,insuranceProductBenefits:r})}))}function ba(e){var t=e.productName,n=e.ancillariesConfiguration,a=e.products;return A.a.createElement("ul",{className:"insurance-benefits"},ya({productName:t,ancillariesConfiguration:n,products:a}))}ba.defaultProps={products:[]};var Ea=ba,Ca=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.updateTotalForInsurance,a=t.onClick,r=t.ancillary,i=_()(e,"insurance.productID"),s=_()(r,"isPreselected")&&i===_()(r,"preSelectedProductID"),o=!_()(e,"insurance.isAncillarySelected")&&_()(r,"insurance.productID")===i;return n&&n(r,e,s||o),a&&a(e)}},{key:"renderInsuranceAction",value:function(){var e=this.props,t=e.ancillary,n=e.product,a=e.preSelectedProductID,r=(_()(t,"isPreselected")&&!w()(_()(n,"insurance"))&&_()(n,"insurance.productID")===a||!w()(_()(n,"insurance"))&&_()(n,"insurance.productID")===_()(t,"insurance.productID")&&_()(t,"insurance.isAncillarySelected"))&&Object(D.a)("app.remove");return A.a.createElement("span",{className:"insurance-action"},r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=t.productIndex,r=t.ancillariesConfiguration,i=t.products,s=t.ancillary,o=t.preSelectedProductID,l=_()(n,"insurance.productName"),c=_()(n,"insurance.price"),u=_()(n,"insurance.productID"),d=_()(s,"isPreselected")&&!w()(_()(n,"insurance"))&&u===o||!w()(_()(n,"insurance"))&&u===_()(s,"insurance.productID")&&_()(s,"insurance.isAncillarySelected"),p=T()("medium","secondary","brand-offer");return A.a.createElement("div",{className:"ancillary-insurance-card"},A.a.createElement("div",{className:"insurance-name"},l),A.a.createElement("div",{className:"insurance-benefits"},A.a.createElement(Ea,{ancillariesConfiguration:r,products:i,productName:l})),A.a.createElement("div",{className:"insurance-price"},!d&&A.a.createElement("div",{className:"add-line"}),d&&A.a.createElement("div",{className:"added-to-cart-title"},A.a.createElement(R.c,{name:R.a.CHECK}),Object(D.a)("ancillary.selectedAllPassengers")),A.a.createElement(Kt.a,{className:p,onClick:function(t){return e.onClick(n,t)},key:"offer-select-button-".concat(a)},this.renderInsuranceAction(),!d&&A.a.createElement(Pe.a,{className:"price",price:c,includeDecimal:!0}))))}}]),t}(P.Component);y()(Ca,"defaultProps",{productIndex:void 0,updateTotalForInsurance:void 0,preSelectedProductID:void 0});n(2436);var ka=function(e){var t=e.ancillary,n=e.ancillariesConfiguration,a=e.onClick,r=e.updateTotalForInsurance,i=_()(n,"ancillaryPanelImage"),s=_()(n,"offersToDisplay"),o=Object($t.a)(i),l=Object(D.i)("app.image"),c=Object(D.a)("ancillary.insurance.ancillaryPanelTitle"),u=Object(D.a)("ancillary.insurance.ancillaryPanelDesc"),d="".concat(c,"-").concat(l),p=function(e,t,n,a){var r=e.products,i=e.productID,s=e.preSelectedProductID,o=r.filter((function(e){return!w()(_()(e,"insurance.productName"))}));return M()(o,(function(o,l){return A.a.createElement(Ca,{updateTotalForInsurance:a,ancillary:e,key:"".concat(o,"-").concat(l),product:o,productIndex:l,ancillariesConfiguration:t,products:r,onClick:function(){return n(o)},addedProductID:i,preSelectedProductID:s})}))}(t,n,a,r);return A.a.createElement("div",{className:"ancillary-pattern"},A.a.createElement("div",{className:"ancillary-information"},A.a.createElement("h4",{className:"ancillary-name"},c),A.a.createElement("span",{className:"ancillary-description"},u),A.a.createElement("img",{alt:d,className:"item img-div",src:o})),A.a.createElement("div",{className:"dxp-tiled-ancillaries"},A.a.createElement(ca.a,{renderedAncillaries:p,offersToDisplay:s})))};ka.defaultProps={updateTotalForInsurance:void 0};var Sa=ka,_a=(n(2437),n(2438),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onDisclosureClick",(function(){return n.props.onDisclosureClick&&n.props.onDisclosureClick()})),y()(f()(n),"onSummaryClick",(function(){var e=n.props.ancillary;return n.props.onSelect&&n.props.onSelect(e.code)})),n}return g()(t,e),l()(t,[{key:"onAddToCart",value:function(){return this.props.onAddToCart&&this.props.onAddToCart()}},{key:"onAncillaryClose",value:function(){return this.props.onAncillaryClose&&this.props.onAncillaryClose()}},{key:"onInsuranceChange",value:function(e){return this.props.onChange&&this.props.onChange(e)}},{key:"displayContentSection",value:function(e){return!this.isInsuranceAncillary(e)}},{key:"displayInsuranceContentSection",value:function(e){return this.isInsuranceAncillary(e)}},{key:"isFeaturedAncillary",value:function(e){var t=this.props,n=t.ancillariesConfiguration;return!t.isMobile&&!n.showSelectedFeaturedAncillaryInModal&&k()(E()(n.featuredOfferingCodes),e.code)}},{key:"isInsuranceAncillary",value:function(e){var t=this.props.ancillariesConfiguration;return e.code===_()(t,"insurance.code")}},{key:"isMobileCustomGroupAncillary",value:function(e){var t=this.props,n=t.isMobile,a=t.ancillariesConfiguration,r=_()(a,"showBaggageByWeight",!1);return n&&(e.isCustomGroup||r)}},{key:"isTOCChecked",value:function(){var e=this.props.ancillary,t=e.isAddedToCart,n=e.total;return!!e.isTOCRequired&&(!!t&&!!t&&0!==n.amount||!!t&&!!e.isFree&&0===n.amount)}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.seatBundleRemoved,r=t.cartData,i=t.ancillaries,s=t.ancillariesConfiguration,o=t.passengers,l=t.isMobile,c=t.bagAllowance,u=_()(r,"result.cartHasProduct.seat",0),d=a&&u>0,p=_()(s,"isTOCRequired.enabled")&&k()(_()(s,"isTOCRequired.offeringCodes"),n.code),h=_()(s,"isTOCDisclaimerEnabled.enabled")&&k()(_()(s,"isTOCDisclaimerEnabled.offeringCodes"),n.code),f=_()(s,"showBaggageByWeight",!1);return A.a.createElement(Xn,{index:n.code,onClick:function(){return e.onAncillaryClose()}},d&&A.a.createElement(Vn.a,{type:"warning",title:"warning message"},Object(D.a)("ancillary.seatBundleRemovedWarning")),n.isExpandable&&this.renderBodyContent(n),f&&l&&n.code===re.b.BAGGAGE&&A.a.createElement(sa,{ancillary:n,ancillaries:i,ancillariesConfiguration:s,passengers:o,bagAllowance:c,excludedItineraryParts:this.props.excludedItineraryParts}),A.a.createElement(Qn,{ancillary:n,ancillaries:i,isTOCRequired:p,isTOCDisclaimerEnabled:h,isTOCChecked:this.isTOCChecked(),ref:"ancillary-footer-".concat(n.code),onClose:function(){return e.onAncillaryClose()},onClick:function(){return e.onAddToCart(n)},retainedTotal:this.props.retainedTotal}))}},{key:"renderBodyContent",value:function(){var e=this.props,t=e.ancillary,n=e.ancillaries,a=e.journeyType,r=e.ancillariesConfiguration,i=e.passengers,s=e.onChange,o=e.segmentEnabled,l=e.isMobile,c=e.updateQuantityToCode,u=e.bagAllowance,d=e.excludedItineraryParts;if(this.isInsuranceAncillary(t))return this.renderInsuranceContent();if(t.isExpandable){if(!w()(_()(t,"offers.passengerOffers")))return A.a.createElement(xn,{updateQuantityToCode:c,ancillary:t,ancillaries:n,ancillariesConfiguration:r,passengers:i,onChange:s,excludedItineraryParts:d});var p=_()(r.items[t.code],"displayUsingTabs",!1),h=_()(r,"showBaggageByWeight",!1);return p||l&&h?A.a.createElement(Rn,{updateQuantityToCode:c,ancillary:t,ancillaries:n,ancillariesConfiguration:r,passengers:i,journeyType:a,isMobile:l,onChange:s,bagAllowance:u,excludedItineraryParts:d}):A.a.createElement(Bn,{updateQuantityToCode:c,ancillary:t,ancillaries:n,ancillariesConfiguration:r,passengers:i,journeyType:a,segmentEnabled:o,onChange:s,bagAllowance:u,excludedItineraryParts:d})}return null}},{key:"renderInsuranceContent",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.ancillariesConfiguration,r=t.updateTotalForInsurance;return _()(a,"carousalPatternEnabled",!1)?A.a.createElement(Sa,{updateTotalForInsurance:r,ancillary:n,onClick:function(t){return e.onInsuranceChange(t)},ancillariesConfiguration:a}):A.a.createElement(la,{ancillary:n,onClick:function(t){return e.onInsuranceChange(t)},ancillariesConfiguration:a})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancillary,a=t.isOriginalPriceDisplayed,i=t.isDealBannerDisplayed,s=t.ancillariesConfiguration,o=t.isMobile,l=t.isRenderedOnModal,c=t.retainedTotal,u=this.context.translateWithComponents,d=Object(j.b)(this.props.isAuthorable,"ancillaryPanel"),p=n.isRecommended,h=n.code,f=_()(s,"showBaggageByWeight",!1),m=T()("dxp-ancillary-panel","centered-content","container",h,{"has-alert":n.isAddedToCart,"has-items-left":n.quantityLeft,"is-not-expandable":!n.isExpandable,"bags-by-weight":f}),g=p&&Object(D.a)("ancillary.recommended"),v=n.code===re.b.INSURANCE?"ancillary-insurance-panel-body":"ancillary-panel-body",y=!this.isFeaturedAncillary(n)&&(!this.isMobileCustomGroupAncillary(n)||this.isInsuranceAncillary(n));return A.a.createElement("div",r()({className:m,"data-ancillary":h},d),p&&A.a.createElement("div",{className:"recommendation"},A.a.createElement("h3",{className:"lead"},g)),y&&A.a.createElement("div",{className:"content"},A.a.createElement("div",{className:"row"},!B.a.mobile&&A.a.createElement(Hn.a,{ancillary:n,isOriginalPriceDisplayed:a,isDealBannerDisplayed:i,ancillariesConfiguration:s,onClick:function(){return e.onSummaryClick()},isRenderedOnModal:l,retainedTotal:c}),this.displayContentSection(n)&&A.a.createElement(Wn,{isRenderedOnModal:l,ancillary:n,useDescription:!0,ancillariesConfiguration:s,onDisclosureClick:function(){return e.onDisclosureClick()}}),this.displayInsuranceContentSection(n)&&A.a.createElement(zn,{isMobile:o,ancillary:n,ancillariesConfiguration:s,translateWithComponents:u,useDescription:!0,onDisclosureClick:this.onDisclosureClick}),B.a.mobile&&A.a.createElement(Hn.a,{ancillary:n,isOriginalPriceDisplayed:a,isDealBannerDisplayed:i,classNames:"mobile-summary",ancillariesConfiguration:this.props.ancillariesConfiguration,onClick:this.onSummaryClick,isRenderedOnModal:l}))),A.a.createElement("div",{className:v},this.renderBody()))}}]),t}(P.Component));y()(_a,"contextTypes",{translateWithComponents:x.func}),y()(_a,"defaultProps",{ancillaries:{},addToGroup:!1,onAncillaryClose:void 0,numberOfPassenger:void 0,ancillary:{},journeyType:{},onClick:void 0,onChange:void 0,onAncillaryUpdate:void 0,onAddToCart:void 0,onDisclosureClick:void 0,onSelect:void 0,passengers:{},isDealBannerDisplayed:!1,isOriginalPriceDisplayed:!1,ancillariesConfiguration:{},cartData:{},seatBundleAssignments:{},segmentEnabled:!1,seatBundleRemoved:!1,isMobile:!1,isAuthorable:!0,updateQuantityToCode:void 0,updateTotalForInsurance:void 0,bagAllowance:Object(L.Map)(),isRenderedOnModal:!1,excludedItineraryParts:Object(L.List)(),retainedTotal:[]}),n.d(t,"a",(function(){return _a}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(56),E=n.n(b),C=n(37),k=n.n(C),S=n(49),_=n.n(S),O=n(2),w=n.n(O),P=n(21),A=n.n(P),x=n(0),N=n.n(x),T=n(34),I=n.n(T),B=n(92),L=n.n(B),D=n(16),j=n.n(D),F=n(1),M=n.n(F),R=n(6),V=(n(194),n(11)),H=n(1950),U=n(157),W=n(66),q=n(9),z=n(14),G=n(24),K=n(2352),Y=n(82),Q=n.n(Y),X=n(1564),J=n.n(X),Z=n(12),$=n(319),ee=n(2386);function te(e){var t=e.error,n=e.ancillaries,a=e.insuranceError,r=e.isSeatBundlePremiumSeatNotSelected,i=e.ancillariesConfiguration,s=e.ancillariesAvailable,o=e.upsellSelectionError,l=N()(i,"insurance.code"),c=!s&&N()(n,"[".concat(l,"].isPreselected"),!1),u=!Q()(t)&&!w()(t),d=u&&(J()(t)?"ancillary.serviceErrorTitle":"error.".concat(t.errorCode,".title")),p=u&&(J()(t)?"ancillary.serviceErrorDescription":"error.".concat(t.errorCode,".description"));return M.a.createElement("div",{className:"page-messages","aria-live":"assertive"},u&&M.a.createElement($.a,{type:"error",title:d},Object(Z.a)(p)),a&&M.a.createElement($.a,{type:"error",title:"ancillary.insuranceServiceErrorTitle"},Object(Z.a)("ancillary.insuranceServiceErrorDescription")),r&&M.a.createElement($.a,{type:"info",title:"ancillary.seatBundlePremiumSeatsNoSelected.title"},Object(Z.a)("ancillary.seatBundlePremiumSeatsNoSelected.description")),c&&M.a.createElement($.a,{type:"success",title:"ancillary.insurancePreselectedTitle"},Object(Z.a)("ancillary.insurancePreselectedDesc")),o&&M.a.createElement(ee.a,null),J()(t)&&t&&M.a.createElement($.a,{type:"warning",title:"ancillary.addToCartFailure.title"},Object(Z.a)("ancillary.addToCartFailure.description")))}te.defaultProps={error:void 0,ancillaries:void 0,insuranceError:void 0,isSeatBundlePremiumSeatNotSelected:!1,ancillariesConfiguration:{},ancillariesAvailable:!1,upsellSelectionError:void 0};var ne=te,ae=n(57),re=n.n(ae),ie=n(15),se=n.n(ie),oe=n(19),le=n.n(oe),ce=n(35),ue=n.n(ce),de=n(5),pe=n.n(de),he=n(112),fe=n.n(he),me=n(130),ge=n.n(me),ve=n(336),ye=n.n(ve),be=n(2782),Ee=n.n(be),Ce=n(1491),ke=n(1249),Se=n(521);function _e(e){var t=e.cheapestHotelPrice,n=e.isHotelSearchProcessing;return M.a.createElement("div",null,M.a.createElement("div",{className:"title"},Object(Z.i)("hotel.ancillary.price.intro")),n&&M.a.createElement(Se.a,{className:"dark"}),t&&M.a.createElement(ke.a,{className:"dxp-price price rise-decimal",price:t}),M.a.createElement("div",{className:"caption"},Object(Z.i)("hotel.ancillary.price.unit")))}_e.defaultProps={cheapestHotelPrice:void 0};var Oe=_e,we=n(50);n(2803);var Pe=function(e){var t=e.selectedHotel;return M.a.createElement("div",{className:"hotel-card-selected-hotel"},M.a.createElement("div",{className:"added-to-cart-title"},M.a.createElement(we.c,{name:we.a.CHECK}),M.a.createElement("span",null,Object(Z.a)("hotel.ancillary.selectedHotel.added"))),M.a.createElement("div",null,t.get("hotelName")),M.a.createElement("div",{className:"caption"},Object(Z.a)("hotel.ancillary.selectedHotel.address",{street:t.getIn(["address","street"]),city:t.getIn(["address","city"])})),M.a.createElement(ke.a,{className:"dxp-price price rise-decimal",price:t.getIn(["hotelRoomType","price"])}),M.a.createElement("div",{className:"caption selected-hotel-checkin-date"},M.a.createElement("div",null,Object(Z.i)("hotel.ancillary.selectedHotel.checkInDate")),M.a.createElement("div",null,t.get("checkinDate"))),M.a.createElement("div",{className:"caption selected-hotel-checkout-date"},M.a.createElement("div",null,Object(Z.i)("hotel.ancillary.selectedHotel.checkOutDate")),M.a.createElement("div",null,t.get("checkoutDate"))))};n(2804);function Ae(e){var t=e.selectedHotel,n=e.hotelSearchError,a=e.isHotelSearchProcessing,r=e.lowestHotelPrice,i=e.destination;return M.a.createElement("div",{className:"summary-content"},n&&M.a.createElement(Ce.a,{type:"error",title:Object(Z.i)("hotel.ancillary.content.error",{airport:Object(Z.i)("airports.".concat(i))})}),!n&&t.isEmpty()&&M.a.createElement(Oe,{destination:i,selectedHotelOffer:t,isHotelSearchProcessing:a,cheapestHotelPrice:r}),!n&&!t.isEmpty()&&M.a.createElement(Pe,{selectedHotel:t}))}Ae.defaultProps={lowestHotelPrice:void 0,hotelSearchError:void 0};var xe=Ae,Ne=n(88);function Te(e){var t=e.redirectToHotelSearchPage,n=e.removeHotelFromCart,a=e.selectedHotel,r=e.hotelSearchError,i=e.isRemoveHotelProcessing;return M.a.createElement("div",{className:"summary-button"},!a.isEmpty()&&M.a.createElement(Ne.a,{onClick:n,className:"medium secondary"},i?M.a.createElement(Se.a,{className:"dark no-margin"}):Object(Z.a)("hotel.ancillary.action.removeHotel")),a.isEmpty()&&M.a.createElement(Ne.a,{onClick:t,className:"medium secondary"},r?Object(Z.a)("hotel.ancillary.action.error"):Object(Z.a)("hotel.ancillary.action.addHotel")))}Te.defaultProps={hotelSearchError:void 0};var Ie=n(1281),Be=n(63);var Le=function(e){var t=e.hotelsConfiguration;return M.a.createElement("div",{className:"dxp-ancillary-content dxp-hotel-feature-view container","data-ancillary":"HOTEL"},M.a.createElement("div",{className:"title-section"},M.a.createElement(Ie.a,{tag:"h3",icon:we.a.HOTEL_BED,title:"hotel.ancillary.content.title",iconSize:"md",className:"title"})),M.a.createElement("div",{className:"dxp-ancillary-featured-content"},M.a.createElement("img",{alt:Object(Z.i)("hotel.ancillary.content.imageAlt"),className:"img-div",src:Object(Be.a)("images/Clear.gif"),style:{backgroundImage:"url(".concat(t.backgroundImage,")")}}),M.a.createElement("p",{className:"intro"},Object(Z.a)("hotel.ancillary.content.intro"))))};n(2805);function De(e){return M.a.createElement("div",{className:"dxp-ancillary dxp-ancillary-feature dxp-hotel-as-ancillary"},M.a.createElement("div",{className:"content"},M.a.createElement("div",{className:"row"},M.a.createElement(Le,{hotelsConfiguration:e.hotelsConfiguration}),M.a.createElement("div",{className:"dxp-ancillary-summary clearfix included-in-price"},M.a.createElement(xe,{selectedHotel:e.selectedHotel,hotelSearchError:e.hotelSearchError,isHotelSearchProcessing:e.isHotelSearchProcessing,lowestHotelPrice:e.lowestHotelPrice,destination:e.destination}),M.a.createElement(Te,{redirectToHotelSearchPage:e.redirectToHotelSearchPage,removeHotelFromCart:e.removeHotelFromCart,selectedHotel:e.selectedHotel,hotelSearchError:e.hotelSearchError,isRemoveHotelProcessing:e.isRemoveHotelProcessing})))))}De.defaultProps={destination:"",selectedHotel:Object(V.Map)(),hotelSearchError:void 0,isHotelSearchProcessing:!0,isRemoveHotelProcessing:!1,lowestHotelPrice:void 0};var je=function(e){var t=e.hotelsConfiguration;return M.a.createElement("div",{className:"dxp-ancillary-content container"},M.a.createElement("img",{alt:Object(Z.a)("hotel.ancillary.content.imageAlt"),className:"img-div",src:Object(Be.a)("images/Clear.gif"),style:{backgroundImage:"url(".concat(t.backgroundImage,")")}}),M.a.createElement(Ie.a,{tag:"h3",icon:we.a.HOTEL_BED,title:"hotel.ancillary.content.title",iconSize:"md",className:"title"}),M.a.createElement("p",{className:"intro"},Object(Z.a)("hotel.ancillary.content.intro")))};function Fe(e){return M.a.createElement("div",{className:"dxp-ancillary-wrapper loaded-page"},M.a.createElement("div",{className:"dxp-ancillary dxp-hotel-as-ancillary"},M.a.createElement("div",{className:"content"},M.a.createElement("div",{className:"row"},M.a.createElement(je,{hotelsConfiguration:e.hotelsConfiguration}),M.a.createElement("div",{className:"dxp-ancillary-summary clearfix included-in-price"},M.a.createElement(xe,{selectedHotel:e.selectedHotel,hotelSearchError:e.hotelSearchError,isHotelSearchProcessing:e.isHotelSearchProcessing,lowestHotelPrice:e.lowestHotelPrice,destination:e.destination}),M.a.createElement(Te,{redirectToHotelSearchPage:e.redirectToHotelSearchPage,removeHotelFromCart:e.removeHotelFromCart,selectedHotel:e.selectedHotel,hotelSearchError:e.hotelSearchError,isRemoveHotelProcessing:e.isRemoveHotelProcessing}))))))}Fe.defaultProps={destination:"",selectedHotel:Object(V.Map)(),hotelSearchError:void 0,isHotelSearchProcessing:!0,isRemoveHotelProcessing:!1,lowestHotelPrice:void 0};var Me=n(2649),Re=n(2341),Ve=(n(2806),function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"renderErrorMessage",value:function(){var e=this.props.destination;return M.a.createElement("div",{className:"car-service-error"},M.a.createElement(Ce.a,{type:"error",title:Object(Z.i)("car.error",{city:Object(Z.i)("airports.".concat(e))})}))}},{key:"renderPriceSection",value:function(){var e=this.props,t=e.isCarsLocationsProcessing,n=e.isCarsSearchProcessing,a=e.lowestCarPrice;return e.isCarServiceErrorPresent?null:M.a.createElement("div",{"data-test-id":H.e},M.a.createElement("div",{className:"title"},Object(Z.a)("car.content.title")),this.renderSpinnerIfNeeded(),a&&!t&&!n&&M.a.createElement(ke.a,{className:"dxp-passenger-ancillary-price dxp-price price rise-decimal",price:[[a.toJS()]],includeDecimal:!0}),M.a.createElement("div",{className:"caption"},Object(Z.a)("car.content.caption")))}},{key:"renderSelectedCarOfferPrice",value:function(){return M.a.createElement("div",null,M.a.createElement("div",{className:"title"},Object(Z.i)("car.content.selectedOffer")),M.a.createElement(ke.a,{className:"dxp-price price car-offer-price-total rise-decimal",price:this.props.selectedCarOffer.getIn(["car","rentalRate","estimatedTotal"]).toObject(),includeDecimal:!0}),M.a.createElement("div",{className:"caption"},Object(Z.a)("car.content.selectedOfferCaption")))}},{key:"renderSpinnerIfNeeded",value:function(){var e=this.props,t=e.isCarsLocationsProcessing,n=e.isCarsSearchProcessing,a=e.lowestCarPrice,r=e.isCarServiceErrorPresent;return(t||n||!a)&&!r?M.a.createElement(Se.a,{className:"dark"}):null}},{key:"render",value:function(){var e=this.props,t=e.isCarsLocationsProcessing,n=e.isCarServiceErrorPresent,a=e.selectedCarOffer;return M.a.createElement("div",{className:"summary-content"},!t&&n&&this.renderErrorMessage(),!a.isEmpty()&&this.renderSelectedCarOfferPrice(),a.isEmpty()&&!n&&this.renderPriceSection())}}]),t}(F.Component));g()(Ve,"defaultProps",{lowestCarPrice:void 0,selectedCarOffer:Object(V.Map)()});var He=n(1264),Ue=function(e){var t=e.redirectToCarsPage,n=e.isSelectedCarOffer,a=e.isCarsLocationsProcessing;return M.a.createElement("span",{className:"summary-button"},M.a.createElement(He.a,{onClick:t,isSecondaryButton:n,className:"medium secondary","data-test-id":H.j,disabled:a},n?Object(Z.a)("car.button.label.edit"):Object(Z.a)("car.button.label.view")))};Ue.defaultProps={isCarsLocationsProcessing:!1};var We=Ue,qe=(n(2807),function(){return M.a.createElement("div",{className:"dxp-ancillary-content dxp-car-feature-view container","data-ancillary":"CAR","data-test-id":H.d},M.a.createElement("div",{className:"title-section"},M.a.createElement(Ie.a,{tag:"h3",icon:we.a.CAR_RENTAL,title:"car.header.title",iconSize:"md",className:"title"})),(Z.a,M.a.createElement("div",{className:"dxp-ancillary-featured-content"},M.a.createElement("img",{alt:Object(Z.i)("car.header.viewTitle"),className:"img-div",src:Object(Be.a)("images/Clear.gif"),style:{backgroundImage:"url(".concat(Object(Be.a)("images/ancillaries/320x180_cars.png"),")")}}),M.a.createElement("p",{className:"intro"},Object(Z.a)("car.header.intro")))))}),ze=function(e){var t=e.lowestCarPrice,n=e.isCarsLocationsProcessing,a=e.isCarsSearchProcessing,r=e.redirectToCarsPage,i=e.isCarServiceErrorPresent,s=e.destination,o=e.selectedCarOffer;return M.a.createElement("div",{className:"dxp-ancillary dxp-ancillary-feature dxp-car-as-ancillary"},M.a.createElement("div",{className:"content"},M.a.createElement("div",{className:"row",tabIndex:"0"},M.a.createElement(qe,null),M.a.createElement("div",{className:"dxp-ancillary-summary clearfix","data-test-id":H.f},M.a.createElement(Ve,{lowestCarPrice:t,isCarsLocationsProcessing:n,isCarsSearchProcessing:a,isCarServiceErrorPresent:i,destination:s,selectedCarOffer:o}),M.a.createElement(We,{redirectToCarsPage:r,isSelectedCarOffer:o&&!o.isEmpty(),isCarsLocationsProcessing:n})))))};ze.defaultProps={lowestCarPrice:void 0,selectedCarOffer:Object(V.Map)()};var Ge=ze,Ke=n(2203),Ye=n(2003),Qe=n(2073),Xe=function(e){var t=e.ancillary,n=le()(t.travelPartOffers,(function(e){return e.availableInventory>0})),a=pe()(n,(function(e,t){return M.a.createElement("span",{key:t,className:"ancillary-bundle-slide-travel-part"},e.travelPart.origin,M.a.createElement(we.c,{name:we.a.ARROW_CHEVRON_RIGHT,srOnlyText:Object(Z.i)("app.to")}),e.travelPart.destination)}));return M.a.createElement("div",null,a)},Je=(n(2808),function(e){var t=e.ancillariesConfiguration,n=e.ancillary,a=e.onAncillarySelected,r=e.passengers,i=e.bagAllowance,s=N()(t,"items.".concat(n.code,".discount.isOriginalPriceDisplayed"),!1),o=N()(t,"items.".concat(n.code,".discount.isDealBannerDisplayed"),!1);return M.a.createElement(Ye.a,null,M.a.createElement("div",{className:"ancillary-bundle-slide"},M.a.createElement("div",{className:"ancillary-bundle-item-info"},M.a.createElement("h3",{className:"title"},M.a.createElement("span",{className:Object(Z.i)("ancillary.items.".concat(n.code,".icon"))}),Object(Z.a)("ancillary.items.".concat(n.code,".name"))),M.a.createElement("ul",{className:"bundle-items"},pe()(n.bundleItems,(function(e){return M.a.createElement("li",{key:e.code,className:"bundle-item"},Object(Z.a)("ancillary.items.".concat(e.code,".name")))}))),M.a.createElement("div",{className:"ancillary-bundle-slide-availability"},Object(Z.a)("ancillary.availableTravelParts"),M.a.createElement(Xe,{ancillary:n}))),M.a.createElement(Qe.a,{classNames:"bundle-summary",onClick:function(){return a(n.code)},ancillary:n,isDealBannerDisplayed:s,isOriginalPriceDisplayed:o,ancillariesConfiguration:t,bagAllowance:i,passengers:r})))});Je.defaultProps={ancillary:void 0,passengers:{},bagAllowance:Object(V.Map)()};var Ze=Je,$e=n(2195),et=function(e){var t=e.ancillariesConfiguration,n=e.ancillary,a=e.onAncillarySelected,r=e.renderWithAnimation,i=e.segmentEnabled,s=void 0===i?{}:i,o=e.isMobile,l=e.passengers,c=e.bagAllowance,u=e.onDisclosureClick,d=N()(t,"items.".concat(n.code,".discount.isOriginalPriceDisplayed"),!1),p=N()(t,"items.".concat(n.code,".discount.isDealBannerDisplayed"),!1);return M.a.createElement($e.a,{key:"ancillary-".concat(n.code),ancillary:n,isOriginalPriceDisplayed:d,isDealBannerDisplayed:p,onSelect:function(e){return a(e)},onDisclosureClick:u,ancillariesConfiguration:t,renderWithAnimation:r,segmentEnabled:s,isMobile:o,passengers:l,bagAllowance:c,retainedTotals:e.retainedTotals})};et.defaultProps={onAncillarySelected:void 0,renderWithAnimation:void 0,segmentEnabled:!1,isMobile:!1,passengers:{},bagAllowance:Object(V.Map)(),onDisclosureClick:function(){},retainedTotals:{}};var tt=et,nt=n(2356),at=(n(2809),function(){return M.a.createElement("div",{className:"dxp-ancillary-content container car-card-header","data-ancillary":"CAR"},M.a.createElement("img",{alt:"CAR",className:"img-div",src:Object(Be.a)("images/Clear.gif"),style:{backgroundImage:'url("images/ancillaries/320x180_cars.png")'}}),M.a.createElement(Ie.a,{tag:"h3",icon:we.a.CAR_RENTAL,title:"car.header.title",iconSize:"md"}),M.a.createElement("p",{className:"intro"},Object(Z.a)("car.header.intro")))}),rt=function(e){return M.a.createElement("div",{className:"dxp-ancillary-wrapper loaded-page"},M.a.createElement("div",{className:"dxp-ancillary dxp-car-as-ancillary"},M.a.createElement("div",{className:"content"},M.a.createElement("div",{className:"row"},M.a.createElement(at,null),M.a.createElement("div",{className:"dxp-ancillary-summary clearfix included-in-price","data-ancillary":"CAR"},M.a.createElement(Ve,{lowestCarPrice:e.lowestCarPrice,isCarsLocationsProcessing:e.isCarsLocationsProcessing,isCarsSearchProcessing:e.isCarsSearchProcessing,isCarServiceErrorPresent:e.isCarServiceErrorPresent,destination:e.destination,selectedCarOffer:e.selectedCarOffer}),M.a.createElement(We,{redirectToCarsPage:e.redirectToCarsPage,isSelectedCarOffer:!e.selectedCarOffer.isEmpty(),isCarsLocationsProcessing:e.isCarsLocationsProcessing}))))))};rt.defaultProps={lowestCarPrice:void 0,selectedCarOffer:Object(V.Map)()};var it=rt,st=n(1996),ot=n(39),lt=n.n(ot),ct=n(10),ut="tile",dt="feature";function pt(e,t,n,a){var r,i,s,o=t.seatsTotal,l=t.hasSeats,c=e?dt:ut,u=lt()("dxp-ancillary dxp-seat-as-ancillary","dxp-ancillary-".concat(c)),d=Object(Z.a)(l?"seatAncillary.change":"seatAncillary.add"),p=l?o:void 0,h=l?void 0:Object(Z.a)("seatAncillary.noSeat");return M.a.createElement("div",{className:u},M.a.createElement(st.c,{displayType:c,PACKAGE_NAME_CLASSIFIED:"ancillary"},M.a.createElement(st.a,re()({},(r=ct.I,i=Object(Z.i)("app.image"),s=Object(Z.i)("seatAncillary.title"),{code:r,altText:"".concat(i," ").concat(s),icon:Object(Z.i)("seatAncillary.icon"),title:s,intro:Object(Z.a)("seatAncillary.intro"),imgPath:Object(Z.i)("seatAncillary.image")}),{displayType:c})),M.a.createElement(st.b,{className:"dxp-ancillary-summary",isAddedToCart:l,code:ct.I,title:Object(Z.a)("seatAncillary.summaryTitle"),price:p,summaryButtonContent:d,onClick:n,priceNote:h,PACKAGE_NAME_CLASSIFIED:a===G.a.MTO?"ancillary.mto.seats":"ancillary"})))}var ht=function(e){var t=e.isFeatureView,n=e.seatAncillaries,a=e.redirectToSeatSelectionPage,r=e.currentFlow;return t?pt(t,n,a,r):M.a.createElement("div",{className:"dxp-ancillary-wrapper"},pt(t,n,a,r))};function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var mt=function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.ancillariesConfiguration,a=e.onAncillarySelected;n.showSelectedFeaturedAncillaryInModal||t.preSelectFeaturedAncillary(n,a)}},{key:"areFeaturedAncillariesAvailable",value:function(){var e=this.props,t=e.hotels.hotelsConfiguration,n=e.cars.carsConfiguration,a=e.seatAncillaries,r=e.ancillariesConfiguration,i=e.upsellEnabled,s=t.enabled&&t.featureView.enabled,o=n.enabled&&n.featureView.enabled;return N()(a,"seatsOnExtrasPageConfig.isEnabled")&&N()(a,"seatsOnExtrasPageConfig.isFeatureView")||s||o||!w()(r.featuredOfferingCodes)||i}},{key:"createAncillaries",value:function(e,t){var n=this,a=this.props,r=a.ancillaries,i=a.selectedAncillaryCode,s=a.isMobile,o=a.ancillariesConfiguration,l=a.onAncillarySelected,c=a.passengers,u=a.bagAllowance,d=a.segmentEnabled,p=a.renderWithAnimation;return pe()(le()(e,(function(e){return!Q()(r[e])})),(function(e){var a=r[e];a.isSelected=i===e;var h=Object(H.b)(a.code);return t?M.a.createElement(Ze,{key:h,ancillary:a,ancillariesConfiguration:o,onAncillarySelected:l,passengers:c,bagAllowance:u}):M.a.createElement(tt,{key:h,ancillary:a,ancillariesConfiguration:o,onAncillarySelected:l,passengers:c,bagAllowance:u,renderWithAnimation:p,segmentEnabled:d,isMobile:s,retainedTotals:n.props.retainedTotals})}))}},{key:"createFeaturedAncillaries",value:function(e){var t=this,n=this.props,a=n.ancillaries,r=n.selectedAncillaryCode,i=n.isMobile,s=n.updateQuantityToCode,o=n.updateTotalForInsurance,l=n.excludedItineraryParts;return pe()(le()(e,(function(e){return!Q()(a[e])})),(function(e){var n=a[e],c=t.props.retainedTotals[e];n.isSelected=r===e;var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ancillary:n,selectedAncillaryCode:r,isMobile:i,updateTotalForInsurance:o,updateQuantityToCode:s},ue()(t.props,"selectedAncillaryCode"),{excludedItineraryParts:l,retainedTotal:c});return M.a.createElement(nt.a,re()({key:"ancillary-".concat(n.code)},u))}))}},{key:"isUpsellAvailable",value:function(){return this.props.upsellData.upsellOptions&&!this.props.upsellData.upsellOptions.isEmpty()}},{key:"isUpsellLoading",value:function(){return this.props.upsellData.isUpsellOffersLoading}},{key:"renderCardCarComponent",value:function(){var e=this.props.cars,t=e.lowestCarPrice,n=e.isCarsLocationsProcessing,a=e.isCarsSearchProcessing,r=e.isCarServiceErrorPresent,i=e.destination,s=e.selectedCarOffer;return M.a.createElement(it,{lowestCarPrice:t,isCarsLocationsProcessing:n,isCarsSearchProcessing:a,isCarServiceErrorPresent:r,destination:i,selectedCarOffer:s,redirectToCarsPage:this.props.redirectToCarsPage})}},{key:"renderCardHotelComponent",value:function(){var e=this.props.hotels;return M.a.createElement(Fe,{redirectToHotelSearchPage:this.props.redirectToHotelSearchPage,removeHotelFromCart:this.props.removeHotelFromCart,hotelsConfiguration:e.hotelsConfiguration,destination:e.destination,selectedHotel:e.selectedHotel,hotelSearchError:e.hotelSearchError,isHotelSearchProcessing:e.isHotelSearchProcessing,isRemoveHotelProcessing:e.isRemoveHotelProcessing,lowestHotelPrice:e.lowestHotelPrice})}},{key:"renderFeaturedCarComponent",value:function(){var e=this.props.cars,t=e.lowestCarPrice,n=e.isCarsLocationsProcessing,a=e.isCarsSearchProcessing,r=e.isCarServiceErrorPresent,i=e.carsLocationsError,s=e.carsSearchError,o=e.destination,l=e.selectedCarOffer;return M.a.createElement(Ge,{lowestCarPrice:t,isCarsLocationsProcessing:n,isCarsSearchProcessing:a,carsLocationsError:i,carsSearchError:s,isCarServiceErrorPresent:r,destination:o,selectedCarOffer:l,redirectToCarsPage:this.props.redirectToCarsPage})}},{key:"renderFeaturedHotelComponent",value:function(){var e=this.props.hotels;return M.a.createElement(De,{redirectToHotelSearchPage:this.props.redirectToHotelSearchPage,removeHotelFromCart:this.props.removeHotelFromCart,hotelsConfiguration:e.hotelsConfiguration,destination:e.destination,selectedHotel:e.selectedHotel,hotelSearchError:e.hotelSearchError,isHotelSearchProcessing:e.isHotelSearchProcessing,isRemoveHotelProcessing:e.isRemoveHotelProcessing,lowestHotelPrice:e.lowestHotelPrice})}},{key:"renderUpsellComponent",value:function(){var e=this.props.upsellData,t=e.upsellOptions,n=e.isUpsellOffersLoading,a=e.isUpsellSelectionLoading,r=e.initiallySelectedHashCodes;return M.a.createElement(Me.a,{upsellOptions:t,selectUpsellOptions:this.props.selectUpsellOptions,requestCart:this.props.requestCart,currentFlow:this.props.currentFlow,getUpsellOptions:this.props.getUpsellOptions,removeUpsellOptions:this.props.removeUpsellOptions,updateFlightSelectionBrands:this.props.updateFlightSelectionBrands,isUpsellOffersLoading:n,isUpsellSelectionLoading:a,initiallySelectedHashCodes:r,brandSortOrder:this.props.brandSortOrder,sortUpsellBrand:this.props.sortUpsellBrand,numberOfUpsellOffersDisplayed:this.props.numberOfUpsellOffersDisplayed,messageForRemoval:!0,refreshAncillaries:this.props.refreshAncillaries,location:this.props.location})}},{key:"renderSeatAncillary",value:function(e){var t=e.isFeatureView,n=this.props,a=n.redirectToSeatSelectionPage,r=n.seatAncillaries,i=n.currentFlow;return r&&M.a.createElement(ht,{redirectToSeatSelectionPage:a,isFeatureView:t,seatAncillaries:r,currentFlow:i})}},{key:"render",value:function(){var e=this,n=this.props,a=n.ancillariesConfiguration,r=n.displayAsSlider,i=n.isMobile,s=n.isAwardBooking,o=n.upsellEnabled,l=n.cars.carsConfiguration,c=n.hotels.hotelsConfiguration,u=n.seatAncillaries,d=this.props.sortedCodes,p=a.offersToDisplay,h=a.featuredOfferingCodes,f=!i&&this.areFeaturedAncillariesAvailable(),m=t.getMarketBasedInsuranceInfo(this.props.ancillaries),g=m.isMarketBasedInsurance,v=m.insurance;g&&(d=le()(d,(function(e){return e!==v.code})));var y=i?d:ye()(d,_()(h)),b=i?[]:fe()(d,_()(h)),E=this.createAncillaries(y,r);return M.a.createElement("div",{className:"dxp-ancillaries-layout"},f&&M.a.createElement("div",{className:"dxp-featured-ancillaries","data-test-id":H.h},N()(u,"seatsOnExtrasPageConfig.isEnabled")&&N()(u,"seatsOnExtrasPageConfig.isFeatureView")&&this.renderSeatAncillary({isFeatureView:!0}),this.createFeaturedAncillaries(b),!s&&l.enabled&&l.featureView.enabled&&this.renderFeaturedCarComponent(),!s&&c.enabled&&c.featureView.enabled&&this.renderFeaturedHotelComponent(),o&&this.isUpsellLoading()&&M.a.createElement(Se.a,null),o&&this.isUpsellAvailable()&&this.renderUpsellComponent()),g&&M.a.createElement(Re.a,{ancillary:v,onAncillarySelected:this.props.onAncillarySelected,onAncillaryAddToCart:this.props.onAncillaryAddToCart,insuranceSelectionRequired:this.props.insuranceSelectionRequired,setInsuranceSelectionRequired:this.props.setInsuranceSelectionRequired,updateTotalForInsurance:function(t,n){return e.props.updateTotalForInsurance(e.props.ancillaries,t,n)}}),M.a.createElement("div",{className:"dxp-tiled-ancillaries","data-test-id":H.k},r?M.a.createElement(Ke.a,{renderedAncillaries:E,offersToDisplay:p}):M.a.createElement(Ee.a,{className:"dxp-masonry",options:{gutter:20,horizontalOrder:!0}},N()(u,"seatsOnExtrasPageConfig.isEnabled")&&(!N()(u,"seatsOnExtrasPageConfig.isFeatureView")||i)&&this.renderSeatAncillary({isFeatureView:!1}),E,!s&&l.enabled&&(!l.featureView.enabled||i)&&this.renderCardCarComponent(),!s&&c.enabled&&(!c.featureView.enabled||i)&&this.renderCardHotelComponent(),o&&i&&this.isUpsellLoading()&&M.a.createElement(Se.a,null),o&&i&&this.isUpsellAvailable()&&this.renderUpsellComponent())))}}],[{key:"getMarketBasedInsuranceInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=se()(e,(function(e){return e.isInsurance}))||{};return{isMarketBasedInsurance:Boolean(t.market),insurance:t}}},{key:"preSelectFeaturedAncillary",value:function(e,t){var n=ge()(e.featuredOfferingCodes,(function(e){return e.expanded}));n&&n!==U.b.INSURANCE&&t(n)}}]),t}(F.Component);g()(mt,"defaultProps",{ancillaries:void 0,sortedCodes:[],renderWithAnimation:void 0,segmentEnabled:!1,passengers:{},updateTotalForInsurance:void 0,displayAsSlider:!1,onAncillarySelected:void 0,selectedAncillaryCode:null,isMobile:!1,cars:{carsConfiguration:{featureView:{}}},updateQuantityToCode:void 0,bagAllowance:Object(V.Map)(),hotels:{hotelsConfiguration:{featureView:{}}},removeHotelFromCart:void 0,upsellData:{},sortUpsellBrand:!1,numberOfUpsellOffersDisplayed:99,brandSortOrder:[],refreshAncillaries:void 0,redirectToHotelSearchPage:void 0,redirectToCarsPage:void 0,isAwardBooking:!1,getUpsellOptions:void 0,selectUpsellOptions:void 0,removeUpsellOptions:void 0,updateFlightSelectionBrands:void 0,insuranceSelectionRequired:!1,setInsuranceSelectionRequired:y.a,onAncillaryAddToCart:y.a,excludedItineraryParts:Object(V.List)(),retainedTotals:{},seatAncillaries:void 0,redirectToSeatSelectionPage:void 0});var gt=n(136),vt=function(e){var t=e.ancillaryCode,n=e.contentKey,a=e.onModalCloseClick;return M.a.createElement(gt.a,{className:"dxp-ancillary-information-modal",onCloseClick:a},M.a.createElement("h2",null,Object(Z.a)("ancillary.items.".concat(t,".").concat(n,".title"))),M.a.createElement("p",{className:"sub-title"},Object(Z.a)("ancillary.items.".concat(t,".").concat(n,".subTitle"))),M.a.createElement("p",{className:"description"},Object(Z.a)("ancillary.items.".concat(t,".").concat(n,".description"))))},yt=(n(2810),n(2811),function(e){function t(e,n){var a;r()(this,t),a=s()(this,l()(t).call(this,e,n)),g()(u()(a),"onAncillaryAddToCart",(function(){var e=N()(u()(a),"props.ancillaries[".concat(a.props.ancillaryCode,"]"),{});a.removePreSelectedAncillary();var t=a.props,n=t.ancillaries,r=t.itinerary,i=t.passengers,s=t.currentFlow,o=t.addInsuranceAncillaryToCart,l=t.addToCart,c=t.requestCart,d=I()(e);return a.props.selectAncillary(null),a.props.revertToSnapShot(),e.isExpandable||(d=a.props.addOrRemoveOneForAllPassengers(e)),d.code===U.b.INSURANCE?N()(d,"isPostInsurance")?o(n,d):o(n,d).then((function(e){return e&&c(s,a.props.location)})):a.props.isSeatBundles?l(n,d,r,i):l(n,d,r,i).then((function(e){return e&&c(s,a.props.location)}))})),g()(u()(a),"onAncillaryChange",(function(e,t,n,r,i,s,o){var l=a.props,c=l.ancillaries,u=l.seatBundleAssignments;return a.props.update(c,e,t,n,r,i,s,o,u)})),g()(u()(a),"onAncillaryClose",(function(){a.props.selectAncillary(null),a.props.revertToSnapShot(),a.props.revertSeatBundleAssignmentsToSnapShot(),a.removePreSelectedAncillary()})),g()(u()(a),"onAncillarySelected",(function(e){if(a.isInsurance(e)&&a.isSingleInsuranceProduct(e))return a.updateInsurance(e);return a.props.takeSnapShot(a.props.ancillaries),a.props.selectAncillary(e)})),g()(u()(a),"onDisclosureClick",(function(){var e=N()(u()(a),"props.ancillaries[".concat(a.props.ancillaryCode,"]"),{});return a.openModal(e.code,"disclosure")})),g()(u()(a),"onModalCloseClick",(function(){a.setState({isModalOpen:!1})})),g()(u()(a),"redirectToSeatSelectionPage",(function(){var e=a.props,t=e.location,n=e.seatRedirectLocation,r=e.currentFlow,i=N()(t,"query",{});r===G.a.MTO&&(i=k()(i,{execution:Object(q.j)()})),a.props.actionUpdateURLQuery(W.a,n,i)})),g()(u()(a),"handleResize",(function(){a.getIsMobileView()!==a.state.isMobileView&&a.setState((function(e){return{isMobileView:!e.isMobileView}}))}));var i=N()(e.location,"query.selectedAncillary");return a.state={isModalOpen:!1,preSelectedAncillary:i,isMobileView:a.getIsMobileView()},a}return f()(t,e),p()(t,null,[{key:"isUpsellSelectionError",value:function(e){return e&&e.upsellSelectionError}}]),p()(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(){var e=this.state.preSelectedAncillary;e&&this.showPreselectedAncillary()&&this.onAncillarySelected(e)}},{key:"componentWillUnmount",value:function(){this.onAncillaryClose(),window.removeEventListener("resize",this.handleResize)}},{key:"onContinue",value:function(){return this.props.actionUpdateURLQuery("URL_UPDATE_HASH",this.props.getNextPage(),N()(this.props.location,"query",{}))}},{key:"getIsMobileView",value:function(){return this.context.isMobile||this.props.viewBreakPoint>window.innerWidth}},{key:"getSelectedAncillaryProps",value:function(){var e=this,t=this.state.isMobileView,n=N()(this,"props.ancillaries[".concat(this.props.ancillaryCode,"]"),{});return j()({},this.props,{isMobile:t,onAncillaryClose:function(){return e.onAncillaryClose()},onAncillarySelected:function(t){return e.onAncillarySelected(t)},onDisclosureClick:function(){return e.onDisclosureClick(n)},onAncillaryAddToCart:function(){return e.onAncillaryAddToCart(n)},onAncillaryChange:function(t,n,a,r,i,s,o){return e.onAncillaryChange(t,n,a,r,i,s,o)}})}},{key:"isAncillaryFeatured",value:function(){var e=this.props,t=e.ancillaryCode,n=e.ancillariesConfiguration;return A()(_()(n.featuredOfferingCodes),t)}},{key:"isInsurance",value:function(e){return e===N()(this.props,"ancillariesConfiguration.insurance.code")}},{key:"isSelectedAncillaryDisplayedInModal",value:function(e){var t=this.state.isMobileView;return!(this.isAncillaryFeatured()&&!e.showSelectedFeaturedAncillaryInModal&&!t)}},{key:"isSingleInsuranceProduct",value:function(e){var t=N()(this.props,"ancillaries.".concat(e,".products"));return 1===E()(t)}},{key:"openModal",value:function(e,t){this.props.selectAncillary(e),this.setState({isModalOpen:!0,modalContentKey:t})}},{key:"removePreSelectedAncillary",value:function(){this.setState({preSelectedAncillary:void 0})}},{key:"showAncillariesContent",value:function(){var e=this.props,t=e.isLoading,n=e.isAncillaries,a=e.sortedCodes,r=e.seatAncillaries;return!t&&n&&!w()(a)||N()(r,"seatsOnExtrasPageConfig.isEnabled",!1)}},{key:"showAncillaryPanel",value:function(){return!this.props.isLoading&&this.props.isAncillaries&&this.state.isModalOpen}},{key:"showPreselectedAncillary",value:function(){return!this.props.isLoading&&!this.props.ancillaryCode}},{key:"showSelectedAncillary",value:function(){var e=this.props,t=e.ancillaryCode,n=e.ancillariesConfiguration;return t&&this.isSelectedAncillaryDisplayedInModal(n)}},{key:"showUpsellContent",value:function(){var e=this.props,t=e.upsellEnabled,n=e.upsellData,a=n.isUpsellOffersLoading,r=n.upsellOptions;return t&&!a&&!w()(r)}},{key:"updateInsurance",value:function(e){var t=this,n=this.props,a=n.ancillaries,r=n.updateInsuranceInCart,i=n.currentFlow,s=N()(a,"[".concat(e,"].products[0].insurance.price")),o=L()(a),l=N()(o,"[".concat(e,"].products[0].insurance.productID"));o=k()(o,g()({},e,{"offers.passengerOffers.price":s,productID:l})),r&&r(e,o).then((function(e){return e&&t.props.requestCart(i,t.props.location)}))}},{key:"render",value:function(){var e=this.props,n=e.ancillaryCode,a=e.ancillaries,r=e.ancillariesConfiguration,i=e.displayAsSlider,s=e.journeyType,o=e.sortedCodes,l=e.passengers,c=e.updateQuantityToCode,u=e.error,d=e.insuranceError,p=e.isSeatBundlePremiumSeatNotSelected,h=e.cars,f=e.bagAllowance,m=e.ancillariesAvailable,g=e.updateTotalForInsurance,v=e.location,y=e.requestCart,b=e.upsellData,E=e.getUpsellOptions,C=e.selectUpsellOptions,k=e.upsellEnabled,S=e.brandSortOrder,_=e.sortUpsellBrand,O=e.seatBundleAssignments,w=e.seatBundleRemoved,P=e.cartData,A=e.removeUpsellOptions,x=e.updateFlightSelectionBrands,N=e.numberOfUpsellOffersDisplayed,T=e.currentFlow,I=this.state,B=I.modalContentKey,L=I.isMobileView,D=this.showAncillariesContent()||this.showUpsellContent(),j=t.isUpsellSelectionError(b);return M.a.createElement("div",{className:"dxp-ancillaries",id:H.a},M.a.createElement(ne,{error:u,ancillaries:a,insuranceError:d,isSeatBundlePremiumSeatNotSelected:p,ancillariesConfiguration:r,ancillariesAvailable:m,upsellSelectionError:j}),D&&M.a.createElement(mt,{location:v,updateQuantityToCode:c,ancillaries:a,ancillariesConfiguration:r,displayAsSlider:i,journeyType:s,selectedAncillaryCode:n,updateTotalForInsurance:g,sortedCodes:o,passengers:l,isMobile:this.state.isMobileView,bagAllowance:f,cars:h,redirectToCarsPage:this.props.redirectToCarsPage,onAncillarySelected:this.onAncillarySelected,onDisclosureClick:this.onDisclosureClick,onAncillaryAddToCart:this.onAncillaryAddToCart,onAncillaryClose:this.onAncillaryClose,onAncillaryChange:this.onAncillaryChange,hotels:this.props.hotels,removeHotelFromCart:this.props.removeHotelFromCart,redirectToHotelSearchPage:this.props.redirectToHotelSearchPage,upsellData:b,requestCart:y,currentFlow:T,getUpsellOptions:E,selectUpsellOptions:C,removeUpsellOptions:A,updateFlightSelectionBrands:x,upsellEnabled:k,brandSortOrder:S,sortUpsellBrand:_,numberOfUpsellOffersDisplayed:N,refreshAncillaries:this.props.refreshAncillaries,isAwardBooking:this.props.isAwardBooking,insuranceSelectionRequired:this.props.insuranceSelectionRequired,setInsuranceSelectionRequired:this.props.setInsuranceSelectionRequired,excludedItineraryParts:this.props.excludedItineraryParts,retainedTotals:this.props.retainedTotals,redirectToSeatSelectionPage:this.redirectToSeatSelectionPage,seatAncillaries:this.props.seatAncillaries,seatRedirectLocation:this.props.seatRedirectLocation}),this.showSelectedAncillary()&&M.a.createElement(K.a,{passengers:l,journeyType:s,ancillariesConfiguration:r,seatBundleAssignments:O,seatBundleRemoved:w,ancillaries:a,cartData:P,isMobile:L,ancillaryCode:n,onAncillaryClose:this.onAncillaryClose,onAncillarySelected:this.onAncillarySelected,onDisclosureClick:this.onDisclosureClick,onAncillaryAddToCart:this.onAncillaryAddToCart,onAncillaryChange:this.onAncillaryChange,updateQuantityToCode:c,updateTotalForInsurance:g,bagAllowance:f,excludedItineraryParts:this.props.excludedItineraryParts,retainedTotal:this.props.retainedTotals[n]}),this.showAncillaryPanel()&&M.a.createElement(vt,{ancillaryCode:n,contentKey:B,onModalCloseClick:this.onModalCloseClick}))}}]),t}(F.Component));g()(yt,"contextTypes",{isMobile:R.bool}),g()(yt,"defaultProps",{getNextPage:void 0,getUpsellOptions:void 0,selectUpsellOptions:void 0,removeUpsellOptions:void 0,updateFlightSelectionBrands:void 0,upsellEnabled:!1,ancillaries:{},seatBundleAssignments:{},sortedCodes:[],ancillariesConfiguration:{},itinerary:{},passengers:{},cartData:{},error:!1,insuranceError:!1,isSeatBundlePremiumSeatNotSelected:!1,isAncillaries:!1,ancillaryCode:void 0,isLoading:!1,isSeatBundles:!1,journeyType:{},displayAsSlider:!1,cars:void 0,ancillariesAvailable:!1,updateTotalForInsurance:void 0,hotels:void 0,removeHotelFromCart:void 0,upsellData:{},brandSortOrder:[],sortUpsellBrand:!1,numberOfUpsellOffersDisplayed:99,refreshAncillaries:void 0,seatBundleRemoved:!1,redirectToHotelSearchPage:void 0,redirectToCarsPage:void 0,isAwardBooking:!1,insuranceSelectionRequired:!1,setInsuranceSelectionRequired:y.a,excludedItineraryParts:Object(V.List)(),retainedTotals:{},seatAncillaries:void 0,seatRedirectLocation:"/".concat(z.a.SEAT_SELECTION)}),n.d(t,"a",(function(){return yt}))},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),E=n.n(b),C=n(1537),k=n(1385),S=n.n(k),_=n(122),O=n.n(_),w=n(5),P=n.n(w),A=n(36),x=n.n(A),N=n(52),T=n.n(N),I=n(123),B=n(1286),L=n(12),D=n(195),j=n(84),F=n(24),M=n(14),R=n(1524),V=n(1525),H=n(1588),U=n(1535),W=n(1587),q=n(2),z=n.n(q),G=n(1305),K=n(1360),Y=n(1320),Q=n(50),X=n(63),J=n(1409),Z=(n(2313),function(e){var t=e.crumbState,n=e.breadcrumbConfiguration;if(t===G.a.COMPLETED)return y.a.createElement(Q.c,{name:n.getIn(["flowIcons","completed"])});var a=t===G.a.ACTIVE?"./images/breadcrumb-icons/upgrade_fill_icon.png":"./images/breadcrumb-icons/upgrade_nofill_icon.png";return y.a.createElement(J.a,{src:Object(X.a)(a),alt:"upgrade-icon",className:"upgrade-breadcrumb-item-icon"})}),$=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"getCrumbIcon",(function(){return y.a.createElement(Z,{crumbState:n.props.crumbState,breadcrumbConfiguration:n.props.breadcrumbConfiguration})})),g()(p()(n),"getCrumbSubTitle",(function(){var e=n.props,t=e.crumbState,a=e.breadcrumbConfiguration,r=e.tripParams,i=e.searchCriteriaQueryParams,s=Object(L.i)("summaryBar.flowCrumbs.".concat(M.a.UPGRADE,".").concat(t),{tripDate:z()(r.originDate)&&z()(r.destinationDate)?"":n.getTripDate(i,a,r.originDate,r.destinationDate)});return y.a.createElement(Y.a,{crumbSubTitle:s})})),g()(p()(n),"getCrumbTitle",(function(){return y.a.createElement(K.a,{pageName:M.a.UPGRADE,flowName:j.a.UPGRADE})})),g()(p()(n),"getHoverIcon",(function(){return y.a.createElement(Z,{crumbState:G.a.DISABLED,breadcrumbConfiguration:n.props.breadcrumbConfiguration})})),g()(p()(n),"getHoverSubtitle",(function(){var e=Object(L.i)("summaryBar.flowCrumbs.".concat(M.a.UPGRADE,".").concat(G.a.HOVER));return y.a.createElement(Y.a,{crumbSubTitle:e})})),g()(p()(n),"getTripDate",(function(e,t,n,a){var r=t.get("flightSelectionCrumbDateFormat");return e.isOneWay?n.format(r):Object(L.i)("summaryBar.flowCrumbs.tripDate",{originDate:n.format(r),destinationDate:a.format(r)})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y.a.createElement(B.a,{index:this.props.index,state:this.props.crumbState,title:this.getCrumbTitle(),icon:this.getCrumbIcon(),hoverIcon:this.getHoverIcon(),subTitle:this.getCrumbSubTitle(),hoverSubTitle:this.getHoverSubtitle(),onClick:function(){return e.props.onUpgradeCrumbClick(e.props.url)},className:"dxp-breadcrumb-item upgrade-breadcrumb-item"})}}]),t}(v.Component),ee=n(42),te=n(214),ne=n(1560),ae=n(1526),re=n(11),ie=function(e){return e.upgrade.get("selectedSeats",Object(re.List)())},se=function(e){return e.upgrade.get("uniquePassengers",Object(re.List)())},oe=Object(ee.a)((function(e){return e.upgrade.get("segments",Object(re.List)())}),(function(e){return e.flatten(!0).size})),le=function(e){return e.metadata.get("upgradeSeatSelection",{}).passengersExcludedFromSeatSelection},ce=function(e){return e.metadata.get("breadcrumbs")},ue=function(e){return e.metadata.get("flows")},de=Object(ee.a)(Object(te.a)(),(function(e){return e})),pe=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,M.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,M.a.UPGRADE,(function(e,t,n){return a.renderUpgradeBreadcrumbItem(e,t,n)})),g()(n,M.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),g()(n,M.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(W.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(R.b)(M.a.HOME,e,n,t),index:n,url:Object(R.c)(M.a.MYB,M.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:M.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(U.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(R.b)(M.a.PAYMENT,e,n,t),url:Object(R.c)(F.a.UPGRADE,M.a.PAYMENT),index:T()(t,M.a.PAYMENT),onPaymentCrumbClick:a.handleCrumbClick,key:M.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){return y.a.createElement(H.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(R.b)(M.a.SEAT_SELECTION,e,n,t),url:Object(R.c)(F.a.UPGRADE,M.a.SEAT_SELECTION),seatsCrumbData:a.props.seatsCrumbData,index:T()(t,M.a.SEAT_SELECTION),onSeatSelectionCrumbClick:a.handleCrumbClick,key:M.a.SEAT_SELECTION})})),g()(p()(a),"renderUpgradeBreadcrumbItem",(function(e,t,n){return y.a.createElement($,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(R.b)(M.a.UPGRADE,e,n,t),tripParams:a.props.tripParams,searchCriteriaQueryParams:a.props.searchCriteriaQueryParams,index:T()(t,M.a.UPGRADE),url:Object(R.c)(F.a.UPGRADE,M.a.UPGRADE),onUpgradeCrumbClick:a.handleCrumbClick,key:M.a.UPGRADE})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=S()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=n.get(j.a.UPGRADE),l=x()(a.pathname.split("/")),c=o.keySeq().includes(l)?l:F.a.B2C,u=Object(R.a)(o,r.get("displayHomeCrumb")),d=T()(u,c),p=Object(D.a)(s,"breadcrumbs"),h=u.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",f=E()("dxp-breadcrumbs",h);return y.a.createElement("div",p,y.a.createElement(B.b,{stickyBottomBoundaryID:void 0,className:f,PACKAGE_NAME_CLASSIFIED:"app",cartPrice:this.props.total,onCartSummaryClick:i,showCondensed:this.state.showCondensed,dropDownLabel:Object(L.i)("summaryBar.mobileBreadcrumbDropdownLabel")},P()(u,(function(t){return e.flowsToBreadcrumbComponentMapper[t](c,u,d)}))))}}]),t}(v.PureComponent));g()(pe,"defaultProps",{seatsCrumbData:void 0,onCartSummaryClick:O.a,total:{},isAuthorable:!0,cartCollapsed:!0});var he=Object(I.b)((function(){return Object(ee.b)({searchCriteriaQueryParams:de,breadcrumbConfiguration:ce,tripParams:Object(ne.a)(),flowConfiguration:ue,seatsCrumbData:Object(ee.b)({selectedSeats:ie,passengers:se,passengersExcludedFromSeatSelection:le,flightsCount:oe}),total:ae.a})}),{updateURLQueryParameters:V.a})(pe);n.d(t,"a",(function(){return fe}));var fe=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(he,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.params,o=e.children,l=e.id,c=E()(t,{"is-visible":this.state.isCartExpanded});return y.a.createElement(C.a,{className:c,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,params:s,id:l},o)}}]),t}(v.PureComponent);g()(fe,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},params:{},isCartEnabled:!0})},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(77),y=n.n(v),b=n(2),E=n.n(b),C=n(0),k=n.n(C),S=n(51),_=n.n(S),O=n(82),w=n.n(O),P=n(1985),A=n.n(P),x=n(18),N=n.n(x),T=n(5),I=n.n(T),B=n(36),L=n.n(B),D=n(27),j=n.n(D),F=n(1),M=n.n(F),R=n(6),V=n(123),H=n(12),U=n(2076),W=n(136),q=n(2067),z=n(2071),G=n(14),K=n(1349),Y=n(85),Q=n(2101),X=n.n(Q),J=n(766),Z=n.n(J),$=n(43),ee=n.n($),te=n(4),ne=n.n(te),ae=n(13),re=n.n(ae),ie=n(39),se=n.n(ie),oe=n(50),le=n(2068),ce=n(2077),ue=n(2039),de=n(146),pe=n(153),he=n(173),fe=n.n(he),me=n(17),ge=n.n(me),ve=n(137),ye=n.n(ve),be=n(325),Ee=n(1724),Ce=n(1480),ke=n(1289),Se=function(e){function t(e,n){var a;return r()(this,t),a=s()(this,l()(t).call(this,e,n)),g()(u()(a),"sortTranslatedAirportsOptions",(function(e){return a.props.metadata.getIn(["flightSearch","sortFlightSearchAirportsByLabel"])?a.sortAirportsByLabel(e):ye()(e,["value"])})),g()(u()(a),"sortAirportsByLabel",(function(e){var t=new Intl.Collator(a.props.locale);return e.sort((function(e,n){return t.compare(e.label,n.label)}))})),a.state={origin:e.origin,origins:a.sortTranslatedAirportsOptions(e.origins),destination:e.destination,destinations:a.sortTranslatedAirportsOptions(e.getDestinationsForOrigin(e.origin)),departureDate:e.departureDate,returnDate:e.returnDate},a}return f()(t,e),p()(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.locale!==this.props.locale&&(this.setState({origins:this.sortTranslatedAirportsOptions(this.props.origins)}),this.state.origin&&this.setState((function(e){return{destinations:t.sortTranslatedAirportsOptions(t.props.getDestinationsForOrigin(e.origin))}})))}},{key:"getItinerary",value:function(){var e;return this.props.journeyType===Y.a.ROUND_TRIP?((e=[]).push({origin:this.state.origin,destination:this.state.destination,date:this.state.departureDate}),e.push({origin:this.state.destination,destination:this.state.origin,date:this.state.returnDate})):e={origin:this.state.origin,destination:this.state.destination,date:this.state.departureDate},e}},{key:"render",value:function(){var e=this,t=this.context.language,n=ge()().add(this.props.metadata.get("minDepartureDateOffset"),"days").startOf("day"),a=ge()().add(this.props.metadata.get("getMaximumDaysInCalendar"),"days");return M.a.createElement("div",{className:"dxp-panel-leg clearfix"},this.props.journeyType===Y.a.MULTI_CITY&&M.a.createElement("div",{className:"dxp-edit-panel-flight-title"},Object(H.a)("summaryBar.flight",{index:this.props.index+1})),M.a.createElement("div",{className:"dxp-edit-panel-half"},M.a.createElement("div",{className:"dxp-edit-panel-component-title"},Object(H.i)("summaryBar.editPanel.airports")),M.a.createElement("div",{className:"edit-panel-row"},M.a.createElement(Ee.a,{options:this.state.origins,label:"summaryBar.editPanel.departingAirport",defaultValue:this.state.origin,noResultsText:Object(H.i)("flightSearch.noOriginAirports"),onChange:function(t){return e.onOriginChange(t)},className:"departing-airport",keyProp:"departing-airport"}),M.a.createElement(Ee.a,{options:this.state.destinations,label:"summaryBar.editPanel.arrivingAirport",defaultValue:this.state.destination,noResultsText:Object(H.i)("flightSearch.noDestinationAirports"),onChange:function(t){return e.onDestinationChange(t)},className:"arriving-airport",keyProp:"arriving-airport"}))),M.a.createElement("div",{className:"dxp-edit-panel-half"},M.a.createElement("div",{className:"dxp-edit-panel-component-title"},k()(this.props,"returnDate")?Object(H.a)("summaryBar.editPanel.travelDates"):Object(H.a)("summaryBar.editPanel.travelDate")),M.a.createElement("div",{className:"edit-panel-row"},M.a.createElement("div",{className:"departure-date-container"},M.a.createElement(Ce.a,{ref:function(t){e.departureDate=t},keyProp:"departureDate-".concat(this.props.index),label:"summaryBar.editPanel.departingDate",defaultValue:this.state.departureDate,defaultLocale:t,value:this.state.departureDate,onChange:function(t){return e.onDepartureDateChange(t)},minDate:n,maxDate:a,weekStartDay:this.props.weekStartDay,dateFormat:this.props.dateFormat,className:"departure-date"})),this.props.returnDate&&M.a.createElement("div",{className:"return-date-container"},M.a.createElement(Ce.a,{ref:function(t){e.returnDate=t},keyProp:"returnDate",label:"summaryBar.editPanel.returningDate",defaultValue:this.getDefaultReturnDate(this.state.returnDate),defaultLocale:t,onChange:function(t){return e.onReturnDateChange(t)},minDate:ge()(this.state.departureDate),maxDate:a,weekStartDay:this.props.weekStartDay,dateFormat:this.props.dateFormat,className:"return-date"})))))}},{key:"getDefaultReturnDate",value:function(){return ge()(this.state.returnDate,this.props.dateFormat).isBefore(this.state.depatureDate)?this.state.departureDate:this.state.returnDate}},{key:"onOriginChange",value:function(e){var t=this;if(e!==this.state.origin){var n=this.props.getDestinationsForOrigin(e),a=this.props.destination,r=-1===fe()(n,(function(e){return e.value===a}))?null:this.props.destination;this.setState({origin:e,destination:r,destinations:n},(function(){return t.props.onChange()}))}}},{key:"onDestinationChange",value:function(e){var t=this;e!==this.state.destination&&this.setState({destination:e},(function(){t.props.onChange()}))}},{key:"onDepartureDateChange",value:function(e){var t=this,n={},a=Object(ke.m)(e)&&!e.isSame(this.state.departureDate);a&&this.isDateAfterReturnDate(e)&&(n.returnDate=e,this.returnDate.setValue(n.returnDate)),a&&(n.departureDate=e,this.setState(n,(function(){return t.props.onChange()})))}},{key:"isDateAfterReturnDate",value:function(e){return Boolean(e&&e.isValid()&&this.state.returnDate&&this.state.returnDate.isValid()&&e.isAfter(this.state.returnDate))}},{key:"onReturnDateChange",value:function(e){var t=this,n={},a=Object(ke.m)(e)&&!e.isSame(this.state.returnDate);a&&this.isDateBeforeDepartureDate(e)&&(n.departureDate=e,this.departureDate.setValue(n.departureDate)),a&&(n.returnDate=e,this.setState(n,(function(){return t.props.onChange()})))}},{key:"isDateBeforeDepartureDate",value:function(e){return Boolean(e&&e.isValid()&&this.state.departureDate&&this.state.departureDate.isValid()&&e.isBefore(this.state.departureDate))}},{key:"isValid",value:function(){return!(!(this.state.origin&&this.state.destination&&this.state.departureDate)||this.state.departureDate&&!this.state.departureDate.isValid())&&!(this.props.journeyType===Y.a.ROUND_TRIP&&(!this.state.returnDate||this.state.returnDate&&!this.state.returnDate.isValid()))}}]),t}(be.a);g()(Se,"propTypes",{origins:Object(R.arrayOf)(Object(R.shape)({value:R.string.isRequired,label:R.string.isRequired})),origin:R.string,destination:R.string,departureDate:Object(R.instanceOf)(ge.a),returnDate:Object(R.instanceOf)(ge.a),journeyType:R.string,weekStartDay:R.number,getDestinationsForOrigin:R.func.isRequired,onChange:R.func.isRequired,index:R.number,dateFormat:R.string,metadata:Object(R.shape)({}),locale:R.string.isRequired}),g()(Se,"contextTypes",{language:R.string});var _e=function(e){function t(e,n){var a;return r()(this,t),a=s()(this,l()(t).call(this,e,n)),g()(u()(a),"addLeg",(function(){var e=a.getItinerary();e.push({date:L()(e).date}),a.setState({itineraryParts:e},(function(){return a.validateState()}))})),a.state={passengersSelection:e.passengersSelection,cabinClassSelection:e.cabinClassSelection,itineraryParts:e.itineraryParts,promoCodes:e.promoCodes||[],cachedItinerary:null},a.isValidState=!1,a}return f()(t,e),p()(t,null,[{key:"getPassengersSummary",value:function(e){var t=ne()(e,(function(e,t){return e+t}),0);return Object(H.i)("passengerType.summary",{total:t})}}]),p()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.isJourneyTypeChanged(e)&&(e.journeyType===Y.a.MULTI_CITY?this.ensureMinimumLegs():X()(this.state.cachedItinerary)&&this.cacheExtraLegs())}},{key:"onCabinClassChange",value:function(e){var t=this;e!==this.state.cabinClassSelection&&this.setState({cabinClassSelection:e},(function(){return t.validateState()}))}},{key:"onPassengersUpdate",value:function(e){var t=this;this.setState({passengersSelection:e},(function(){return t.validateState()}))}},{key:"getCabinClass",value:function(){return this.state.cabinClassSelection}},{key:"getCurrentPassengers",value:function(){return ne()(this.state.passengersSelection,(function(e,t){return e+t}),0)}},{key:"getItinerary",value:function(){if(this.props.journeyType===Y.a.ROUND_TRIP)return this.refs.leg.getItinerary();var e=I()(this.refs,(function(e){return e.getItinerary&&e.getItinerary()}));return A()(e,w.a)}},{key:"getPassengers",value:function(){return this.state.passengersSelection}},{key:"getPromoCodes",value:function(){return this.state.promoCodes}},{key:"cacheExtraLegs",value:function(){this.setState((function(e){return{cachedItinerary:e.itineraryParts,itineraryParts:[j()(e.itineraryParts)]}}))}},{key:"ensureMinimumLegs",value:function(){var e=this.props,t=e.itineraryParts,n=e.metadata;X()(this.state.cachedItinerary)?t.length<n.getIn(["multiCity","numberOfLegs"])&&this.addLeg():this.setState((function(e){return{itineraryParts:e.cachedItinerary,cachedItinerary:null}}))}},{key:"handlePromoCodeBlur",value:function(e){y()(this.state.promoCodes,e.promoCodes)||(this.setState({promoCodes:e.promoCodes}),this.validateState())}},{key:"isJourneyTypeChanged",value:function(e){return this.props.journeyType!==e.journeyType}},{key:"isPromoCodeValid",value:function(){var e=this.props,t=e.flightSearchPromoCode,n=e.awardBookingPromoCode,a={flightSearchPromoCodeRef:t.get("enabled"),awardBookingPromoCodeRef:n.get("enabled")};if(!(!E()(this.state.promoCodes)&&ee()(this.state.promoCodes,Z()(E.a))))return!0;var r={flightSearchPromoCodeRef:this.flightSearchPromoCodeRef?this.flightSearchPromoCodeRef:{isValid:function(){return!0}},awardBookingPromoCodeRef:this.awardBookingPromoCodeRef?this.awardBookingPromoCodeRef:{isValid:function(){return!0}}};return!E()(r)&&Object(pe.c)(a,r)}},{key:"isValidState",value:function(){return this.isValidState}},{key:"removeLeg",value:function(){var e=this;this.setState((function(e){return{itineraryParts:e.itineraryParts.slice(0,-1)}}),(function(){return e.validateState()}))}},{key:"validateState",value:function(){var e=Object(de.n)(this.props),t=this.refs,n=!0;re()(t,(function(a,r){if(e){var i=parseInt(r.replace(/[^/\d]/g,""),10);if(i>0){var s=k()(t,"leg-".concat(i-1)),o=a;s&&o.state.departureDate.isBefore(s.state.departureDate)&&o.setState({departureDate:s.state.departureDate})}}a.isValid&&!a.isValid()&&(n=!1)})),n=(n=n&&this.isPromoCodeValid())&&0!==this.getCurrentPassengers(),this.isValidState=n,this.props.onValidStateChange&&this.props.onValidStateChange(this.isValidState)}},{key:"renderAddFlight",value:function(){return M.a.createElement("div",{className:"add-flight"},M.a.createElement("button",{type:"button",className:"dxp-button small secondary add-flight-button",onClick:this.addLeg},M.a.createElement(oe.c,{name:oe.a.MATH_ADD,className:"icon"})),Object(H.a)("flightSearch.multiCity.addFlight"))}},{key:"renderLegs",value:function(){var e=this;return this.props.journeyType===Y.a.ROUND_TRIP?M.a.createElement(Se,{ref:"leg",origin:this.props.origin,origins:this.props.origins,destination:this.props.destination,departureDate:this.props.departureDate,returnDate:this.props.returnDate,getDestinationsForOrigin:this.props.getDestinationsForOrigin,journeyType:this.props.journeyType,onChange:function(){return e.validateState()},weekStartDay:this.props.weekStartDay,dateFormat:this.props.dateFormat,metadata:this.props.metadata,locale:this.props.language}):I()(this.state.itineraryParts,(function(t,n){var a=se()("flight-leg-container",{"multi-city-leg":Object(de.n)(e.props)});return M.a.createElement("div",{className:a,key:"leg-".concat(t.origin,"-").concat(t.destination)},M.a.createElement(Se,{index:n,ref:"leg-".concat(n),origin:t.origin,origins:e.props.origins,destination:t.destination,departureDate:t.date,getDestinationsForOrigin:e.props.getDestinationsForOrigin,journeyType:e.props.journeyType,onChange:function(){return e.validateState()},weekStartDay:e.props.weekStartDay,dateFormat:e.props.dateFormat,metadata:e.props.metadata,locale:e.props.language}),n>1&&n+1===e.state.itineraryParts.length&&M.a.createElement("button",{type:"button",className:"dxp-button secondary small remove-leg",onClick:function(){return e.removeLeg()}},M.a.createElement(oe.c,{name:oe.a.CLOSE})))}))}},{key:"renderPromoCode",value:function(){var e=this,t=this.props,n=t.awardBookingPromoCode,a=t.flightSearchPromoCode,r=t.isRBEEnabled,i=void 0!==r&&r,s=t.promoCodes,o=n.get("enabled")||!1,l=_()(a.get("validators"),"toJS"),c=_()(n.get("validators"),"toJS");if(!i)return M.a.createElement(ue.a,{validators:l,ref:function(t){e.flightSearchPromoCodeRef=t},promoCodes:s,onBlur:function(t){return e.handlePromoCodeBlur(t)},onPromoCodeChange:function(t){return e.handlePromoCodeBlur(t)}});if(o)return M.a.createElement(ue.a,{validators:c,ref:function(t){e.awardBookingPromoCodeRef=t},promoCodes:s,onBlur:function(t){return e.handlePromoCodeBlur(t)},onPromoCodeChange:function(t){return e.handlePromoCodeBlur(t)}});return M.a.createElement(ue.a,{ref:function(t){i&&o?e.awardBookingPromoCodeRef=t:e.flightSearchPromoCodeRef=t},isRBEEnabled:i,isPromoCodeEnabledWhenRBE:o,promoCodeValidators:l,awardBookingPromoCodeValidators:c,promoCodes:s,onPromoCodeChange:function(t){return e.handlePromoCodeBlur(t)}})}},{key:"render",value:function(){var e=this,n=Object(de.n)(this.props),a=this.props,r=a.metadata,i=a.isRBEEnabled,s=a.flightSearchPromoCode,o=a.language,l=s.get("enabled")||!1,c=this.state.itineraryParts.length<r.getIn(["multiCity","maximumNumberOfLegs"]),u=se()("dxp-edit-panel-component",{"multi-city":n});return M.a.createElement("div",{className:"dxp-edit-panel-components-container clearfix"},M.a.createElement("div",{className:"dxp-edit-panel-component"},this.renderLegs(),n&&c&&this.renderAddFlight()),M.a.createElement("div",{className:u},M.a.createElement("div",{className:"edit-panel-row"},M.a.createElement("div",{className:"dxp-edit-panel-passenger-selection"},M.a.createElement("div",{className:"dxp-edit-panel-component-title"},Object(H.a)("summaryBar.editPanel.passengers")),M.a.createElement(le.a,{options:this.props.passengersOptions,isRBEEnabled:i,metadata:r,totalMaxPassengers:this.props.totalMaxPassengers,excludedPassengerTypes:this.props.excludedPassengerTypes,defaultValue:this.state.passengersSelection,label:"passengerType.label",summary:t.getPassengersSummary(this.state.passengersSelection),onChange:function(t){return e.onPassengersUpdate(t)},currentPassengers:this.getCurrentPassengers(),language:o})),this.props.cabinClassEnabled&&M.a.createElement("div",{className:"dxp-edit-panel-class-section"},M.a.createElement("div",{className:"dxp-edit-panel-component-title"},Object(H.a)("summaryBar.editPanel.cabinClass")),M.a.createElement(ce.a,{options:this.props.cabinClassesOptions,defaultValue:this.state.cabinClassSelection,label:"cabin.label",onChange:function(t){return e.onCabinClassChange(t)}})))),M.a.createElement("div",{className:"dxp-edit-panel-component"},l&&M.a.createElement("div",{className:"edit-panel-promo-code"}," ",this.renderPromoCode())))}}]),t}(F.Component);g()(_e,"defaultProps",{itineraryParts:void 0,origins:void 0,origin:void 0,destination:void 0,departureDate:void 0,returnDate:void 0,passengersSelection:void 0,passengersOptions:void 0,totalMaxPassengers:void 0,cabinClassSelection:void 0,cabinClassesOptions:void 0,promoCodes:void 0,weekStartDay:void 0,dateFormat:void 0,cabinClassEnabled:void 0,metadata:void 0,flightSearchPromoCode:void 0,awardBookingPromoCode:void 0,isRBEEnabled:void 0,excludedPassengerTypes:void 0,onValidStateChange:void 0});var Oe=n(42),we=n(214);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ae=function(e){return e.metadata.get("routes").origins},xe=function(e){return e.metadata.getIn(["passengers","totalMaxPassengers"])},Ne=function(e){return e.flightSelection.get("isCompanionFareSearch")?e.metadata.getIn(["companionFarePassengers","options"]):e.metadata.getIn(["passengers","options"])},Te=function(e){return e.metadata.getIn(["classes","options"])},Ie=function(e){return function(t){return t?e.metadata.get("routes").destinationsPerOrigin[t]:[]}},Be=function(e){return e.metadata.getIn(["classes","isEnabled"])},Le=function(e){return e.metadata.getIn(["flightSearch","promoCode"])},De=function(e){return e.metadata.getIn(["awardBooking","promoCode"])},je=function(e){return e.metadata.get("weekStartDay")},Fe=function(e){return e.flightSelection.get("isCompanionFareSearch")},Me=(n(2264),n(2265),function(e){function t(e,n){var a;r()(this,t),a=s()(this,l()(t).call(this,e,n)),g()(u()(a),"onCancelClick",(function(){a.props.onCancel&&a.props.onCancel()})),g()(u()(a),"onSaveClick",(function(){var e=a.props.flowAndPage,t=k()(e,"[1]",void 0);return t===G.a.FLIGHT_STATUS?a.flightStatusSearchPanel.isValid()&&a.onSave(a.props.metadata.get("flightStatusConfiguration")):t===G.a.FLIGHT_SCHEDULE?a.flightSchedulePanel.isValid()&&a.onSave():a.onSave()}));var i=e.flowAndPage,o=k()(i,"[1]",void 0),c=o===G.a.FLIGHT_STATUS||o===G.a.FLIGHT_SCHEDULE;return a.state={isValidState:c,journeyType:e.journeyType},a}return f()(t,e),p()(t,null,[{key:"translateAirports",value:function(e){return I()(e,(function(e){return{value:e,label:Object(H.i)("flightSearch.airportFormat",{code:e,name:Object(H.i)("airports.".concat(e))})}}))}},{key:"translateClassesOptions",value:function(e){return I()(e.toArray(),(function(e){return{value:e.get("key"),label:Object(H.i)(e.get("label"))}}))}},{key:"translatePassengersOptions",value:function(e){return I()(e.toArray(),(function(e){return N()(e.toJS(),{label:Object(H.i)(e.get("label")),ageGroup:Object(H.i)(e.get("ageGroup"))})}))}}]),p()(t,[{key:"onJourneyTypeChange",value:function(e){var t=this;this.setState({journeyType:e,isValidState:e!==Y.a.MULTI_CITY},(function(){e===Y.a.MULTI_CITY?t.onValidStateChange(!1):t.onValidStateChange(!0)}))}},{key:"onSave",value:function(e){this.props.onSave&&this.props.onSave(this.getSearchCriteria(),e)}},{key:"onValidStateChange",value:function(e){this.state.isValidState!==e&&this.setState({isValidState:e});var t=this.flightForm;e&&this.state.journeyType!==Y.a.MULTI_CITY&&this.props.journeyType!==Y.a.MULTI_CITY&&(this.setState({isValidState:!1}),this.props.journeyType!==Y.a.ROUND_TRIP||L()(this.getItineraryParts()).date.isSame(L()(this.props.itineraryParts).date)||this.setState({isValidState:!0}),this.state.journeyType===this.props.journeyType&&t.getCabinClass()===this.props.cabinClassSelection&&y()(t.getPassengers(),this.props.passengersSelection)&&j()(this.getItineraryParts()).origin===j()(this.props.itineraryParts).origin&&j()(this.getItineraryParts()).destination===j()(this.props.itineraryParts).destination&&j()(this.getItineraryParts()).date.isSame(j()(this.props.itineraryParts).date)||this.setState({isValidState:!0}))}},{key:"getDestinationsForOrigin",value:function(e){return t.translateAirports(this.props.getDestinationsForOrigin(e))}},{key:"getExcludedPassengerTypes",value:function(){return _()(this.props.metadata.getIn(["awardBooking","excludedPassengerTypes"]),"toJS",[])}},{key:"getItineraryParts",value:function(){return this.flightForm.getItinerary()}},{key:"getJourneyTypeOptions",value:function(){return this.props.metadata.getIn(["journeyTypes","options"]).map((function(e){return{key:e.get("key"),label:Object(H.i)(e.get("label"))}})).toJS()}},{key:"getSearchCriteria",value:function(){var e=this.props.flowAndPage,t=k()(e,"[1]",void 0);if(t===G.a.FLIGHT_STATUS)return this.flightStatusSearchPanel.isValid()&&this.flightStatusSearchPanel.getValue();if(t===G.a.FLIGHT_SCHEDULE)return this.flightSchedulePanel.isValid()&&this.flightSchedulePanel.getValue();var n=this.flightForm;return{itineraryParts:A()(this.getItineraryParts(),w.a),passengers:n.getPassengers(),cabinClass:n.getCabinClass(),origin:j()(this.getItineraryParts()).origin,destination:j()(this.getItineraryParts()).destination,promoCodes:n.getPromoCodes(),journeyType:this.state.journeyType}}},{key:"renderBody",value:function(){var e=this.props.flowAndPage,t=k()(e,"[1]",void 0),n=t!==G.a.FLIGHT_STATUS&&t!==G.a.FLIGHT_SCHEDULE;return M.a.createElement("div",{className:"dxp-edit-panel-inner-wrapper centered-content"},n&&this.renderFlightSearchPanel(),t===G.a.FLIGHT_STATUS&&this.renderFlightStatusSearchpanel(),t===G.a.FLIGHT_SCHEDULE&&this.renderFlightScheduleSearchPanel(),M.a.createElement("div",{className:"dxp-edit-panel-buttons-container"},M.a.createElement(K.a,{location:this.props.location,continueOnlyTitle:"summaryBar.editPanel.saveButton",onBack:this.onCancelClick,backTitle:Object(H.i)("summaryBar.editPanel.cancelButton"),disableContinueButton:!this.state.isValidState,onContinue:this.onSaveClick})))}},{key:"renderDesktop",value:function(){var e=this;return M.a.createElement("div",{className:"dxp-edit-panel",id:"edit-trip-details",ref:function(t){e.node=t}},this.renderBody())}},{key:"renderFlightForms",value:function(){var e=this,n=j()(this.props.itineraryParts),a=L()(this.props.itineraryParts);return M.a.createElement(_e,{ref:function(t){e.flightForm=t},journeyType:this.state.journeyType,itineraryParts:this.props.itineraryParts,origins:t.translateAirports(this.props.origins),origin:n.origin,destination:n.destination,departureDate:n.date,returnDate:a.date,passengersSelection:this.props.passengersSelection,passengersOptions:t.translatePassengersOptions(this.props.passengersOptions),totalMaxPassengers:this.props.totalMaxPassengers,cabinClassSelection:this.props.cabinClassSelection,cabinClassesOptions:t.translateClassesOptions(this.props.cabinClassesOptions),dateFormat:this.props.dateFormat,cabinClassEnabled:this.props.cabinClassEnabled,isRBEEnabled:this.props.isRBEEnabled,excludedPassengerTypes:this.getExcludedPassengerTypes(),metadata:this.props.metadata,getDestinationsForOrigin:function(t){return e.getDestinationsForOrigin(t)},onValidStateChange:function(t){return e.onValidStateChange(t)},flightSearchPromoCode:this.props.flightSearchPromoCode,awardBookingPromoCode:this.props.awardBookingPromoCode,weekStartDay:this.props.weekStartDay,promoCodes:this.props.promoCodes,language:this.props.language,sortAirportsByLabel:this.props.sortAirportsByLabel,isCompanionFareSearch:this.props.isCompanionFareSearch})}},{key:"renderFlightScheduleSearchPanel",value:function(){var e=this;return M.a.createElement(z.a,{ref:function(t){e.flightSchedulePanel=t},showSearchButton:!1,dateFormat:this.props.dateFormat,configuration:this.props.metadata.get("flightScheduleConfiguration"),airlineCode:this.props.airlineCode,minDate:this.props.minDate,location:this.props.location,routes:this.props.metadata.get("routes"),maximumDaysInCalendar:this.props.metadata.get("getMaximumDaysInCalendar"),locale:this.props.language})}},{key:"renderFlightSearchPanel",value:function(){var e=this,t=this.props,n=t.metadata,a=t.itineraryParts,r=this.getJourneyTypeOptions(),i=n.getIn(["summaryBar","isEditJourneyTypeEnabled"]);return M.a.createElement("fieldset",null,M.a.createElement("legend",{className:"dxp-edit-panel-title"},Object(H.a)("summaryBar.editPanel.title")),i&&M.a.createElement("div",{className:"dxp-edit-panel-component journey-types"},M.a.createElement(U.a,{ref:function(t){e.journeyType=t},excludedJourneyTypes:n.getIn(["awardBooking","excludedJourneyTypes"]),onChange:function(t){return e.onJourneyTypeChange(t)},options:r,isRBEEnabled:this.props.isRBEEnabled,defaultValue:this.state.journeyType})),!E()(a)&&this.renderFlightForms())}},{key:"renderFlightStatusSearchpanel",value:function(){var e=this;return M.a.createElement(q.a,{ref:function(t){e.flightStatusSearchPanel=t},showSearchButton:!1,configuration:this.props.metadata.get("flightStatusConfiguration"),minDate:this.props.minDate,airlineCode:this.props.airlineCode,location:this.props.location,routes:this.props.metadata.get("routes"),locale:this.props.language})}},{key:"renderMobile",value:function(){var e=this;return M.a.createElement(W.a,{ref:function(t){e.node=t},className:"dxp-edit-panel--is-mobile",onCloseClick:function(t){return e.onCancelClick(t)}},this.renderBody())}},{key:"render",value:function(){return this.context.isMobile?this.renderMobile():this.renderDesktop()}}]),t}(F.Component));g()(Me,"contextTypes",{isMobile:R.bool}),g()(Me,"defaultProps",{isRBEEnabled:!1,promoCodes:[],cabinClassEnabled:!1,onCancel:void 0,onSave:void 0,minDate:void 0,isCompanionFareSearch:!1,sortAirportsByLabel:!0});var Re=Object(V.b)((function(){var e=Object(Oe.a)(Object(we.a)(),(function(e){return e})),t=Object(Oe.b)({origins:Ae,totalMaxPassengers:xe,passengersOptions:Ne,cabinClassesOptions:Te,cabinClassEnabled:Be,getDestinationsForOrigin:Ie,flightSearchPromoCode:Le,awardBookingPromoCode:De,weekStartDay:je,isCompanionFareSearch:Fe});return Object(Oe.a)(t,e,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({journeyType:t.journeyType,itineraryParts:Object(de.i)(t),passengersSelection:t.passengers,cabinClassSelection:t.cabinClass,promoCodes:t.promoCodes},e)}))}),null,null,{forwardRef:!0})(Me);n.d(t,"a",(function(){return Re}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(22),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(82),g=n.n(m),v=n(79),y=n.n(v),b=n(112),E=n.n(b),C=n(5),k=n.n(C),S=n(13),_=n.n(S),O=n(36),w=n.n(O),P=n(27),A=n.n(P),x=n(156),N=n.n(x),T=n(4),I=n.n(T),B=n(0),L=n.n(B),D=n(1),j=n.n(D),F=n(123),M=(n(6),n(194),n(11)),R=n(17),V=n.n(R),H=n(42),U=function(e){return e.dynamicDisclaimer},W=function(e){return e.metadata.get("countriesMapping")},q=function(e){return e.metadata.get("service")},z=n(46),G=n(9),K=n(2084);var Y=n(12);n(2384);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){function t(e){var n;return r()(this,t),(n=s()(this,l()(t).call(this,e))).state={toggled:{}},n}return p()(t,e),u()(t,null,[{key:"isMatchingGeolocation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return""===e||E()(t,[e]).length>0}},{key:"isMatchingLessThanBeforeDeparture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return!(-1!==t&&V.a.duration(e.diff(V()().add(t,"minutes"))).asMinutes()>0)}},{key:"isMatchingMoreBeforeDeparture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return!(-1!==t&&V.a.duration(e.diff(V()().add(t,"minutes"))).asMinutes()<0)}}]),u()(t,[{key:"componentDidMount",value:function(){this.props.getGeolocation(this.props.services.getIn(["geoLocation",Object(z.d)()]))}},{key:"render",value:function(){var e=this,n=this.props,a=n.searchCriteriaItineraryParts,r=n.messages,i=n.geolocation,s=n.countriesMapping,o=a.length?t.parseSearchCriteria(a):this.props.itineraryParts,l=t.getOrigin(o),c=t.getOrigins(o),u=t.getDestination(o),d=t.getDestinations(o),p=t.getConnections(o),h=t.getDepartureTime(o),f=t.getMatchingMessages(r,s,c,l,d,u,p,i,h);return f.length?j.a.createElement("div",{className:"dxp-dynamic-disclaimer"},j.a.createElement("div",{className:"dxp-panel"},f.map((function(t,n){return e.renderMessage(t,n)})))):null}},{key:"renderMessage",value:function(e,t){var n=this,a=L()(this.state.toggled,t,!0);return j.a.createElement("div",{key:"message-".concat(t),className:"message"},j.a.createElement("div",{className:"label ".concat(e.hasViewMoreToggle&&"partially-hidden"," ").concat(e.hasViewMoreToggle&&a&&"toggled")},Object(Y.a)("dynamicDisclaimers.".concat(e.label))),e.hasViewMoreToggle&&j.a.createElement("div",{className:"toggle",onClick:function(){return n.toggle(t)}},Object(Y.a)("dynamicDisclaimers.toggle.".concat(a?"viewLess":"viewMore"))))}},{key:"toggle",value:function(e){var t=L()(this.state.toggled,e);g()(t)?this.setState({toggled:X({},this.state.toggled,f()({},e,!1))}):this.setState({toggled:X({},this.state.toggled,f()({},e,!t))})}}]),t}(D.Component);f()(J,"parseSearchCriteria",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return k()(e,(function(e){return{segments:[{origin:e.origin,destination:e.destination,departure:V()(e.date)}]}}))})),f()(J,"getOrigins",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return N()(k()(e,(function(e){return A()(e.segments).origin})))})),f()(J,"getOrigin",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?[A()(A()(e).segments).origin]:[]})),f()(J,"getDestinations",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return N()(k()(e,(function(e){return w()(e.segments).destination})))})),f()(J,"getDestination",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?[w()(A()(e).segments).destination]:[]})),f()(J,"getConnections",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return N()(I()(e,(function(e,t){return _()(t.segments,(function(t,n){0!==n&&e.push(t.origin)})),e}),[]))})),f()(J,"getDepartureTime",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return V()(L()(e,"[0]segments[0].departure",""))})),f()(J,"getMatchingMessages",(function(e,t,n,a,r,i,s,o,l){return N()(I()(e,(function(e,c){var u=c.origins&&c.origins.length>0||!1,d=c.origin&&c.origin.length>0||!1,p=c.destinations&&c.destinations.length>0||!1,h=c.destination&&c.destination.length>0||!1,f=c.connections&&c.connections.length>0||!1,m=c.geoips&&c.geoips.length>0&&""!==o||!1,v=!g()(c.lessThanBeforeDeparture),y=!g()(c.moreThanBeforeDeparture),b=u&&J.isMatching(n,c.origins,t),E=d&&J.isMatching(a,c.origin,t),C=p&&J.isMatching(r,c.destinations,t),k=h&&J.isMatching(i,c.destination,t),S=f&&J.isMatching(s,c.connections,t),_=m&&J.isMatchingGeolocation(o,c.geoips),O=v&&J.isMatchingLessThanBeforeDeparture(l,c.lessThanBeforeDeparture),w=y&&J.isMatchingMoreBeforeDeparture(l,c.moreThanBeforeDeparture);return"all"===c.criteriaConditions?u&&!b||d&&!E||p&&!C||h&&!k||f&&!S||m&&!_||v&&!O||y&&!w||e.push({label:c.translation,hasViewMoreToggle:L()(c,"hasViewMoreToggle",!1)}):(b||E||C||k||S||_||O||w)&&e.push({label:c.translation,hasViewMoreToggle:L()(c,"hasViewMoreToggle",!1)}),e}),[]))})),f()(J,"isMatching",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=N()(I()(t,(function(e,t){return 2===t.length?e=y()(e,L()(n,t,[])):e.push(t),e}),[]));return E()(e,a).length>0})),J.defaultProps={itineraryParts:[],searchCriteriaItineraryParts:[],messages:{},geolocation:"",countriesMapping:{},getGeolocation:function(){},services:Object(M.Map)()};var Z=Object(F.b)((function(){return Object(H.a)(U,W,q,(function(e,t,n){return{itineraryParts:L()(e,"itineraryParts",[]),geolocation:L()(e,"geolocation",""),countriesMapping:t,services:n}}))}),{getGeolocation:function(e){return function(t){return t({type:K.b}),new Promise((function(n){Object(G.e)(e).then((function(e){t({type:K.c,geolocation:e}),n()})).catch((function(){t({type:K.a})}))}))}}})(J);n.d(t,"a",(function(){return Z}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(1),E=n.n(b),C=(n(6),n(563)),k={duration:300},S=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"state",{type:"slideFromTop",animationOptions:k}),n}return g()(t,e),l()(t,[{key:"render",value:function(){return E.a.createElement(C.a,r()({type:this.state.type,reverse:this.state.reverse,tag:"div"},this.state.animationOptions),this.props.children)}}]),t}(b.Component);n.d(t,"a",(function(){return S}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(39),s=n.n(i),o=(n(6),n(194),n(326)),l=function(e){return e.map((function(e){return{value:e,label:e}})).toArray()},c=function(e){var t=e.className,n=e.tabIndex,a=e.currencyChanged,i=e.currencies,c=e.selectedCurrency;return r.a.createElement("div",{className:s()("dxp-country-selection","currency-dropdown",t)},r.a.createElement(o.a,{id:"currency-selection",keyProp:"currency",tabIndex:n,onChange:a,options:l(i),label:"awardBooking.currency.name",defaultValue:c}))};c.defaultProps={tabIndex:"0",className:""};var u=c;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(1),s=n.n(i),o=(n(194),n(6),n(326)),l=function(e,t){return e.get(t).get("currencies").findKey((function(e){return e.get("isDefault")}))},c=function(e){return s.a.createElement("div",{className:"dxp-country-selection currency-dropdown"},s.a.createElement(o.a,{id:"pos-currency-selection",keyProp:"currency",tabIndex:e.tabIndex,onChange:e.pointOfSaleCurrencyChange,options:(t=e.countries,n=e.pointOfSale,a=t.get(n).get("currencies").keySeq().toArray(),r()(a,(function(e){return{value:e,label:e}}))),label:"awardBooking.currency.name",defaultValue:e.selectedCurrency||l(e.countries,e.pointOfSale)}));var t,n,a};c.defaultProps={tabIndex:"0",selectedCurrency:void 0,pointOfSaleCurrencyChange:void 0};var u=c;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=n(12),s=n(136),o=n(88),l=function(e){var t=e.closeModalDelegation,n=e.handleNewItinerarySearch;return r.a.createElement(s.a,{className:"dxp-edit-panel-new-itinerary-alert",onClose:function(){return t()}},r.a.createElement("h2",null,Object(i.a)("summaryBar.editSearchWarningModal.title")),r.a.createElement("p",null,Object(i.a)("summaryBar.editSearchWarningModal.warningDescription")),r.a.createElement("div",{className:"pull-right"},r.a.createElement(o.a,{className:"primary small",onClick:function(){return n()}},Object(i.a)("app.continue",{pageName:Object(i.i)("flightSelection.title")})),r.a.createElement(o.a,{className:"secondary small",onClick:function(){return t()}},Object(i.a)("app.cancel"))))};n.d(t,"a",(function(){return l}))},,,function(e,t,n){"use strict";var a=n(2093);n.d(t,"a",(function(){return a.a}))},,,,,,function(e,t,n){"use strict";var a=n(42),r=n(1593),i=n(1892),s=n(214),o=n(101),l=n(146),c=n(328),u=n(327),d=n(531),p=n(532),h=n(438),f=n(174),m=function(e,t){return e.metadata.getIn(["flows",Object(o.a)(t.location.pathname)])},g=function(e){return e.seatSelection.get("seatMaps")},v=function(e){return e.seatSelection.get("legend")},y=function(e){return e.seatSelection.get("passengers")},b=function(e){return e.seatSelection.get("uniquePassengers")},E=function(e){return e.seatSelection.get("segments")},C=function(e){return e.seatSelection.get("isFetchingSeatMap")},k=function(e){return e.seatSelection.get("isFetchingSeatBundles")},S=function(e){return e.seatSelection.get("seatBundles")},_=function(e){return e.seatSelection.get("seatMapError")},O=function(e){return e.metadata.get("seatSelectionConfiguration")},w=function(e,t){return e.metadata.getIn(["seatsOnExtrasPage",Object(o.a)(t.location.pathname)])},P=function(e){return e.metadata.get("ancillariesConfiguration")},A=function(e){return e.seatSelection.get("showPageLoadingMessage")},x=function(e){return e.metadata.get("areAllSeatsSelected")},N=function(e){return e.seatSelection.get("isSeatNotSelectedForASeatBundle")},T=function(e){return e.seatSelection.get("hasIropAffectedReservationMessage")},I=function(e){return e.seatSelection.get("selectedSeats")},B=function(e){return e.seatSelection.get("oldPaidSeats")},L=function(e){return e.shoppingCart.toJS()},D=function(e){return e.tripDetails},j=function(e){return e.metadata.get("defaultSummaryBarOffset")},F=function(e){return e.seatSelection.get("processingSeatSelection",!1)},M=Object(a.a)(Object(s.a)(),(function(e){return Object(l.g)(e)}));t.a=function(){return Object(a.b)({flights:Object(r.a)(),seatMaps:g,legend:v,passengers:y,uniquePassengers:b,segments:E,isFetchingSeatMap:C,isFetchingSeatBundles:k,seatBundles:S,seatMapError:_,configuration:O,seatsOnExtrasPage:w,ancillariesConfiguration:P,showPageLoadingMessage:A,areAllSeatsSelected:x,isSeatNotSelectedForASeatBundle:N,hasIropAffectedReservationMessage:T,selectedSeats:I,journeyType:Object(i.a)(),shoppingCart:L,pnrInfo:D,oldPaidSeats:B,flowConfiguration:m,defaultSummaryBarOffset:j,processingSeatSelection:F,tripDestination:M,dateFormat:c.b,getNextPage:p.a,language:u.a,formatDateTime:c.c,background:Object(d.a)(),cancelProps:h.b,getBackLinkProps:h.a,currentFlow:f.a})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return d}));var a="dxp-seat-selection-view",r="dxp-shared-seat-selection",i="dxp-shared-seat-selection-tabs",s="seat-map-segment",o="seat-map-passenger-list",l="seat-map-legend",c="seat-map-deck",u="seat-map-next-segment-button",d="proceed-without-seat-selection-button"},function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return P})),n.d(t,"a",(function(){return A})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return I})),n.d(t,"j",(function(){return B}));var a=n(2),r=n.n(a),i=n(199),s=n.n(i),o=n(27),l=n.n(o),c=n(4),u=n.n(c),d=n(51),p=n.n(d),h=n(82),f=n.n(h),m=n(13),g=n.n(m),v=n(0),y=n.n(v),b=n(11),E=n(17),C=n.n(E),k=n(12),S=n(60);function _(e,t,n){var a=[];return g()(p()(e,"toJS",[]),(function(r,i){g()(r,(function(r,s){var o=O(i,s,n,e),l=function(e,t,n){return n.get(e,Object(b.List)()).get(t,Object(b.List)()).flatten(!0).first()}(i,s,t),c=r.origin&&r.destination?Object(k.a)("app.flightTo",{origin:r.origin,destination:r.destination}):Object(k.a)("app.unknownFlight"),u={};g()(o,(function(e,t){u[t]=p()(function(e,t){var n=e.get("seatRows").flatMap((function(e){return e.get("seats")})).find((function(e){return"seat"===e.get("storefrontSlotCode")&&e.get("code")===t}));return f()(n)?Object(b.List)():n.get("prices").get("alternatives")}(l,e),"toJS",[])})),a.push({tabHeader:c,selectedSeatForSegments:o,seatPrices:u,itineraryIndex:i,segmentIndex:s,shouldRenderNoSeatMapMessage:void 0===l||l.isEmpty()})}))})),a}function O(e,t,n,a){var r=a.get(e).get(t);return n.reduce((function(e,t){var n=e.slice(0),a=t.get("segmentKey");if(a.get("origin")===r.get("origin")&&a.get("destination")===r.get("destination")&&a.get("departure")===r.get("departure")){var i=t.get("passengerIndex")-1;n[i]=f()(n[i])?t.get("seatCode"):n[i]}return n}),[])}function w(e){return e.origin&&e.destination?Object(k.a)("app.flightTo",{origin:l()(s()(Object(k.i)("airports.".concat(e.origin)),",")),destination:l()(s()(Object(k.i)("airports.".concat(e.destination)),","))}):Object(k.a)("app.unknownFlight")}function P(e,t){return function(e,t){return t.get(e.itineraryPartIndex).get(e.segmentIndex).some((function(e){return e.get("isSeatBundleSelected")}))}(e,t)?"seatSelection.seatMapSeatBundleDescription":"seatSelection.seatMapDescription"}function A(e,t,n,a){var i=!r()(n)&&n.get(t.itineraryPart).get(t.segment);return e.size===i.size-function(e){return e.filter((function(e){return"INF"===e.get("passengerInfo").get("type")})).size}(a)}function x(e,t,n){return e.get(t.itineraryPart).get(t.segment).get(n).groupBy((function(e){return e.get("deck")}))}function N(e,t,n,a,r){var i=x(t,n,a).valueSeq().get(r).flatMap((function(e){return e.get("seatRows")})),s=parseInt(e.match(/^\d+/)[0],10);return i.filter((function(e){return e.get("rowNumber")===s})).flatMap((function(e){return e.get("seats")})).find((function(t){return t.get("code")===e}))}function T(e,t){var n=t.selectedTab+1;return b.List.isList(e)&&b.List.isList(e.first())?e.flatten(1).size===n:!!b.List.isList(e)&&e.size===n}function I(e){return t=u()(e,(function(e,t){return g()(t.seatPrices,(function(t){g()(t,(function(t){e.push([t])}))})),e}),[]),n=t[0],g()(t,(function(e,t){0!==t&&(n=Object(S.q)(n,e))})),n;var t,n}function B(e,t){var n=y()(e,"timeBeforeDeparture",0),a=y()(e,"timeBeforeDepartureFormat"),r=y()(t,"departure"),i=C()(r,"YYYYMMDD hhmmss").diff(C()(),a,!1);return!!r&&i>n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a="pagination-navigation-panel",r="pagination-show-previous-page",i="pagination-show-next-page",s="pagination"},function(e,t){e.exports=!0},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t,n){var a=n(2456),r=n(2286);e.exports=Object.keys||function(e){return a(e,r)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var a=n(178),r=n(2895),i=n(2291),s=n(2173),o=a((function(e,t,n){var a=1;if(n.length){var l=s(n,i(o));a|=32}return r(e,a,t,n,l)}));o.placeholder={},e.exports=o},function(e,t,n){var a=n(762),r=n(61);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=a(e.prototype),i=e.apply(n,t);return r(i)?i:n}}},function(e,t){e.exports=function(e,t){for(var n=-1,a=e.length,r=0,i=[];++n<a;){var s=e[n];s!==t&&"__lodash_placeholder__"!==s||(e[n]="__lodash_placeholder__",i[r++]=n)}return i}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var a=n(3),r=n.n(a),i=n(51),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(11),d=n(1411),p=n(214),h=n(1892),f=n(146),m=n(24),g=n(531),v=n(532),y=n(327),b=n(174),E=n(328),C=n(438),k=n(1567),S=n(45);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var O=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("mtoAncillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},w=function(e){return e.metadata.getIn(["flows",m.a.MTO,"ancillaries"])},P=function(e){return e.ancillariesMto.get("isPnrAvailable")},A=function(e){return e.ancillariesMto.get("snapshot")||{}},x=function(e){return e.ancillariesMto.get("error")},N=function(e){return s()(e.ancillariesMto,"toJS")},T=function(e){return e.ancillariesMto.get("tripOptions")},I=function(e){return e.ancillariesMto.get("ancillaryCode")},B=function(e){return e.shoppingCart.get("data")},L=function(){return m.a.MTO},D=function(e){return e.bagfee.get("bagAllowance",Object(u.Map)())},j=function(e){return e.ancillariesMto.get("isLoading")},F=function(e){return e.metadata.get("viewBreakPoint")},M=function(e,t){return Object(d.a)(e,t)},R=function(e){return e.ancillariesMto.get("isSeatBundlePremiumSeatNotSelected")},V=Object(c.a)((function(e,t){return l()(t,"location.query",{})}),(function(e){return Boolean(l()(e,"execution"))})),H=Object(c.a)(Object(p.a)(),(function(e){return Object(f.t)(e)})),U=function(){return"true"===S.a.get("isSeatsExtrasCombined")};function W(){return Object(c.b)({journeyType:Object(h.a)(),pnrLookupQuery:M,isFlowInitialized:V,ancillariesConfiguration:O,shoppingCartData:B,flowConfiguration:w,searchCriteriaQueryParams:H,snapshot:A,tripOptions:T,ancillaries:N,ancillaryCode:I,currentFlow:L,error:x,bagAllowance:D,isLoading:j,background:Object(g.a)(),getNextPage:v.a,language:y.a,currentPage:b.b,viewBreakPoint:F,dateFormat:E.b,cancelProps:C.b,isPnrAvailable:P,seatAncillaries:k.a,isSeatsExtrasCombined:U,isSeatBundlePremiumSeatNotSelected:R})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(0),r=n.n(a),i=n(42),s=n(1593),o=n(1411),l=n(214),c=n(146),u=n(24),d=n(531),p=n(327),h=n(328),f=n(174),m=n(438),g=n(45),v=function(e,t){return Object(o.a)(e,t)},y=function(e){return e.seatSelectionMTO},b=function(e){return e.seatSelectionMTO.get("isFetchingSeatMap")},E=function(e){return e.seatSelectionMTO.get("seatMapError")},C=function(e){return e.metadata.get("mtoSeatSelectionConfiguration")},k=function(e){return e.seatSelectionMTO.get("showPageLoadingMessage")},S=function(e){return e.seatSelectionMTO.get("isPnrAvailable")},_=function(e){return e.shoppingCart.get("data")},O=function(e){return e.metadata.getIn(["flows",u.a.MTO,"seats"])},w=function(e){return e.metadata.get("areAllSeatsSelected")},P=function(e){return e.seatSelectionMTO.get("segments")},A=function(e){return e.seatSelectionMTO.get("uniquePassengers")},x=function(e){return e.seatSelectionMTO.get("selectedSeats")},N=function(e){return e.seatSelectionMTO.get("isSeatNotSelectedForASeatBundle")},T=function(e){return e.metadata.get("defaultSummaryBarOffset")},I=function(e){return e.seatSelectionMTO.get("processingSeatSelection",!1)},B=Object(i.a)(S,(function(e,t){return r()(t,"location.query",{})}),(function(e,t){var n=JSON.parse(r()(t,"mtoInitialized","false")),a=e&&n,i=Boolean(r()(t,"execution"));return a||i})),L=function(){return"true"===g.a.get("isSeatsExtrasCombined")},D=Object(i.a)(Object(l.a)(),(function(e){return Object(c.t)(e)}));function j(){return Object(i.b)({flights:Object(s.a)(),seatSelectionData:y,isPnrAvailable:S,isFetchingSeatMap:b,seatMapError:E,configuration:C,showPageLoadingMessage:k,pnrLookupQuery:v,isFlowInitialized:B,shoppingCartData:_,flowConfiguration:O,areAllSeatsSelected:w,searchCriteriaQueryParams:D,segments:P,uniquePassengers:A,selectedSeats:x,defaultSummaryBarOffset:T,processingSeatSelection:I,background:Object(d.a)(),language:p.a,dateFormat:h.b,currentFlow:f.a,currentPage:f.b,cancelProps:m.b,isSeatsExtrasCombined:L,isSeatNotSelectedForASeatBundle:N})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),i=n(2),s=n.n(i),o=n(2036),l=n(347),c=n(2081);function u(e){return function(t,n){return t({type:c.b}),Object(o.b)(e).then((function(e){t({type:c.c,trip:e,awardBooking:!s()(e)&&Object(l.a)(n(),r()(e,"itinerary"))})})).catch((function(e){t({type:c.a,data:e.response})}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(11);function r(e){var t=e.getIn(["totalPrice","alternatives"]);if(t){var n=(t.find((function(e){return 1===e.size&&"FFCURRENCY"===e.first().get("currency")}))||Object(a.List)()).first();return n&&n.get("amount")}}},,,,,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(1),y=n.n(v),b=(n(6),n(39)),E=n.n(b),C=n(1537),k=n(73),S=n.n(k),_=n(35),O=n.n(_),w=n(1385),P=n.n(w),A=n(122),x=n.n(A),N=n(5),T=n.n(N),I=n(36),B=n.n(I),L=n(52),D=n.n(L),j=n(11),F=(n(194),n(123)),M=n(1286),R=n(12),V=n(195),H=n(24),U=n(84),W=n(14),q=n(1524),z=n(1525),G=n(1732),K=n(1535),Y=n(1588),Q=n(1587),X=n(0),J=n.n(X),Z=n(42),$=function(e){return e.seatSelectionMTO.get("selectedSeats",Object(j.List)())},ee=function(e){return e.seatSelectionMTO.get("uniquePassengers",Object(j.List)())},te=Object(Z.a)((function(e){return e.seatSelectionMTO.get("segments",Object(j.List)())}),(function(e){return e.flatten(!0).size})),ne=function(e){return e.metadata.get("mtoSeatSelectionConfiguration",{}).passengersExcludedFromSeatSelection},ae=function(e){var t=e.ancillaries.getIn(["cartData","result","ancillaries"],Object(j.Map)()),n=e.shoppingCart.getIn(["data","insurance"],Object(j.Map)()),a=n&&n.size?n.get("breakdownElements"):Object(j.List)();return(t&&t.size?t.get("breakdownElements",Object(j.List)()):Object(j.List)()).merge(a)},re=n(1526),ie=n(1567),se=n(2176),oe=n(2177),le=n(174),ce=n(1946),ue=n(45),de=function(e){return e.metadata.get("breadcrumbs")},pe=function(){return"true"===ue.a.get("isSeatsExtrasCombined")},he=function(e){return e.ancillariesMto.get("isAncillaryAvailable",!0)},fe=function(e,t){return Object(ce.a)(e.metadata,e.payment,t.location.pathname,e.sessionStorage.get("selectedTripOption"),pe())},me=Object(Z.a)(Object(se.a)(),Object(oe.a)(),le.b,re.a,(function(e,t,n,a){var r=J()(e,"isLoading"),i=J()(t,"isFetchingSeatMap"),s=J()(t,"isFlowInitialized");return(n===W.a.ANCILLARIES?r:i||!s)?Object(j.List)():a})),ge=(n(1568),n(1569),n(1570),n(1571),function(e){function t(){var e,n,a;r()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=l()(this,(e=u()(t)).call.apply(e,[this].concat(s))),g()(p()(a),"flowsToBreadcrumbComponentMapper",(n={},g()(n,W.a.HOME,(function(e,t,n){return a.renderHomeMYBBreadcrumbItem(e,t,n)})),g()(n,W.a.ANCILLARIES,(function(e,t,n){return a.renderAncillariesBreadcrumbItem(e,t,n)})),g()(n,W.a.PAYMENT,(function(e,t,n){return a.renderPaymentBreadcrumbItem(e,t,n)})),g()(n,W.a.SEAT_SELECTION,(function(e,t,n){return a.renderSeatSelectionBreadcrumbItem(e,t,n)})),n)),g()(p()(a),"state",{showCondensed:void 0}),g()(p()(a),"handleCrumbClick",(function(e){a.props.updateURLQueryParameters(e,a.props.location.query)})),g()(p()(a),"handleMTOSeatCrumbClick",(function(e){a.props.updateURLQueryParameters(e,O()(a.props.location.query,"mtoInitialized"))})),g()(p()(a),"handleScroll",(function(){window.pageYOffset>120?a.setState({showCondensed:!0}):a.setState({showCondensed:!1})})),g()(p()(a),"renderAncillariesBreadcrumbItem",(function(e,t,n){var r=a.props,i=r.breadcrumbConfiguration,s=r.isAncillariesAvailable,o=r.ancillaries,l=r.isSeatsExtrasCombined,c=r.seatAncillaries,u=l?Object(R.i)("breadcrumbsFlows.".concat(U.a.MTO,".tripOptions")):Object(R.i)("breadcrumbsFlows.".concat(U.a.MTO,".").concat(S()(W.a.ANCILLARIES)));return y.a.createElement(G.a,{breadcrumbConfiguration:i,crumbState:Object(q.b)(W.a.ANCILLARIES,e,n,t),url:Object(q.c)(H.a.MTO,W.a.ANCILLARIES),ancillaries:o,index:n,onAncillariesCrumbClick:a.handleCrumbClick,key:W.a.ANCILLARIES,isAncillariesAvailable:s,breadCrumbTitleOverride:u,seatAncillaries:c})})),g()(p()(a),"renderHomeMYBBreadcrumbItem",(function(e,t,n){return y.a.createElement(Q.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(q.b)(W.a.HOME,e,n,t),index:n,url:Object(q.c)(W.a.MYB,W.a.MYB),onHomeCrumbClick:a.handleCrumbClick,key:W.a.HOME,hideTitle:a.state.showCondensed})})),g()(p()(a),"renderPaymentBreadcrumbItem",(function(e,t,n){return y.a.createElement(K.a,{breadcrumbConfiguration:a.props.breadcrumbConfiguration,crumbState:Object(q.b)(W.a.PAYMENT,e,n,t),url:Object(q.c)(H.a.MTO,W.a.PAYMENT),index:n,onPaymentCrumbClick:a.handleCrumbClick,key:W.a.PAYMENT})})),g()(p()(a),"renderSeatSelectionBreadcrumbItem",(function(e,t,n){var r=a.props,i=r.breadcrumbConfiguration,s=r.seatsCrumbData,o=r.isSeatsExtrasCombined,l=o?i.setIn(["flowIcons","seat-selection"],i.getIn(["flowIcons","ancillaries"])):i,c=o?Object(R.i)("breadcrumbsFlows.".concat(U.a.MTO,".tripOptions")):Object(R.i)("breadcrumbsFlows.".concat(U.a.MTO,".").concat(S()(W.a.SEAT_SELECTION)));return y.a.createElement(Y.a,{breadcrumbConfiguration:l,crumbState:Object(q.b)(W.a.SEAT_SELECTION,e,n,t),url:Object(q.c)(H.a.MTO,W.a.SEAT_SELECTION),seatsCrumbData:s,index:n,onSeatSelectionCrumbClick:a.handleMTOSeatCrumbClick,key:W.a.SEAT_SELECTION,breadCrumbTitleOverride:c})})),a}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;this.throttledOnScroll=P()((function(){return e.handleScroll()}),20),document.addEventListener("scroll",this.throttledOnScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.throttledOnScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.location,r=t.breadcrumbConfiguration,i=t.onCartSummaryClick,s=t.isAuthorable,o=t.total,l=B()(a.pathname.split("/")),c=n.keySeq().includes(l)?l:H.a.B2C,u=Object(q.a)(n,r.get("displayHomeCrumb")),d=D()(u,c),p=Object(V.a)(s,"breadcrumbs"),h=u.length>4?"dxp-breadcrumbs-large":"dxp-breadcrumbs-small",f=E()("dxp-breadcrumbs",h);return y.a.createElement("div",p,y.a.createElement(M.b,{cartPrice:o,stickyBottomBoundaryID:void 0,className:f,PACKAGE_NAME_CLASSIFIED:"app",onCartSummaryClick:i,showCondensed:this.state.showCondensed,dropDownLabel:Object(R.i)("summaryBar.mobileBreadcrumbDropdownLabel")},T()(u,(function(t){return e.flowsToBreadcrumbComponentMapper[t](c,u,d)}))))}}]),t}(v.PureComponent));g()(ge,"defaultProps",{seatAncillaries:void 0,ancillaries:Object(j.List)(),onCartSummaryClick:x.a,seatsCrumbData:void 0,isAuthorable:!0,cartCollapsed:!0,total:void 0,isSeatsExtrasCombined:!1});var ve=Object(F.b)((function(){return Object(Z.b)({breadcrumbConfiguration:de,flowConfiguration:fe,seatsCrumbData:Object(Z.b)({selectedSeats:$,passengers:ee,passengersExcludedFromSeatSelection:ne,flightsCount:te}),ancillaries:ae,seatAncillaries:ie.a,total:me,isAncillariesAvailable:he,isSeatsExtrasCombined:pe})}),{updateURLQueryParameters:z.a})(ge);n.d(t,"a",(function(){return ye}));var ye=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCartExpanded:!1}),g()(p()(n),"onCartSummaryClick",(function(){n.setState((function(e){return{isCartExpanded:!e.isCartExpanded}}))})),n}return f()(t,e),s()(t,[{key:"renderBreadcrumbs",value:function(){return y.a.createElement(ve,{location:this.props.location,onCartSummaryClick:this.onCartSummaryClick,cartCollapsed:!this.state.isCartExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,a=e.title,r=e.isCartEnabled,i=e.authorableAttributes,s=e.children,o=e.id,l=E()(t,{"is-visible":this.state.isCartExpanded});return y.a.createElement(C.a,{className:l,location:n,title:a,breadcrumbs:this.renderBreadcrumbs(),isCartEnabled:r,authorableAttributes:i,id:o},s)}}]),t}(v.PureComponent);g()(ye,"defaultProps",{className:"",title:"",id:"",authorableAttributes:{},isCartEnabled:!0})},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(27),f=n.n(h),m=(n(6),n(1)),g=n.n(m),v=n(12),y=n(50),b=n(3),E=n.n(b),C=n(2034),k=n(244),S=n(1980),_=(n(2382),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"renderRemoveButton",value:function(e){var t=this;return g.a.createElement("li",{className:"spark-popover__list-item",key:e},g.a.createElement(C.a,{summary:e,appliedFilters:this.props.appliedFilters,timeFormat:this.props.timeFormat}),g.a.createElement("a",{role:"button",className:"spark-popover__list-link",tabIndex:"0",onKeyPress:function(n){return k.a.is(k.a.code.special.enter,n.which)&&t.props.clearFilter([e])},onClick:function(){return t.props.clearFilter([e])},"aria-label":"".concat(e," ").concat(Object(v.i)("app.remove")," ").concat(Object(v.i)("filter.filter"))},g.a.createElement(y.c,{name:y.a.CLOSE_CIRCLE})))}},{key:"render",value:function(){var e=this,t=g.a.createElement("button",{className:"pill-button spark-popover__toggle",type:"button"},g.a.createElement("span",null,Object(v.a)("filter.number",{number:Object.keys(this.props.appliedFilters).length})));return g.a.createElement(S.a,{toggleEl:t,showClose:!1},g.a.createElement("ul",{className:"spark-popover__list filter-popover"},Object.keys(this.props.appliedFilters).map((function(t){return e.renderRemoveButton(t)}))))}}]),t}(m.Component));E()(_,"defaultProps",{});n(2383);var O=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"renderPopoverButton",value:function(){return g.a.createElement(_,{appliedFilters:this.props.appliedFilters,clearFilter:this.props.clearFilter,timeFormat:this.props.timeFormat})}},{key:"renderRemovalButton",value:function(){var e=this;return g.a.createElement("div",{className:"pill-button"},g.a.createElement(C.a,{summary:f()(Object.keys(this.props.appliedFilters)),appliedFilters:this.props.appliedFilters,timeFormat:this.props.timeFormat}),g.a.createElement("button",{type:"button",className:"icon-button",onClick:function(){return e.props.clearFilter(Object.keys(e.props.appliedFilters))},"aria-label":"".concat(f()(Object.keys(this.props.appliedFilters))," ").concat(Object(v.i)("app.remove")).concat(Object(v.i)("filter.filter"))},g.a.createElement(y.c,{size:"sm",name:y.a.CLOSE_CIRCLE})))}},{key:"render",value:function(){var e=Object.keys(this.props.appliedFilters).length>1;return g.a.createElement("div",{className:"dxp-filter-removal-button"},e&&this.renderPopoverButton(),!e&&this.renderRemovalButton())}}]),t}(m.Component);n.d(t,"a",(function(){return O}))},,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(49),E=n.n(b),C=n(21),k=n.n(C),S=n(0),_=n.n(S),O=n(1),w=n.n(O),P=n(6),A=n.n(P),x=n(39),N=n.n(x),T=(n(194),n(11)),I=n(1996),B=n(195),L=n(563),D=n(56),j=n.n(D),F=n(5),M=n.n(F),R=n(12),V=n(60),H=n(78),U=n(1249);n(2444);function W(e,t){var n,a=e.ancillary,r=e.ancillariesConfiguration,i=t.translateWithComponents,s=_()(a,"isBundle"),o=_()(a,"code"),l=Object(R.i)("app.image"),c=Object(R.i)("ancillary.items.".concat(o,".name")),u="".concat(l," ").concat(c),d=_()(r,"ancillaryMap.".concat(o,".icon")),p=_()(r,"ancillaryMap.".concat(o,".iconSize")),h=function(e,t,n){var a=_()(e,"code"),r=j()(_()(e,"products"));if(a===_()(t,"insurance.code")){var i,s;1===r?(i=_()(e,"products[0].insurance.productDescriptionURL"),s=e.products[0].insurance.supplierCode):(i=_()(e,"insurance.productDescriptionURL"),s=_()(e,"supplierCode"));var o=w.a.createElement(H.a,{target:"_BLANK",href:i},Object(R.a)("ancillary.insuranceDisclosureLabel"));return w.a.createElement(w.a.Fragment,null,Object(R.a)("ancillary.items.".concat(a,".intro"),{providerName:Object(R.i)("ancillary.insurance.suppliers.".concat(s,".name"))}),n("ancillary.items.".concat(a,".insuranceDisclosureLink"),{insuranceDisclosureLink:o}))}return Object(R.a)("ancillary.items.".concat(a,".intro"))}(a,r,i),f=function(e){var t="ancillary.items.".concat(_()(e,"code"),".image"),n=Object(R.i)(t);return n===t&&(n="//placehold.it/320x180"),n}(a),m=_()(_()(a,"offers"),"discount",[]),g=function(e){return w.a.createElement("ul",{className:"bundle-list"},M()(_()(e,"bundleItems"),(function(e){return w.a.createElement("li",{className:"bundle-item",key:"bundle-item-".concat(e.code)},Object(R.a)("ancillary.items.".concat(e.code,".name")))})))}(a);return Object(V.o)(m)||(n=w.a.createElement("span",{className:"discount"},i("ancillary.savingsOf",{price:w.a.createElement(U.a,{price:m})}))),{code:o,altText:u,icon:d,iconSize:p,title:c,intro:h,discount:m,discountLabel:n,imgPath:f,isBundle:s,ancillaryBundle:g}}var q=function(e,t){var n=e.ancillary,a=e.ancillariesConfiguration,i=e.isMobile,s=W(e,t),o=!i&&k()(E()(_()(a,"featuredOfferingCodes")),_()(n,"code"));return w.a.createElement(I.a,r()({},s,{displayType:o?"feature":"tile"}))};q.defaultProps={isMobile:!1,ancillary:void 0,ancillariesConfiguration:{}},q.contextTypes={translateWithComponents:A.a.func};var z=q,G=n(2073),K=(n(2445),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onDisclosureClick",(function(){return n.props.onDisclosureClick&&n.props.onDisclosureClick()})),y()(f()(n),"onSummaryClick",(function(){return n.props.onSelect&&n.props.onSelect(n.props.ancillary.code)})),n}return g()(t,e),l()(t,[{key:"renderAncillary",value:function(){var e=this.props,t=e.ancillary,n=e.isOriginalPriceDisplayed,a=e.isDealBannerDisplayed,i=e.ancillariesConfiguration,s=e.isMobile,o=e.passengers,l=e.bagAllowance,c=N()("dxp-ancillary",{"has-alert":t.isAddedToCart,"has-items-left":t.quantityLeft,selected:t.isSelected}),u=Object(B.b)(this.props.isAuthorable,"ancillary"),d=!s&&k()(E()(_()(i,"featuredOfferingCodes")),_()(t,"code"));return w.a.createElement("div",r()({className:c},u),w.a.createElement(I.c,{key:"ancillary-".concat(t.code),isRecommended:t.isRecommended,displayType:d?"feature":"tile",PACKAGE_NAME_CLASSIFIED:"ancillary"},w.a.createElement(z,{ancillary:t,isMobile:s,onDisclosureClick:this.onDisclosureClick,ancillariesConfiguration:i}),w.a.createElement(G.a,{ancillary:t,isOriginalPriceDisplayed:n,isDealBannerDisplayed:a,onClick:this.onSummaryClick,ancillariesConfiguration:i,passengers:o,bagAllowance:l,retainedTotal:this.props.retainedTotals[t.code]})))}},{key:"render",value:function(){if(!1===this.props.renderWithAnimation)return this.renderAncillary();var e="ancillary-".concat(this.props.ancillary.code);return w.a.createElement(L.a,{tag:"div",className:"dxp-ancillary-wrapper",id:e,type:"slideFromBottom"},this.renderAncillary())}}]),t}(O.Component));y()(K,"defaultProps",{addToGroup:!1,ancillariesConfiguration:{},numberOfPassenger:void 0,ancillary:{},onClick:void 0,onChange:void 0,onAncillaryUpdate:void 0,onAddToCart:void 0,onDisclosureClick:void 0,onSelect:void 0,isDealBannerDisplayed:!1,isOriginalPriceDisplayed:!1,renderWithAnimation:!0,isMobile:!1,passengers:{},bagAllowance:Object(T.Map)(),isAuthorable:!0,retainedTotals:{}}),n.d(t,"a",(function(){return K}))},,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(2217),g=n.n(m),v=n(0),y=n.n(v),b=n(122),E=n.n(b),C=n(49),k=n.n(C),S=n(5),_=n.n(S),O=n(1),w=n.n(O),P=n(6),A=n(39),x=n.n(A),N=n(50),T=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"renderItemType",value:function(e){var n=this.props.type;return g()(t,y()(t.ToggleTypes,[n,"renderMethod"]),e)}},{key:"renderItem",value:function(e){var t=e.item,n=e.index,a=this.props,r=a.name,i=a.onChange,s=t.label,o=t.value,l=t.checked,c=t.disabled,u="".concat(r,"-").concat(n),d=x()("toggle-item",t.className||"toggle-item-default");return w.a.createElement("label",{key:u,htmlFor:u,className:d},w.a.createElement("input",{onChange:function(e){return i(e,o||s)},id:u,className:"toggle-input","data-test-id":"toggle-input",type:"radio",name:u,checked:l,disabled:c}),this.renderItemType(t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.items,r=x()("DucpComponentToggle",n);return w.a.createElement("div",{className:r},_()(a,(function(t,n){return e.renderItem({item:t,index:n})})))}}],[{key:"renderTextItem",value:function(e){return w.a.createElement("span",{className:"toggle-label"},e.label)}},{key:"renderIconItem",value:function(e){return w.a.createElement("span",{className:"toggle-label"},w.a.createElement(N.c,{name:e.icon,fill:!0}))}},{key:"propTypes",get:function(){return{className:P.string,name:P.string.isRequired,onChange:P.func,type:Object(P.oneOf)(k()(t.ToggleTypes)),items:Object(P.arrayOf)(Object(P.shape)({label:P.node,value:P.string,checked:P.bool,disabled:P.bool,className:P.string})).isRequired}}}]),t}(O.Component);f()(T,"defaultProps",{className:void 0,onChange:E.a,type:"text"}),f()(T,"ToggleTypes",{text:{renderMethod:"renderTextItem"},icon:{renderMethod:"renderIconItem"}});t.a=T},,,,function(e,t,n){"use strict";var a=n(122),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(2003)),l=(n(2434),function(e){var t=e.renderedAncillaries;return s.a.createElement(o.b,{packageName:"ancillary",onLeftArrowClick:r.a,onRightArrowClick:r.a,className:"ancillary-slider"},t)});l.defaultProps={renderedAncillaries:[]};var c=l;n.d(t,"a",(function(){return c}))},,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return b}));var a=n(55),r=n.n(a),i=n(13),s=n.n(i),o=n(290),l=n(7),c="SEAT_MAP_MTO_PNR_LOOKUP_REQUEST",u="SEAT_MAP_MTO_PNR_LOOKUP_RESPONDED",d="SEAT_MAP_MTO_REQUEST",p="SEAT_MAP_MTO_RESPONDED",h="INVALID_SEAT_MAP_MTO",f="SAVE_SEAT_MTO_REQUEST",m="SAVE_SEAT_MTO_RESPONSE",g="SEAT_MAP_MTO_REQUEST_ERROR";function v(e,t){return function(n){return n({type:d,flights:e}),n({type:l.i}),o.a(t,"seatsMto").then((function(e){var t,a;n({type:l.j,globalAdvisories:e.advisories,travelPartAdvisories:e.travelPartAdvisories}),t=e,a=!0,s()(t.segments,(function(e){s()(e,(function(e){r()(e,void 0)&&(a=!1)}))})),n(a?{type:p,seatMaps:e.seatMaps,legend:e.legend,passengers:e.passengers,uniquePassengers:e.uniquePassengers,segments:e.segments,selectedSeats:e.selectedSeats,status:e.status}:{type:h,seatMaps:["invalid"]})})).catch((function(e){throw"HTTPERROR"===e.errorType&&n({type:g,data:e.response}),e}))}}function y(e){return function(t){return t({type:f}),o.c(e,"seatsMto").then((function(e){return t({type:m,result:e})}))}}function b(e){return function(t){return t({type:l.bb}),t({type:c}),o.d(e,"seatsMtoPnr").then((function(){t({type:u})})).catch((function(e){throw"HTTPERROR"===e.errorType&&(t({type:l.cb}),t({type:g,data:e.response})),e}))}}},,function(e,t,n){"use strict";n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return A})),n.d(t,"a",(function(){return x})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return T})),n.d(t,"g",(function(){return I})),n.d(t,"d",(function(){return B})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"l",(function(){return F})),n.d(t,"p",(function(){return M})),n.d(t,"k",(function(){return H})),n.d(t,"o",(function(){return U})),n.d(t,"m",(function(){return W})),n.d(t,"n",(function(){return q})),n.d(t,"j",(function(){return z}));var a=n(3),r=n.n(a),i=n(35),s=n.n(i),o=n(16),l=n.n(o),c=n(4),u=n.n(c),d=n(2),p=n.n(d),h=n(34),f=n.n(h),m=n(0),g=n.n(m),v=n(8),y=n.n(v),b=n(13),E=n.n(b),C=n(118),k=n(567),S=n(205),_=n(7);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P="GET_BNPL_ANCILLARIES_REQUEST",A="GET_BNPL_ANCILLARIES_RESPONSE",x="BNPL_ANCILLARIES_ERROR",N="UPDATE_BNPL_ANCILLARY",T="UPDATING_BNPL_ANCILLARY",I="NO_BNPL_ANCILLARIES_AVAILABLE",B="BNPL_ANCILLARIES_TAKE_SNAP_SHOT",L="BNPL_ANCILLARIES_REVERT_TO_SNAP_SHOT",D="BNPL_ANCILLARIES_SELECT_ANCILLARY",j=function(e){return l()({},e,{ancillaries:u()(g()(e,"ancillaries",{}),(function(t,n,a){var r=l()({},C.calculateTotalForAncillary(g()(e,"ancillaries",{}),n));return r.total.amount>0&&(r.addedTotal=r.total),t[a]=r,t}),{})})},F=function(e){return function(t){return t({type:_.Tb}),t({type:P}),C.fetchBNPLAncillaries(e).then((function(e){return function(e,t){return e({type:A,ancillaries:j(t),sortedCodes:t.sortedCodes,passengers:t.passengers,itinerary:t.itinerary,numberOfChildrenTravellers:t.numberOfChildrenTravellers})}(t,e)})).catch((function(e){return function(e,t){return t({type:_.ig,error:w({},e)}),t({type:I,error:w({},e)})}(e,t)}))}},M=function(e,t,n,a,r,i,o){var l=f()(e),c=Object(S.a)(e,a,n).ancillaryOperations;return y()(l[t.code],"needsUpdate",Boolean(c.length)),l=function(e,t,n,a,r){var i=f()(e);return void 0!==n?i[t.code]=C.updateItineraryPart(e,t,n,a,r):y()(i[t.code],"offers.passengerOffers",r),i}(l,t,r,o,s()(n,"isAddedToCart")),y()(l,"[".concat(t.code,"]"),C.calculateTotalForAncillary(l,g()(l,t.code))),function(e){return e({type:N,ancillaries:l,error:!1})}},R=function(e,t,n,a){var r=function(e,t,n){var a,r;return p()(e)?a=t:(r=!0,a=C.addResult(t,n.code,e.ancillaryOperationResults),y()(a,"[".concat(n.code,"].isAddedToCart"),Object(k.a)(t,a[n.code])),y()(a,"[".concat(n.code,"]"),C.calculateTotalForAncillary(a,a[n.code])),y()(a,"[".concat(n.code,"].addedTotal"),g()(a,"[".concat(n.code,"].total")))),y()(a,"[".concat(n.code,"].isLoading"),!1),{newAncillaries:a,shouldRequest:r}}(t,n,a),i=r.newAncillaries,s=r.shouldRequest;return function(e,t,n){t[n.code].error?e({type:"ERROR_BNPL_ANCILLARY",ancillaries:t,error:!0}):e({type:N,ancillaries:t,error:!1})}(e,i,a),s},V=function(e,t,n,a,r){return C.addToCart(t,a,r,"bnplAncillaries").then((function(a){return R(e,a,t,n)})).catch((function(){return function(e,t,n){y()(t,"[".concat(n.code,"].isLoading"),!1),e({type:"ERROR_BNPL_ANCILLARY",ancillaries:t,error:!0})}(e,t,n)}))},H=function(e,t,n,a){var r=f()(t),i=f()(e);return r.needsUpdate=!1,r.isCustomGroup&&E()(r.ancillaries,(function(e){i[e.code].needsUpdate=!1})),r.isLoading=!0,y()(i,"[".concat(r.code,"]"),r),function(e){return e({type:T,ancillaries:i}),V(e,i,r,n,a)}},U=function(e){return function(t){t({type:B,ancillaries:e})}},W=function(){return function(e){e({type:L})}};function q(e){return function(t){t({type:D,ancillaryCode:e})}}var z=function(e){return function(t){return t({type:"ADD_OR_REMOVE_ONE"}),C.addOrRemoveOneForAllPassengers(e)}}},function(e,t,n){"use strict";var a=n(1994);n.d(t,"a",(function(){return a.a}))},,,,function(e,t,n){var a=n(2218),r=n(178)(a);e.exports=r},function(e,t,n){var a=n(551),r=n(219),i=n(36),s=n(784),o=n(220);e.exports=function(e,t,n){t=r(t,e);var l=null==(e=s(e,t))?e:e[o(i(t))];return null==l?void 0:a(l,e,n)}},function(e,t,n){"use strict";var a=n(2010);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a=n(2094);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(12),s=n(319);t.a=function(){var e=Object(i.i)("flightSelection.promoCode.companionFarePromoCode");return r.a.createElement(s.a,{type:"success",title:Object(i.i)("flightSelection.promoCode.valid.title",{promoCode:e})},Object(i.a)("flightSelection.promoCode.valid.description"))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(a=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},a=n[e]=n[e]||[];return-1==a.indexOf(t)&&a.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var a=n.indexOf(t);return-1!=a&&n.splice(a,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var a=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var i=n[r];a&&a[i]&&(this.off(e,i),delete a[i]),i.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?a.call(t,n,t,e):a)||(e.exports=r)},function(e,t,n){(function(){!function(t,n){e.exports?e.exports=n():t.getSize=n()}(window,(function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=n.length;function r(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var i,s=!1;function o(t){if(function(){if(!s){s=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var a=r(t);i=200==Math.round(e(a.width)),o.isBoxSizeOuter=i,n.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=r(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<a;t++){e[n[t]]=0}return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,d=0;d<a;d++){var p=n[d],h=l[p],f=parseFloat(h);c[p]=isNaN(f)?0:f}var m=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,E=c.borderTopWidth+c.borderBottomWidth,C=u&&i,k=e(l.width);!1!==k&&(c.width=k+(C?0:m+b));var S=e(l.height);return!1!==S&&(c.height=S+(C?0:g+E)),c.innerWidth=c.width-(m+b),c.innerHeight=c.height-(g+E),c.outerWidth=c.width+v,c.outerHeight=c.height+y,c}}return o}))}).call(window)},,function(e,t,n){var a=n(785)((function(e,t){return e/t}),1);e.exports=a},,function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(2282)("keys"),r=n(2168);e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t,n){var a=n(537),r=n(446),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:a.version,mode:n(2167)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(771),r=n(2870),i=n(2286),s=n(2281)("IE_PROTO"),o=function(){},l=function(){var e,t=n(787)("iframe"),a=i.length;for(t.style.display="none",n(2873).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;a--;)delete l.prototype[i[a]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(o.prototype=a(e),n=new o,o.prototype=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var a=n(767).f,r=n(768),i=n(1918)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&a(e,i,{configurable:!0,value:t})}},function(e,t,n){t.f=n(1918)},function(e,t,n){var a=n(446),r=n(537),i=n(2167),s=n(2288),o=n(767).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e){return e.placeholder}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(3),r=n.n(a),i=n(42),s=n(1593),o=n(1892),l=n(438);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("ancillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},d=function(e){return e.metadata.getIn(["flows","bnpl"])},p=function(e){return e.bnplAncillaries.get("isLoading")},h=function(e){return e.bnplAncillaries.get("isAncillaries")},f=function(e){return e.bnplAncillaries.get("ancillaries")},m=function(e){return e.bnplAncillaries.get("sortedCodes")},g=function(e){return e.bnplAncillaries.get("passengers")},v=function(e){return e.bnplAncillaries.get("itinerary")},y=function(e){return e.bnplAncillaries.get("numberOfChildrenTravellers")},b=function(e){return e.bnplAncillaries.get("ancillaryCode")},E=function(e){return e.bnplAncillaries.get("error")},C=function(e){return e.bnplAncillaries.get("ancillariesAvailable")};function k(){return Object(i.b)({ancillariesConfiguration:u,flightIds:Object(s.a)(),journeyType:Object(o.a)(),flowConfiguration:d,isLoading:p,isAncillaries:h,ancillaries:f,sortedCodes:m,passengers:g,itinerary:v,numberOfChildrenTravellers:y,ancillaryCode:b,error:E,ancillariesAvailable:C,cancelProps:l.b})}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(7),s=n(527),o=n(115),l=n.n(o),c=n(16),u=n.n(c),d=n(55),p=n.n(d),h=n(1911),f=n(114),m=n(9),g=n(43),v=n.n(g),y=n(5),b=n.n(y),E=n(156),C=n.n(E),k=n(21),S=n.n(k),_=n(8),O=n.n(_),w=n(35),P=n.n(w),A=n(13),x=n.n(A),N=n(4),T=n.n(N),I=n(0),B=n.n(I),L=n(1375);function D(e,t){var n="Itinerary"===e["@type"]?"itineraryParts":"segments";if(e.origin===t.origin&&e.destination===t.destination&&e.departure===t.departure)return"offers";for(var a=e[n],i=0;i<B()(a,"length",0);i+=1){var s=D(a[i],t);if(!r()(s))return[n,i].concat(s)}return[]}var j=function(e){var t=C()(b()(e.upgradeOffers,(function(e){return e.bookingClass}))),n=v()(e.messages,(function(e){return"pointsOnlyFlow"===e.code})),a=e.messages.filter((function(e){return"pointsOnlyFlow"!==e.code})),r=T()(e.upgradeOffers,(function(e,t){var n=P()(t,"travelPartUpgradeOffers");return x()(t.travelPartUpgradeOffers,(function(t){var a=D(e,t.travelPart),r=B()(e,a.join("."),[]),i=function(e,t,n){var a=t.status,r=a===L.a.CONFIRMED||a===L.a.WAITLISTED,i=S()([L.a.ALREADY_CONFIRMED,L.a.ALREADY_WAITLISTED],a);return u()({},{path:n,isAvailable:r,offerSelected:i},e,P()(t,"travelPart"))}(n,t,a.concat(r.length));r.push(i),O()(e,a.join("."),r)})),e}),e.itinerary);return u()(e,{offersByTravelPart:r,bookingClasses:t,isPointsOnlyFlow:n,messages:a})};var F=n(2179);function M(e,t){return Object(m.g)("".concat(Object(m.l)("upgradePnr"),"?").concat(Object(f.l)(e)),m.b).then((function(e){return Object(h.a)(e,t)}))}var R=n(27),V=n.n(R),H=n(173),U=n.n(H),W=n(19),q=n.n(W),z=n(10);var G=function(e,t){var n,a,r=(n=t.products,a=q()(n,(function(e){var t=B()(e,"label","").toUpperCase();return t===z.O||t===z.Q})),T()(a,(function(e,t){return e.concat(B()(t,"breakdownElements",[]))}),[])),i=e.isPointsOnlyFlow?function(e){return T()(e,(function(e,t){return e+B()(V()(V()(t.price)),"amount",0)}),0)}(r):0,s=T()(r,(function(e,t){var n=D(e,t.travelPart),a=U()(B()(e,n.join(".")),(function(e){return e.code===t.offerCode}));return-1!==a?O()(e,n.concat([a,"offerSelected"]).join("."),!0):e}),e.offersByTravelPart);return u()(e,{offersByTravelPart:s,loyaltyAmount:i})},K=n(290),Y=n(335),Q=n(24);function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return function(n,a){if(n({type:i.bb}),n({type:i.ab}),n({type:i.Uf}),n({type:i.Ub}),r()(e))return n(J(t));var s=a(),o={flightDetails:s.metadata.get("flightDetails"),ancillaryMap:s.metadata.get("ancillaryMap")};return M(e,o).then((function(e){n({type:i.fe,pnrInfo:e.pnrInfo}),n(J(t))})).catch((function(e){throw n({type:i.Tf,error:e}),n({type:i.cb}),n({type:i.jg,messages:e}),e}))}}function J(e){return function(t){return Object(m.g)(Object(m.l)("upgradeOffers"),m.b).then((function(e){return j(e)})).then((function(n){t(Z(n,e)),t({type:i.jg,messages:n.messages}),t({type:i.cb})})).catch((function(e){throw t({type:i.Tf,error:e}),t({type:i.cb}),t({type:i.jg,messages:e}),e}))}}function Z(e,t){return function(n){return n(Object(s.g)(Q.a.UPGRADE,t)).then((function(t){return n({type:i.Vf,response:G(e,t)})}))}}function $(e,t,n,a){return function(r){return r({type:i.bg}),r({type:i.Ub}),function(e,t,n,a){var r=function(e,t,n){return{upgradeOfferOperations:[function(e,t,n){return{code:e.get("code"),offerSelected:n,selectedTravelPart:{origin:t.get("origin"),destination:t.get("destination"),departure:t.get("departure"),type:t.get("@type").toUpperCase()}}}(e,t,n)]}}(e,t,n);return Object(m.g)(Object(m.l)("upgradeOffers"),m.c,{body:r}).then((function(t){if(!p()(t.upgradeOfferOperationResults,(function(e){return e.successful})))throw t;var r=l()(a)?a+(n?1:-1)*Object(F.a)(e):0;return u()({},t,{loyaltyAmount:r})})).catch((function(e){throw e}))}(e,t,n,a).then((function(t){r({type:i.cg,offer:e,response:t,isSelected:n})})).catch((function(e){throw r({type:i.jg,messages:e}),e}))}}function ee(e,t){return function(n){return n({type:i.Yf,flights:e}),K.a(t,"upgradeSeats").then((function(e){Object(Y.c)(e)?n({type:i.ag,seatMaps:e.seatMaps,legend:e.legend,passengers:e.passengers,uniquePassengers:e.uniquePassengers,segments:e.segments,selectedSeats:e.selectedSeats,status:e.status}):n({type:i.Sf})})).catch((function(e){throw"HTTPERROR"===e.errorType&&n({type:i.Zf,data:e.response}),e}))}}function te(e){return function(t){return t({type:i.Wf}),K.c(e,"upgradeSeats").then((function(e){return t({type:i.Xf,result:e})}))}}n.d(t,"b",(function(){return X})),n.d(t,"e",(function(){return Z})),n.d(t,"d",(function(){return $})),n.d(t,"a",(function(){return ee})),n.d(t,"c",(function(){return te}))},,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(51),s=n.n(i),o=n(0),l=n.n(o),c=n(42),u=n(11),d=n(1593),p=n(1892),h=n(532),f=n(2009),m=n(214),g=n(174),v=n(101),y=n(328),b=n(327);var E=n(438),C=n(1567),k=n(146),S=n(43),_=n.n(S),O=n(530);function w(e,t,n){return e.some((function(e){return function(e,t){return e.get("origin")===t.origin&&e.get("destination")===t.destination}(e,t)&&function(e,t){return e.getIn(["passenger","passengerIndex"])===t.index}(e,n)}))}var P=n(82),A=n.n(P),x=n(559);var N=function(){return Object(c.b)({carsConfiguration:function(e){return e.metadata.get("carsConfiguration")},lowestCarPrice:function(e){return(t=e.cars.get("carOffers"))&&t.get("cars",Object(u.List)()).map((function(e){return e.getIn(["rentalRate","dailyEstimatedTotal"])})).minBy((function(e){return e.get("amount")}));var t},isCarsLocationsProcessing:function(e){return e.cars.get("isCarsLocationsProcessing")},isCarsSearchProcessing:function(e){return e.cars.get("isCarsSearchProcessing")},carsLocationsError:function(e){return e.cars.get("carsLocationsError")},carsSearchError:function(e){return e.cars.get("carsSearchError")},isCarServiceErrorPresent:function(e){return!A()(e.cars.get("carsLocationsError"))||!A()(e.cars.get("carsSearchError"))},destination:Object(x.a)(),selectedCarOffer:function(e){return e.cars.get("selectedCarOfferTransformed")}})},T=Object(c.a)((function(e){return e.hotels.getIn(["hotelContext","airportCode"])}),Object(x.a)(),(function(e,t){return e||t})),I=Object(c.b)({hotelsConfiguration:function(e){return e.metadata.get("hotelsConfiguration")},isHotelSearchProcessing:function(e){return e.hotels.get("isHotelSearchProcessing")},lowestHotelPrice:function(e){return e.hotels.get("lowestHotelPrice")},hotelOffers:function(e){return e.hotels.get("hotelOffers")},hotelSearchError:function(e){return e.hotels.get("hotelSearchError")},hotelContext:function(e){return e.hotels.get("hotelContext")},selectedHotel:function(e){return e.hotels.get("selectedHotel")},isRemoveHotelProcessing:function(e){return e.hotels.get("isRemoveHotelProcessing")},destination:T,isRemoveHotelError:function(e){return e.hotels.get("removeHotelError")}});function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"a",(function(){return Q}));var L=function(e,t){return e.metadata.getIn(["flows",Object(v.a)(t.location.pathname)])},D=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("ancillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},j=function(e){return e.ancillaries.get("isLoading")},F=function(e){return e.ancillaries.get("isAncillaries")},M=function(e){return s()(e.ancillaries,"toJS")},R=function(e){return e.ancillaries.get("error")},V=function(e){return e.bagfee.get("bagAllowance",Object(u.Map)())},H=function(e){return e.metadata.get("upsellConfiguration")},U=function(e){return s()(e.metadata.get("brandSortOrder"),"toJS",{})},W=function(e){return e.metadata.get("viewBreakPoint")},q=function(e,t){return Boolean(l()(function(e,t){return{awardBooking:"true"===l()(t,"location.query",{}).awardBooking}}(0,t),"awardBooking",!1))},z=Object(c.a)((function(e){return e.ancillaries.get("ancillaryOperationResults")}),M,(function(e){return e.shoppingCart.get("data")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.List)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(u.Map)();if(!e.isEmpty()){var a=e.some((function(e){return e.get("messages",Object(u.List)()).some((function(e){return e.get("code")===O.e}))}));if(a)return!0}var r=n.getIn(["seats","breakdownElements"],Object(u.List)());return _()(t.ancillaries,(function(e){return!(!e.isSeatBundle||!e.isAddedToCart)&&_()(e.travelPartOffers,(function(e){var t=e.travelPart,n=e.passengerOffers;return _()(n,(function(e){return e.assignedQuantity>0&&!w(r,t,e.ancillaryPassenger)}))}))}))})),G=Object(c.a)(h.a,(function(e){return"/payment"===e()})),K=Object(c.a)(Object(m.a)(),(function(e){return Object(k.g)(e)})),Y=Object(c.a)(Object(m.a)(),(function(e){return Object(k.j)(e)}));function Q(){return Object(c.b)({ancillariesConfiguration:D,isLoading:j,isAncillaries:F,flightIds:Object(d.a)(),ancillaries:M,cars:N(),hotels:I,journeyType:Object(p.a)(),isSeatBundlePremiumSeatNotSelected:z,isPaymentViewNext:G,error:R,flowConfiguration:L,bagAllowance:V,upsellData:Object(f.a)(),upsellConfiguration:H,brandSortOrder:U,viewBreakPoint:W,isAwardBooking:q,currentFlow:g.a,tripDestination:K,tripOrigin:Y,currentPage:g.b,dateFormat:y.b,getNextPage:h.a,language:b.a,formatDateTime:y.c,getBackLinkProps:E.a,seatAncillaries:C.a})}},function(e,t,n){"use strict";var a=n(103),r=n.n(a),i=n(3),s=n.n(i),o=n(1),l=n.n(o),c=(n(6),n(39)),u=n.n(c),d=n(12),p=n(1348),h=n(50),f=n(1418),m=n(1264),g=n(1281),v=n(1249),y=n(521),b=n(63),E=n(1376),C=n(148),k="optIn",S="optOut",_="unselected",O="tocError",w="selectionError",P="addToCartError",A="removeFromCartError",x="none";n(2442);var N=function(e){var t=e.children,n=Object(o.useState)(!1),a=r()(n,2),i=a[0],s=a[1],c=Object(o.useRef)(!1),p=Object(o.useRef)(null);return Object(o.useEffect)((function(){p.current&&!c.current&&(c.current=p.current.scrollHeight>p.current.clientHeight)})),l.a.createElement("div",{className:"marketing-text-container"},l.a.createElement("div",{className:u()("marketing-text",{expanded:i}),ref:p},t),c.current&&l.a.createElement(m.a,{isTextButton:!0,className:"view-more-btn","data-toggle":i,onClick:function(){return s(!i)}},i?Object(d.a)("app.viewLess"):Object(d.a)("app.viewMore"),l.a.createElement(h.c,{name:i?h.a.ARROW_TRIANGLE_UP:h.a.ARROW_TRIANGLE_DOWN,fill:!0})))};n(2443);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){var t="ancillary.items.".concat(e,".image"),n=Object(d.i)(t);return n===t?"//placehold.it/320x180":Object(b.a)(n)}function B(e){var t=e.isAddedToCart,n=e.isSelected;return e.isLoading?_:t?k:n?S:_}function L(e){var t,n=(t={},s()(t,w,"ancillary.insurance.selectionError"),s()(t,O,"ancillary.insurance.tocError"),s()(t,P,"ancillary.insurance.addToCartError"),s()(t,A,"ancillary.insurance.removeFromCartError"),t);return l.a.createElement("div",{className:"error"},l.a.createElement(h.c,{name:h.a.ALERT_TRIANGLE,fill:!0}),Object(d.a)(n[e]))}var D=function(e){var t=e.ancillary,n=e.onAncillarySelected,a=e.updateTotalForInsurance,i=e.insuranceSelectionRequired,c=e.setInsuranceSelectionRequired,D=t.code,j=t.market,F=t.isAddedToCart,M=t.isLoading,R=t.productDescriptionURL,V=t.supplierCode,H=t.price,U=l.a.createElement(v.a,{price:H}),W=Object(o.useState)(B(t)),q=r()(W,2),z=q[0],G=q[1],K=Object(o.useState)(F),Y=r()(K,2),Q=Y[0],X=Y[1],J=Object(o.useState)(x),Z=r()(J,2),$=Z[0],ee=Z[1],te=Object(o.useRef)({isAddedToCart:F,isLoading:M}),ne=Object(o.useRef)(),ae=Object(d.i)("app.externalLink");Object(o.useEffect)((function(){te.current.isAddedToCart===F&&te.current.isLoading===M||(G(B(t)),X(!1),te.current.isAddedToCart=F,te.current.isLoading=M),i&&(c(!1),ee(function(e,t,n){return e===_?w:e!==k||t||n?e===k&&t&&!n?P:e===S&&n?A:x:O}(z,Q,F)),ne.current.focus(),Object(E.a)(ne.current))}));var re=u()("dxp-insurance",{"toc-open":z}),ie=function(e,t){return Object(d.a)("ancillary.insurance.".concat(j,".").concat(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{productDescriptionURL:R,externalLink:ae}))},se=function(){a(t,!F),n(D)},oe=function(e){var t=e.target.value;G(t),ee(x),Object(C.g)(F?t===k:t===S)};return l.a.createElement("div",{className:"insurance-container",tabIndex:"-1",ref:ne},l.a.createElement(p.b,{className:re},l.a.createElement("div",{className:"header"},l.a.createElement(g.a,{className:"title",icon:h.a.SHIELD_CHECK,iconFill:!0,iconSize:"lg",title:"ancillary.insurance.ancillaryPanelTitle",tag:"h3"}),l.a.createElement("div",{className:"required-message"},Object(d.a)("ancillary.insurance.requiredMessage"))),l.a.createElement("div",{className:"body"},l.a.createElement("div",{className:"image-container"},l.a.createElement("img",{alt:Object(d.i)("ancillary.items.".concat(D,".name")),src:I(D)}),l.a.createElement("img",{src:Object(b.a)("images/ancillaries/".concat(V,".png")),alt:Object(d.i)("ancillary.insurance.suppliers.".concat(V,".name"))})),l.a.createElement("div",{className:"description"},l.a.createElement(N,null,ie("marketingText")),R&&l.a.createElement("div",{className:"description-url-container"},l.a.createElement("div",{className:"url-description"},ie("urlDescription",{productDescriptionURL:R}))),l.a.createElement("fieldset",null,l.a.createElement("legend",null,l.a.createElement("div",{className:"required-message"},Object(d.a)("ancillary.insurance.selectionRequired")),$===w&&L($)),l.a.createElement("div",{className:"insurance-selection-option"},l.a.createElement("label",{htmlFor:"insurance-selection-".concat(k),className:"spark-radio"},l.a.createElement("input",{id:"insurance-selection-".concat(k),type:"radio",className:"insurance-selection-input spark-radio__input",name:"insurance-selection-idd-group",value:k,disabled:M,onChange:oe,checked:z===k}),l.a.createElement("span",{className:u()("spark-radio__box",{"show-error":$===w})}),l.a.createElement("span",{className:"spark-label"},Object(d.h)("ancillary.insurance.".concat(j,".").concat(k),{amount:U,productDescriptionURL:R,externalLink:ae})))),l.a.createElement("div",{className:"insurance-selection-option"},l.a.createElement("label",{htmlFor:"insurance-selection-".concat(S),className:"spark-radio"},l.a.createElement("input",{id:"insurance-selection-".concat(S),type:"radio",className:"insurance-selection-input spark-radio__input",name:"insurance-selection-idd-group",value:S,disabled:M,onChange:oe,checked:z===S}),l.a.createElement("span",{className:u()("spark-radio__box",{"show-error":$===w})}),l.a.createElement("span",{className:"spark-label"},ie(S)))))),l.a.createElement("div",{className:"summary"},l.a.createElement("div",{className:"summary-title"},function(e,t){return t?l.a.createElement(y.a,null):e?l.a.createElement("div",{className:"opt-in"},l.a.createElement(h.c,{name:h.a.CHECK,fill:!0}),Object(d.a)("ancillary.insurance.insuranceSelected")):Object(C.d)()?l.a.createElement("div",{className:"opt-out"},l.a.createElement(h.c,{name:h.a.ALERT_TRIANGLE}),Object(d.a)("ancillary.insurance.noInsuranceSelected")):Object(d.a)("ancillary.insurance.ancillaryPanelTitle")}(F,M)),l.a.createElement(v.a,{className:"insurance-price",price:H}),l.a.createElement("div",{className:"price-note"},Object(d.a)("ancillary.items.".concat(D,".priceNote")))))),z===k&&!F&&l.a.createElement(p.b,{className:"toc-footer"},($===O||$===P)&&L($),l.a.createElement("div",{className:"toc-container"},l.a.createElement(f.a,{className:"toc-checkbox",checked:Q,onChange:function(e){var t=e.isChecked;return X(t),void ee(x)},label:ie("tocAcknowledgement"),syncStateWithProp:!0}),l.a.createElement("div",{className:"action"},l.a.createElement(m.a,{disabled:!Q||M,onClick:se,className:"add-to-cart"},Object(d.a)("ancillary.addToCart"))))),z===S&&F&&l.a.createElement(p.b,{className:"remove-footer"},$===A&&L($),l.a.createElement(m.a,{onClick:se,disabled:M,className:"remove-from-cart negative"},Object(d.a)("ancillary.removeFromCart"))))};n.d(t,"a",(function(){return D}))},,,,,,,,,,,function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(194),n(1249),n(39)),l=n.n(o),c=n(11),u=n(136),d=n(2142),p=(n(2439),function(e){var t=e.passengers,n=e.journeyType,a=e.ancillariesConfiguration,i=e.seatBundleAssignments,o=e.seatBundleRemoved,c=e.updateTotalForInsurance,p=e.ancillaries,h=e.cartData,f=e.isMobile,m=e.updateQuantityToCode,g=e.bagAllowance,v=r()(e,"ancillaries[".concat(e.ancillaryCode,"]"),{}),y=r()(a,"items.".concat(v.code,".discount.isOriginalPriceDisplayed"),!1),b=r()(a,"items.".concat(v.code,".discount.isDealBannerDisplayed"),!1),E=r()(a,"showBaggageByWeight",!1),C=l()("dxp-ancillary-panel-modal",{"is-custom-group-list":v.isCustomGroup},{"bags-by-weight":E});return s.a.createElement(u.a,{className:C,onCloseClick:function(){return e.onAncillaryClose()}},s.a.createElement(d.a,{updateTotalForInsurance:c,updateQuantityToCode:m,key:"ancillary-panel-".concat(v.code),ancillaries:p,ancillary:v,passengers:t,seatBundleAssignments:i,seatBundleRemoved:o,cartData:h,journeyType:n,isMobile:f,ancillariesConfiguration:a,isOriginalPriceDisplayed:y,isDealBannerDisplayed:b,excludedItineraryParts:e.excludedItineraryParts,onAncillaryClose:function(){return e.onAncillaryClose()},onSelect:function(t){return e.onAncillarySelected(t)},segmentEnabled:r()(e,"segmentEnabled"),onDisclosureClick:function(){return e.onDisclosureClick()},onAddToCart:function(){return e.onAncillaryAddToCart()},bagAllowance:g,onChange:function(t,n,a,r,i,s,o){return e.onAncillaryChange(t,n,a,r,i,s,o)},isRenderedOnModal:!0,retainedTotal:e.retainedTotal}))});p.defaultProps={passengers:{},journeyType:{},ancillariesConfiguration:{},seatBundleAssignments:{},seatBundleRemoved:!1,ancillaries:void 0,cartData:void 0,isMobile:!1,ancillaryCode:"",onAncillaryClose:void 0,onAncillarySelected:void 0,onDisclosureClick:void 0,onAncillaryAddToCart:void 0,onAncillaryChange:void 0,updateQuantityToCode:void 0,updateTotalForInsurance:void 0,bagAllowance:Object(c.Map)(),excludedItineraryParts:Object(c.List)(),retainedTotal:[]};var h=p;n.d(t,"a",(function(){return h}))},function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(92),y=n.n(v),b=n(55),E=n.n(b),C=n(4),k=n.n(C),S=n(2),_=n.n(S),O=n(1),w=n.n(O),P=(n(6),n(39)),A=n.n(P),x=n(12),N=n(528),T=(n(2378),n(2379),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"handleSelectAll",(function(){var e=n.checkboxAll.isChecked();n.setState((function(t){return{checked:k()(t.checked,(function(t,n,a){return t[a]=e,t}),{})}}),(function(){n.updateFilter(n.state.checked)}))})),g()(p()(n),"isNotAllAndValuesIndex",(function(e){return"all"!==e&&"values"!==e})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({checked:this.props.data.values})}},{key:"handleChange",value:function(e,t){var n=this;this.setState((function(e){var a=y()(e.checked);return a[t]=n["checkbox-".concat(t)].isChecked(),{checked:a}}),(function(){n.updateFilter(n.state.checked)}))}},{key:"reset",value:function(){var e=this;this.setState((function(e){return{checked:k()(e.checked,(function(e,t,n){return e[n]=!0,e}),{})}}),(function(){e.updateFilter(e.state.checked)}))}},{key:"updateFilter",value:function(e){return this.props.onFilterUpdate(k()(Object.keys(this.props.data),(function(t,n){return"all"!==n&&"values"!==n&&e[n]&&t.push(n),t}),[]))}},{key:"renderAllCheckbox",value:function(){var e=this,t=this.props.data.all,n=this.props.type,a=E()(this.state.checked,(function(e){return e}));return w.a.createElement("div",{className:"checkbox-container"},w.a.createElement(N.a,{ref:function(t){e.checkboxAll=t},id:"all-".concat(n),label:Object(x.i)("filter.".concat(n,".all")),checked:a,onChange:this.handleSelectAll}),w.a.createElement("span",{className:"checkbox-quantity"},t))}},{key:"renderFilter",value:function(){var e=this,t=this.props.data,n=this.props.type,a=this.props.labelPrefix,r=this.state,i=this,s=3===Object.keys(this.props.data).length,o=Object.keys(t).filter(this.isNotAllAndValuesIndex).map((function(o){var l="".concat(n,"-").concat(o);return w.a.createElement("div",{key:l,className:"checkbox-container"},w.a.createElement(N.a,{ref:function(t){e["checkbox-".concat(o)]=t},id:l,label:Object(x.i)(a+o),checked:r.checked[o],disabled:s,onChange:function(e){return i.handleChange(e,o)}}),w.a.createElement("span",{className:"checkbox-quantity"},t[o]))}));return w.a.createElement("div",{className:"filter"},Object.keys(t).length>3?this.renderAllCheckbox():null,o)}},{key:"render",value:function(){var e=A()("dxp-checkbox-filter",this.props.className||""),n=!_()(this.props.data);return w.a.createElement("div",{className:e},n?this.renderFilter():t.renderNotApplicable())}}],[{key:"renderNotApplicable",value:function(){return w.a.createElement("div",{className:"not-applicable"},Object(x.a)("filter.notApplicable"))}}]),t}(O.Component));g()(T,"defaultProps",{className:void 0}),n.d(t,"a",(function(){return T}))},,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(0),E=n.n(b),C=n(1),k=n.n(C),S=(n(6),n(194),n(11)),_=(n(1249),n(157)),O=n(1907),w=n(2195),P=n(2142),A=(n(2446),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{isCollapsed:n.isFeatureAncillaryExpanded()||E()(n.props.ancillariesConfiguration,"showSelectedFeaturedAncillaryInModal",!1)||!1}),n}return f()(t,e),s()(t,[{key:"onAddToCart",value:function(e,t){this.updateState(t),this.props.onAncillaryAddToCart()}},{key:"onClose",value:function(e,t){this.updateState(t),this.props.onAncillaryClose()}},{key:"onSelect",value:function(e,t){this.updateState(t),this.props.onAncillarySelected(e)}},{key:"isFeatureAncillaryExpanded",value:function(){var e=this.props,t=e.ancillary,n=e.ancillariesConfiguration,a=E()(n.featuredOfferingCodes,t.code),r=E()(this.props.ancillariesConfiguration,"showSelectedFeaturedAncillaryInModal",!1),i=E()(a,"expanded",!1)&&t.code!==_.b.INSURANCE;return i&&!r&&this.props.onAncillarySelected(t.code),i}},{key:"updateState",value:function(e){e||this.setState((function(e){return{isCollapsed:!e.isCollapsed}}))}},{key:"render",value:function(){var e=this,n=this.props,a=n.selectedAncillaryCode,r=n.ancillariesConfiguration,i=n.ancillary,s=n.renderWithAnimation,o=n.segmentEnabled,l=n.passengers,c=n.updateTotalForInsurance,u=n.journeyType,d=n.seatBundleAssignments,p=n.seatBundleRemoved,h=n.ancillaries,f=n.cartData,m=n.isMobile,v=n.bagAllowance,y=n.updateQuantityToCode,b=E()(i,"code"),C=E()(r,"items.".concat(b,".discount.isOriginalPriceDisplayed"),!1),S=E()(r,"items.".concat(b,".discount.isDealBannerDisplayed"),!1),A=E()(r,"showSelectedFeaturedAncillaryInModal",!1);A||b!==_.b.INSURANCE||(A=1===E()(i,"products").length);var x=A?A||b!==a:!this.state.isCollapsed;return k.a.createElement("div",{className:"dxp-ancillary-feature"},k.a.createElement(O.a,{destroyChildrenOnCollapse:t.isCarousal(i,r),isCollapsed:x,disabled:!0,hideHeaderIcon:!0},k.a.createElement(O.a.Header,null,k.a.createElement(w.a,{key:"ancillary-".concat(b),ancillary:i,isOriginalPriceDisplayed:C,isDealBannerDisplayed:S,onSelect:function(t){return e.onSelect(t,A)},ancillariesConfiguration:r,renderWithAnimation:s,segmentEnabled:o,isMobile:m,passengers:l,bagAllowance:v,retainedTotals:g()({},b,this.props.retainedTotal)})),k.a.createElement(O.a.Body,null,k.a.createElement(P.a,{updateTotalForInsurance:c,updateQuantityToCode:y,key:"ancillary-panel-".concat(b),ancillaries:h,ancillary:i,passengers:l,seatBundleAssignments:d,seatBundleRemoved:p,cartData:f,journeyType:u,isMobile:m,ancillariesConfiguration:r,isOriginalPriceDisplayed:C,isDealBannerDisplayed:S,onAncillaryClose:function(){return e.onClose()},onSelect:function(t){return e.props.onAncillarySelected(t)},segmentEnabled:o,onDisclosureClick:function(){return e.props.onDisclosureClick()},onAddToCart:function(){return e.onAddToCart()},onChange:this.props.onAncillaryChange,bagAllowance:v,excludedItineraryParts:this.props.excludedItineraryParts,retainedTotal:this.props.retainedTotal}))))}}],[{key:"isCarousal",value:function(e,t){return e.code===E()(t,"insurance.code")&&E()(t,"carousalPatternEnabled",!1)}}]),t}(C.Component));g()(A,"defaultProps",{selectedAncillaryCode:void 0,ancillary:void 0,ancillariesConfiguration:{},renderWithAnimation:!1,segmentEnabled:!1,passengers:void 0,journeyType:void 0,seatBundleAssignments:void 0,seatBundleRemoved:!1,ancillaries:void 0,cartData:void 0,onAncillarySelected:y.a,onDisclosureClick:void 0,onAncillaryAddToCart:void 0,onAncillaryClose:y.a,onAncillaryChange:void 0,isMobile:!1,updateQuantityToCode:void 0,bagAllowance:Object(S.Map)(),updateTotalForInsurance:void 0,excludedItineraryParts:Object(S.List)(),retainedTotal:[]}),n.d(t,"a",(function(){return A}))},,,function(e,t,n){"use strict";var a=n(176),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(2448),"star-empty"),l="star-filled",c="star-half-filled";function u(e){var t=e.starsValue,n=e.starsNumber,a=r()(n).map((function(e){var n;return t>e?t-e==.5?(n=e,s.a.createElement("div",{key:n,className:"star ".concat(o)},s.a.createElement("div",{className:"star ".concat(c)}))):d(e,l):d(e,o)}));return s.a.createElement("div",{className:"stars-indicator"},a)}function d(e,t){return s.a.createElement("div",{key:e,className:"star ".concat(t)})}u.defaultProps={starsNumber:5};var p=u;n.d(t,"a",(function(){return p}))},,function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=n(51),s=n.n(i),o=n(42),l=n(11),c=n(1593),u=n(214),d=n(1892),p=n(569),h=n(1567),f=n(101),m=n(531),g=n(532),v=n(174),y=n(327),b=n(328),E=n(438),C=n(2),k=n.n(C),S=n(10),_=n(60);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"a",(function(){return H}));var w=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.metadata.get("exchangeAncillariesConfiguration"),{ancillaryMap:e.metadata.get("ancillaryMap").toJS()})},P=function(e){return e.ancillaries.get("isLoading")},A=function(e){return e.ancillaries.get("isAncillaries")},x=function(e){return s()(e.ancillaries,"toJS")},N=function(e,t){return e.metadata.getIn(["flows",Object(f.a)(t.location.pathname)])},T=function(e,t){return Object(f.a)(t.location.pathname)},I=function(e){return e.notPreselectedAncillaries||[]},B=function(e){return e.changeFlight||e.reservation.get("itineraryPart")},L=function(e){return e.shoppingCart.toJS()},D=function(e){return e.ancillaries.get("error")},j=function(e){return e.bagfee.get("bagAllowance",Object(l.Map)())},F=function(e){return e.metadata.get("viewBreakPoint")},M=function(e){return e.metadata.get("seatOfferCodesForReAssociationMessage").toArray()},R=function(e){var t=e.shoppingCart.getIn(["data","itineraryPartAirports"],Object(l.List)()),n=e.shoppingCart.getIn(["data","selectedOfferAirports"],Object(l.List)());return t.filter((function(e){return!n.some((function(t){return t.get("origin")===e.get("origin")&&t.get("destination")===e.get("destination")}))})).map((function(e){return"".concat(e.get("origin"),"_").concat(e.get("destination"))}))},V=function(e){return function(e){var t=e.ancillaries.get("ancillaries",Object(l.Map)()),n=(e.shoppingCart.getIn(["data","originalBooking"],Object(l.List)()).find((function(e){return e.get("label")===S.F}))||Object(l.Map)()).get("breakdownElements",Object(l.List)());return t.reduce((function(e,t,a){if(t.has("ancillaries")){var r=t.get("ancillaries",Object(l.List)()).map((function(e){return e.get("code")}));return e[a]=n.reduce((function(e,t){return r.contains(t.get("label"))?Object(_.c)(e,t.get("price").toJS()):e}),[]),e}var i=n.filter((function(e){return e.get("label")===a})).reduce((function(e,t){return Object(_.c)(e,t.get("price").toJS())}),[]);return k()(i)||(e[a]=i),e}),{})}(e)};function H(){return Object(o.b)({ancillariesConfiguration:w,isLoading:P,isAncillaries:A,flightIds:Object(c.a)(),selectedItineraryParts:Object(p.a)(),ancillaries:x,journeyType:Object(d.a)(),flowConfiguration:N,searchCriteria:Object(u.a)(),itineraryParts:B,error:D,shoppingCart:L,notPreselectedAncillaries:I,bagAllowance:j,viewBreakPoint:F,background:Object(m.a)(),currentFlow:T,getNextPage:g.a,currentPage:v.b,language:y.a,dateFormat:b.b,getBackLinkProps:E.a,cancelProps:E.b,excludedItineraryParts:R,seatOfferCodesForReAssociation:M,retainedTotals:V,seatAncillaries:h.a})}},,function(e,t,n){"use strict";var a=n(103),r=n.n(a),i=n(3),s=n.n(i),o=n(54),l=n.n(o),c=n(82),u=n.n(c),d=n(37),p=n.n(d),h=n(92),f=n.n(h),m=n(35),g=n.n(m),v=n(4),y=n.n(v),b=n(18),E=n.n(b),C=n(2),k=n.n(C),S=n(8),_=n.n(S),O=n(0),w=n.n(O),P=n(13),A=n.n(P),x=n(34),N=n.n(x),T=n(118),I=n(1533),B=n(152),L=n(1363),D=n(24),j=n(2007),F=n(585),M=n(567),R=n(205),V=n(43),H=n.n(V),U=n(58),W=n.n(U),q=n(7),z=n(148),G=n(11);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}n.d(t,"d",(function(){return Y})),n.d(t,"e",(function(){return Q})),n.d(t,"m",(function(){return X})),n.d(t,"o",(function(){return J})),n.d(t,"j",(function(){return Z})),n.d(t,"a",(function(){return $})),n.d(t,"i",(function(){return ee})),n.d(t,"h",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"g",(function(){return ae})),n.d(t,"b",(function(){return re})),n.d(t,"c",(function(){return ie})),n.d(t,"k",(function(){return se})),n.d(t,"l",(function(){return oe})),n.d(t,"n",(function(){return le})),n.d(t,"x",(function(){return ce})),n.d(t,"A",(function(){return ue})),n.d(t,"y",(function(){return pe})),n.d(t,"z",(function(){return he})),n.d(t,"p",(function(){return fe})),n.d(t,"r",(function(){return me})),n.d(t,"s",(function(){return ge})),n.d(t,"w",(function(){return ve})),n.d(t,"u",(function(){return ye})),n.d(t,"t",(function(){return be})),n.d(t,"v",(function(){return Ee})),n.d(t,"q",(function(){return Ce}));var Y="GET_MTO_PASSENGER_REQUEST",Q="GET_MTO_PASSENGER_RESPONDED",X="UPDATE_MTO_ANCILLARY",J="UPDATING_MTO_ANCILLARY",Z="NO_MTO_ANCILLARIES_AVAILABLE",$="ERROR_MTO_ANCILLARY",ee="MTO_TAKE_SNAP_SHOT",te="MTO_REVERT_TO_SNAP_SHOT",ne="GET_MTO_PNRINFO_REQUEST",ae="GET_MTO_PNRINFO_RESPONDED",re="GET_MTO_ANCILLARIES_REQUEST",ie="GET_MTO_ANCILLARIES_RESPONDED",se="NO_PNR_AVAILABLE",oe="SELECT_ANCILLARY",le="UPDATE_MTO_SEAT_BUNDLE_RESULT";function ce(e,t,n,a,r,i,s){var o=N()(e),l=Object(R.a)(e,a,n).ancillaryOperations;return _()(o[t.code],"needsUpdate",Boolean(l.length)),w()(t,"insurance.code")===B.b?(_()(o[t.insurance.code],"needsUpdate",!0),_()(t,"needsUpdate",e[t.insurance.code].needsUpdate),_()(o[t.insurance.code],"isPreselected",!1),w()(o[t.insurance.code],"insurance.isAncillarySelected")?(_()(o[t.insurance.code],"insurance",{}),_()(o[t.insurance.code],"insurance.isAncillarySelected",!1)):(_()(o[t.insurance.code],"insurance",t.insurance),_()(o[t.insurance.code],"insurance.isAncillarySelected",!0))):(void 0!==r?o[t.code]=T.updateItineraryPart(o,t,r,s,g()(n,"isAddedToCart")):_()(o[t.code],"offers.passengerOffers",g()(n,"isAddedToCart")),o[t.code]=T.calculateTotalForAncillary(o,w()(o,t.code))),function(e){e({type:X,ancillaries:o,error:!1})}}var ue=function(e,t,n){var a=w()(t,"insurance.price.currency");if(n)_()(e,"total",[{amount:0,currency:a}]);else{var r=w()(t,"insurance.price",[]);_()(e,"total",[r]),_()(e,"insurance",t.insurance)}return function(e){e({type:X,error:!1})}},de=function(e,t,n){var a=f()(e),r=w()(t,"isInsuranceUpdate");return function(e,t){return 1===w()(e,"products").length&&t||w()(e,"removeFromCart")}(t,n)||r&&!n?(_()(a[t.code],"isAddedToCart",!1),_()(a[t.code],"isPreselected",!1),_()(a[t.code],"removeFromCart",!1)):_()(a[t.code],"isAddedToCart",!0),a},pe=function(e,t){var n=t[e],a=N()(n),r=N()(t);_()(a,"needsUpdate",!1),_()(a,"isLoading",!0),_()(r,"[thisAncillary.code]",a),r=p()(r,s()({},a.code,a));var i=w()(r,"[".concat(e,"].isAddedToCart"));_()(a,"isInsuranceUpdate",i),r=de(r,a,i);var o=n.products.length;if(1===o)if(w()(r,"[".concat(e,"].isAddedToCart")))_()(r[a.code],"total[0]",w()(n,"price"));else{var l=w()(n,"price.currency","");_()(r[a.code],"total[0]",{amount:0,currency:l})}return(o>1?a.removeFromCart:a.isAddedToCart)?function(e,t){return function(n){return n({type:q.ue}),Object(z.h)({ancillary:t,isAdding:!1,flow:D.a.MTO}).then((function(a){_()(e[t.code],"isLoading",!1),n({type:J,ancillaries:e}),n({type:q.ve,results:a})})).catch((function(e){n({type:q.te,error:e})}))}}(r,a):function(e,t){return function(n){return n({type:q.f}),Object(z.h)({ancillary:t,isAdding:!0,flow:D.a.MTO}).then((function(a){_()(e[t.code],"isLoading",!1),_()(e[t.code],"isSelected",!0),n({type:J,ancillaries:e}),n({type:q.g,results:a})})).catch((function(e){n({type:q.e,error:e})}))}}(r,a)};function he(e){return function(t,n){if(w()(e,"insurance.enabled")){var a=w()(e,"insurance.code"),r=n().ancillariesMto.get("ancillaries",Object(G.Map)()),i=r.get(a,Object(G.Map)()),s=n().shoppingCart.getIn(["data","insurance","breakdownElements"],Object(G.List)());if(!i.isEmpty()){var o=!s.isEmpty(),l=Object(z.d)()||o,c=i.get("isPreselected")&&o,u=r.setIn([a,"isAddedToCart"],o).setIn([a,"isLoading"],!1).setIn([a,"isSelected"],l).setIn([a,"isPreselected"],c);Object(z.g)(l),t({type:J,ancillaries:u})}}}}var fe=function(e,t){var n=w()(t,"insurance.productID");return 0===w()(t,"total[0].amount")?_()(e,"[".concat(t.code,"].removeFromCart"),!0):_()(e,"[".concat(t.code,"].removeFromCart"),!1),_()(e,"[".concat(t.code,"].productID"),n),pe(B.b,e)};function me(e,t,n,a){var r=N()(t),i=N()(e);return r.needsUpdate=!1,r.isCustomGroup&&A()(r.ancillaries,(function(e){i[e.code].needsUpdate=!1})),r.isLoading=!0,i[r.code]=r,function(e){return e({type:J,ancillaries:i}),T.addToCart(i,n,a,"ancillariesMto").then((function(t){var n,a,s=null,o=null;return r=T.updateQuantityToCodeMap(i,r),i[r.code]=r,k()(t)?s=i:(o=!0,(s=T.addResult(i,r.code,t.ancillaryOperationResults))[r.code].isAddedToCart=Object(M.a)(i,s[r.code]),s[r.code]=T.calculateTotalForAncillary(i,s[r.code]),s[r.code].addedTotal=s[r.code].total),s[r.code].isLoading=!1,s[r.code].error?(e({type:$,ancillaries:s,error:!0}),e({type:te})):(e({type:X,ancillaries:s,error:!1,ancillariesAdded:!0}),r.isSeatBundle&&e({type:le,isSeatBundlePremiumSeatNotSelected:(n=t.ancillaryOperationResults,a=W()(y()(n,(function(e,t){return e.push(w()(t,"messages",[])),e}),[])),H()(a,(function(e){return"premium.seat.not.selected.for.seat.bundle"===e.code})))})),o})).catch((function(){i[r.code].isLoading=!1,e({type:$,ancillaries:i,error:!0}),e({type:te})}))}}function ge(e,t,n,a){return function(i,o){var c=!k()(a)&&!u()(a.find((function(e){return e.get("tripOption")===L.a.ADD_INSURANCE_POSTBOOKING&&e.get("enabled")}))),d=o().shoppingCart.get("data"),p=!k()(t.get("insuranceInformation")),h={itineraryParts:Object(j.a)(t.getIn(["itinerary","itineraryParts"])),passengers:Object(j.c)(t.get("passengers")),totalAirfare:Object(j.d)(t.getIn(["priceBreakdown","price","alternatives"])),preferredLanguage:n&&Object(j.b)(n)};i({type:Y}),i({type:re}),i({type:q.i});var m=[],g=w()(e,"insurance.enabled");return(w()(e,"brandedAncillary.enabled")?T.postAncillaries(e,"mtoBrandedAncillaries"):T.getAncillaries(e,"ancillariesMto")).then((function(n){if(m.push(n),g&&!p&&c){var a=o().metadata.getIn(["shoppingCart","insurance"],Object(G.Map)()).toJS(),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},a),l=t.getIn(["itinerary","itineraryParts"],Object(G.List)()).first(),u=l.has("origin")?l.get("origin"):l.get("segments",Object(G.List)()).first(Object(G.Map)()).get("origin");return T.getPostInsurance(r,h,d,u).then((function(e){return e&&m.push(e)}))}if(k()(n)||k()(w()(n,"ancillaries")))return i({type:Z});i({type:q.j,globalAdvisories:m.advisories,travelPartAdvisories:m.travelPartAdvisories}),i({type:Q,ancillaries:E()(n,{ancillaries:y()(w()(n,"ancillaries",{}),(function(e,t,a){return(t=T.calculateTotalForAncillary(w()(n,"ancillaries",{}),t)).total.amount>0&&(t.addedTotal=t.total),e[a]=t,e}),{})})})})).then((function(){return function(e,t){var n=r()(t,2),a=n[0],i=n[1];if(k()(w()(a,"ancillaries"))&&k()(i))return e({type:Z});var s=Object(F.a)(a),o=k()(i)||k()(i.insurance)?s:function(e,t){var n=k()(e)?{}:f()(e);return w()(t,"insurance.isPreselected")?_()(t.insurance,"total",[{amount:w()(t.insurance,"price.amount"),currency:w()(t.insurance,"price.currency")}]):_()(t.insurance,"total",[{amount:0,currency:w()(t.insurance,"price.currency")}]),n.sortedCodes=[B.b].concat(l()(n.sortedCodes)),n.ancillaries[B.b]=t.insurance,n}(s,i);return e({type:le,isSeatBundlePremiumSeatNotSelected:a.status.isSeatNotSelectedForASeatBundle}),e({type:ie,ancillaries:o,insurance:i,status:a.status})}(i,m)})).catch((function(e){i({type:Z,error:e})}))}}function ve(e){return function(t){t({type:ee,ancillaries:e})}}function ye(){return function(e){e({type:te})}}function be(e,t){return function(n){return n({type:q.bb}),n({type:ne}),Object(I.b)(e,"ancillariesPnr",t,D.a.MTO).then((function(e){return n({type:ae,pnrResponse:e}),e})).catch((function(e){throw n({type:se,error:e}),n({type:q.cb}),e}))}}function Ee(e){return function(t){t({type:oe,ancillaryCode:e})}}var Ce=function(e){return function(t){return t({type:"ADD_OR_REMOVE_ONE"}),T.addOrRemoveOneForAllPassengers(e)}}},,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Y}));var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(22),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(56),E=n.n(b),C=n(0),k=n.n(C),S=n(15),_=n.n(S),O=n(321),w=n.n(O),P=n(2),A=n.n(P),x=n(5),N=n.n(x),T=n(36),I=n.n(T),B=n(27),L=n.n(B),D=n(1),j=n.n(D),F=(n(6),n(11)),M=n(39),R=n.n(M),V=n(50),H=n(12),U=n(1264),W=n(244),q=n(195),z=n(1249),G=n(2371),K=n(3326),Y=(n(2720),n(2721),function(t){function n(){var e;return s()(this,n),e=l()(this,u()(n).call(this)),y()(p()(e),"handleFocus",(function(t){t.stopPropagation(),!e.props.isPreviewMode&&W.a.is(W.a.code.special.tab,t.which)&&e.props.shouldFocusNextFlightButton&&(t.preventDefault(),e.props.focusNextFlightButton()),e.props.isPreviewMode||!W.a.is(W.a.code.special.tab,t.which)||e.props.shouldFocusNextFlightButton||(t.preventDefault(),e.props.footerButtonFocus())})),y()(p()(e),"handleViewDetailsEvent",(function(t){("click"===t.type||W.a.is(W.a.code.special.enter,t.which))&&(t.preventDefault(),e.setState((function(e){return{isDetailsExpanded:!e.isDetailsExpanded}}),e.handleEvent))})),e.state={isDetailsExpanded:!1,isLegendCollapsed:!0},e}return g()(n,t),f()(n,null,[{key:"resolveSeatPrice",value:function(e){var t=e;return 1===E()(t)&&(t=e[0]),t}},{key:"seatPriceToPriceComponent",value:function(e,t){var a=n.resolveSeatPrice(e.slice(0,t)),r=n.resolveSeatPrice(e.slice(t));return j.a.createElement(z.a,{originalPrice:A()(a)?void 0:a,includeDecimal:!0,price:r})}}]),f()(n,[{key:"UNSAFE_componentWillMount",value:function(){e.addEventListener("scroll",this),e.addEventListener("resize",this)}},{key:"componentWillUnmount",value:function(){e.removeEventListener("scroll",this),e.removeEventListener("resize",this)}},{key:"onViewLegendClick",value:function(){this.setState((function(e){return{isLegendCollapsed:!e.isLegendCollapsed}}))}},{key:"getSeatLegendCharacterPriority",value:function(e){var t=this.props.configuration.legendPriority;return _()(t,(function(t){return e.indexOf(t)>=0}))}},{key:"anchorToBottom",value:function(e,t,n){this.legendContainer.style.top="".concat(e.bottom-t.height,"px"),this.legendContainer.style.width="".concat(n.width,"px"),this.legendContainer.setAttribute("fixed",!1)}},{key:"anchorToTop",value:function(e,t,n){this.legendContainer.style.top="".concat(e.height+n,"px"),this.legendContainer.style.width="".concat(t.width,"px"),this.legendContainer.setAttribute("fixed",!0)}},{key:"handleEvent",value:function(){if(!this.props.isPreviewMode){var t=this.props.configuration,n=t.legend.sticky.breakpoint,a=e.innerWidth>=n,r=L()(document.getElementsByClassName("dxp-breadcrumbs-container")).getBoundingClientRect(),i=I()(document.getElementsByClassName("passenger-list")).getBoundingClientRect(),s=t.legend.sticky.offset,o=this.legendContainer.getBoundingClientRect(),l=I()(document.getElementsByClassName("right-container")).getBoundingClientRect(),c=I()(document.getElementsByClassName("seat-map-wrapper")).getBoundingClientRect(),u=i.bottom>=o.top,d=o.top<r.height+s,p=r.height+s+o.height<l.bottom,h=i.bottom<=r.height+s,f=o.bottom>l.bottom,m=c.height>i.height+o.height,g=a&&!u&&m,v=g&&(f||d&&!p);g&&(h||d)&&p?this.anchorToTop(r,i,s):v?this.anchorToBottom(l,o,i):this.legendContainer.removeAttribute("fixed")}}},{key:"renderFacilities",value:function(e){var t=this;return N()(e,(function(e,n){var a="facility".concat(n);return j.a.createElement("li",{key:a,id:"amenity-".concat(a),className:"legend-facility"},t.renderFacility(e),j.a.createElement("span",{className:"legend-label","aria-hidden":"true"},Object(H.a)("seatSelection.legend.".concat(e.storefrontSlotCode))))}))}},{key:"renderFacility",value:function(e){var t=this.props.configuration;return j.a.createElement("div",{className:"facility"},j.a.createElement(G.a,{className:"legend",facility:Object(F.fromJS)(e),configuration:t}))}},{key:"renderSeat",value:function(e){var t=this.props.configuration.renderFloor,n=R()("dxp-seat legend",e.seatCharacteristics,e.slotCharacteristics,{unavailable:!e.available,"no-floor":!t});return j.a.createElement("div",{className:"seat"},j.a.createElement("div",{className:n}))}},{key:"renderSeats",value:function(e){var t=this;return N()(e,(function(e,a){var r=A()(e.seatModel.discountInfo)?0:E()(e.seatModel.discountInfo.originalPrices.alternatives),i="seat".concat(a),s=e.seatModel.seatPrice,o=null;return e.available&&(o=n.seatPriceToPriceComponent(s,r)),j.a.createElement("li",{key:i,id:"seat-type-".concat(i),className:"legend-seat-type"},t.renderSeat(e),j.a.createElement("span",{className:"legend-label"},j.a.createElement("span",{className:R()("seat-type seat-type-legend-".concat(w()(t.getSeatLegendCharacterPriority(e.seatCharacteristics))))},Object(H.a)("seatSelection.legend.".concat(t.getSeatLegendCharacterPriority(e.seatCharacteristics)))),j.a.createElement("span",{className:R()("legend-price legend-price-".concat(w()(t.getSeatLegendCharacterPriority(e.seatCharacteristics))))},A()(o)?Object(H.a)("seatSelection.seat.freeOfCharge"):o)))}))}},{key:"renderViewDetails",value:function(){var e=this.state.isDetailsExpanded;return j.a.createElement(U.a,{onClick:this.handleViewDetailsEvent,onKeyPress:this.handleViewDetailsEvent,onKeyDown:this.handleFocus,isTextButton:!0,className:"view-details spark-btn--sm","aria-expanded":e,"aria-controls":"seats-legend-expanded"},j.a.createElement("span",{className:"text"},Object(H.a)(e?"seatSelection.legend.hideDetails":"seatSelection.legend.viewDetails")),j.a.createElement(V.c,{fill:!0,name:e?V.a.ARROW_TRIANGLE_UP:V.a.ARROW_TRIANGLE_DOWN}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.legend,a=t.id,i=this.state.isDetailsExpanded||this.props.configuration.legend.isExpandedModeEnabled,s=R()("legend-box",this.state.isLegendCollapsed?"collapsed":""),o=k()(n,"facilities",[]),l=this.props.isAuthorable,c=Object(q.a)(l,"legend");return j.a.createElement("div",r()({className:"dxp-legend",id:a},c,{ref:function(t){e.legendContainer=t}}),j.a.createElement("button",{type:"button",className:"legend-toggler",onClick:function(){return e.onViewLegendClick()},"aria-expanded":!this.state.isLegendCollapsed,"aria-controls":"seats-legend"},j.a.createElement("span",{className:this.state.isLegendCollapsed?"icon-arrow-chevron-down":"icon-arrow-chevron-up"}),j.a.createElement("span",{className:"text"},Object(H.a)(this.state.isLegendCollapsed?"seatSelection.legend.view-legend":"seatSelection.legend.hide-legend"))),j.a.createElement("div",{className:s,id:"seats-legend"},j.a.createElement("span",{className:"legend"},Object(H.a)("seatSelection.legend.label")),j.a.createElement("ul",{className:"seats-list"},this.renderSeats(n.seats),j.a.createElement(K.a,{exits:n.exit})),j.a.createElement("ul",{className:"full-legend",id:"seats-legend-expanded"},i&&this.renderFacilities(n.facilities)),0!==o.length&&!this.props.configuration.legend.isExpandedModeEnabled&&this.renderViewDetails()))}}]),n}(D.Component));y()(Y,"defaultProps",{isPreviewMode:!1,isAuthorable:!0,focusNextFlightButton:void 0,footerButtonFocus:void 0,shouldFocusNextFlightButton:!1,id:void 0})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(1),g=n.n(m),v=(n(6),n(194),n(39)),y=n.n(v),b=(n(2719),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getClassName",value:function(){var e=this.props,t=e.facility,n=e.configuration,a=e.className,r=n.renderFloor;return y()("dxp-facility",a,t.get("slotCharacteristics"),t.get("storefrontSlotCode"),{"no-floor":!r})}},{key:"render",value:function(){var e=this.getClassName();return g.a.createElement("div",{className:e},g.a.createElement("div",{className:"facility","aria-label":this.props.facility.get("storefrontSlotCode")}))}}]),t}(m.PureComponent));f()(b,"defaultProps",{className:""})},function(e,t,n){"use strict";var a=n(2373);n.d(t,"a",(function(){return a.a}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return le}));var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(22),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(51),E=n.n(b),C=n(115),k=n.n(C),S=n(122),_=n.n(S),O=n(77),w=n.n(O),P=n(4),A=n.n(P),x=n(58),N=n.n(x),T=n(83),I=n.n(T),B=n(52),L=n.n(B),D=n(27),j=n.n(D),F=n(0),M=n.n(F),R=n(82),V=n.n(R),H=n(2),U=n.n(H),W=n(13),q=n.n(W),z=n(98),G=n.n(z),K=n(112),Y=n.n(K),Q=n(18),X=n.n(Q),J=(n(6),n(1)),Z=n.n(J),$=n(102),ee=n.n($),te=(n(194),n(11)),ne=n(1714),ae=n(1376),re=n(24),ie=n(195),se=n(3329),oe=n(3301),le=(n(2733),function(t){function n(e){var t;return s()(this,n),t=l()(this,u()(n).call(this,e)),y()(p()(t),"onKeyPress",(function(e){return 27===e&&t.hideSeatOverlay()})),y()(p()(t),"onSlotSelection",(function(e){if(L()(I()(t.props.preselectedSeats),e.props.item.get("code"))>-1)t.hideSeatOverlay();else{var n=t.props.seatMap.get("seatRows").find((function(t){return t.get("rowNumber")===e.props.item.get("rowNumber")&&-1!==t.get("seatCodes").indexOf("SEAT")}));t.validateSeatSelection(e,n.get("seats").find((function(t){return t.get("code")===e.props.item.get("code")})))}})),y()(p()(t),"hideSeatOverlay",(function(){t.setState({overlayVisible:!1}),t.seatMapGrid&&t.state.selectedSlot&&t.state.selectedSlot.focus()})),y()(p()(t),"selectSeat",(function(e){Object(ae.a)(document.querySelector(".dxp-shared-seat-selection-tabs"),{headerOffset:120});var n=e.get("code");if(!(L()(I()(t.props.preselectedSeats),n)>-1)){var a=X()({},t.props.preselectedSeats);a[t.props.selectedPassenger]=n;var r=t.state.newSeatSelectedForPax;r[t.props.selectedPassenger]=!0,t.props.onSeatSelection(n,a).then((function(){t.setState({preselectedSeats:a,newSeatSelectedForPax:r},t.hideSeatOverlay())}))}})),t.state={overlayVisible:!1,selectedSeat:null,newSeatSelectedForPax:{},showRefundForfeit:!1,selectedSlot:null},t}return g()(n,t),f()(n,null,[{key:"getSeatCoordinates",value:function(e,t){var n=0,a=0;do{k()(e.offsetLeft)&&(n+=e.offsetLeft),k()(e.offsetTop)&&(a+=e.offsetTop),e=e.offsetParent}while(e&&!e.classList.contains("dxp-seat-map"));var r=M()(E()(t.props.item,"toJS"),"seatCharacteristics",[]);return-1!==L()(r,"blank-left")&&(n-=18),-1!==L()(r,"blank-right")&&(n+=18),{left:n,top:a}}}]),f()(n,[{key:"componentDidMount",value:function(){e.addEventListener("resize",this),this.hideSeatOverlay()}},{key:"shouldComponentUpdate",value:function(e,t){return Object(ne.b)({left:e,right:this.props,keys:["preselectedSeats","selectedSeatPrices","selectedPassenger"]})||Object(ne.b)({left:t,right:this.state,keys:["overlayVisible","selectedSeat","newSeatSelectedForPax","showRefundForfeit"]})}},{key:"componentWillUnmount",value:function(){e.removeEventListener("resize",this)}},{key:"getSelectedSeatPrices",value:function(){return this.props.tripDetails.get("passengers").map((function(e){return e.get("flights").find((function(e){return e.getIn(["seatPrice","alternatives"],[])}))}))}},{key:"calculateSeatOverlayLeftCoordinate",value:function(e,t){var n=this.seatOverlay.container.offsetWidth,a=(this.seatMapContainer.offsetWidth-n)/2;return a>e?e:e>n+a?e-n+t:a}},{key:"checkAllowedPassenger",value:function(e,t,n,a){var r=this,i=N()(t.get("slotCharacteristics").map((function(e){return[e.toLowerCase()]})).toJS());if(n&&"INF"!==this.props.selectedPassengerType){var s=this.isRefundForfeited();this.setState({overlayVisible:!0,selectedSeat:t,showRefundForfeit:s,selectedSlot:e},(function(){G()(Y()(a,r.props.configuration.displayOverlayForSeats),Y()(i,r.props.configuration.displayOverlayForSeats)).length||s?r.showSeatOverlay(e):(V()(r.props.selectedPassenger)||r.selectSeat(e.props.item),r.hideSeatOverlay())}))}else this.props.passengerNotAllowed()}},{key:"checkIfReassociationIsvalid",value:function(){var e=M()(this.props.tripDetails.toJS(),["pnrInfo","itinerary","itineraryParts"],[]),t=A()(e,(function(e,t){return q()(t.segments,(function(t){var n={origin:t.origin,destination:t.destination,airlineCode:t.flight.airlineCode};e.push(n)})),e}),[]),n=M()(this.props,"shoppingCart.data.segments",[]);return w()(n,t)}},{key:"enterSeatSelection",value:function(){this.seatMapGrid&&this.seatMapGrid.enterTable()}},{key:"handleEvent",value:function(){this.hideSeatOverlay()}},{key:"isRefundForfeited",value:function(){var e=this.props,t=e.preselectedSeats,n=e.selectedPassenger,a=e.seatMap,r=M()(t,"[".concat(n,"]"));if(U()(r)||M()(this.state,"newSeatSelectedForPax[".concat(n,"]"),!1))return!1;var i=parseInt(r.match(/^\d+/)[0],10),s=a.get("seatRows").find((function(e){return e.get("rowNumber")===i})).get("seats").find((function(e){return e.get("code")===r})),o=M()(s,"refundIndicator","");return!M()(s,"available",!0)&&(U()(o)||"N"===o)}},{key:"showSeatOverlay",value:function(t){var a=ee.a.findDOMNode(t),r=n.getSeatCoordinates(a,t),i=r.left,s=r.top,o=this.seatOverlay.container,l=j()(o.childNodes),c=s+a.offsetHeight/2+l.offsetHeight,u=this.calculateSeatOverlayLeftCoordinate(i,a.offsetWidth);if(o.style.top=c+"px",o.style.left=u+"px",l.style.left=i+(a.offsetWidth-l.offsetWidth)/2-u+"px",this.props.isPreviewMode)o.scrollIntoViewIfNeeded();else{var d=this.seatMapContainer.getBoundingClientRect().top,p=s+a.offsetHeight+l.offsetHeight+d+220;c>e.window.pageYOffset+e.window.innerHeight?e.window.scrollTo(0,c):p>e.window.innerHeight&&e.window.scrollBy(0,p-e.window.innerHeight)}}},{key:"validateSeatSelection",value:function(e,t){var n=e.props.item.get("code");if(t.get("code")===n){var a=this.props,r=a.configuration,i=a.selectedPassengerType,s=N()(t.get("seatCharacteristics").map((function(e){return[e.toLowerCase()]})).toJS()),o=!0;q()(r.blockedSeatSelection,(function(e,t){if(-1!==s.indexOf(t)&&-1!==e.indexOf(i))return o=!1,!1})),this.checkAllowedPassenger(e,t,o,s)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.currentFlow,i=t.isAuthorable,s=t.passengerAvatars,o=t.footerButtonFocus,l=[],c=Object(ie.b)(i,"seatMap");a===re.a.EXCHANGE&&(this.checkIfReassociationIsvalid()&&(l=this.getSelectedSeatPrices()));return Z.a.createElement("div",r()({ref:function(t){e.seatMapContainer=t},className:"dxp-seat-map ".concat(this.props.seatMap.get("cabinClass").toLowerCase())},c),this.state.overlayVisible&&Z.a.createElement(se.a,{ref:function(t){e.seatOverlay=t},seat:this.state.selectedSeat,showRefundForfeit:this.state.showRefundForfeit,onCloseClick:this.hideSeatOverlay,onSelectSeatButtonClick:this.selectSeat,configuration:n,isPreviewMode:this.props.isPreviewMode}),Z.a.createElement(oe.a,{ref:function(t){e.seatMapGrid=t},seatMap:this.props.seatMap,preselectedSeats:this.props.preselectedSeats,configuration:this.props.configuration,onSlotSelection:this.onSlotSelection,selectedSeatPrices:l,selectedPassenger:this.props.selectedPassenger,itineraryPartIndex:this.props.itineraryPartIndex,selectedSegmentIndex:this.props.selectedSegmentIndex,shoppingCart:this.props.shoppingCart,currentFlow:a,passengerAvatars:s,footerButtonFocus:o}))}}]),n}(J.Component));y()(le,"defaultProps",{isAuthorable:!0,isPreviewMode:!1,selectedPassengerType:"ADT",passengerNotAllowed:_.a,preselectedSeats:[],tripDetails:Object(te.Map)(),selectedPassenger:void 0,itineraryPartIndex:void 0,selectedSegmentIndex:void 0,currentFlow:void 0,onSeatSelection:function(){},shoppingCart:{},passengerAvatars:void 0,footerButtonFocus:_.a})}).call(this,n(41))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a={SELECTED_SEAT:"selected-seat",UNAVAILABLE_SEAT:"unavailable-seat",AVAILABLE_SEAT:"available-seat"},r={PAID_SEAT:"paid-seat",FREE_SEAT:"free-seat"},i="select-seat-button"},function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(15),s=n.n(i),o=(n(6),n(1)),l=n.n(o),c=n(12),u=n(2038);n(2734);t.a=function(e){var t=e.data,n=e.selectedCabin,a=e.onDeckSelection,i=function(e){return r()(e,(function(e){return e.name}))}(t),o=i.length>1,d=function(e,t){return e[t].name}(t,n);return l.a.createElement("div",{className:"dxp-seat-map-deck"},o&&l.a.createElement(u.a,{options:i,prefix:"seatSelection.deck",buttonClassNames:["small","secondary"],numberOfOptions:2,defaultValue:d,onClick:function(e,n){return function(e,t,n,a){return a(s()(n,(function(e){return e.name===t})).index)}(0,n,t,a)},className:"seat-map-deck-selection",id:"seatMapDeck"}),!o&&l.a.createElement("span",null,Object(c.a)("seatSelection.deck.".concat(d))))}},,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return q}));var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(0),E=n.n(b),C=n(122),k=n.n(C),S=n(51),_=n.n(S),O=n(2),w=n.n(O),P=n(16),A=n.n(P),x=n(1),N=n.n(x),T=(n(2746),n(12)),I=n(78),B=n(1264),L=n(1418),D=n(1348),j=n(703),F=n(6),M=n(1307),R=n(153),V=n(129),H=n(560),U=n(702),W=n(259),q=function(t){function n(t){var a;return s()(this,n),a=u()(this,p()(n).call(this,t)),y()(f()(a),"state",{username:"",isRememberMeChecked:!1,isValid:!1,captchaID:Object(W.a)(10)}),y()(f()(a),"onCaptchaChange",(function(){a.onCredentialsChange()})),y()(f()(a),"onForgotPasswordClick",(function(){var t=a.props.forgotPasswordConfiguration;t.externalUrlEnabled?e.open(t.externalUrl,"_blank"):(a.props.openForgotPasswordModal(a.props.location),a.clearPassword())})),y()(f()(a),"onPasswordChange",(function(){a.onCredentialsChange()})),y()(f()(a),"onRememberMeChange",(function(e){a.setState({isRememberMeChecked:e.target.checked})})),y()(f()(a),"onSubmit",(function(){a.props.onSubmit(),a.state.isRememberMeChecked&&a.onRememberMe(),a.props.signIn(a.getCredentials()).catch((function(e){return a.handleErrorResult(e)}))})),y()(f()(a),"onUserNameChange",(function(e){a.setState({username:e.target.value,isUsernameValid:a.isUsernameValid()},(function(){a.onCredentialsChange()}))})),y()(f()(a),"handleErrorResult",(function(){a.username&&a.username.current.focus(),a.password&&a.password.current.clear()})),a.username=N.a.createRef(),a.password=N.a.createRef(),a}return g()(n,t),l()(n,[{key:"onCredentialsChange",value:function(){E()(this.props,"signInResult.username.error")&&this.props.resetSignInFormValidation(),this.setState({isValid:this.isValid()})}},{key:"onRememberMe",value:function(){this.props.rememberMe(this.state.isRememberMeChecked,this.state.username)}},{key:"getCredentials",value:function(){return{username:this.username.current.getValue(),password:this.password.current.getValue()}}},{key:"clearPassword",value:function(){this.password.current&&this.password.current.clear(),this.setState({isValid:!1})}},{key:"isCaptchaValid",value:function(){return!this.props.isCaptchaEnabled||!w()(_()(this,"captcha".concat(this.state.captchaID,".getValue")))}},{key:"isPasswordValid",value:function(){return Object(R.d)({password:this.props.signInValidators.password},this.getCredentials()).isValid}},{key:"isUsernameValid",value:function(){return Object(R.d)({username:this.props.signInValidators.username},this.getCredentials()).isValid}},{key:"isValid",value:function(){return this.isUsernameValid()&&this.isPasswordValid()&&this.isCaptchaValid()}},{key:"renderCaptcha",value:function(){var e=this,t=A()({},this.props.captcha,{onSuccess:this.onCaptchaChange,onExpired:this.onCaptchaChange});return N.a.createElement(U.a,{onSuccess:t.onSuccess,onExpired:t.onExpired,siteKey:t.siteKey,language:t.language,size:t.size,theme:t.theme,type:t.type,ref:function(t){e["captcha".concat(e.state.captchaID)]=t}})}},{key:"renderEnrollmentLink",value:function(){var e=this.props.enrollmentConfiguration;return N.a.createElement("div",{className:"enrollment"},N.a.createElement(I.a,{className:"enrollment link-underlined",href:e.enrollmentUrl,target:"_blank",title:Object(T.i)(e.enrollmentTranslationKey)},Object(T.a)(e.enrollmentTranslationKey)))}},{key:"render",value:function(){var e=E()(this.props.forgotPasswordConfiguration,"externalUrlEnabled")?{rel:j.a,target:"_blank",isExternalLink:!0}:"",t=this.props.signInResult.username||{};return N.a.createElement(D.b,{className:"rbe-flow-sign-in"},N.a.createElement(M.b,{customClassNames:"dxp-rbe-flow-info",type:M.a.info.id,inline:!0,text:Object(T.i)("error.ERR.SSW.APP.LOGGED_AWARD_USER_REQUIRED.description"),title:Object(T.i)("error.ERR.SSW.APP.LOGGED_AWARD_USER_REQUIRED.title")}),N.a.createElement("h3",{className:"spark-gamma"},Object(T.i)("signIn.title")),N.a.createElement(V.a,{defaultValue:this.props.username,label:"signIn.username.label",autoComplete:"off",ref:this.username,error:!this.state.isUsernameValid&&t.error,isValid:this.state.isUsernameValid,validators:this.props.signInValidators.username,onChange:this.onUserNameChange,useLabelFeedback:!0}),N.a.createElement(H.a,{label:"signIn.password.label",ref:this.password,autoComplete:"off",validators:this.props.signInValidators.password,onChange:this.onPasswordChange,useLabelFeedback:!0}),this.props.isCaptchaEnabled&&this.renderCaptcha(),this.props.enrollmentConfiguration.isEnabled&&this.renderEnrollmentLink(),N.a.createElement("div",{className:"footer"},N.a.createElement("div",{className:"actions"},N.a.createElement(I.a,r()({className:"forgot link-underlined",onClick:this.onForgotPasswordClick},e),Object(T.i)("signIn.forgotPassword")),N.a.createElement(L.a,{checked:!!this.props.username,onChange:this.onRememberMeChange,syncStateWithProp:!1,label:Object(T.i)("signIn.rememberMe")})),N.a.createElement(B.a,{className:"rbe-flow-sign-in-button",loading:this.props.isSigningIn,onClick:this.onSubmit,disabled:!this.state.isValid,label:Object(T.i)("signIn.submit")})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{isUsernameValid:E()(e,"signInResult.username.isValid")}}}]),n}(x.PureComponent);y()(q,"contextTypes",{dispatch:F.func,history:Object(F.shape)({})}),y()(q,"defaultProps",{isSigningIn:!1,signInValidators:{},onSubmit:k.a,rememberMe:void 0,username:void 0,resetSignInFormValidation:k.a,signInResult:{}})}).call(this,n(41))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(12),s=n(319);t.a=function(){return r.a.createElement(s.a,{type:"error",title:"upsell.selectionError.title"},Object(i.a)("upsell.selectionError.description"))}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Le}));var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(22),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(122),E=n.n(b),C=n(16),k=n.n(C),S=n(51),_=n.n(S),O=n(83),w=n.n(O),P=n(52),A=n.n(P),x=n(292),N=n.n(x),T=n(49),I=n.n(T),B=n(4),L=n.n(B),D=n(18),j=n.n(D),F=n(82),M=n.n(F),R=n(5),V=n.n(R),H=n(73),U=n.n(H),W=n(0),q=n.n(W),z=n(58),G=n.n(z),K=n(2),Y=n.n(K),Q=n(27),X=n.n(Q),J=n(1),Z=n.n(J),$=n(6),ee=(n(194),n(11)),te=n(158),ne=n.n(te),ae=n(2164),re=n(521),ie=n(1370),se=n(2647),oe=n(2370),le=n(2372),ce=n(88),ue=n(3312),de=n(136),pe=n(319),he=n(1557),fe=n(78),me=n(2813),ge=n(524),ve=n(1249),ye=n(39),be=n.n(ye),Ee=n(14),Ce=n(330),ke=n(331),Se=n(2375),_e=n(195),Oe=n(12),we=n(1376),Pe=n(2815),Ae=n(3317),xe=n(2165),Ne=(n(2818),n(2819),n(3318)),Te=n(3319),Ie=n(3311),Be=n(2820),Le=function(t){function n(t){var a;return s()(this,n),a=l()(this,u()(n).call(this,t)),y()(p()(a),"onBottomBarContinueClick",(function(){Object(xe.i)(a.props.segments,a.state.selectedFlight)?(a.setState({showSummary:!0}),a.props.onIsLastSegmentSelectedChange(!0)):(a.proceedToNextFlight(),e.scrollTo(0,0))})),y()(p()(a),"onContinue",(function(){a.areSeatsSelectedForAllPax(a.proceedToNextPage)})),y()(p()(a),"onDeckSelection",(function(e){return a.setState({selectedCabin:e})})),y()(p()(a),"onPassengerSelection",(function(e){n.setListActivePassenger(q()(p()(a),"list1"),e),n.setListActivePassenger(q()(p()(a),"list2"),e),a.setState({selectedPassenger:e,passengersVisible:!1})})),y()(p()(a),"onSeatModalCloseClick",(function(){a.setState({showSeatSelectionAlert:!1,showProceedToNextFlightOverlay:!1,showPassengerNotAllowedOverlay:!1})})),y()(p()(a),"onSeatSelection",(function(e,t){var n=a.props.configuration,r=n.passengerAutoAdvance,i=n.passengersExcludedFromSeatSelection,s=_()(a.props.uniquePassengers,"toJS",[]).filter((function(e){return!i.includes(e.passengerInfo.type)})),o=_()(a.props.segments,"toJS",[]),l={seat:e,passengerIndex:a.state.selectedPassenger+1,segment:q()(q()(o,a.state.selectedFlight.itineraryPart,[]),a.state.selectedFlight.segment,[])};return a.props.saveSelectedSeat(l).then((function(){a.props.requestCart(q()(a.props,"currentFlow"),a.props.location).then((function(){a.setSelectedSeatsByItinerarySegment(t),r&&s.length>a.state.selectedPassenger+1?a.setState((function(e){return{selectedPassenger:e.selectedPassenger+1}}),a.focusCurrentPassenger()):r&&s.length===a.state.selectedPassenger+1?a.focusCurrentPassenger(a.state.selectedPassenger+1):s.length>=a.state.selectedPassenger+1?a.focusCurrentPassenger():Object(xe.i)(a.props.segments,a.state.selectedFlight)?a.props.footerButtonFocus():a.focusNextFlightButton()}))}))})),y()(p()(a),"onViewPassengersClick",(function(e){e.preventDefault(),a.setState((function(e){return{passengersVisible:!e.passengersVisible}}))})),y()(p()(a),"getSelectedPassengerType",(function(){var e=_()(a.props.passengers,"toJS",[]),t=a.state.selectedPassenger,n=a.state.selectedFlight.itineraryPart,r=a.state.selectedFlight.segment;return q()(e[n][r][t],"passengerInfo.type")})),y()(p()(a),"setNextFlightButtonRef",(function(e,t){a.nextFlightButton[t]=e&&e.button})),y()(p()(a),"focusNextFlightButton",(function(){var e=a.props.defaultSummaryBarOffset;a.nextFlightButton&&Object(we.a)(a.nextFlightButton,{headerOffset:e},(function(){return a.nextFlightButton[a.state.selectedFlight.selectedTab]&&a.nextFlightButton[a.state.selectedFlight.selectedTab].focus()}))})),y()(p()(a),"goToSeatSelection",(function(){var e=document.querySelector(".seat-map-instructions");Object(we.a)(e,{headerOffset:a.props.defaultSummaryBarOffset},(function(){return e.focus()}))})),y()(p()(a),"hideRefundForfeitModal",(function(){a.setState({refundForfeitModal:{show:!1}})})),y()(p()(a),"proceedToNextFlight",(function(){a.selectSegmentForItinerary(a.state.selectedFlight.selectedTab+1)})),y()(p()(a),"proceedToNextPage",(function(){a.props.actionUpdateURLQuery("URL_UPDATE_HASH",a.props.isSeatsOnExtrasPageEnabled?Ee.a.ANCILLARIES:a.props.getNextPage(),q()(p()(a),"props.location.query",{}))})),y()(p()(a),"removeSeat",(function(e){a.hideRefundForfeitModal();var t={},n=_()(a.props.segments,"toJS",[]),r={seat:"",passengerIndex:e,segment:q()(q()(n,a.state.selectedFlight.itineraryPart,[]),a.state.selectedFlight.segment,[])},i=e-1;return t[i]=r.seat,a.setSelectedSeatsByItinerarySegment(t,i),a.props.saveSelectedSeat(r).then((function(){return a.props.requestCart(q()(a.props,"currentFlow"),a.props.location)}))})),y()(p()(a),"removeSeatForPassenger",(function(e){return a.isRefundForfeited(e)?(a.setState({refundForfeitModal:{show:!0,passengerIndex:e}}),!1):a.removeSeat(e)})),y()(p()(a),"renderAircraftName",(function(e){var t=e.get("aircraft");return t&&Z.a.createElement("div",{className:"aircraft-name"},Object(Oe.a)("aircrafts.".concat(t)))})),y()(p()(a),"selectSegmentForItinerary",(function(e){var t=0,n=_()(a.props.segments,"toJS",[]);V()(n,(function(n,r){V()(n,(function(n,i){t===e&&a.changeComponentsState(r,i,e),t+=1}),p()(a))}),p()(a))})),y()(p()(a),"showPassengerNotAllowed",(function(){a.setState({showPassengerNotAllowedOverlay:!0})})),y()(p()(a),"switchSegment",(function(e,t,n){a.setState({selectedFlight:{itineraryPart:e,segment:t,selectedTab:n},showSummary:!1}),a.props.onIsLastSegmentSelectedChange(!1)})),a.state={selectedFlight:{itineraryPart:0,segment:0,selectedTab:0},selectedPassenger:0,selectedCabin:0,preselectedSeats:{},showSeatSelectionAlert:!1,refundForfeitModal:{show:!1},showProceedToNextFlightOverlay:!1,showPassengerNotAllowedOverlay:!1,showSummary:!1,passengersVisible:!1},a.notAllowedButton=Z.a.createRef(),a.nextFlightButton={},a}return g()(n,t),f()(n,null,[{key:"allMapsHasRows",value:function(e){return e&&!e.some((function(e){return Y()(e.get("seatRows"))}))}},{key:"displaySeatBundles",value:function(e,t){return e.seatBundles.enabled&&e.seatBundles.displaySeatBundlesOnSeatSelection&&!Y()(t)}},{key:"getDeckData",value:function(e){return w()(e).map((function(e){return e[0]})).map((function(e,t){return{index:t,aircraft:e.aircraft,name:e.deck}}))}},{key:"renderAirportCodesHeader",value:function(e){return Z.a.createElement("h2",{className:"seat-map-airport-codes"},e.origin&&e.destination?Object(Oe.a)("app.flightTo",{origin:e.origin,destination:e.destination}):Object(Oe.a)("app.unknownFlight"))}},{key:"renderNoSeatMapAvailable",value:function(){return Z.a.createElement("h2",{className:"seat-map-not-available"},Object(Oe.a)("seatSelection.seatMapNotAvailable"))}},{key:"setListActivePassenger",value:function(e,t){e&&e.setState({activePassenger:t})}}]),f()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.requestCart(q()(this.props,"currentFlow"),this.props.location),this.props.getSeatMap(this.props.flights||{},this.props.configuration),this.context.startTimeoutChecker()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.seatMapError,n=e.currentPage,a=e.configuration;if(e.selectedSeats.size>this.props.selectedSeats.size){var r=this.getCurrentSegmentOriginDestination(),i=r.origin,s=r.destination,o=e.selectedSeats.filter((function(e){return e.getIn(["segmentKey","origin"])===i&&e.getIn(["segmentKey","destination"])===s}));this.setState({showProceedToNextFlightOverlay:this.shouldShowProceedToNextFlightOverlay(o)})}q()(a,"skipToNextPageOnError",!1)&&t===ke.k&&n===Ee.a.SEAT_SELECTION&&this.proceedToNextPage()}},{key:"componentDidUpdate",value:function(e,t){this.state.showPassengerNotAllowedOverlay&&this.state.showPassengerNotAllowedOverlay!==t.showPassengerNotAllowedOverlay&&this.notAllowedButton.current.focus()}},{key:"getCurrentSegmentOriginDestination",value:function(){var e=!this.props.segments.isEmpty()&&this.props.segments.get(this.state.selectedFlight.itineraryPart).get(this.state.selectedFlight.segment);return{origin:e&&e.get("origin"),destination:e&&e.get("destination")}}},{key:"getLegend",value:function(){var e=_()(this.props.legend,"toJS",[]),t=q()(e,this.state.selectedFlight.itineraryPart,[]),n=q()(t,this.state.selectedFlight.segment,[]),a=q()(n,this.state.selectedPassenger,{});return q()(a,this.state.selectedCabin,{})}},{key:"getPassengers",value:function(e){var t=q()(e,this.state.selectedFlight.itineraryPart,[]);return!Y()(t)&&t[this.state.selectedFlight.segment]}},{key:"getSegments",value:function(){var e=_()(this.props.segments,"toJS",[]),t=V()(e,(function(e,t){return V()(e,(function(e,n){return k()(e,{itineraryPartIndex:t,segmentIndex:n})}))}));return G()(t)}},{key:"setSelectedSeatsByItinerarySegment",value:function(e){var t=this;this.setState((function(t){var n=t.selectedFlight.itineraryPart,a=t.selectedFlight.segment,r=t.preselectedSeats||{};return M()(r[n])?r[n]=[a]:j()(r[n],a),Y()(r[n][a])?r[n][a]=e:j()(r[n][a],e),{preselectedSeats:r}}),(function(){t.props.onSeatSelectionChange&&t.props.onSeatSelectionChange(t.state.preselectedSeats)}))}},{key:"areSeatsSelectedForAllPax",value:function(e){var t=this.props.configuration,n=_()(this.props.segments,"toJS",[]),a=L()(G()(n),(function(e,t){return t.seatMapAvailable?e+1:e}),0),r=L()(this.state.preselectedSeats,(function(e,t){return e+L()(t,(function(e,t){return e+I()(t).length}),0)}),0),i=_()(this.props.uniquePassengers,"toJS",[]).slice();a*N()(i,(function(e){return-1===A()(t.passengersExcludedFromSeatSelection,e.passengerInfo.type)})).length===r?(this.props.setAllSeatsSelected(!0),e()):this.seatSelectionConfirmation()}},{key:"changeComponentsState",value:function(e,t,n){this.setState((function(a){var r=j()({},a.selectedFlight);return r.selectedTab=n,r.segment=t,r.itineraryPart=e,{selectedFlight:r,selectedPassenger:0,showProceedToNextFlightOverlay:!1}})),this.context.triggerRenderStaticHtml()}},{key:"focusCurrentPassenger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.list1.focusSelectedPassenger(e)}},{key:"handleSeatMapInstructionsClick",value:function(){(this.seatMap&&this.seatMap.seatMapGrid).enterTable()}},{key:"isRefundForfeited",value:function(e){var t=Object(xe.d)(this.state.selectedFlight.itineraryPart,this.state.selectedFlight.segment,this.props.selectedSeats,this.props.segments),n=q()(t,"[".concat(e-1,"]"),"");if(Y()(n))return!1;var a=Object(xe.g)(n,this.props.seatMaps,this.state.selectedFlight,this.state.selectedPassenger,this.state.selectedCabin),r=a.get("refundIndicator","");return!a.get("available",!0)&&(Y()(r)||"N"===r)}},{key:"seatSelectionConfirmation",value:function(){this.setState({showSeatSelectionAlert:!0})}},{key:"shouldShowProceedToNextFlightOverlay",value:function(e){return!!this.props.configuration.showProceedToNextFlightOverlay&&(!!e.size&&(Object(xe.a)(e,this.state.selectedFlight,this.props.passengers,this.props.uniquePassengers)&&!Object(xe.i)(this.props.segments,this.state.selectedFlight)))}},{key:"renderDeck",value:function(e){return Z.a.createElement(Se.a,{selectedCabin:this.state.selectedCabin,data:n.getDeckData(e.toJS()),onDeckSelection:this.onDeckSelection})}},{key:"renderLegend",value:function(){var e=!Object(xe.i)(this.props.segments,this.state.selectedFlight);return Z.a.createElement(oe.a,{id:"dxp-seat-selection-legend-".concat(this.state.selectedFlight.itineraryPart),"data-test-id":ae.e,legend:this.getLegend(),footerButtonFocus:this.props.footerButtonFocus,configuration:this.props.configuration,focusNextFlightButton:this.focusNextFlightButton,shouldFocusNextFlightButton:e})}},{key:"renderPassengerList",value:function(e,t){var n=this,a=this.getLegend().facilities.length>0&&!this.props.configuration.legend.isExpandedModeEnabled;return Z.a.createElement(se.a,{id:"dxp-seat-selection-passenger-list-".concat(this.state.selectedFlight.itineraryPart),ref:function(e){n.list1=e},passengers:e,itineraryPartIndex:this.state.selectedFlight.itineraryPart,onPassengerSelection:this.onPassengerSelection,removeSeatForPassenger:this.removeSeatForPassenger,goToSeatSelection:this.goToSeatSelection,preselectedSeats:t,selectedSegmentIndex:this.state.selectedFlight.segment,configuration:this.props.configuration,selectedPassenger:this.state.selectedPassenger,defaultSummaryBarOffset:this.props.defaultSummaryBarOffset,focusNextFlightButton:this.focusNextFlightButton,shouldFocusNextFlightButton:!Y()(this.nextFlightButton)&&!a,shouldFocusContinueButton:Y()(this.nextFlightButton)&&!a,footerButtonFocus:this.props.footerButtonFocus})}},{key:"renderPassengerNotAllowedOverlay",value:function(){return Z.a.createElement(de.a,{className:"segment-selection-modal",onClose:this.onSeatModalCloseClick},Z.a.createElement("h2",null,Object(Oe.a)("seatSelection.passengerNotAllowed.title")),Z.a.createElement("p",null,Object(Oe.a)("seatSelection.passengerNotAllowed.description")),Z.a.createElement("div",{className:"pull-right"},Z.a.createElement(ce.a,{className:"primary small",onClick:this.onSeatModalCloseClick,ref:this.notAllowedButton},Object(Oe.a)("app.close"))))}},{key:"renderPassengerReview",value:function(e){var t=this,n=Object(xe.c)(this.props.segments,this.props.seatMaps,this.props.selectedSeats),a=q()(this.state,"selectedFlight.selectedTab"),r=V()(n,(function(n,r){return!!(a>r||t.state.showSummary)&&Z.a.createElement(me.a,{passengers:e,passengerReviewData:n,tabIndex:r,switchSegment:t.switchSegment})}));if(this.state.showSummary){var i=Object(xe.h)(n),s=Y()(i)?Z.a.createElement(ve.a,{renderZero:!0,includeDecimal:!0}):Z.a.createElement(ve.a,{price:i,includeDecimal:!0});r.push(Z.a.createElement(ge.a,{className:"seat-summary"},Z.a.createElement("div",{className:"summary-label"},Object(Oe.a)("seatSelection.passengerReview.total")," "),s))}return r}},{key:"renderPassengerReviewFooter",value:function(){return Z.a.createElement(Ne.a,{passengerIndex:this.state.selectedPassenger,passengers:this.props.passengers,isSeatNotSelectedForASeatBundle:this.props.isSeatNotSelectedForASeatBundle,onBottomBarContinueClick:this.onBottomBarContinueClick,preselectedSeats:this.state.preselectedSeats,selectedFlight:this.state.selectedFlight,uniquePassengers:this.props.uniquePassengers})}},{key:"renderProceedToNextFlightOverlay",value:function(){return Z.a.createElement(de.a,{className:"segment-selection-modal",onClose:this.onSeatModalCloseClick},Z.a.createElement("h2",null,Object(Oe.a)("seatSelection.nextFlight.title")),Z.a.createElement("p",null,Object(Oe.a)("seatSelection.nextFlight.description")),Z.a.createElement("div",{className:"pull-right"},Z.a.createElement(ce.a,{className:"secondary small",onClick:this.onSeatModalCloseClick},Object(Oe.a)("app.cancel")),Z.a.createElement(ce.a,{className:"primary small",onClick:this.proceedToNextFlight},Object(Oe.a)("seatSelection.proceedToNextSegment"))))}},{key:"renderReassociationMessage",value:function(){return Z.a.createElement(Te.a,{oldPaidSeats:this.props.oldPaidSeats,hasIropAffectedReservationMessage:this.props.hasIropAffectedReservationMessage,displayGenericReassociationMessage:this.props.configuration.displayGenericReassociationMessage})}},{key:"renderRefundForfeitModal",value:function(){var e=this;return Z.a.createElement(de.a,{key:"cancel",className:"cancel-refund-modal"},Z.a.createElement("h2",{className:"modal-header"},Object(Oe.a)("seatSelection.refundForfeitModal.header")),Z.a.createElement("p",null,Object(Oe.a)("seatSelection.refundForfeitModal.description")),Z.a.createElement("div",{className:"pull-right"},Z.a.createElement(ce.a,{className:"secondary small",onClick:this.hideRefundForfeitModal},Object(Oe.a)("app.cancel")),Z.a.createElement(ce.a,{className:"primary small",onClick:function(){return e.removeSeat(e.state.refundForfeitModal.passengerIndex)}},Object(Oe.a)("app.yes"))))}},{key:"renderSeatMapContents",value:function(){var e=this,t=this.props,a=t.isFetchingSeatMap,r=t.globalAdvisories,i=t.travelPartAdvisories,s=t.configuration,o=t.ancillariesConfiguration,l=t.getNextPage,c=s.displayGlobalAdvisories&&!Y()(r),u=s.displayDayAdvisories&&!Y()(i),d=n.displaySeatBundles(s,o);return Z.a.createElement("div",null,c&&Z.a.createElement(he.a,{advisories:r}),this.state.showSeatSelectionAlert&&this.renderSeatSelectionConfirmation(),this.state.refundForfeitModal.show&&this.renderRefundForfeitModal(),!Y()(this.state.preselectedSeats)&&this.state.showProceedToNextFlightOverlay&&this.renderProceedToNextFlightOverlay(),this.state.showPassengerNotAllowedOverlay&&this.renderPassengerNotAllowedOverlay(),u&&Z.a.createElement(he.a,{advisories:i}),d&&Z.a.createElement(ue.a,{getSeatMap:function(){return e.props.getSeatMap(e.props.flights||{},e.props.configuration)},ancillaryConfiguration:this.props.ancillariesConfiguration,journeyType:this.props.journeyType,getNextPage:l}),a?this.renderSpinner():this.renderSegmentTabs())}},{key:"renderSeatMapError",value:function(e,t){return Z.a.createElement(pe.a,{className:"seat-map-error",type:"error",title:"seatSelection.error.".concat(e,".title")},Object(Oe.a)("seatSelection.error.".concat(e,".description")),Z.a.createElement("div",{className:"buttons"},t&&Z.a.createElement(ce.a,{className:"small secondary",id:"proceed-to-next-on-seat-error",onClick:this.proceedToNextPage},Object(Oe.a)("seatSelection.error.buttonNext"))))}},{key:"renderSeatMapInstructions",value:function(){var e=this;return Z.a.createElement("div",{className:"seat-map-caption"},Z.a.createElement(fe.a,{className:"seat-map-instructions",ref:function(t){e.seatMapCaption=t},onClick:function(){return e.handleSeatMapInstructionsClick()}},Object(Oe.a)("seatSelection.tableInstruction")))}},{key:"renderSeatMaps",value:function(e,t,n,a){var r=this,i=this.getPassengers(a),s=Object(Ce.a)({passengers:i});return e.map((function(e){return Z.a.createElement(le.a,{key:e,seatMap:e,ref:function(e){r.seatMap=e},configuration:r.props.configuration,selectedPassenger:r.state.selectedPassenger,passengerAvatars:s,selectedPassengerType:r.getSelectedPassengerType(),onSeatSelection:r.onSeatSelection,passengerNotAllowed:r.showPassengerNotAllowed,preselectedSeats:t,tripDetails:r.props.pnrInfo,shoppingCart:r.props.shoppingCart,itineraryPartIndex:r.state.selectedFlight.itineraryPart,selectedSegmentIndex:r.state.selectedFlight.segment,currentFlow:r.props.currentFlow,isSeatBundleSelected:n,selectedCabin:r.state.selectedCabin,processingSeatSelection:r.props.processingSeatSelection})}))}},{key:"renderSeatSelection",value:function(e,t,n,a){var r=this.state.selectedPassenger,i=_()(this.props.passengers,"toJS",[]),s=i[n][a][r].isSeatBundleSelected||!1,o=Object(xe.d)(this.state.selectedFlight.itineraryPart,this.state.selectedFlight.segment,this.props.selectedSeats,this.props.segments);return Z.a.createElement("div",{className:"seat-selection-container"},Z.a.createElement("div",{className:"left-container"},this.renderPassengerList(i,o),this.renderLegend()),Z.a.createElement("div",{className:"right-container"},this.props.processingSeatSelection&&Z.a.createElement(re.a,{isModalSpinner:!0,className:"dark"}),Z.a.createElement("div",{className:"seat-map",id:"dxp-seat-selection-seat-map-container-".concat(this.state.selectedFlight.itineraryPart),"data-test-id":ae.d},s&&Z.a.createElement(Pe.a,null),this.renderDeck(e),this.renderAircraftName(t.first()),!this.props.isPreviewMode&&this.renderSeatMapInstructions(),this.renderSeatMaps(t,o,s,i))))}},{key:"renderSeatSelectionConfirmation",value:function(){var e=Object(Oe.i)("app.".concat(U()(this.props.getNextPage())));return Z.a.createElement(de.a,{className:"seat-selection-modal",onClose:this.onSeatModalCloseClick},Z.a.createElement("h2",null,Object(Oe.a)("seatSelection.proceedWithoutSeatSelection.title")),Z.a.createElement("p",null,Object(Oe.a)("seatSelection.proceedWithoutSeatSelection.description")),Z.a.createElement("div",{className:"pull-right"},Z.a.createElement(ce.a,{className:"secondary small",onClick:this.onSeatModalCloseClick},Object(Oe.a)("app.cancel")),Z.a.createElement(ce.a,{className:"primary small",onClick:this.proceedToNextPage,"data-test-id":ae.b},Object(Oe.a)("app.continue",{pageName:e}))))}},{key:"renderSegmentTabs",value:function(){var e=this.getSegments(),t=!this.state.showSummary&&this.renderTabsList(e),n=!this.state.showSummary&&this.renderTabsContent(e),a=X()(X()(_()(this.props.passengers,"toJS",[]))),r=q()(this.state,"selectedFlight.selectedTab"),i=this.props.configuration.alternateSeatMap,s=be()("dxp-shared-seat-selection-tabs",{"alternate-seat-map":i}),o=q()(this.props,"currentFlow")?q()(this.props,"currentFlow"):"";return Z.a.createElement("div",{id:ae.c,className:s},ne.a.mobile&&this.renderStickyHeader(),"mto"!==o&&i&&!Object(xe.i)(this.props.segments,this.state.selectedFlight)&&this.renderSkipToFlightExtrasButton(),i&&!Y()(a)&&this.renderPassengerReview(a,r),!this.state.showSummary&&!Y()(t)&&!Y()(n)&&Z.a.createElement(ie.c,{selectedTabIndex:this.state.selectedFlight.selectedTab},Z.a.createElement(ie.e,{onTabSelect:this.selectSegmentForItinerary,className:s},t),Z.a.createElement(ie.d,null,n)),i&&!this.state.showSummary&&this.renderPassengerReviewFooter())}},{key:"renderSkipToFlightExtrasButton",value:function(){var e=this.props,t=e.currentFlow,n=e.currentPage,a=Object(Oe.i)("app.".concat(U()(this.props.getNextPage(t,n))));return Z.a.createElement("div",{className:"continue-button"},Z.a.createElement(ce.a,{className:"dxp-seat-selection-continue primary medium purchase",onClick:this.onContinue},Object(Oe.a)("app.continue",{pageName:a})))}},{key:"renderSpinner",value:function(){return Z.a.createElement(re.a,{showPageLoadingMessage:this.props.showPageLoadingMessage})}},{key:"renderStickyHeader",value:function(){var e=this;return!this.state.showSummary&&Z.a.createElement(Be.a,{configuration:this.props.configuration,onPassengerSelection:this.onPassengerSelection,onViewPassengersClick:this.onViewPassengersClick,passengerListRef:function(t){e.list2=t},passengers:this.props.passengers,passengersVisible:this.state.passengersVisible,preselectedSeatsDetails:this.state.preselectedSeats,removeSeatForPassenger:this.removeSeatForPassenger,segments:this.props.segments,selectedFlight:this.state.selectedFlight,selectedPassenger:this.state.selectedPassenger,selectedSeats:this.props.selectedSeats,defaultSummaryBarOffset:this.props.defaultSummaryBarOffset})}},{key:"renderTabsContent",value:function(e){var t=this,a=Object(xe.f)(this.props.seatMaps,this.state.selectedFlight,this.state.selectedPassenger),r=a.valueSeq().get(this.state.selectedCabin),i=this.props.configuration.alternateSeatMap;return e.map((function(e,s){var o=s===t.state.selectedFlight.selectedTab;return Z.a.createElement(ie.b,{key:"seat-selection-panel-".concat(e.arrival,"-").concat(e.departure)},i&&n.renderAirportCodesHeader(e),Z.a.createElement("div",{className:"seat-map-content",id:"dxp-seat-map-tab-content-".concat(s),"data-test-id":ae.h},Z.a.createElement(Ie.a,{segment:e,proceedToNextFlight:t.proceedToNextFlight,isLastSegmentSelected:Object(xe.i)(t.props.segments,t.state.selectedFlight),isLoading:q()(t.props,"shoppingCart.isLoading"),passengers:t.props.passengers,setNextFlightButtonRef:t.setNextFlightButtonRef,key:"seat-map-description-".concat(s),segmentIndex:s}),n.allMapsHasRows(r)&&Object(xe.j)(t.props.configuration,e)?o&&t.renderSeatSelection(a,r,e.itineraryPartIndex,e.segmentIndex):n.renderNoSeatMapAvailable()))}),this)}},{key:"renderTabsList",value:function(e){var t=this,n=_()(this.props.passengers,"toJS",[]);return e.map((function(e,a){var r=Object(xe.d)(e.itineraryPartIndex,e.segmentIndex,t.props.selectedSeats,t.props.segments),i=Object(xe.b)(e,t.context.translate);return Z.a.createElement(ie.a,{key:"segment-tab-".concat(e.arrival,"-").concat(e.departure)},Z.a.createElement("span",{className:"flight-index"},a+1),Z.a.createElement("span",{className:"airports"},i),e.hasWaitlistedUpgradeSegmentMessage&&Z.a.createElement("div",{className:"upgrade-waitlisted-message"},Object(Oe.a)("upgrade.status.waitlisted")),Z.a.createElement(Ae.a,{segment:e,selectedSeats:r,passengers:n}))}))}},{key:"render",value:function(){var e=this.props,t=e.seatMapError,n=e.isFetchingSeatMap,a=e.oldPaidSeats,i=e.isAuthorable,s=e.displayNextPageButtonOnError,o=e.seatOfferCodesForReAssociation,l=e.shoppingCart,c=!!l.data.refundableOrRetainedItemsLabels&&o.some((function(e){return l.data.refundableOrRetainedItemsLabels.indexOf(e)>=0})),u=be()("dxp-shared-seat-selection",{"all-re-associated":c&&a&&Y()(a),"all-not-re-associated":c&&a&&!Y()(a)}),d=Object(_e.b)(i,"sharedSeatSelection");return Z.a.createElement("div",r()({className:u},d,{id:ae.i}),!n&&c&&this.renderReassociationMessage(),Y()(t)?this.renderSeatMapContents():this.renderSeatMapError(t,s))}}]),n}(J.Component);y()(Le,"contextTypes",{startTimeoutChecker:$.func,stopTimeoutChecker:$.func,triggerRenderStaticHtml:$.func}),y()(Le,"defaultProps",{uniquePassengers:Object(ee.List)(),isSeatsOnExtrasPageEnabled:!1,onIsLastSegmentSelectedChange:void 0,onSeatSelectionChange:void 0,defaultSummaryBarOffset:0,processingSeatSelection:!1,journeyType:void 0,oldPaidSeats:Object(ee.List)(),shoppingCart:{data:{refundableOrRetainedItemsLabels:[]}},seatMapError:null,isSeatNotSelectedForASeatBundle:!1,showPageLoadingMessage:!1,travelPartAdvisories:[],globalAdvisories:[],currentFlow:"",currentPage:"",hasIropAffectedReservationMessage:!1,isAuthorable:!0,seatMaps:Object(ee.fromJS)([[[[]]]]),segments:Object(ee.List)(),legend:void 0,passengers:void 0,selectedSeats:Object(ee.List)(),ancillariesConfiguration:void 0,pnrInfo:void 0,isPreviewMode:!1,footerButtonFocus:E.a,displayNextPageButtonOnError:!0,seatOfferCodesForReAssociation:[]})}).call(this,n(41))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var a=t(e[n]);if(a)return a}}},function(e,t,n){"use strict";var a=e.exports={};a.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},a.isLegacyOpera=function(){return!!window.opera}},,,,,,function(e,t,n){"use strict";(function(e){var a=n(103),r=n.n(a),i=n(2),s=n.n(i),o=n(0),l=n.n(o),c=n(51),u=n.n(c),d=(n(6),n(194),n(1)),p=n.n(d),h=n(39),f=n.n(h),m=n(12),g=n(50),v=n(2647),y=n(2165);function b(t){var n=Object(d.useState)(!1),a=r()(n,2),i=a[0],o=a[1],c=function(){0!==window.pageYOffset?o(!0):o(!1)};Object(d.useEffect)((function(){return e.addEventListener("scroll",c),function(){return e.removeEventListener("scroll",c)}}));var h=t.selectedFlight,b=t.passengersVisible,E=t.selectedPassenger,C=t.configuration,k=t.segments,S=t.defaultSummaryBarOffset,_=u()(t.passengers,"toJS",[]),O=l()(_,"[".concat(h.itineraryPart,"][").concat(h.segment,"][").concat(E,"]")),w="".concat(l()(O,"passengerDetails.firstName","")," ").concat(l()(O,"passengerDetails.lastName","")),P=s()(_)?{}:Object(y.d)(h.itineraryPart,h.segment,t.selectedSeats,k),A=!s()(k)&&!k.isEmpty()&&k.get(h.itineraryPart).get(h.segment);if(!A||!A.get("seatMapAvailable"))return null;var x=f()("sticky-header",{"sticky-header-position":i});return p.a.createElement("div",{className:x},p.a.createElement("div",{className:"header-text"},!b&&Object(m.a)("seatSelection.passengerReview.selectSeats"),p.a.createElement("button",{type:"button",onClick:t.onViewPassengersClick,className:f()("view-details",{passengersVisible:b})},b?p.a.createElement("div",null,Object(m.a)("seatSelection.passengerReview.hidePassengers"),p.a.createElement(g.c,{name:g.a.ARROW_CHEVRON_UP})):p.a.createElement("div",null,w," ",p.a.createElement(g.c,{name:g.a.ARROW_CHEVRON_DOWN})))),b&&p.a.createElement(v.a,{ref:t.passengerListRef,passengers:_,preselectedSeatsDetails:t.preselectedSeatsDetails,itineraryPartIndex:h.itineraryPart,onPassengerSelection:t.onPassengerSelection,removeSeatForPassenger:t.removeSeatForPassenger,selectedSegmentIndex:h.segment,configuration:C,preselectedSeats:P,selectedPassenger:E,defaultSummaryBarOffset:S}))}b.defaultProps={passengers:void 0},t.a=b}).call(this,n(41))},,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}},function(e,t,n){var a=n(768),r=n(2112),i=n(2281)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),a(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){e.exports={default:n(2864),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(2866)),r=s(n(2878)),i="function"==typeof r.default&&"symbol"==typeof a.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===i(a.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){"use strict";var a=n(2868)(!0);n(2454)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var a=n(2167),r=n(764),i=n(2455),s=n(770),o=n(2113),l=n(2869),c=n(2287),u=n(2450),d=n(1918)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,f,m,g,v){l(n,t,f);var y,b,E,C=function(e){if(!p&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",S="values"==m,_=!1,O=e.prototype,w=O[d]||O["@@iterator"]||m&&O[m],P=w||C(m),A=m?S?C("entries"):P:void 0,x="Array"==t&&O.entries||w;if(x&&(E=u(x.call(new e)))!==Object.prototype&&E.next&&(c(E,k,!0),a||"function"==typeof E[d]||s(E,d,h)),S&&w&&"values"!==w.name&&(_=!0,P=function(){return w.call(this)}),a&&!v||!p&&!_&&O[d]||s(O,d,P),o[t]=P,o[k]=h,m)if(y={values:S?P:C("values"),keys:g?P:C("keys"),entries:A},v)for(b in y)b in O||i(O,b,y[b]);else r(r.P+r.F*(p||_),t,y);return y}},function(e,t,n){e.exports=n(770)},function(e,t,n){var a=n(768),r=n(2052),i=n(2871)(!1),s=n(2281)("IE_PROTO");e.exports=function(e,t){var n,o=r(e),l=0,c=[];for(n in o)n!=s&&a(o,n)&&c.push(n);for(;t.length>l;)a(o,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var a=n(2285);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(2283),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},function(e,t,n){var a=n(2456),r=n(2286).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},function(e,t,n){var a=n(2170),r=n(776),i=n(2052),s=n(782),o=n(768),l=n(786),c=Object.getOwnPropertyDescriptor;t.f=n(448)?c:function(e,t){if(e=i(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(o(e,t))return r(!a.f.call(e,t),e[t])}},function(e,t,n){var a=n(200),r=n(1919),i=r?function(e,t){return r.set(e,t),e}:a;e.exports=i},function(e,t,n){var a=n(2463),r=n(2464),i=n(2898),s=n(2172),o=n(2465),l=n(2291),c=n(2902),u=n(2173),d=n(132);e.exports=function e(t,n,p,h,f,m,g,v,y,b){var E=128&n,C=1&n,k=2&n,S=24&n,_=512&n,O=k?void 0:s(t);return function w(){for(var P=arguments.length,A=Array(P),x=P;x--;)A[x]=arguments[x];if(S)var N=l(w),T=i(A,N);if(h&&(A=a(A,h,f,S)),m&&(A=r(A,m,g,S)),P-=T,S&&P<b){var I=u(A,N);return o(t,n,e,w.placeholder,p,A,I,v,y,b-P)}var B=C?p:this,L=k?B[t]:t;return P=A.length,v?A=c(A,v):_&&P>1&&A.reverse(),E&&y<P&&(A.length=y),this&&this!==d&&this instanceof w&&(L=O||s(L)),L.apply(B,A)}}},function(e,t){var n=Math.max;e.exports=function(e,t,a,r){for(var i=-1,s=e.length,o=a.length,l=-1,c=t.length,u=n(s-o,0),d=Array(c+u),p=!r;++l<c;)d[l]=t[l];for(;++i<o;)(p||i<s)&&(d[a[i]]=e[i]);for(;u--;)d[l++]=e[i++];return d}},function(e,t){var n=Math.max;e.exports=function(e,t,a,r){for(var i=-1,s=e.length,o=-1,l=a.length,c=-1,u=t.length,d=n(s-l,0),p=Array(d+u),h=!r;++i<d;)p[i]=e[i];for(var f=i;++c<u;)p[f+c]=t[c];for(;++o<l;)(h||i<s)&&(p[f+a[o]]=e[i++]);return p}},function(e,t,n){var a=n(1920),r=n(2466),i=n(2467);e.exports=function(e,t,n,s,o,l,c,u,d,p){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var f=[e,t,o,h?l:void 0,h?c:void 0,h?void 0:l,h?void 0:c,u,d,p],m=n.apply(void 0,f);return a(e)&&r(m,f),m.placeholder=s,i(m,e,t)}},function(e,t,n){var a=n(2461),r=n(789)(a);e.exports=r},function(e,t,n){var a=n(2899),r=n(2900),i=n(588),s=n(2901);e.exports=function(e,t,n){var o=t+"";return i(e,r(o,s(a(o),n)))}},function(e,t){var n=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"mapProps",(function(){return m})),n.d(t,"withProps",(function(){return C})),n.d(t,"withPropsOnChange",(function(){return S})),n.d(t,"withHandlers",(function(){return O})),n.d(t,"defaultProps",(function(){return w})),n.d(t,"renameProp",(function(){return A})),n.d(t,"renameProps",(function(){return N})),n.d(t,"flattenProp",(function(){return T})),n.d(t,"withState",(function(){return I})),n.d(t,"withStateHandlers",(function(){return B})),n.d(t,"withReducer",(function(){return L})),n.d(t,"branch",(function(){return j})),n.d(t,"renderComponent",(function(){return F})),n.d(t,"renderNothing",(function(){return R})),n.d(t,"shouldUpdate",(function(){return V})),n.d(t,"pure",(function(){return H})),n.d(t,"onlyUpdateForKeys",(function(){return U})),n.d(t,"onlyUpdateForPropTypes",(function(){return W})),n.d(t,"withContext",(function(){return q})),n.d(t,"getContext",(function(){return z})),n.d(t,"lifecycle",(function(){return G})),n.d(t,"toClass",(function(){return Y})),n.d(t,"setStatic",(function(){return d})),n.d(t,"setPropTypes",(function(){return Q})),n.d(t,"setDisplayName",(function(){return p})),n.d(t,"compose",(function(){return X})),n.d(t,"getDisplayName",(function(){return h})),n.d(t,"wrapDisplayName",(function(){return f})),n.d(t,"isClassComponent",(function(){return K})),n.d(t,"createSink",(function(){return J})),n.d(t,"componentFromProp",(function(){return Z})),n.d(t,"nest",(function(){return $})),n.d(t,"hoistStatics",(function(){return ee})),n.d(t,"componentFromStream",(function(){return ie})),n.d(t,"componentFromStreamWithConfig",(function(){return re})),n.d(t,"mapPropsStream",(function(){return le})),n.d(t,"mapPropsStreamWithConfig",(function(){return oe})),n.d(t,"createEventHandler",(function(){return ue})),n.d(t,"createEventHandlerWithConfig",(function(){return ce})),n.d(t,"setObservableConfig",(function(){return ne}));var a=n(1),r=n.n(a),i=n(2470),s=n.n(i);n.d(t,"shallowEqual",(function(){return s.a}));var o=n(2905),l=n.n(o),c=n(2906),u=n(510),d=function(e,t){return function(n){return n[e]=t,n}},p=function(e){return d("displayName",e)},h=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0},f=function(e,t){return t+"("+h(e)+")"},m=function(e){return function(t){var n=Object(a.createFactory)(t);return function(t){return n(e(t))}}},g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},E=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},C=function(e){return m((function(t){return v({},t,"function"==typeof e?e(t):e)}))},k=function(e,t){for(var n={},a=0;a<t.length;a++){var r=t[a];e.hasOwnProperty(r)&&(n[r]=e[r])}return n},S=function(e,t){return function(n){var r=Object(a.createFactory)(n),i="function"==typeof e?e:function(t,n){return!s()(k(t,e),k(n,e))};return function(e){function n(){var a,r;g(this,n);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=r=E(this,e.call.apply(e,[this].concat(s))),r.computedProps=t(r.props),E(r,a)}return y(n,e),n.prototype.componentWillReceiveProps=function(e){i(this.props,e)&&(this.computedProps=t(e))},n.prototype.render=function(){return r(v({},this.props,this.computedProps))},n}(a.Component)}},_=function(e,t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=t(e[a],a));return n},O=function(e){return function(t){var n=Object(a.createFactory)(t),r=function(e){function t(){var n,a;g(this,t);for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=a=E(this,e.call.apply(e,[this].concat(s))),i.call(a),E(a,n)}return y(t,e),t.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},t.prototype.render=function(){return n(v({},this.props,this.handlers))},t}(a.Component),i=function(){var t=this;this.cachedHandlers={},this.handlers=_("function"==typeof e?e(this.props):e,(function(e,n){return function(){var a=t.cachedHandlers[n];if(a)return a.apply(void 0,arguments);var r=e(t.props);return t.cachedHandlers[n]=r,r.apply(void 0,arguments)}}))};return r}},w=function(e){return function(t){var n=Object(a.createFactory)(t),r=function(e){return n(e)};return r.defaultProps=e,r}},P=function(e,t){for(var n=b(e,[]),a=0;a<t.length;a++){var r=t[a];n.hasOwnProperty(r)&&delete n[r]}return n},A=function(e,t){return m((function(n){var a;return v({},P(n,[e]),((a={})[t]=n[e],a))}))},x=Object.keys,N=function(e){return m((function(t){return v({},P(t,x(e)),(n=k(t,x(e)),a=function(t,n){return e[n]},x(n).reduce((function(e,t){var r=n[t];return e[a(r,t)]=r,e}),{})));var n,a}))},T=function(e){return function(t){var n=Object(a.createFactory)(t);return function(t){return n(v({},t,t[e]))}}},I=function(e,t,n){return function(r){var i=Object(a.createFactory)(r);return function(a){function r(){var e,t;g(this,r);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t=E(this,a.call.apply(a,[this].concat(s))),t.state={stateValue:"function"==typeof n?n(t.props):n},t.updateStateValue=function(e,n){return t.setState((function(t){var n=t.stateValue;return{stateValue:"function"==typeof e?e(n):e}}),n)},E(t,e)}return y(r,a),r.prototype.render=function(){var n;return i(v({},this.props,((n={})[e]=this.state.stateValue,n[t]=this.updateStateValue,n)))},r}(a.Component)}},B=function(e,t){return function(n){var r=Object(a.createFactory)(n),i=function(e){function t(){var n,a;g(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=E(this,e.call.apply(e,[this].concat(i))),o.call(a),E(a,n)}return y(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=e!==this.props,a=!s()(t,this.state);return n||a},t.prototype.render=function(){return r(v({},this.props,this.state,this.stateUpdaters))},t}(a.Component),o=function(){var n=this;this.state="function"==typeof e?e(this.props):e,this.stateUpdaters=_(t,(function(e){return function(t){for(var a=arguments.length,r=Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];t&&"function"==typeof t.persist&&t.persist(),n.setState((function(n,a){return e(n,a).apply(void 0,[t].concat(r))}))}}))};return i}},L=function(e,t,n,r){return function(i){var s=Object(a.createFactory)(i);return function(a){function i(){var e,t;g(this,i);for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return e=t=E(this,a.call.apply(a,[this].concat(s))),t.state={stateValue:t.initializeStateValue()},t.dispatch=function(e){return t.setState((function(t){var a=t.stateValue;return{stateValue:n(a,e)}}))},E(t,e)}return y(i,a),i.prototype.initializeStateValue=function(){return void 0!==r?"function"==typeof r?r(this.props):r:n(void 0,{type:"@@recompose/INIT"})},i.prototype.render=function(){var n;return s(v({},this.props,((n={})[e]=this.state.stateValue,n[t]=this.dispatch,n)))},i}(a.Component)}},D=function(e){return e},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;return function(r){var i=void 0,s=void 0;return function(o){return e(o)?(i=i||Object(a.createFactory)(t(r)))(o):(s=s||Object(a.createFactory)(n(r)))(o)}}},F=function(e){return function(t){var n=Object(a.createFactory)(e);return function(e){return n(e)}}},M=function(e){function t(){return g(this,t),E(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){return null},t}(a.Component),R=function(e){return M},V=function(e){return function(t){var n=Object(a.createFactory)(t);return function(t){function a(){return g(this,a),E(this,t.apply(this,arguments))}return y(a,t),a.prototype.shouldComponentUpdate=function(t){return e(this.props,t)},a.prototype.render=function(){return n(this.props)},a}(a.Component)}},H=function(e){return V((function(e,t){return!s()(e,t)}))(e)},U=function(e){return V((function(t,n){return!s()(k(n,e),k(t,e))}))},W=function(e){var t=e.propTypes;var n=Object.keys(t||{});return U(n)(e)},q=function(e,t){return function(n){var r=Object(a.createFactory)(n),i=function(e){function n(){var a,r;g(this,n);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=r=E(this,e.call.apply(e,[this].concat(s))),r.getChildContext=function(){return t(r.props)},E(r,a)}return y(n,e),n.prototype.render=function(){return r(this.props)},n}(a.Component);return i.childContextTypes=e,i}},z=function(e){return function(t){var n=Object(a.createFactory)(t),r=function(e,t){return n(v({},e,t))};return r.contextTypes=e,r}},G=function(e){return function(t){var n=Object(a.createFactory)(t);var r=function(e){function t(){return g(this,t),E(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){return n(v({},this.props,this.state))},t}(a.Component);return Object.keys(e).forEach((function(t){return r.prototype[t]=e[t]})),r}},K=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)},Y=function(e){if(K(e))return e;var t=function(t){function n(){return g(this,n),E(this,t.apply(this,arguments))}return y(n,t),n.prototype.render=function(){return"string"==typeof e?r.a.createElement(e,this.props):e(this.props,this.context)},n}(a.Component);return t.displayName=h(e),t.propTypes=e.propTypes,t.contextTypes=e.contextTypes,t.defaultProps=e.defaultProps,t},Q=function(e){return d("propTypes",e)};function X(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var J=function(e){return function(t){function n(){return g(this,n),E(this,t.apply(this,arguments))}return y(n,t),n.prototype.componentWillMount=function(){e(this.props)},n.prototype.componentWillReceiveProps=function(t){e(t)},n.prototype.render=function(){return null},n}(a.Component)},Z=function(e){var t=function(t){return Object(a.createElement)(t[e],P(t,[e]))};return t.displayName="componentFromProp("+e+")",t},$=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(a.createFactory),i=function(e){var t=b(e,[]),n=e.children;return r.reduceRight((function(e,n){return n(t,e)}),n)};return i},ee=function(e){return function(t){var n=e(t);return l()(n,t),n}},te={fromESObservable:null,toESObservable:null},ne=function(e){te=e},ae={fromESObservable:function(e){return"function"==typeof te.fromESObservable?te.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof te.toESObservable?te.toESObservable(e):e}},re=function(e){return function(t){return function(n){function a(){var r,i,s;g(this,a);for(var o=arguments.length,l=Array(o),d=0;d<o;d++)l[d]=arguments[d];return i=s=E(this,n.call.apply(n,[this].concat(l))),s.state={vdom:null},s.propsEmitter=Object(c.createChangeEmitter)(),s.props$=e.fromESObservable(((r={subscribe:function(e){return{unsubscribe:s.propsEmitter.listen((function(t){t?e.next(t):e.complete()}))}}})[u.a]=function(){return this},r)),s.vdom$=e.toESObservable(t(s.props$)),E(s,i)}return y(a,n),a.prototype.componentWillMount=function(){var e=this;this.subscription=this.vdom$.subscribe({next:function(t){e.setState({vdom:t})}}),this.propsEmitter.emit(this.props)},a.prototype.componentWillReceiveProps=function(e){this.propsEmitter.emit(e)},a.prototype.shouldComponentUpdate=function(e,t){return t.vdom!==this.state.vdom},a.prototype.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},a.prototype.render=function(){return this.state.vdom},a}(a.Component)}},ie=function(e){return re(ae)(e)},se=function(e){return e},oe=function(e){var t=re({fromESObservable:se,toESObservable:se});return function(n){return function(r){var i=Object(a.createFactory)(r),s=e.fromESObservable,o=e.toESObservable;return t((function(e){var t;return(t={subscribe:function(t){var a=o(n(s(e))).subscribe({next:function(e){return t.next(i(e))}});return{unsubscribe:function(){return a.unsubscribe()}}}})[u.a]=function(){return this},t}))}}},le=function(e){return oe(ae)(e)},ce=function(e){return function(){var t,n=Object(c.createChangeEmitter)(),a=e.fromESObservable(((t={subscribe:function(e){return{unsubscribe:n.listen((function(t){return e.next(t)}))}}})[u.a]=function(){return this},t));return{handler:n.emit,stream:a}}},ue=ce(ae)},function(e,t,n){"use strict";var a=Object.prototype.hasOwnProperty;function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var s=0;s<n.length;s++)if(!a.call(t,n[s])||!r(e[n[s]],t[n[s]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(){}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(22),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(65),E=n.n(b),C=n(38),k=n.n(C),S=n(34),_=n.n(S),O=n(8),w=n.n(O),P=n(15),A=n.n(P),x=n(5),N=n.n(x),T=n(37),I=n.n(T),B=n(77),L=n.n(B),D=n(18),j=n.n(D),F=n(130),M=n.n(F),R=n(56),V=n.n(R),H=n(122),U=n.n(H),W=n(35),q=n.n(W),z=n(145),G=n.n(z),K=n(4),Y=n.n(K),Q=n(13),X=n.n(Q),J=n(51),Z=n.n(J),$=n(0),ee=n.n($),te=n(1564),ne=n.n(te),ae=n(2),re=n.n(ae),ie=n(16),se=n.n(ie),oe=n(27),le=n.n(oe),ce=n(1),ue=n.n(ce),de=n(6),pe=n.n(de),he=n(17),fe=n.n(he),me=n(11),ge=(n(194),n(39)),ve=n.n(ge),ye=n(12),be=n(1307),Ee=n(319),Ce=n(1376),ke=n(146),Se=n(24),_e=n(511),Oe=n(1723),we=n(62),Pe=n.n(we),Ae=n(91),xe=n.n(Ae),Ne=n(21),Te=n.n(Ne),Ie=n(546),Be=n.n(Ie),Le=n(137),De=n.n(Le),je=n(112),Fe=n.n(je),Me=n(392),Re=n.n(Me),Ve=n(36),He=n.n(Ve),Ue=n(73),We=n.n(Ue),qe=n(82),ze=n.n(qe),Ge=n(1565),Ke=n.n(Ge),Ye=n(1349),Qe=n(1722),Xe=n.n(Qe),Je=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"scrollToTopRef",ue.a.createRef()),n}return g()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.scrollInstance=new Xe.a(this.scrollToTopRef.current)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.scrollInstance.remove()}},{key:"render",value:function(){return ue.a.createElement("button",{type:"button",ref:this.scrollToTopRef,className:"spark-scroll-to-top"},ue.a.createElement("i",{className:"spark-scroll-to-top__icon"}),ue.a.createElement("span",{className:"spark-assistive-text"},Object(ye.i)("".concat(this.props.PACKAGE_NAME_CLASSIFIED,".scrollToTop"))))}}]),t}(ce.Component),Ze=n(1264),$e=n(1359),et=n(521),tt=n(58),nt=n.n(tt),at=n(83),rt=n.n(at),it=n(173),st=n.n(it),ot=n(2003),lt=n(59),ct=n(282),ut=n(195),dt="oneWay",pt="outbound",ht="additionalLeg";function ft(e,t,n){return mt(e,t,n)}function mt(e,t,n){if(t.isRoundTrip||t.isMultiCity){if(e.displayPricePrefixForOutbound&&n===lt.a.OUTBOUND)return pt;if(e.displayPricePrefixForAdditionalLeg&&n!==lt.a.OUTBOUND)return ht}return t.isOneWay&&e.displayPricePrefixForOneWay?dt:void 0}var gt=n(2213),vt=n(1249),yt=(n(2679),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"onDateClick",(function(){n.props.disabled||n.props.isSelected||n.props.onChange(n.props.direction,n.props.date)})),n}return g()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,n=e.status,a=e.isLowFareOffers,r=e.displayStatusForLowFareSearch,i=e.pricePrefix,s=e.isNoFlightsAvailable,o=e.date,l=e.isLoading,c=e.dateFormat,u=e.dayNameFormat,d=e.displayDayName,p=e.disabled,h=e.isSelected,f=e.total,m=e.priceWithMultipleAlternatives,g=(e.formatDateTime,e.selectedLocale),v=!re()(f),y=le()(g.split("-")),b=ve()("dx-flight-selection-ribbon-item",{selected:h,today:fe()(o).isSame(fe()(),"day"),loading:l,"no-flights":!0!==l&&s,multipleAlternatives:m}),E=ve()("flight-price","".concat(We()(n)));return ue.a.createElement(ot.a,null,ue.a.createElement("button",{type:"button",className:b,onClick:this.onDateClick,disabled:p,"aria-pressed":h},ue.a.createElement("div",{className:"date"},d&&ue.a.createElement("span",null,fe()(o).locale(y).format(u),",")," ",fe()(o).locale(y).format(c)),ue.a.createElement("div",{className:E},v&&i&&ue.a.createElement("span",{className:"price-prefix"},Object(ye.i)("calendarRibbon.pricePrefix.".concat(i))),!s&&ue.a.createElement(vt.a,{ffcurrencyDisplay:ee()(this,"props.ffcurrencyDisplay","short"),price:f}),t.shouldDisplayStatus(a,r)&&ue.a.createElement("span",{className:"calendar-ribbon-item-label"},n?Object(ye.a)("calendarRibbon.".concat(We()(n))):Object(ye.a)("calendarRibbon.noFlights"))),ue.a.createElement("div",{className:"down-arrow"})))}}],[{key:"shouldDisplayStatus",value:function(e,t){return!e||t}}]),t}(ce.PureComponent));y()(yt,"contextTypes",{formatDateTime:de.func}),y()(yt,"defaultProps",{selectedLocale:"en-US",status:"",isLoading:!1,direction:0,isLowFareOffers:!1,displayStatusForLowFareSearch:!1,pricePrefix:"",dateFormat:"",disabled:!1,dayNameFormat:"",displayDayName:!1,isNoFlightsAvailable:!1,isSelected:!1,total:[],date:void 0,priceWithMultipleAlternatives:!1,formatDateTime:void 0});n(2680),n(2681);var bt=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{}),y()(p()(n),"loadNextWeekRibbonPrices",(function(){n.props.onSelectedDateChange(n.props.direction,n.calculateNextWeekSelectedDate())})),y()(p()(n),"loadPreviousWeekRibbonPrices",(function(){n.props.onSelectedDateChange(n.props.direction,n.calculatePreviousWeekSelectedDate())})),n}return g()(t,e),f()(t,[{key:"calculateNextWeekSelectedDate",value:function(){var e=this.props,t=e.calendarRibbonConfiguration,n=e.selectedDate.clone().add(2*t.offset+1,"days"),a=this.state.max;return n.isAfter(a)?a:n}},{key:"calculatePreviousWeekSelectedDate",value:function(){var e=this.props,t=e.calendarRibbonConfiguration,n=e.selectedDate.clone().subtract(2*t.offset+1,"days"),a=this.state.min;return n.isBefore(a)?a:n}},{key:"canLoadNextWeekOffers",value:function(){return this.props.selectedDate.clone().add(this.props.calendarRibbonConfiguration.offset,"days").isBefore(this.state.max)}},{key:"canLoadPreviousWeekOffers",value:function(){return this.props.selectedDate.clone().subtract(this.props.calendarRibbonConfiguration.offset,"days").isAfter(this.state.min)}},{key:"isSelectable",value:function(e){var t=this.state,n=t.max;return t.min.isSameOrBefore(e,"day")&&n.isSameOrAfter(e,"day")}},{key:"renderRibbonItems",value:function(){var e=this,t=this.props,n=t.isLoading,a=t.isLowFareOffers,r=t.calendarRibbonConfiguration,i=t.anyFlightsFoundForSelectedDay,s=t.isBundledOffers,o=t.searchCriteria,l=t.direction,c=t.pricePerDates,u=t.selectedDate,d=t.selectedLocale,p=a||s?void 0:function(e,t,n){return mt(e,t,n)}(r,o,l),h=!re()(A()(c,(function(e){return nt()(e.total).length>2})));return N()(c,(function(t,s){var o=u.isSame(t.date,"day"),f=ee()(t,"total",[]),m=re()(t)||t.status===ct.a.UNAVAILABLE||o&&!i;return ue.a.createElement(yt,{selectedLocale:d,key:s,isSelected:o,displayStatusForLowFareSearch:r.displayStatusForLowFareSearch,disabled:m||!e.isSelectable(t.date),isNoFlightsAvailable:m,isLoading:n,status:o&&!i?gt.a.UNAVAILABLE:ee()(c,"".concat(s,".status"),gt.a.UNAVAILABLE),dayNameFormat:r.dayNameFormat,dateFormat:r.dateFormat,displayDayName:r.displayDayName,date:t.date,direction:l,pricePrefix:p,isLowFareOffers:a,total:f,onChange:e.props.onSelectedDateChange,priceWithMultipleAlternatives:h,formatDateTime:e.props.formatDateTime})}))}},{key:"render",value:function(){var e=this,t=st()(rt()(this.props.pricePerDates),(function(t){return t.date.isSame(e.props.selectedDate,"days")})),n=Object(ut.a)(this.props.isAuthorable,"flightSelectionRibbon");return ue.a.createElement("div",r()({id:Oe.e},n),ue.a.createElement(ot.b,{packageName:"flightSelection",selectedItemIndex:t,onLeftArrowClick:this.loadPreviousWeekRibbonPrices,onRightArrowClick:this.loadNextWeekRibbonPrices,className:"dx-flight-selection-ribbon",isRightArrowEnabled:this.canLoadNextWeekOffers(),isLeftArrowEnabled:this.canLoadPreviousWeekOffers()},this.renderRibbonItems()))}}],[{key:"getDepartureDateLimit",value:function(e,t){return{min:fe()(),max:e.isRoundTrip?fe()(Object(ke.l)(e)):fe()().add(t,"days")}}},{key:"getReturnDateLimit",value:function(e,t){return{min:e.isRoundTrip?fe()(Object(ke.f)(e)):fe()(),max:fe()().add(t,"days")}}},{key:"getDerivedStateFromProps",value:function(e,n){var a=e.direction,r=e.searchCriteria,i=e.maximumNumberOfDays,s=a===lt.a.OUTBOUND?t.getDepartureDateLimit(r,i):t.getReturnDateLimit(r,i);return t.shouldUpdateDateSelectionLimits(s,n)?{min:s.min,max:s.max}:null}}]),t}(ce.PureComponent);y()(bt,"shouldUpdateDateSelectionLimits",(function(e,t){return!t.min||!t.min.isSame(e.min,"day")||(!t.max||!t.max.isSame(e.max,"day"))})),y()(bt,"defaultProps",{selectedLocale:"en-US",isAuthorable:!0,direction:lt.a.OUTBOUND,pricePerDates:{},isLowFareOffers:!1,isLoading:!1,isBundledOffers:!1,anyFlightsFoundForSelectedDay:!1,formatDateTime:void 0});var Et=bt,Ct="points",kt="currency",St=n(14),_t=n(347),Ot=n(1409),wt=n(63),Pt=n(19),At=n.n(Pt),xt=n(49),Nt=n.n(xt),Tt=n(1348),It=n(549),Bt=n(128),Lt=n.n(Bt),Dt=n(1607),jt=n(43),Ft=n.n(jt),Mt=n(55),Rt=n.n(Mt),Vt=function(e,t,n){var a=ee()(t,"dealIcon.showWhenDiscounted",!1),r=Ft()(ee()(n,"offers",{}),(function(e){return Ut(e,"discounted")}));if(a&&e&&r)return!0;var i=ee()(t,"dealIcon.showWhenNegotiated",!1),s=!!Ft()(ee()(n,"offers",{}),(function(e){return Ut(e,"negotiated")}))&&Ft()(ee()(n,"offers",{}),(function(e){return Wt(t,e)}));return i&&s&&!r},Ht=function(e,t,n){var a=ee()(t,"dealIcon.showWhenDiscounted",!1),r=Ut(n,"discounted");if(a&&e&&r)return!0;var i=!!Ut(n,"negotiated")&&Wt(t,n);return ee()(t,"dealIcon.showWhenNegotiated",!1)&&i&&!r};function Ut(e,t){var n=ee()(e,"offers",[]);return Ft()(n,(function(e){return ee()(e,"offerInformation.".concat(t),!1)}))}function Wt(e,t){var n=ee()(e,"dealIcon.showWhenNegotiated",!1),a=ee()(e,"fareTypesWithoutDealIcon",[]);if(n&&!re()(a)){var r=At()(ee()(t,"offers",[]),(function(e){return ee()(e,"offerInformation.negotiated",!1)})),i=N()(r,(function(e){var t=ee()(e,"offerInformation.negotiatedType","");return Te()(a,t)})),s=Rt()(i,(function(e){return!1===e})),o=i.length>1&&Ft()(i,(function(e){return!1===e}));return s||o}return n}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=function(e,t,n,a,r){return e.filter((function(e){return t[n].offers[e]&&(a.displaySoldOutOffer.brand||!t[n].offers[e].soldOut)})).reduce((function(e,i){var s=t[n].offers[i];return e[i]=zt({},Object(Dt.a)(s),{remainingSeats:ee()(Lt()(s.offers),"seatsRemaining"),bookingClass:a.displayBookingClass?ee()(s,"offers.0.itineraryPart.0.bookingClass"):void 0,hasPromoApplied:Ht(r,a,s),fareAdvisories:a.displayFareAdvisories?ee()(s,"offers.0.advisories"):void 0,cabin:s.class}),e}),{})},Kt=function(e,t,n,a){return e.filter((function(e){return t[e]&&(n.displaySoldOutOffer.brand||!t[e].soldOut)})).reduce((function(e,r){return e[r]=zt({},Object(Dt.a)(t[r]),{remainingSeats:ee()(Lt()(t[r].offers),"seatsRemaining"),bookingClass:n.displayBookingClass?ee()(t[r],"offers.0.itineraryPart.0.bookingClass"):void 0,cabinClass:t[r].class,hasPromoApplied:Ht(a,n,t[r]),fareAdvisories:n.displayFareAdvisories?ee()(t[r],"offers.0.advisories"):void 0,cabin:ee()(t[r],"class")}),e}),{})},Yt=n(105),Qt=n.n(Yt),Xt=function(e){return Qt()(e,(function(e){return!e.soldOut&&re()(e.offers)}))};var Jt=function(e,t){return t?Y()(e,(function(e,t){return j()({},e,Xt(t.offers))}),{}):Y()(function(e){return Qt()(e,(function(e){return e.sold}))}(e),(function(e,t){return j()({},e,(n=t.offers,Xt(Qt()(n,(function(e){return e.soldOut})))));var n}),{})},Zt=n(1414),$t=n(50),en=n(545),tn=n(1482),nn=n(1419),an=n(1730),rn=n(541),sn=n.n(rn),on=(n(2682),function(e){var t=e.amenity,n=e.flightId;return ue.a.createElement(Zt.b,{id:"".concat(t.name,"-").concat(n),tooltip:Object(ye.i)("amenities.".concat(t.name)),position:Zt.a.TOP,className:"dxp-amenities-item"},ue.a.createElement($t.c,{name:t.icon,srOnlyText:t.name}))});n(2683);function ln(e){return ue.a.createElement(ue.a.Fragment,null,e.map((function(e){return ue.a.createElement("div",{className:"dxp-amenity-row",key:e.name},ue.a.createElement($t.c,{name:e.icon,srOnlyText:e.name}),Object(ye.i)("amenities.".concat(e.name)))})),ue.a.createElement("div",{className:"dxp-amenity-message"},Object(ye.i)("amenities.message")))}var cn=function(e){var t=e.amenities,n=e.flightId;return ue.a.createElement(Zt.b,{id:"amenities-tooltip-".concat(n),className:"additional-amenities-tooltip",tooltip:ln(t),position:Zt.a.TOP},Object(ye.a)("amenities.quantity",{quantity:t.length}))},un=(n(2684),n(2685),function(e){var t=e.segments,n=e.flightDetailsConfiguration,a=n.amenities,r=n.amenitiesQuantityToDisplay,i=e.flightId,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=e.filter((function(e){return ee()(e.segmentOfferInformation,"flightAncillaries.flightAncillary")})).map((function(e){return e.segmentOfferInformation.flightAncillaries.flightAncillary})).reduce((function(e,t){return e.concat(t.map((function(e){return{name:e.subCode,icon:n.get("".concat(e.subCode),Object(me.fromJS)({icon:"icon-".concat(e.subCode)})).get("icon")}})))}),[]);return sn()(a.concat(t),"name")}(t,a,e.ancillaryMap),o=s.slice(0,r),l=s.slice(r,r.length);return ue.a.createElement("div",{className:"itinerary-part-amenities"},ue.a.createElement("ul",{className:"amenities-items"},o.map((function(e){return ue.a.createElement("li",{className:"amenity-item",key:e.icon},ue.a.createElement(on,{amenity:e,flightId:i}))})),!re()(l)&&ue.a.createElement(cn,{amenities:l,flightId:i})),ue.a.createElement("div",{className:"amenities-note"},Object(ye.i)("flightSelection.amenitiesNote")))});un.defaultProps={ancillaryMap:void 0};var dn=un,pn="header",hn="offer";n(2686);function fn(e){var t=e.stops;return ue.a.createElement("div",{className:"dx-stops-with-layover-container"},t.map((function(e){return function(e){return ue.a.createElement("div",{className:"dx-stops-with-layover",key:e.airport},ue.a.createElement("div",{className:"dxp-stops-with-layover-airport"},Object(ye.a)("airports.".concat(e.airport))),ue.a.createElement("div",{className:"dxp-stops-with-layover-duration"},Object(ye.k)("flightSelection.bundled.layover",{duration:ue.a.createElement(nn.a,{duration:e.duration})})))}(e,ye.k)})))}fn.contextTypes={translateWithComponents:de.func};var mn=fn,gn=n(1980),vn=n(1981),yn=(n(2687),function(e){var t=e.advisories;return ue.a.createElement("ul",{className:"flight-advisories"},t.map((function(e){return ue.a.createElement("li",{key:e.code,className:ve()("advisory-message",e.level.toLowerCase())},ue.a.createElement($t.c,{name:$t.a.INFO_CIRCLE,size:"sm",fill:!0}),ue.a.createElement("span",null,Object(ye.i)(e.code)))})))}),bn=n(1484),En=n(1415);n(2688);function Cn(e){var t=e.flight,n=e.flightDetailsConfiguration,a=e.shouldDisplayMinimalPointsThresholdWarning,r=e.shouldDisplayCombinabilityWarning,i=t.segments,s=void 0===i?Object(me.Map)():i;s.filter((function(e){return e.subjectToGovernmentApproval})).map((function(e){return Object(tn.e)(e)}));return ue.a.createElement("div",{className:"itinerary-part-summary-details"},ue.a.createElement("div",{className:"flights-operated-by"},function(e,t){var n=t.operatedBy,a=t.displayFlightAdvisories,r=t.displayFlightSummaryAircraftType,i=n.displayCarrierLogo,s=n.displayAircraftLeaseText,o=void 0===s||s,l=n.displayLogo,c=void 0===l||l,u=n.alwaysDisplayOperatingCarrier;return e.map((function(e){var t=e.flight,n=e.aircraftLeaseText,s=e.equipment,l=i===bn.b?t.airlineCode:t.operatingAirlineCode;l=bn.c.includes(s)?s:l;var d=t.airlineCode!==t.operatingAirlineCode||u;return ue.a.createElement(ue.a.Fragment,{key:t.flightNumber},ue.a.createElement("div",{className:"flight-number-operated-by"},c&&ue.a.createElement(Ot.a,{alt:Object(ye.i)("airlines.".concat(t.operatingAirlineCode)),src:Object(wt.a)("./images/airlines/".concat(l,".png")),errorSrc:Object(wt.a)("./images/airlines/default.png"),className:"carrier-logo"}),ue.a.createElement("div",{className:"flight-number"},Object(ye.i)("flightSelection.flightNumber",{airlineCode:t.airlineCode,flightNumber:t.flightNumber})),r&&s&&ue.a.createElement("div",{className:"aircraft-type"},Object(ye.i)("aircrafts.".concat(s))),d&&ue.a.createElement(ue.a.Fragment,{key:"operated-by"},ue.a.createElement("div",{className:"hyphen"}),n&&o&&ue.a.createElement($t.c,{className:"aircraft-lease-text-documents",name:$t.a.DOCUMENT,size:"sm",fill:!0}),ue.a.createElement("div",{className:"operated-by"},Object(ye.a)("flightSelection.operatedBy",n&&o?{airline:n}:{airline:Object(ye.i)("airlines.".concat(t.operatingAirlineCode))}))),a&&!re()(t.advisories)&&ue.a.createElement(yn,{advisories:t.advisories})))}))}(s,n)),a&&ue.a.createElement(En.a,{className:"not-enough-points-warning",type:"warning",title:Object(ye.i)("awardBooking.notEnoughPointsToSelectFlight")}),r&&ue.a.createElement(En.a,{className:"combinability-warning",type:"warning",title:Object(ye.i)("flightSelection.sameDay")}))}Cn.defaultProps={shouldDisplayMinimalPointsThresholdWarning:!1,shouldDisplayCombinabilityWarning:!1};var kn=Cn;n(2689);function Sn(e){var t=e.flight,n=e.defaultDateFormat,a=e.flightSelectionConfiguration,r=e.flightDetailsConfiguration,i=e.shouldDisplayMinimalPointsThresholdWarning,s=e.shouldDisplayCombinabilityWarning,o=e.isMobile,l=e.displayLayoverInfo,c=e.ancillaryMap,u=e.formatDateTime,d=t.segments,p=r.amenities,h=r.dateFormat,f=r.nightTime,m=!re()(p)||d.some((function(e){return ee()(e.segmentOfferInformation,"flightAncillaries.flightAncillary")})),g=t.id?t.id:t.origin+t.destination+t.departure.format();return ue.a.createElement("div",{className:"flight-offer-details"},ue.a.createElement("div",{className:"row"},function(e,t,n,a,r){var i=e.arrival,s=e.departure,o=e.segments,l=Object(tn.a)(i,s);return ue.a.createElement("div",{className:"route-date-time"},ue.a.createElement("div",{className:"time-airport"},ue.a.createElement("div",{className:"time"},ue.a.createElement(an.a,{value:s,format:t,formatDateTime:r})),a&&ue.a.createElement("div",{className:"date"},ue.a.createElement(an.a,{value:s,format:n})),ue.a.createElement("div",{className:"airport"},Object(en.c)(o))),ue.a.createElement($t.c,{className:"time-airport-separator",name:$t.a.ARROW_EMPTY_RIGHT}),ue.a.createElement("div",{className:"time-airport"},ue.a.createElement("div",{className:"time"},ue.a.createElement(an.a,{value:i,format:t,formatDateTime:r})),a&&ue.a.createElement("div",{className:"date"},ue.a.createElement(an.a,{value:i,format:n})),ue.a.createElement("div",{className:"airport"},Object(en.a)(o))),0!==l&&ue.a.createElement("div",{className:"plus-day"},Object(ye.a)("flightSelection.flightArrivesDifferentDay",{tripDuration:l})))}(t,n,h,a.departureDateDisplayPosition===hn,u),function(e,t,n){var a=e.arrival,r=e.departure,i=e.duration,s=e.stops,o=e.id?e.id:e.origin+e.destination+e.departure.format();return ue.a.createElement("div",{className:"duration-stops"},ue.a.createElement("div",{className:"duration"},ue.a.createElement(nn.a,{duration:i}),Object(tn.g)(r,a,t)&&ue.a.createElement(Zt.b,{id:"night-time-".concat(o),tooltip:Object(ye.i)("flightSelection.nightTimeFlight"),position:Zt.a.TOP,className:"dxp-night-time"},ue.a.createElement($t.c,{className:"night-flight",name:$t.a.HOTEL_NIGHT}))),n&&!re()(s)&&ue.a.createElement("div",{className:"stops-popover-container"},ue.a.createElement(gn.a,{toggleEl:_n(s),id:"".concat(a.format(),"-").concat(r.format()),position:vn.a.TOP,showClose:!1,className:"dxp-duration-tooltip"},ue.a.createElement(mn,{stops:s}))),!n&&!re()(s)&&_n(s),re()(s)&&ue.a.createElement("div",{className:"stops"},ue.a.createElement("div",null,Object(ye.i)("flightSelection.nonStop"))))}(t,f,l),!o&&m&&ue.a.createElement("div",{className:"amenities"},ue.a.createElement(dn,{segments:d,flightDetailsConfiguration:r,flightId:g,ancillaryMap:c}))),!o&&ue.a.createElement(kn,{shouldDisplayMinimalPointsThresholdWarning:i,shouldDisplayCombinabilityWarning:s,flight:t,isMobile:o,flightDetailsConfiguration:r}))}function _n(e){return ue.a.createElement("div",{className:"stops"},ue.a.createElement("div",{className:"stops-count spark-bold"},Object(ye.a)("flightSelection.stop",{stopsNumber:e.length})),ue.a.createElement("div",{className:"stop-airports"},"(",e.map((function(e){return e.airport})).join(","),")"))}Sn.defaultProps={shouldDisplayMinimalPointsThresholdWarning:!1,shouldDisplayCombinabilityWarning:!1,ancillaryMap:void 0,formatDateTime:void 0};var On=Sn,wn=n(257),Pn=n.n(wn),An=(n(2690),function(e){var t=e.remainingSeats,n=e.showAsLimitedAvailability;return ue.a.createElement("div",{className:"spark-bold itinerary-part-remaining-seats"},n?Object(ye.a)("seatsRemaining.limitedAvailability"):Object(ye.a)("seatsRemaining.seatsLeft",{remainingSeats:t}))});An.defaultProps={showAsLimitedAvailability:!1};var xn=An,Nn=n(1492),Tn=(n(2691),n(131)),In=n(1456);function Bn(e,t,n){return n===Nn.a.HIGHEST?t:e}var Ln=function(e){var t=e.priceJumpConfiguration.displayType,n=e.brandPriceTotal,a=e.brandPriceMin,r=e.brandPriceMax,i=e.hasMultipleOffers,s=e.riseDecimal,o=e.priceClassName,l=e.firstOfferToShow,c=e.isBrandSoldOut,u=e.showCurrencySymbolForIrops,d=e.currentFlow,p=e.isIropAffected,h=e.hasPromosApplied,f=i&&t===Nn.a.RANGE,m=d===Se.a.EXCHANGE,g=ee()(l,"pricedItineraryExchangeCharge.priceDifferenceWaived",!1),v=p||h,y=m&&g&&v&&!c,b=m&&u&&!g&&v&&!c;return ue.a.createElement("div",{className:"brand-offer-price"},i&&t===Nn.a.LOWEST&&ue.a.createElement("span",{className:"from"},Object(ye.i)("app.from")),i&&t===Nn.a.HIGHEST&&ue.a.createElement("span",{className:"up-to"},Object(ye.i)("flightSelection.upto")),y&&Object(In.h)(),b&&Object(In.g)(ee()(l,"currencySymbol",Tn.a)),!y&&!b&&!c&&ue.a.createElement("div",{className:"prices-container"},ue.a.createElement(vt.a,{price:i?Bn(a,r,t):n,raiseDecimal:s,className:o,ffcurrencyDisplay:"short"}),f&&ue.a.createElement("div",{className:"hyphen"}),f&&ue.a.createElement(vt.a,{price:r,raiseDecimal:s,className:o,ffcurrencyDisplay:"short"})),ue.a.createElement("span",{className:"for-the-party"},Object(ye.i)("flightSelection.forTheParty")))};Ln.defaultProps={priceClassName:"",riseDecimal:!1,brandPriceMin:void 0,brandPriceMax:void 0,isBrandSoldOut:!1,currentFlow:Se.a.B2C,firstOfferToShow:{},isIropAffected:!1,hasPromosApplied:!1,showCurrencySymbolForIrops:!1};var Dn=Ln,jn=(n(2692),function(){return ue.a.createElement("div",{className:"flight-offer-promo spark-bold"},ue.a.createElement($t.c,{name:$t.a.TAG,fill:!0}),ue.a.createElement("div",{className:"promo-label"},Object(ye.i)("flightSelection.sale")))}),Fn=n(1916),Mn=(n(2693),n(2694),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"renderNotAvailableLabel",(function(){var e=ve()("itinerary-part-offer-not-available",{hidden:!n.props.displaySoldOutOffer});return ue.a.createElement("div",{className:e},Object(ye.i)("app.soldOut"))})),n}return g()(t,e),f()(t,[{key:"getBrandPrice",value:function(){var e=this.props.hasMultipleOffers?ee()(this.props.brandOffer,"minOffer",{}):this.props.firstOffer,t=this.props.hasMultipleOffers&&this.props.priceJumpConfiguration.displayType===Nn.a.HIGHEST?ee()(this.props.brandOffer,"maxOffer"):e,n=ee()(t,"requiredMinThreshold.amount"),a=this.props.user.getIn(["loyaltyDetails","balance"]),r=Pn()(a,n+this.props.totalPointsForSelectedFlights);return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(Dn,{brandId:this.props.brandId,isLowFareOffers:this.props.isLowFareOffers,priceJumpConfiguration:this.props.priceJumpConfiguration,brandPriceTotal:this.props.offerPrice,brandPriceMin:this.props.brandPriceMin,brandPriceMax:this.props.brandPriceMax,hasMultipleOffers:this.props.hasMultipleOffers,riseDecimal:!0,priceClassName:"big-price brand-offer-price",firstOfferToShow:t,isBrandSoldOut:this.props.brandOffer.soldOut,showCurrencySymbolForIrops:ee()(this.props.iropConfiguration,"showCurrencySymbolForIrops",!1),currentFlow:this.props.currentFlow,isIropAffected:this.props.isIropAffected,hasPromosApplied:this.props.hasPromosApplied}),!this.props.user.isEmpty()&&this.props.isRBEEnabled&&!r&&ue.a.createElement(En.a,{className:"brand-not-enough-points-warning",type:"warning",title:Object(ye.i)("awardBooking.notEnoughPointsToSelectBrand")}))}},{key:"getCabinPrice",value:function(){return ue.a.createElement("div",null,ue.a.createElement(vt.a,{price:this.props.offerPrice,raiseDecimal:!0,className:"big-price",ffcurrencyDisplay:"short"}),ue.a.createElement("span",{className:"for-the-party"},Object(ye.i)("flightSelection.forTheParty")))}},{key:"renderPrice",value:function(){var e=this.props,t=e.currentFlow,n=e.iropConfiguration,a=e.isIropAffected,r=e.hasPromosApplied,i=e.isAnyOfferFree,s=e.isCabinSoldOut,o=e.isCabinNotAvailable,l=t===Se.a.EXCHANGE,c=l&&i,u=l&&n.showCurrencySymbolForIrops&&!i&&(a||r),d=!s&&!o;return ue.a.createElement("div",{className:"price-content-wrapper"},ue.a.createElement("button",{type:"button","data-test-id":Oe.d,disabled:this.props.notEnoughPoints||this.props.notCombinable,className:ve()("spark-text-center itinerary-part-offer-price-button",this.props.cabinClass,this.props.bookingClass,{selected:this.props.isSelected}),onClick:this.props.onPriceButtonClick},ue.a.createElement("span",{className:"sr-only"},this.props.ariaDescription),ue.a.createElement("div",{className:"button-content-wrapper"},ue.a.createElement("div",{className:"labels-wrapper"},this.props.pricePrefix&&ue.a.createElement("div",{className:"price-prefix"},Object(ye.i)("flightSelection.pricePrefix.".concat(this.props.pricePrefix))),!this.props.isBrandOfferPrice&&ue.a.createElement("div",{className:"starting-at-label"},Object(ye.i)("flightSelection.priceStartingAt"))),ue.a.createElement("div",{className:"prices-wrapper"},this.props.discountedPrice&&ue.a.createElement(vt.a,{price:this.props.discountedPrice,isDiscountedPrice:!0}),ue.a.createElement("div",{className:"big-price-container"},!c&&!u&&!this.props.brandOffer.soldOut&&(this.props.isBrandOfferPrice?this.getBrandPrice():this.getCabinPrice()),d&&c&&Object(In.h)(),d&&u&&Object(In.g)(ee()(n,"currencySymbol",Tn.a)))))),!re()(this.props.fareAdvisories)&&ue.a.createElement("div",{className:"itinerary-part-offer-flight-advisories"},ue.a.createElement(Fn.a,{advisories:this.props.fareAdvisories})),this.props.displayPromoLabel&&ue.a.createElement(jn,null),this.props.remainingSeatsConfiguration.display&&this.props.remainingSeatsConfiguration.displayWhenSeatsLeft>=this.props.remainingSeats&&ue.a.createElement(xn,{remainingSeats:this.props.remainingSeats,showAsLimitedAvailability:this.props.remainingSeatsConfiguration.limitedAvailability}),this.props.bookingClass&&ue.a.createElement("div",{className:"booking-class"},"(",this.props.bookingClass,")"))}},{key:"render",value:function(){return ue.a.createElement("div",{className:"itinerary-part-offer-price"},this.props.notAvailable?this.renderNotAvailableLabel():this.renderPrice())}}]),t}(ce.PureComponent));y()(Mn,"defaultProps",{brandId:"",isLowFareOffers:!1,brandOffer:{},firstOffer:{},isCabinNotAvailable:!1,isAnyOfferFree:!1,isCabinSoldOut:!1,currentFlow:Se.a.B2C,isIropAffected:!1,hasPromosApplied:!1,remainingSeats:void 0,bookingClass:void 0,displayPromoLabel:!1,discountedPrice:void 0,offerPrice:void 0,isBrandOfferPrice:!1,hasMultipleOffers:!1,brandPriceMax:void 0,brandPriceMin:void 0,pricePrefix:void 0,fareAdvisories:void 0,isSelected:!1,ariaDescription:void 0,cabinClass:void 0,displaySoldOutOffer:!1,user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1});n(2695),n(2696);var Rn=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"renderBrandOffer",(function(e){var t=n.props.brandOffers[e],a=Lt()(ee()(t,"offers"));return ue.a.createElement(Mn,{user:n.props.user,totalPointsForSelectedFlights:n.props.totalPointsForSelectedFlights,isRBEEnabled:n.props.isRBEEnabled,brandId:e,currentFlow:n.props.currentFlow,isIropAffected:n.props.isIropAffected,hasPromosApplied:n.props.hasPromosApplied,iropConfiguration:n.props.iropConfiguration,offerPrice:ee()(a,"total"),firstOffer:a,discountedPrice:ee()(a,"totalWithoutDiscount"),brandOffer:t,brandPriceMin:ee()(t,"minOffer.total"),brandPriceMax:ee()(t,"maxOffer.total"),hasMultipleOffers:ee()(t,"offers.length")>1,remainingSeats:ee()(a,"seatsRemaining.count"),notAvailable:!a||a.sold,remainingSeatsConfiguration:n.props.flightSelectionConfiguration.seatsRemaining,onPriceButtonClick:function(){return n.props.onBrandedOfferSelection(e)},key:"brand-offer-".concat(e),priceJumpConfiguration:n.props.flightSelectionConfiguration.priceJump,isBrandOfferPrice:!0,pricePrefix:n.props.pricePrefix,bookingClass:n.props.flightSelectionConfiguration.displayBookingClass?ee()(t,"offers.0.itineraryPart.0.bookingClass"):void 0,displayPromoLabel:Ht(n.props.isPromoCodeValid,n.props.flightSelectionConfiguration,t),fareAdvisories:n.props.flightSelectionConfiguration.displayFareAdvisories&&ee()(t,"offers.0.advisories"),notEnoughPoints:n.props.notEnoughPoints,notCombinable:n.props.notCombinable,ariaDescription:Object(ye.i)("flightSelection.aria.offerPrice.brand",{brandName:Object(ye.i)("brand.".concat(e))}),displaySoldOutOffer:n.props.flightSelectionConfiguration.displaySoldOutOffer.brand})})),y()(p()(n),"renderBrandOffersPrices",(function(){return n.props.shouldRenderOfferCarousel?n.renderBrandOffersPricesCarousel():N()(n.props.brandOffersCodesSorted,(function(e){return n.renderBrandOffer(e)}))})),y()(p()(n),"renderBrandOffersPricesCarousel",(function(){return N()(G()(n.props.carouselActiveItemIndex,n.getMaxIndexValue(n.props.brandOffersCodesSorted)),(function(e){var t=n.props.brandOffersCodesSorted[e];return n.renderBrandOffer(t)}))})),y()(p()(n),"renderCabinOffer",(function(e){var t=n.props.cabins[e],a=n.props.currentFlow===Se.a.EXCHANGE&&Object(In.b)(t.offers);return ue.a.createElement(Mn,{user:n.props.user,totalPointsForSelectedFlights:n.props.totalPointsForSelectedFlights,isRBEEnabled:n.props.isRBEEnabled,isAnyOfferFree:a,currentFlow:n.props.currentFlow,isIropAffected:n.props.isIropAffected,hasPromosApplied:n.props.hasPromosApplied,iropConfiguration:n.props.iropConfiguration,isCabinSoldOut:ee()(t,"sold",!1),isCabinNotAvailable:t.isNotAvailable,offerPrice:t.total,discountedPrice:t.totalWithoutDiscount,remainingSeats:ee()(t,"seatsRemaining.count"),notAvailable:t.sold,cabinClass:e,remainingSeatsConfiguration:n.props.flightSelectionConfiguration.seatsRemaining,onPriceButtonClick:function(t){return n.props.toggleItineraryPartOfferSelection(e,t)},key:"cabin-offer-".concat(e),priceJumpConfiguration:n.props.flightSelectionConfiguration.priceJump,pricePrefix:n.props.pricePrefix,bookingClass:n.props.flightSelectionConfiguration.displayBookingClass?ee()(t.minOffer,"itineraryPart.0.bookingClass"):void 0,displayPromoLabel:Vt(n.props.isPromoCodeValid,n.props.flightSelectionConfiguration,t),notEnoughPoints:n.props.notEnoughPoints,isSelected:n.props.selectedOfferCode===e,notCombinable:n.props.notCombinable,ariaDescription:Object(ye.i)("flightSelection.aria.offerPrice.cabin",{cabinName:Object(ye.i)("cabin.".concat(e))}),displaySoldOutOffer:n.props.flightSelectionConfiguration.displaySoldOutOffer.cabin})})),y()(p()(n),"renderCabinOffers",(function(){return n.props.shouldRenderOfferCarousel?n.renderCabinOfferPricesCarousel():n.renderCabinOfferPrices()})),n}return g()(t,e),f()(t,[{key:"getMaxIndexValue",value:function(e){return Be()([this.props.carouselActiveItemIndex+this.props.carouselItemsToDisplay,e.length])}},{key:"renderCabinOfferPrices",value:function(){var e=this,t=this.props,n=t.sortedCabinClasses,a=t.cabins;return Y()(n,(function(t,n){return ee()(a,n)&&t.push(e.renderCabinOffer(n)),t}),[])}},{key:"renderCabinOfferPricesCarousel",value:function(){var e=this,t=this.props.sortedCabinClasses;return N()(G()(this.props.carouselActiveItemIndex,this.getMaxIndexValue(t)),(function(n){return e.renderCabinOffer(t[n])}))}},{key:"render",value:function(){var e=this;return ue.a.createElement("div",{className:"itinerary-part-offer-prices"},this.props.shouldRenderOfferCarousel&&ue.a.createElement(Ze.a,{onClick:this.props.offerCarouselArrowLeftClick,isTextButton:!0,disabled:this.props.leftArrowDisabled,className:"offer-carousel-arrow arrow-left spark-btn--sm"},ue.a.createElement($t.c,{fill:!0,name:$t.a.CHEVRON_LEFT,srOnlyText:Object(ye.i)("flightSelection.aria.offerCarousel.arrowPrev",{offerType:Object(ye.i)("flightSelection.aria.offerCarousel.offerType.".concat(this.props.flightSelectionConfiguration.displayOffersBy.toLowerCase()))})})),this.props.flightSelectionConfiguration.displayOffersBy===It.a.CABIN?this.renderCabinOffers():this.renderBrandOffersPrices(),this.props.shouldRenderOfferCarousel&&ue.a.createElement(Ze.a,{onClick:function(){return e.props.offerCarouselArrowRightClick(e.props.brandOffersCodesSorted.length)},isTextButton:!0,disabled:this.props.rightArrowDisabled,className:"offer-carousel-arrow arrow-right spark-btn--sm"},ue.a.createElement($t.c,{fill:!0,name:$t.a.CHEVRON_RIGHT,srOnlyText:Object(ye.i)("flightSelection.aria.offerCarousel.arrowNext",{offerType:Object(ye.i)("flightSelection.aria.offerCarousel.offerType.".concat(this.props.flightSelectionConfiguration.displayOffersBy.toLowerCase()))})})))}}]),t}(ce.PureComponent);y()(Rn,"defaultProps",{currentFlow:Se.a.B2C,hasPromosApplied:!1,isIropAffected:!1,brandOffersCodesSorted:[],brandOffers:{},shouldRenderOfferCarousel:!1,carouselActiveItemIndex:0,carouselItemsToDisplay:3,leftArrowDisabled:!1,rightArrowDisabled:!1,pricePrefix:void 0,selectedOfferCode:void 0,user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1});n(2697);var Vn=function(e){var t=e.rowAdvisories;return ue.a.createElement("span",{className:ve()("itinerary-advisories",le()(t).level.toLowerCase())},ue.a.createElement($t.c,{name:$t.a.BRIEFCASE,size:"sm",fill:!0}),ue.a.createElement("strong",null,Object(ye.i)(le()(t).code)))},Hn=n(533),Un=n.n(Hn),Wn=n(1489),qn=(n(2698),function(e){var t=e.segmentOfferInformation,n=e.flightDetailsConfiguration,a=e.ancillaryMap,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=ee()(e.flightAncillaries,"flightAncillary",[]).map((function(e){return{name:e.subCode,icon:n.get("".concat(e.subCode),Object(me.fromJS)({icon:"icon-".concat(e.subCode)})).get("icon")}}));return sn()(a.concat(t),"name")}(t,n.amenities,a);return ue.a.createElement("ul",{className:"flight-offer-amenities"},r.map((function(e){return ue.a.createElement("li",{key:e.name,className:"amenity"},ue.a.createElement($t.c,{name:e.icon,className:"amenity-icon"}),ue.a.createElement("span",{className:"amenity-label"},Object(ye.i)("amenities.".concat(e.name))))})))});qn.defaultProps={segmentOfferInformation:{},flightDetailsConfiguration:{},ancillaryMap:void 0};var zn=qn,Gn=n(2042),Kn=(n(2699),n(2700),function(e){function t(){return s()(this,t),l()(this,u()(t).apply(this,arguments))}return g()(t,e),f()(t,[{key:"renderArrivalHeader",value:function(){return ue.a.createElement("h3",{className:"segment-header"},ue.a.createElement("span",{className:"time"},ue.a.createElement(an.a,{value:this.props.segment.arrival,format:"ddd Do MMM, HH:mm"})),ue.a.createElement("span",{className:"town"},Object(ye.i)("city.".concat(this.props.segment.destination))))}},{key:"renderDepartureHeader",value:function(){return ue.a.createElement("h3",{className:"segment-header"},ue.a.createElement("span",{className:"time"},ue.a.createElement(an.a,{value:this.props.segment.departure,format:"ddd Do MMM, HH:mm"})),ue.a.createElement("span",{className:"town"},Object(ye.i)("city.".concat(this.props.segment.origin))))}},{key:"renderDestinationAirport",value:function(){return ue.a.createElement("div",{className:"airport"},ue.a.createElement(Wn.a,{className:"airport-code spark-bold",code:this.props.segment.destination}),ue.a.createElement("span",{className:"airport-name"},Object(ye.i)("airports.".concat(this.props.segment.destination))))}},{key:"renderInfo",value:function(){var e=this.props,t=e.segment,n=t.departure,a=t.arrival,r=e.previousSegment,i=Object(tn.b)(n,a),s=[];return re()(r)||Z()(r.arrival,"date")===Z()(n,"date")||s.push(ue.a.createElement("span",{className:"info",key:"leave-next-day"},ue.a.createElement($t.c,{name:$t.a.INFO_CIRCLE,fill:!0})," ",Object(ye.a)("flightSelection.leavesNextDay"))),i&&0!==i&&s.push(ue.a.createElement("span",{className:"info",key:"arrival-day"},-1===i&&ue.a.createElement("span",{className:"previous-day",key:"arrive-previous-day"},ue.a.createElement($t.c,{name:$t.a.INFO_CIRCLE,fill:!0})," ",Object(ye.a)("flightSelection.arrivesPreviousDay")),1===i&&ue.a.createElement("span",{className:"next-day",key:"arrive-next-day"},ue.a.createElement($t.c,{name:$t.a.INFO_CIRCLE,fill:!0})," ",Object(ye.a)("flightSelection.arrivesNextDay")),2===i&&ue.a.createElement("span",{className:"two-days-later",key:"arrive-two-days-later"},ue.a.createElement($t.c,{name:$t.a.INFO_CIRCLE,fill:!0})," ",Object(ye.a)("flightSelection.arrivesTwoDaysLater")))),s}},{key:"renderLayoverDuration",value:function(){return ue.a.createElement("div",{className:"spark-badge spark-badge--neutral layover"},Object(ye.k)("flightDetails.layoverDuration",{duration:ue.a.createElement(nn.a,{duration:this.props.layoverDuration})}))}},{key:"renderOnTimePerformance",value:function(){return ue.a.createElement(Gn.a,{configuration:this.props.flightDetailsConfiguration.onTimePerformance,origin:this.props.segment.origin,destination:this.props.segment.destination,departure:this.props.segment.departure,flight:{airlineCode:this.props.segment.flight.airlineCode,flightNumber:this.props.segment.flight.flightNumber}})}},{key:"renderOperatedBy",value:function(){var e=this.props,t=e.segment,n=e.flightDetailsConfiguration,a=t.flight,r=t.aircraftLeaseText,i=Object(ye.a)("flightSelection.operatedBy",r&&n.operatedBy.displayAircraftLeaseText?{airline:r}:{airline:Object(ye.i)("airlines.".concat(a.operatingAirlineCode))});return ue.a.createElement("div",{className:"operated-by"},ue.a.createElement("span",{className:"carrier-code spark-bold"},Object(ye.i)("flightSelection.flightNumber",{airlineCode:a.airlineCode,flightNumber:a.flightNumber})),ue.a.createElement("span",{className:"operated-by-label"},i))}},{key:"renderSegmentContent",value:function(){var e=this.props,t=e.segment,n=e.fareBasis,a=e.flightDetailsConfiguration,r=e.cabinClass,i=t.flight,s=t.origin,o=t.equipment,l=t.duration,c=t.departure,u=t.arrival,d=a.displayFlightAdvisories,p=a.displayDepartureTerminal,h=a.displayArrivalTerminal,f=a.displayCabinPerSegment,m=ee()(i,"stopAirports",[]);return ue.a.createElement("div",{className:"segment-content"},ue.a.createElement("div",{className:"airport"},ue.a.createElement(Wn.a,{className:"airport-code spark-bold",code:s}),ue.a.createElement("span",{className:"airport-name"},Object(ye.i)("airports.".concat(s)))),this.renderOperatedBy(),d&&!re()(i.advisories)&&ue.a.createElement(yn,{advisories:i.advisories}),t.subjectToGovernmentApproval&&this.renderSubjectToGovernmentApproval(),a.onTimePerformance.display&&this.renderOnTimePerformance(),ue.a.createElement("div",{className:"aircraft"},ue.a.createElement("span",{className:"aircraft-name"},Object(ye.i)("flightDetails.details.aircraft")),ue.a.createElement("span",{className:"aircraft-type"},Object(ye.i)("aircrafts.".concat(o)))),ue.a.createElement("div",{className:"duration"},ue.a.createElement("span",{className:"duration-title"},Object(ye.i)("flightDetails.travelTime")),ue.a.createElement("span",null,ue.a.createElement(nn.a,{duration:l}),Object(tn.g)(c,u,a.nightTime)&&ue.a.createElement($t.c,{className:"night-flight",name:$t.a.HOTEL_NIGHT,srOnlyText:Object(ye.i)("flightSelection.nightTimeFlight")}))),f&&this.props.cabin&&ue.a.createElement("div",{className:"cabin"},ue.a.createElement("span",{className:"cabin-title"},Object(ye.i)("flightDetails.cabin")),ue.a.createElement("span",{className:"spark-bold"},Object(ye.i)("cabin.".concat(Un()(r))))),p&&i.departureTerminal&&ue.a.createElement("div",{className:"departure-terminal"},ue.a.createElement("span",{className:"arrival-terminal-title"},Object(ye.i)("flightDetails.departureTerminal")),ue.a.createElement("span",null,i.departureTerminal)),h&&i.arrivalTerminal&&ue.a.createElement("div",{className:"arrival-terminal"},ue.a.createElement("span",{className:"arrival-terminal-title"},Object(ye.i)("flightDetails.arrivalTerminal")),ue.a.createElement("span",null,i.arrivalTerminal)),n&&ue.a.createElement("div",{className:"fare-basis"},ue.a.createElement("span",{className:"fare-basis-title"},Object(ye.i)("flightDetails.details.fareBasis")),ue.a.createElement("span",{className:"fare-basis-label"},n)),!re()(m)&&this.renderStopAirports(),ue.a.createElement("div",{className:"info-section"},this.renderInfo()))}},{key:"renderStopAirports",value:function(){var e=this.props.segment.flight,n=ee()(e,"stopAirports",[]);return ue.a.createElement("div",{className:"detail"},ue.a.createElement("span",{className:"title"},Object(ye.a)("flightDetails.details.stops")),t.renderFlightStops(n))}},{key:"renderSubjectToGovernmentApproval",value:function(){return ue.a.createElement(En.a,{className:"subject-to-governmental-approval",type:"warning",title:Object(ye.i)("flightSelection.subjectToGovernmentalApprovalTitle")},Object(ye.a)("flightSelection.subjectToGovernmentalApprovalMessage",{flightsCount:1,flightsRequiringApproval:Object(tn.e)(this.props.segment)}))}},{key:"render",value:function(){var e=this.props,t=e.flightDetailsConfiguration,n=e.segment,a=e.layoverDuration,r=e.ancillaryMap,i=!re()(t.amenities)||!re()(ee()(n.segmentOfferInformation,"flightAncillaries.flightAncillary"));return ue.a.createElement("div",{className:"flight-offer-itinerary-part-details"},ue.a.createElement("div",{className:"segment-details"},ue.a.createElement("div",{className:"segment-line"},this.renderDepartureHeader(),this.renderSegmentContent(),this.renderArrivalHeader(),this.renderDestinationAirport()),ue.a.createElement("div",{className:"arrival"},a&&this.renderLayoverDuration())),i&&ue.a.createElement("div",{className:"segment-amenities"},ue.a.createElement(zn,{segmentOfferInformation:n.segmentOfferInformation,flightDetailsConfiguration:t,ancillaryMap:r})))}}],[{key:"renderFlightStops",value:function(e){return N()(e,(function(t,n){return ue.a.createElement("span",{className:"flight-stops",key:"".concat(t.airport,"-").concat(n)},Object(ye.a)("flightDetails.details.flightStops",{airports:t.airport}),ue.a.createElement(nn.a,{duration:fe.a.duration(t.duration,"minutes")}),e.length>1&&n!==e.length&&ue.a.createElement("span",{className:"separator"}))}))}}]),t}(ce.PureComponent));Kn.defaultProps={layoverDuration:void 0,fareBasis:void 0,cabin:void 0,previousSegment:{},ancillaryMap:void 0};var Yn=Kn,Qn=(n(2701),function(e){var t=e.cabins,n=At()(t,(function(e){return!e.sold&&!e.isNotAvailable})),a=N()(n,(function(e){return e.class}));return ue.a.createElement("div",{className:"rich-media-cabins"},ue.a.createElement(Ot.a,{className:"big-image",alt:Object(ye.i)("flightDetails.richMedia.cabinsImage"),src:Object(wt.a)("images/flight/rich-media-cabins.png")}),ue.a.createElement("div",{className:"cabins"},a.map((function(e){return ue.a.createElement("div",{key:e,className:"cabin"},ue.a.createElement("h4",{className:"cabin-label"},Object(ye.i)("cabin.".concat(e))),ue.a.createElement(Ot.a,{className:"cabin-image",src:Object(wt.a)("images/flight/".concat(e,"-detail.png")),alt:Object(ye.i)("cabin.".concat(e))}))}))),ue.a.createElement("div",{className:"additional-marketing-text"},ue.a.createElement("h5",{className:"marketing-text-header"},Object(ye.i)("flightDetails.richMedia.cabins.marketingTextHeader")),ue.a.createElement("div",{className:"marketing-text"},Object(ye.i)("flightDetails.richMedia.cabins.marketingText"))))}),Xn=n(54),Jn=n.n(Xn);n(2702);var Zn=function(e){var t=e.cabins,n=function(e){return Object.values(e).reduce((function(e,t){return e.push.apply(e,Jn()(nt()(Object.values(t.offers).filter((function(e){return!e.soldOut&&!re()(e.offers)})).map((function(e){return Object.values(e.offers).map((function(e){return e.brandId}))}))))),e}),[])}(At()(t,(function(e){return!e.sold&&!e.isNotAvailable})));return ue.a.createElement("div",{className:"flight-offer-itinerary-part-rich-media-brands"},ue.a.createElement(Ot.a,{className:"big-image",alt:Object(ye.i)("flightDetails.richMedia.brandsImage"),src:Object(wt.a)("images/flight/rich-media-brands.png")}),ue.a.createElement("div",{className:"brands"},n.map((function(e){return ue.a.createElement("div",{key:e,className:"brand"},ue.a.createElement("h4",{className:"brand-label"},Object(ye.i)("brand.".concat(e))),ue.a.createElement(Ot.a,{className:"brand-image",src:Object(wt.a)("images/flight/".concat(e,"-detail.png")),alt:Object(ye.i)("brand.".concat(e))}))}))),ue.a.createElement("div",{className:"additional-marketing-text"},ue.a.createElement("h5",{className:"marketing-text-header"},Object(ye.i)("flightDetails.richMedia.brands.marketingTextHeader")),ue.a.createElement("div",{className:"marketing-text"},Object(ye.i)("flightDetails.richMedia.brands.marketingText"))))},$n=(n(2703),function(e){var t=e.onSeatMapPreviewClick,n=e.className;return ue.a.createElement(Ze.a,{isTextButton:!0,className:ve()("flight-offer-itinerary-part-seat-map-preview","spark-btn--sm",n),onClick:t},Object(ye.i)("seatSelection.seatMapPreview.viewSeats"))});$n.defaultProps={className:void 0};var ea=$n,ta=(n(2704),function(e){function t(){return s()(this,t),l()(this,u()(t).apply(this,arguments))}return g()(t,e),f()(t,[{key:"renderItineraryParts",value:function(){var e=this,t=this.props,n=t.itineraryParts,a=t.fareBasisPerItinerary,r=t.cabinClassPerItinerary;return n.map((function(t,n){return ue.a.createElement("div",{className:"flight-offer-itinerary-parts",key:"".concat(t.origin,"-").concat(t.destination,"-").concat(t.departure.valueOf())},e.renderSegments(t.segments,a,r,n))}))}},{key:"renderSegments",value:function(e,t,n,a){var r=this.props,i=r.flightDetailsConfiguration,s=r.defaultDateFormat,o=r.segmentsCabins,l=r.ancillaryMap,c=Object(en.b)(e);return e.map((function(r,u){return ue.a.createElement(Yn,{key:"".concat(r.origin,"-").concat(r.destination,"-").concat(r.departure.valueOf()),segment:r,previousSegment:ee()(e,"[".concat(u-1,"]"),{}),cabin:o[u],defaultDateFormat:s,layoverDuration:c[u],fareBasis:ee()(t,"".concat(a,".").concat(u)),cabinClass:ee()(n,"".concat(a,".").concat(u)),flightDetailsConfiguration:i,ancillaryMap:l})}))}},{key:"render",value:function(){var e=this.props.flightDetailsConfiguration.displayRowAdvisories&&!re()(ee()(this.props.itineraryParts,"[0].rowAdvisories"));return ue.a.createElement("div",{className:"flight-offer-itinerary-breakdown"},ue.a.createElement("div",{className:"action-buttons"},ue.a.createElement(Ze.a,{onClick:this.props.onBreakdownToggleClick,isTextButton:!0,className:"toggle-itinerary-breakdown spark-btn--sm",isExpanded:this.props.isBreakdownExpanded},ue.a.createElement("span",{className:"expand-details"},Object(ye.i)("flightDetails.expandDetails")),ue.a.createElement($t.c,{fill:!0,name:this.props.isBreakdownExpanded?$t.a.ARROW_TRIANGLE_UP:$t.a.ARROW_TRIANGLE_DOWN})),this.props.seatMapPreview,e&&ue.a.createElement(Vn,{rowAdvisories:this.props.itineraryParts[0].rowAdvisories})),this.props.isBreakdownExpanded&&ue.a.createElement("div",{className:"itinerary-breakdown-content"},ue.a.createElement("div",{className:"shadow-box"},ue.a.createElement("div",{className:"itinerary-parts"},this.renderItineraryParts()),this.props.richMedia&&ue.a.createElement("div",{className:"rich-media-wrapper"},this.props.richMedia))))}}]),t}(ce.PureComponent));ta.defaultProps={fareBasisPerItinerary:[],seatMapPreview:void 0,richMedia:void 0,isBreakdownExpanded:!1,segmentsCabins:[],ancillaryMap:void 0};var na=n(1536),aa=n(1281);n(2705);function ra(e){var t=e.position,n=ue.a.createElement("span",{className:"price-range-info-trigger"},Object(ye.a)("flightSelection.whyPriceRange"));return ue.a.createElement(na.a,{className:"dxp-brand-comparison-price-ranges-info",position:t,id:"brand-comparison-price-ranges-info",trigger:n},ue.a.createElement(aa.a,{tag:"h3",title:"flightSelection.priceRangePopoverTitle",className:"brand-comparison-price-ranges-info-title"}),ue.a.createElement("div",{className:"brand-comparison-price-ranges-info-content"},Object(ye.a)("flightSelection.priceRangePopoverDescription")))}ra.defaultProps={position:"right"};var ia=ra;n(2706),n(2707);function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var oa=function(e){function t(e){var n;return s()(this,t),n=l()(this,u()(t).call(this,e)),y()(p()(n),"state",{firstRow:void 0,brandAmenitiesRows:{},lastRow:void 0}),y()(p()(n),"renderBrandHeaders",(function(){return N()(n.props.availableBrands,(function(e,t){return ue.a.createElement("h3",{className:"brand-name ".concat(n.props.selectedCabin," ").concat(t),key:"brand-name-".concat(t)},Object(ye.a)("brand.".concat(t)))}))})),y()(p()(n),"renderBrandSelectionButtons",(function(e,t){var a=e.hasMultipleOffers&&n.props.flightSelectionConfiguration.priceJump.displayType===Nn.a.HIGHEST?e.brandMaxOffer:e.offerToShow,r=ee()(a,"requiredMinThreshold.amount"),i=n.props.user.getIn(["loyaltyDetails","balance"]),s=!n.props.user.isEmpty()&&n.props.isRBEEnabled&&Pn()(r+n.props.totalPointsForSelectedFlights,i);return ue.a.createElement("div",{className:"brand-selection-button-container",key:"brand-selection-".concat(t)},ue.a.createElement("div",{className:"itinerary-part-offer-brand-price-container"},ue.a.createElement("span",{className:"sr-only"},Object(ye.i)("flightSelection.aria.offerPrice.brand",{brandName:Object(ye.i)("brand.".concat(t))})),n.props.pricePrefix&&ue.a.createElement("div",{className:"price-prefix"},Object(ye.i)("flightSelection.pricePrefix.".concat(n.props.pricePrefix))),e.brandPriceTotalWithoutDiscount&&ue.a.createElement(vt.a,{price:e.brandPriceTotalWithoutDiscount,isDiscountedPrice:!0}),ue.a.createElement(Dn,{priceJumpConfiguration:n.props.flightSelectionConfiguration.priceJump,brandPriceTotal:e.brandPriceTotal,brandPriceMin:e.brandPriceMin,brandPriceMax:e.brandPriceMax,hasMultipleOffers:e.hasMultipleOffers,riseDecimal:!0,priceClassName:"big-price",firstOfferToShow:a,isBrandSoldOut:e.soldOut,showCurrencySymbolForIrops:ee()(n.props.iropConfiguration,"showCurrencySymbolForIrops",!1),currentFlow:n.props.currentFlow,isIropAffected:n.props.isIropAffected,hasPromosApplied:n.props.hasPromosApplied})),ue.a.createElement(Ze.a,{disabled:s,"data-test-id":Oe.c,className:"brand-select-button spark-btn--primary spark-btn--md",onClick:function(){return n.props.onBrandedOfferSelection(t)}},ue.a.createElement("div",{className:"brand-select-fare-text"},Object(ye.a)("brandComparison.selectFare"))),s&&ue.a.createElement(En.a,{className:"brand-not-enough-points-warning",type:"warning",title:Object(ye.i)("awardBooking.notEnoughPointsToSelectBrand")}),!re()(e.fareAdvisories)&&ue.a.createElement("div",{className:"itinerary-part-offer-flight-advisories"},ue.a.createElement(Fn.a,{advisories:e.fareAdvisories})),e.hasPromoApplied&&ue.a.createElement(jn,null),n.props.flightSelectionConfiguration.seatsRemaining.display&&n.props.flightSelectionConfiguration.seatsRemaining.displayWhenSeatsLeft>=e.remainingSeats.count&&ue.a.createElement(xn,{remainingSeats:e.remainingSeats.count,showAsLimitedAvailability:n.props.flightSelectionConfiguration.seatsRemaining.limitedAvailability}),e.bookingClass&&ue.a.createElement("div",{className:"booking-class"},"(",e.bookingClass,")"))})),y()(p()(n),"renderBrandsAmenities",(function(e){return N()(e,(function(e,t){var a=ee()(Lt()(e),"icon");return ue.a.createElement("div",{className:"amenity-item-row ".concat(t),key:"amenity-row-".concat(t),ref:n.brandAmenitiesRows[t]},ue.a.createElement("div",{className:"brand-comparison-legend",style:{height:ee()(n.state,t,"auto")}},ue.a.createElement("span",{className:"legend-value"},a&&ue.a.createElement($t.c,{name:a}),ue.a.createElement("span",{className:"".concat(t)}),ue.a.createElement("span",{className:"brand-title-container"},Object(ye.a)("brandComparison.legend.".concat(t))))),N()(e,(function(e){return ue.a.createElement("div",{className:"brand-amenity-value ".concat(n.props.selectedCabin," ").concat(e.brandId),key:"".concat(e.brandId,"-").concat(e.key),style:{height:ee()(n.state,t,"auto")}},e.value)})))}))})),y()(p()(n),"renderSoldOutBrand",(function(e){return ue.a.createElement("div",{className:"brand-offer-not-available",key:"sold-out-brand-".concat(e)},ue.a.createElement(Ze.a,{className:"brand-offer-not-available-button",disabled:!0},Object(ye.i)("app.soldOut")))})),y()(p()(n),"shouldRenderPriceRangesInfo",(function(){return n.props.flightSelectionConfiguration.priceJump.displayType===Nn.a.RANGE&&Ft()(n.props.availableBrands,(function(e){return e.hasMultipleOffers}))})),n.firstRow=ue.a.createRef(),n.brandAmenitiesRows={},n.lastRow=ue.a.createRef(),N()(Object(In.d)(e.availableBrands,e.brandBenefits,e.isCodeshare,e.direction,e.dictionary),(function(e,t){n.brandAmenitiesRows[t]=ue.a.createRef()})),n}return g()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=Y()(this.brandAmenitiesRows,(function(e,t,n){return e[n]=ee()(t.current,"clientHeight"),e}),{});this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({firstRow:ee()(this.firstRow.current,"clientHeight"),lastRow:ee()(this.lastRow.current,"clientHeight")},e))}},{key:"render",value:function(){var e=this,t=Object(In.d)(this.props.availableBrands,this.props.brandBenefits,this.props.isCodeshare,this.props.direction,this.props.dictionary);return ue.a.createElement("div",{className:"itinerary-part-offer-brand-comparison"},ue.a.createElement("div",{className:"shadow-box"},ue.a.createElement("div",{className:"brand-comparison-table"},ue.a.createElement("div",{className:"amenity-item-row top-row",ref:this.firstRow},ue.a.createElement("div",{className:"total-brands-for-cabin",style:{height:this.state.firstRow}},ue.a.createElement("span",{className:"cabin-label"},Object(ye.a)("brandComparison.resultsCountHeader.cabinLabel",{cabin:Object(ye.i)("cabin.".concat(this.props.selectedCabin))})),ue.a.createElement("span",{className:"results-count"},Object(ye.a)("brandComparison.resultsCountHeader.resultsCount",{resultsCount:Object.keys(this.props.availableBrands).length}))),this.renderBrandHeaders()),this.renderBrandsAmenities(t),ue.a.createElement("div",{className:"amenity-item-row bottom-row",ref:this.lastRow},ue.a.createElement("div",{className:"legend-footer",style:{height:this.state.lastRow}},this.shouldRenderPriceRangesInfo()&&ue.a.createElement(ia,null)),N()(this.props.availableBrands,(function(t,n){return t.brandPriceTotal?e.renderBrandSelectionButtons(t,n):e.renderSoldOutBrand(n)})))),ue.a.createElement("span",{className:"shopping-disclaimer"},Object(ye.a)("brandComparison.shoppingDisclaimer"))))}}]),t}(ce.PureComponent);y()(oa,"defaultProps",{pricePrefix:void 0,hasPromosApplied:!1,isIropAffected:!1,currentFlow:Se.a.B2C,user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1,dictionary:{}});var la=n(286),ca=n.n(la),ua=n(1371),da=(n(2708),function(e){var t=e.selectedBrandId,n=e.availableBrands,a=e.brandBenefits,r=e.isCodeshare,i=e.direction;return N()(n,(function(e,s){var o=Object(In.c)(n,s,a,r,t,i),l=A()(o,(function(e){return e.key===t}));return l?ue.a.createElement("div",{className:ve()("selected-brand-bonuses-comparison",l.key),key:"amenity-".concat(l.key,"-").concat(s)},ue.a.createElement("div",{className:"brand-id"},Object(ye.i)("brand.".concat(s))),ue.a.createElement("div",{className:"brand-value"},l.value)):null}))});n(2709);var pa=function(e){var t=e.cabinId,n=(e.brandBonusesConfiguration,e.availableBrands),a=e.brandBenefits,r=e.isCodeshare,i=e.direction,s=ue.a.createElement("div",{className:"cabin-brand-bonuses-comparison-title"},Object(ye.i)("fareComparison.".concat(t)));return ue.a.createElement("div",{className:"cabin-brand-bonuses-comparison"},ue.a.createElement(ua.a,{isExpanded:!1,className:"cabin-brand-bonuses-comparison-panel",title:s},function(e,t,n,a,r){return N()(Object(In.f)(t,n,r),(function(e){return ue.a.createElement("div",{className:ve()("available-brand-bonuses",e.title),key:e.title},ue.a.createElement(ua.a,{isExpanded:!1,className:"brand-bonus-item",title:(i=e,ue.a.createElement("h5",{className:"brand-bonus-item-title"},i.icon&&ue.a.createElement($t.c,{fill:!0,name:i.icon,className:"brand-bonus-item-title-icon"}),ue.a.createElement("span",{className:"brand-bonus-item-title-content"},Object(ye.a)("brandComparison.legend.".concat(i.title)))))},ue.a.createElement(da,{availableBrands:t,selectedBrandId:e.title,brandBenefits:n,isCodeshare:a,direction:r})));var i}))}(0,n,a,r,i)))},ha=n(325),fa=(n(2710),function(e){function t(){return s()(this,t),l()(this,u()(t).apply(this,arguments))}return g()(t,e),f()(t,[{key:"render",value:function(){return ue.a.createElement("ul",{className:ve()("dxp-brand-amenities",this.props.className)},this.renderAmenities())}},{key:"renderAmenities",value:function(){var e=this.props.amenities;return N()(e,(function(e,t){return ue.a.createElement("li",{className:ve()("amenity",{hideOnMobile:e.hide},e.key),key:"amenity-".concat(t)},ue.a.createElement("span",{className:"title"},e.icon&&ue.a.createElement($t.c,{name:e.icon}),e.title),ue.a.createElement("span",{className:"value"},e.value))}))}}]),t}(ha.a));y()(fa,"propTypes",{className:de.string,amenities:Object(de.arrayOf)(de.object).isRequired}),y()(fa,"defaultProps",{className:void 0});n(2711);var ma=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{isSelected:!1}),y()(p()(n),"onBrandOfferClick",(function(e){n.state.isSelected||Object(Ce.a)(e.currentTarget||e.target,{headerOffset:65}),n.setState((function(e){return{isSelected:!e.isSelected}}))})),n}return g()(t,e),f()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.brand,a=t.user,r=t.brandId,i=t.amenities,s=t.pricePrefix,o=t.showBrandAmenitiesMobile,l=t.flightSelectionConfiguration,c=t.isIropAffected,u=t.showCurrencySymbolForIrops,d=t.hasPromosApplied,p=t.currentFlow,h=t.priceJumpConfiguration,f=t.isRBEEnabled,m=t.totalPointsForSelectedFlights,g=n.hasMultipleOffers&&h.displayType===Nn.a.HIGHEST?n.brandMaxOffer:n.offerToShow,v=ee()(g,"requiredMinThreshold.amount"),y=a.getIn(["loyaltyDetails","balance"]),b=!a.isEmpty()&&f&&Pn()(v+m,y);return ue.a.createElement("div",{className:"brand-offer-price-mobile"},ue.a.createElement("button",{type:"button","data-test-id":Oe.b,className:ve()("spark-text-left brand-offer-button"),onClick:this.onBrandOfferClick},ue.a.createElement("span",{className:ve()("brand-offer-title")},Object(ye.i)("brand.".concat(r))),ue.a.createElement("div",{className:ve()("brand-price-button",{selected:this.state.isSelected})},s&&ue.a.createElement("div",{className:"price-prefix"},Object(ye.i)("flightSelection.pricePrefix.".concat(s))),n.brandPriceTotalWithoutDiscount&&ue.a.createElement(vt.a,{price:n.brandPriceTotalWithoutDiscount,isDiscountedPrice:!0}),ue.a.createElement(Dn,{priceJumpConfiguration:l.priceJump,brandPriceTotal:n.brandPriceTotal,brandPriceMin:n.brandPriceMin,brandPriceMax:n.brandPriceMax,hasMultipleOffers:n.hasMultipleOffers,riseDecimal:!0,priceClassName:"big-price",firstOfferToShow:g,currentFlow:p,isIropAffected:c,hasPromosApplied:d,showCurrencySymbolForIrops:u}))),this.state.isSelected&&ue.a.createElement(ue.a.Fragment,null,o&&ue.a.createElement(fa,{amenities:i}),ue.a.createElement(Ze.a,{disabled:b,"data-test-id":Oe.c,className:"brand-select-button",onClick:function(){return e.props.onBrandedOfferSelection(r)}},ue.a.createElement("div",{className:ve()("select-button")},Object(ye.a)("brandComparison.selectFare"))),b&&ue.a.createElement(En.a,{className:"brand-not-enough-points-warning",type:"warning",title:Object(ye.i)("awardBooking.notEnoughPointsToSelectBrand")}),!re()(n.fareAdvisories)&&ue.a.createElement("div",{className:"brand-offer-mobile-flight-advisories"},ue.a.createElement(Fn.a,{advisories:n.fareAdvisories})),n.hasPromoApplied&&ue.a.createElement(jn,null),l.seatsRemaining.display&&l.seatsRemaining.displayWhenSeatsLeft>=n.remainingSeats.count&&ue.a.createElement(xn,{remainingSeats:n.remainingSeats.count,showAsLimitedAvailability:l.seatsRemaining.limitedAvailability}),n.bookingClass&&ue.a.createElement("div",{className:"booking-class"},"(",n.bookingClass,")")))}}]),t}(ce.PureComponent);ma.defaultProps={pricePrefix:void 0,showBrandAmenitiesMobile:!1,amenities:[],hasPromosApplied:!1,isIropAffected:!1,currentFlow:Se.a.B2C,showCurrencySymbolForIrops:!1,priceJumpConfiguration:{},user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1};var ga=ma,va=(n(2712),function(e){var t=e.availableBrands,n=e.onBrandedOfferSelection,a=e.flightSelectionConfiguration,r=e.className,i=e.pricePrefix,s=e.brandBenefits,o=e.isCodeshare,l=e.currentFlow,c=e.isIropAffected,u=e.hasPromosApplied,d=e.iropConfiguration,p=e.priceJumpConfiguration,h=e.user,f=e.totalPointsForSelectedFlights,m=e.isRBEEnabled,g=e.dictionary;return ue.a.createElement("div",{className:ve()("brand-comparison-mobile",r)},N()(t,(function(e,r){return e.brandPriceTotal?ue.a.createElement("div",{key:r,className:"brand-comparison-mobile-price ".concat(r)},ue.a.createElement(ga,{key:r,brand:e,brandId:r,flightSelectionConfiguration:a,onBrandedOfferSelection:n,pricePrefix:i,showBrandAmenitiesMobile:a.showBrandAmenitiesMobile,amenities:Object(In.e)(t,r,s,o,g),currentFlow:l,isIropAffected:c,hasPromosApplied:u,showCurrencySymbolForIrops:ee()(d,"showCurrencySymbolForIrops",!1),priceJumpConfiguration:p,user:h,totalPointsForSelectedFlights:f,isRBEEnabled:m})):ue.a.createElement("div",{key:r,className:"brand-comparison-mobile-price sold-out ".concat(r)},ue.a.createElement("div",{className:"brand-offer-sold-out-title"},Object(ye.i)("brand.".concat(r))),a.showBrandAmenitiesMobile&&ue.a.createElement(fa,{amenities:Object(In.e)(t,r,s,o)}),ue.a.createElement("div",{className:"brand-offer-sold-out"},ue.a.createElement(Ze.a,{className:"brand-offer-sold-out-button",disabled:!0},Object(ye.i)("app.soldOut"))))})))});va.defaultProps={className:"",pricePrefix:void 0,brandBonusesConfiguration:{},currentFlow:Se.a.B2C,isIropAffected:!1,hasPromosApplied:!1,priceJumpConfiguration:{},user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1,dictionary:{}};var ya=va,ba=(n(2713),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{isSelected:!1}),y()(p()(n),"onCabinOfferClick",(function(e){n.state.isSelected||Object(Ce.a)(e.currentTarget||e.target,{headerOffset:65}),n.setState((function(e){return{isSelected:!e.isSelected}})),n.props.onCabinOfferClick(n.props.cabinId)})),n}return g()(t,e),f()(t,[{key:"renderCabinOffer",value:function(){var e=this.props.remainingSeatsConfiguration.display&&this.props.remainingSeatsConfiguration.displayWhenSeatsLeft>=this.props.remainingSeats,t=this.props,n=t.currentFlow,a=t.iropConfiguration,r=t.isIropAffected,i=t.hasPromosApplied,s=t.isAnyOfferFree,o=t.isCabinSoldOut,l=t.isCabinNotAvailable,c=n===Se.a.EXCHANGE,u=c&&s,d=c&&a.showCurrencySymbolForIrops&&!s&&(r||i),p=!o&&!l;return ue.a.createElement("div",{className:"cabin-offer-content ".concat(this.props.cabinId)},ue.a.createElement("button",{type:"button","data-test-id":Oe.d,className:ve()("spark-text-center cabin-offer-price",{selected:this.state.isSelected}),onClick:this.onCabinOfferClick},ue.a.createElement("div",{className:"cabin-offer-price-content"},ue.a.createElement("div",{className:"cabin-class"},Object(ye.i)("cabin.".concat(this.props.cabinId))),this.props.discountedPrice&&ue.a.createElement(vt.a,{price:this.props.discountedPrice,isDiscountedPrice:!0}),ue.a.createElement("div",{className:"big-price-container"},ue.a.createElement("div",{className:"labels-wrapper"},this.props.pricePrefix&&ue.a.createElement("div",{className:"price-prefix"},Object(ye.i)("flightSelection.pricePrefix.".concat(this.props.pricePrefix))),ue.a.createElement("div",{className:"starting-at-label"},Object(ye.i)("flightSelection.priceStartingAt"))),!u&&!d&&ue.a.createElement(vt.a,{price:this.props.offerPrice,raiseDecimal:!0,className:"big-price",ffcurrencyDisplay:"short"}),p&&u&&Object(In.h)(),p&&d&&Object(In.g)(ee()(a,"currencySymbol",Tn.a))))),this.props.displayPromoLabel&&ue.a.createElement(jn,null),e&&ue.a.createElement(xn,{remainingSeats:this.props.remainingSeats,showAsLimitedAvailability:this.props.remainingSeatsConfiguration.limitedAvailability}),this.props.bookingClass&&ue.a.createElement("div",{className:"offer-booking-class"},"(",this.props.bookingClass,")"))}},{key:"renderOfferNotAvailable",value:function(){return this.props.displaySoldOutOffer?ue.a.createElement("div",{className:"offer-not-available-wrapper"},ue.a.createElement("div",{className:"spark-text-center offer-not-available"},ue.a.createElement("div",{className:"cabin-class"},Object(ye.i)("cabin.".concat(this.props.cabinId))),ue.a.createElement("div",{className:"offer-not-available-text"},Object(ye.i)("flightSelection.notAvailable")))):null}},{key:"render",value:function(){return ue.a.createElement("div",{className:"cabin-offer-mobile"},this.props.isSoldOut?this.renderOfferNotAvailable():this.renderCabinOffer())}}]),t}(ce.PureComponent));ba.defaultProps={remainingSeats:void 0,bookingClass:void 0,displayPromoLabel:!1,discountedPrice:void 0,offerPrice:void 0,pricePrefix:void 0,displaySoldOutOffer:!1,currentFlow:Se.a.B2C,isIropAffected:!1,hasPromosApplied:!1,isAnyOfferFree:!1,isCabinSoldOut:!1,isCabinNotAvailable:!1};var Ea=ba,Ca=(n(2714),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{expandedCabinOffers:[]}),y()(p()(n),"expandCollapseCabin",(function(e){n.setState((function(t){return{expandedCabinOffers:t.expandedCabinOffers.includes(e)?ca()(t.expandedCabinOffers,e):[].concat(Jn()(t.expandedCabinOffers),[e])}}))})),n}return g()(t,e),f()(t,[{key:"renderBrandComparison",value:function(e){var t=Gt(this.props.brandOffersCodesSorted,this.props.cabins,e,this.props.flightSelectionConfiguration,this.props.isPromoCodeValid),n=ee()(this.props,["flightSelectionConfiguration","showBrandAmenitiesMobile"],!1);return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement(ya,{availableBrands:t,onBrandedOfferSelection:this.props.onBrandedOfferSelection,flightSelectionConfiguration:this.props.flightSelectionConfiguration,pricePrefix:this.props.pricePrefix,showBrandAmenitiesMobile:n,brandBonusesConfiguration:this.props.brandBonusesConfiguration,currentFlow:this.props.currentFlow,isIropAffected:this.props.isIropAffected,hasPromosApplied:this.props.hasPromosApplied,iropConfiguration:this.props.iropConfiguration,priceJumpConfiguration:this.props.flightSelectionConfiguration.priceJump,user:this.props.user,totalPointsForSelectedFlights:this.props.totalPointsForSelectedFlights,isRBEEnabled:this.props.isRBEEnabled,brandBenefits:this.props.brandBenefits,isCodeshare:this.props.isCodeshare,direction:this.props.direction,dictionary:this.props.dictionary}),!n&&ue.a.createElement(pa,{cabinId:e,brandBonusesConfiguration:this.props.brandBonusesConfiguration,availableBrands:t,brandBenefits:this.props.brandBenefits,isCodeshare:this.props.isCodeshare,direction:this.props.direction}),ue.a.createElement("span",{className:"shopping-disclaimer"},Object(ye.a)("brandComparison.shoppingDisclaimer")))}},{key:"renderCabinOffer",value:function(e){var t=this.props,n=t.cabins,a=t.flightSelectionConfiguration,r=n[e],i=this.props.currentFlow===Se.a.EXCHANGE&&Object(In.b)(r.offers),s=ve()("cabin-selection-container",{hidden:!a.displaySoldOutOffer.cabin&&r.sold});return ue.a.createElement("div",{className:s,key:e},ue.a.createElement(Ea,{cabinId:e,offerPrice:r.total,discountedPrice:r.totalWithoutDiscount,remainingSeats:ee()(r,"seatsRemaining.count"),isSoldOut:r.sold,remainingSeatsConfiguration:a.seatsRemaining,onCabinOfferClick:this.expandCollapseCabin,pricePrefix:this.props.pricePrefix,bookingClass:a.displayBookingClass?ee()(r.minOffer,"itineraryPart.0.bookingClass"):void 0,displayPromoLabel:Vt(this.props.isPromoCodeValid,a,r),displaySoldOutOffer:a.displaySoldOutOffer.cabin,currentFlow:this.props.currentFlow,isIropAffected:this.props.isIropAffected,hasPromosApplied:this.props.hasPromosApplied,iropConfiguration:this.props.iropConfiguration,isAnyOfferFree:i,isCabinSoldOut:ee()(r,"sold",!1),isCabinNotAvailable:r.isNotAvailable}),this.state.expandedCabinOffers.includes(e)&&this.renderBrandComparison(e))}},{key:"renderCabinOffers",value:function(){var e=this,t=this.props,n=t.sortedCabinClasses,a=t.cabins;return Y()(n,(function(t,n){return ee()(a,n)&&t.push(e.renderCabinOffer(n)),t}),[])}},{key:"render",value:function(){return ue.a.createElement("div",{className:"itinerary-part-cabin-offers-mobile"},ue.a.createElement("div",{className:"cabin-offers"},this.renderCabinOffers()))}}]),t}(ce.PureComponent));Ca.defaultProps={pricePrefix:void 0,brandOffersCodesSorted:[],currentFlow:Se.a.B2C,isIropAffected:!1,hasPromosApplied:!1,user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1,dictionary:{}};var ka=Ca,Sa=n(103),_a=n.n(Sa);function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var wa=function(e){return Object.entries(e).reduce((function(e,t){var n=_a()(t,2),a=n[0],r=n[1],i=r.hasMultipleOffers?r.brandPriceMin:r.brandPriceTotal;return ee()(i,"[0][0].amount")<ee()(e.brandPriceTotal,"[0][0].amount")?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{brandId:a,brandPriceTotal:i}):e}),{brandPriceTotal:[[{amount:1/0}]]})},Pa=(n(2715),function(e){var t=e.user,n=e.totalPointsForSelectedFlights,a=e.isRBEEnabled,r=e.brandOffersCodesSorted,i=e.brandOffers,s=e.remainingSeatsConfiguration,o=e.toggleItineraryPartOfferSelection,l=e.priceJumpConfiguration,c=e.flightSelectionConfiguration,u=e.pricePrefix,d=e.isPromoCodeValid,p=e.notEnoughPoints,h=e.notCombinable,f=e.currentFlow,m=e.isIropAffected,g=e.hasPromosApplied,v=e.iropConfiguration,y=Kt(r,i,c,d),b=wa(y);return ue.a.createElement("div",{className:"itinerary-part-offer-min-price-mobile"},ue.a.createElement(Mn,{user:t,totalPointsForSelectedFlights:n,isRBEEnabled:a,currentFlow:f,isIropAffected:m,hasPromosApplied:g,iropConfiguration:v,offerPrice:b.brandPriceTotal,discountedPrice:b.brandPriceTotalWithoutDiscount,hasMultipleOffers:!1,notAvailable:!1,remainingSeatsConfiguration:s,onPriceButtonClick:function(e){return o(b.cabinClass,e)},priceJumpConfiguration:l,pricePrefix:u,displayPromoLabel:b.hasPromoApplied,bookingClass:b.bookingClass,remainingSeats:ee()(b,"remainingSeats.count"),notEnoughPoints:p,notCombinable:h}))});Pa.defaultProps={currentFlow:Se.a.B2C,isIropAffected:!1,hasPromosApplied:!1,brandOffersCodesSorted:[],pricePrefix:void 0,user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1};var Aa=Pa;n(2716),n(2717);function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ta=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{brandComparisionSectionExpanded:!1,isBreakdownExpanded:!1}),y()(p()(n),"onBrandedOfferSelection",(function(e){Object(Ce.a)(document.querySelector(".dxp-flight-selection"),{headerOffset:120}),n.props.onItineraryPartOfferSelection(e,n.props.flight.id,n.props.direction)})),y()(p()(n),"onSeatMapPreviewClick",(function(){n.props.onSeatMapPreviewClick(n.props.flight.cabins)})),y()(p()(n),"toggleItineraryBreakdown",(function(){n.setState((function(e){return{brandComparisionSectionExpanded:!!e.isBreakdownExpanded&&e.brandComparisionSectionExpanded,isBreakdownExpanded:!e.isBreakdownExpanded,selectedOfferCode:void 0}}))})),y()(p()(n),"toggleItineraryPartOfferSelection",(function(e,t){t.persist&&t.persist(),n.setState((function(t){return{brandComparisionSectionExpanded:e!==t.selectedOfferCode||!t.brandComparisionSectionExpanded,isBreakdownExpanded:!!t.brandComparisionSectionExpanded&&t.isBreakdownExpanded,selectedOfferCode:e===t.selectedOfferCode?void 0:e}}),(function(){return n.state.brandComparisionSectionExpanded&&Object(Ce.a)(t.currentTarget||t.target)}))})),n}return g()(t,e),f()(t,[{key:"getBrandOffers",value:function(e){var t=this.props,n=t.currentFlow,a=t.isIropAffected,r=t.hasPromosApplied,i=t.iropConfiguration,s=t.flight,o=t.flightSelectionConfiguration,l=n===Se.a.EXCHANGE,c=a||r,u=ee()(i,"showCurrencySymbolForIrops",!1),d=l&&c&&ee()(i,"sortBrandsByPrice",!1),p=this.state.selectedOfferCode?s.cabins[this.state.selectedOfferCode].offers:e;return l&&c&&u?(p=Object(In.a)({brands:p,displayBrandSoldOut:o.displaySoldOutOffer.brand,sortBrandsByPrice:d,currencySymbol:ee()(i,"currencySymbol",Tn.a)}),this.state.selectedOfferCode?p:e):p}},{key:"renderComparisonOffersSection",value:function(e,t,n){var a=this.getBrandOffers(e);if(this.props.isMobile){var r;if(this.props.flightSelectionConfiguration.displayOffersBy===It.a.CABIN)return ue.a.createElement(ka,{user:this.props.user,totalPointsForSelectedFlights:this.props.totalPointsForSelectedFlights,isRBEEnabled:this.props.isRBEEnabled,brandOffersCodesSorted:this.props.brandOffersCodesSorted,cabins:this.props.flight.cabins,flightSelectionConfiguration:this.props.flightSelectionConfiguration,onBrandedOfferSelection:this.onBrandedOfferSelection,brandBonusesConfiguration:this.props.brandBonusesConfiguration,pricePrefix:this.props.pricePrefix,isPromoCodeValid:this.props.isPromoCodeValid,sortedCabinClasses:this.props.sortedCabinClasses,currentFlow:this.props.currentFlow,isIropAffected:this.props.isIropAffected,hasPromosApplied:this.props.hasPromosApplied,iropConfiguration:this.props.iropConfiguration,brandBenefits:t,isCodeshare:n,direction:this.props.direction,dictionary:this.props.dictionary});var i=Kt(this.props.brandOffersCodesSorted,a,this.props.flightSelectionConfiguration,this.props.isPromoCodeValid);return ue.a.createElement(ya,(r={className:"itinerary-part-offer-brand-comparison-mobile",availableBrands:i,onBrandedOfferSelection:this.onBrandedOfferSelection,flightSelectionConfiguration:this.props.flightSelectionConfiguration,pricePrefix:this.props.pricePrefix,currentFlow:this.props.currentFlow,isIropAffected:this.props.isIropAffected,hasPromosApplied:this.props.hasPromosApplied,iropConfiguration:this.props.iropConfiguration,priceJumpConfiguration:this.props.flightSelectionConfiguration.priceJump,user:this.props.user,totalPointsForSelectedFlights:this.props.totalPointsForSelectedFlights,isRBEEnabled:this.props.isRBEEnabled},y()(r,"priceJumpConfiguration",this.props.flightSelectionConfiguration.priceJump),y()(r,"brandBenefits",t),y()(r,"isCodeshare",n),y()(r,"direction",this.props.direction),y()(r,"dictionary",this.props.dictionary),r))}return ue.a.createElement(oa,{user:this.props.user,totalPointsForSelectedFlights:this.props.totalPointsForSelectedFlights,isRBEEnabled:this.props.isRBEEnabled,isIropAffected:this.props.isIropAffected,currentFlow:this.props.currentFlow,hasPromosApplied:this.props.hasPromosApplied,iropConfiguration:this.props.iropConfiguration,key:this.state.selectedOfferCode,brandBonusesConfiguration:this.props.brandBonusesConfiguration,availableBrands:Gt(this.props.brandOffersCodesSorted,this.props.flight.cabins,this.state.selectedOfferCode,this.props.flightSelectionConfiguration,this.props.isPromoCodeValid),onBrandedOfferSelection:this.onBrandedOfferSelection,selectedCabin:this.state.selectedOfferCode,flightSelectionConfiguration:this.props.flightSelectionConfiguration,pricePrefix:this.props.pricePrefix,brandBenefits:t,isCodeshare:n,direction:this.props.direction,dictionary:this.props.dictionary})}},{key:"renderItineraryPartSummarySection",value:function(){var e=this,t=this.props.flightSelectionConfiguration,n=t.displayLayoverInformationForBundledFlights,a=t.displayLayoverInformationForUnbundledFlights,r=this.props.isBundledOffers?n:a;return this.props.isBundledOffers?this.props.flight.itineraryPart.map((function(t){return ue.a.createElement("div",{className:"itinerary-part-summary-list",key:"".concat(t.origin,"-").concat(t.destination,"-").concat(t.departure.format())},ue.a.createElement(On,{flight:Na({},t,{id:"".concat(t.origin,"-").concat(t.destination,"-").concat(t.departure.valueOf())}),flightDetailsConfiguration:e.props.flightDetailsConfiguration,defaultDateFormat:e.props.defaultDateFormat,flightSelectionConfiguration:e.props.flightSelectionConfiguration,shouldDisplayMinimalPointsThresholdWarning:e.props.shouldDisplayMinimalPointsThresholdWarning,shouldDisplayCombinabilityWarning:!ze()(e.props.flight.isCombinable),isMobile:e.props.isMobile,displayLayoverInfo:r,formatDateTime:e.props.formatDateTime}))})):ue.a.createElement(On,{flight:this.props.flight,flightDetailsConfiguration:this.props.flightDetailsConfiguration,defaultDateFormat:this.props.defaultDateFormat,flightSelectionConfiguration:this.props.flightSelectionConfiguration,shouldDisplayMinimalPointsThresholdWarning:this.props.shouldDisplayMinimalPointsThresholdWarning,shouldDisplayCombinabilityWarning:!ze()(this.props.flight.isCombinable),isMobile:this.props.isMobile,displayLayoverInfo:r,ancillaryMap:this.props.ancillaryMap,formatDateTime:this.props.formatDateTime})}},{key:"renderPriceOffers",value:function(e){var t=this.props,n=t.sortedCabinClasses,a=t.iropConfiguration,r=t.currentFlow,i=t.isIropAffected,s=t.hasPromosApplied,o=Fe()(n,Nt()(this.props.flight.cabins)),l=this.getBrandOffers(e);return this.props.isMobile?ue.a.createElement(Aa,{user:this.props.user,totalPointsForSelectedFlights:this.props.totalPointsForSelectedFlights,isRBEEnabled:this.props.isRBEEnabled,currentFlow:r,isIropAffected:i,hasPromosApplied:s,iropConfiguration:a,brandOffers:this.state.selectedOfferCode?l:e,remainingSeatsConfiguration:this.props.flightSelectionConfiguration.seatsRemaining,toggleItineraryPartOfferSelection:this.toggleItineraryPartOfferSelection,brandOffersCodesSorted:this.props.brandOffersCodesSorted,priceJumpConfiguration:this.props.flightSelectionConfiguration.priceJump,flightSelectionConfiguration:this.props.flightSelectionConfiguration,pricePrefix:this.props.pricePrefix,isPromoCodeValid:this.props.isPromoCodeValid,notEnoughPoints:this.props.shouldDisplayMinimalPointsThresholdWarning,notCombinable:!ze()(this.props.flight.isCombinable)}):ue.a.createElement(Rn,{user:this.props.user,totalPointsForSelectedFlights:this.props.totalPointsForSelectedFlights,isRBEEnabled:this.props.isRBEEnabled,currentFlow:r,isIropAffected:i,hasPromosApplied:s,iropConfiguration:a,cabins:this.props.flight.cabins,brandOffers:this.state.selectedOfferCode?l:e,toggleItineraryPartOfferSelection:this.toggleItineraryPartOfferSelection,onBrandedOfferSelection:this.onBrandedOfferSelection,brandOffersCodesSorted:this.props.brandOffersCodesSorted,shouldRenderOfferCarousel:this.props.flightSelectionConfiguration.displayOffersBy===It.a.CABIN?Nt()(this.props.flight.cabins).length>this.props.carouselItemsToDisplay:this.props.brandOffersCodesSorted.length>this.props.carouselItemsToDisplay,offerCarouselArrowRightClick:this.props.offerCarouselArrowRightClick,offerCarouselArrowLeftClick:this.props.offerCarouselArrowLeftClick,carouselActiveItemIndex:this.props.carouselActiveItemIndex,carouselItemsToDisplay:this.props.carouselItemsToDisplay,leftArrowDisabled:this.props.leftArrowDisabled,rightArrowDisabled:this.props.rightArrowDisabled,flightSelectionConfiguration:this.props.flightSelectionConfiguration,pricePrefix:this.props.pricePrefix,isPromoCodeValid:this.props.isPromoCodeValid,notEnoughPoints:this.props.shouldDisplayMinimalPointsThresholdWarning,selectedOfferCode:this.state.selectedOfferCode,notCombinable:!ze()(this.props.flight.isCombinable),sortedCabinClasses:o})}},{key:"renderRichMedia",value:function(){return this.props.flightSelectionConfiguration.displayOffersBy===It.a.CABIN?ue.a.createElement(Qn,{cabins:this.props.flight.cabins}):ue.a.createElement(Zn,{cabins:this.props.flight.cabins})}},{key:"render",value:function(){var e=Jt(this.props.flight.cabins,this.props.flightSelectionConfiguration.displaySoldOutOffer.brand),t=ve()("itinerary-part-offer",this.props.flight.operatingAirlines.join(" ")),n=At()(this.props.flight.operatingAirlines,(function(e){return"EY"!==e})).length>0;return ue.a.createElement(Tt.b,{className:t,"data-test-id":Oe.g},ue.a.createElement("div",{className:"itinerary-part-offer-header"},ue.a.createElement("div",{className:"itinerary-part-summary-wrapper"},this.renderItineraryPartSummarySection()),this.renderPriceOffers(e)),this.props.isMobile&&ue.a.createElement(kn,{shouldDisplayMinimalPointsThresholdWarning:this.props.shouldDisplayMinimalPointsThresholdWarning,shouldDisplayCombinabilityWarning:!ze()(this.props.flight.isCombinable),flight:this.props.flight,isMobile:this.props.isMobile,flightDetailsConfiguration:this.props.flightDetailsConfiguration}),ue.a.createElement(ta,{itineraryParts:re()(this.props.flight.itineraryPart)?[this.props.flight]:this.props.flight.itineraryPart,seatMapPreview:this.props.flightSelectionConfiguration.seatMapPreviewEnabled?ue.a.createElement(ea,{className:"view-seats",onSeatMapPreviewClick:this.onSeatMapPreviewClick}):null,richMedia:this.props.flightSelectionConfiguration.displayRichMedia?this.renderRichMedia():void 0,defaultDateFormat:this.props.defaultDateFormat,flightDetailsConfiguration:this.props.flightDetailsConfiguration,flightSelectionConfiguration:this.props.flightSelectionConfiguration,isBreakdownExpanded:this.state.isBreakdownExpanded,onBreakdownToggleClick:this.toggleItineraryBreakdown,ancillaryMap:this.props.ancillaryMap}),this.state.brandComparisionSectionExpanded&&this.renderComparisonOffersSection(e,this.props.flight.brandBenefits,n))}}]),t}(ce.PureComponent);y()(Ta,"defaultProps",{isIropAffected:!1,currentFlow:Se.a.B2C,hasPromosApplied:!1,onSeatMapPreviewClick:U.a,shouldDisplayMinimalPointsThresholdWarning:!1,brandOffersCodesSorted:[],carouselActiveItemIndex:0,carouselItemsToDisplay:3,leftArrowDisabled:!1,rightArrowDisabled:!1,pricePrefix:void 0,ancillaryMap:void 0,formatDateTime:void 0,user:Object(me.Map)(),totalPointsForSelectedFlights:0,isRBEEnabled:!1,dictionary:{}});var Ia=n(2649),Ba=n(52),La=n.n(Ba),Da=n(136),ja=n(529),Fa=n(2370),Ma=n(199),Ra=n.n(Ma),Va=n(2372),Ha=n(2375),Ua=n(1370),Wa=function(e){function t(){return s()(this,t),l()(this,u()(t).apply(this,arguments))}return g()(t,e),f()(t,[{key:"getSeatMapsByDeckNameForSelectedSegment",value:function(){return this.props.seatMapsPreview.filter((function(e){return!e.isEmpty()})).get(this.props.selectedFlight.selectedTab).groupBy((function(e){return e.get("deck")}))}},{key:"renderSeatMapPreview",value:function(e,n){var a=this,r=t.getDeckData(e);return ue.a.createElement("div",{className:"right-container"},ue.a.createElement("div",{className:"seat-map-preview"},ue.a.createElement(Ha.a,{selectedCabin:this.props.selectedCabin,data:r.toJS(),onDeckSelection:function(e){return a.props.onDeckSelection(e)}}),ue.a.createElement("div",{className:"seat-map-cabins"},this.renderSeatMapsForSelectedCabin(n))))}},{key:"renderSeatMapsForSelectedCabin",value:function(e){var t=this;return e.map((function(n){return ue.a.createElement(Va.a,{key:"seatMap-".concat(e.indexOf(n)),seatMap:n,ref:function(e){t.seatMap=e},configuration:t.props.seatsConfiguration,preselectedSeats:[],isPreviewMode:!0})}))}},{key:"renderSegmentsTabs",value:function(){var e=this,n=ee()(this.props.seatsConfiguration,"alternateSeatMap"),a=ee()(this.props.seatsConfiguration,"timeBeforeDeparture",0),r=ee()(this.props.seatsConfiguration,"timeBeforeDepartureFormat"),i=this.getSeatMapsByDeckNameForSelectedSegment(),s=i.valueSeq().get(this.props.selectedCabin);return this.props.segmentsPreview.filter((function(e){return!re()(e)})).map((function(o,l){var c=l===e.props.selectedFlight.selectedTab,u=o.get("departure"),d=o.get("origin"),p=o.get("destination"),h=o.get("segmentIndex"),f=!!u&&fe()(u,"YYYYMMDD hhmmss").diff(fe()(),r,!1)>a;return ue.a.createElement(Ua.b,{key:"tab-panel-".concat(u)},n&&ue.a.createElement("h2",{className:"seat-map-airport-codes"},d&&p?Object(ye.a)("app.flightTo",{origin:d,destination:p}):Object(ye.a)("app.unknownFlight")),ue.a.createElement("div",{className:"main-content"},t.allMapsHasRows(s)&&f?c&&e.renderSeatMapPreview(i,s,h):t.renderNoSeatMapAvailable()))}))}},{key:"render",value:function(){var e=this.props.seatsConfiguration.alternateSeatMap?"display-none":"",n=this.props.segmentsPreview?t.getTabsList(this.props.segmentsPreview.filter((function(e){return!re()(e)}))):[],a=this.props.seatMapsPreview.some((function(e){return e.isEmpty()}));return ue.a.createElement("div",null,a&&t.renderSomeSeatMapsUnavailableWarning(),ue.a.createElement(Ua.c,{className:e,selectedTabIndex:this.props.selectedFlight.selectedTab},ue.a.createElement(Ua.e,{className:e,onTabSelect:this.props.selectSegmentForItinerary},n),ue.a.createElement(Ua.d,null,this.renderSegmentsTabs())))}}],[{key:"allMapsHasRows",value:function(e){return!e.some((function(e){return re()(e.get("seatRows"))}))}},{key:"getDeckData",value:function(e){return e.valueSeq().map((function(e){return e.get(0)})).map((function(e,t){return{index:t,aircraft:e.get("aircraft"),name:e.get("deck")}}))}},{key:"getTabsList",value:function(e){return e.map((function(e,t){var n=e.get("origin"),a=e.get("destination"),r=n&&a?Object(ye.a)("app.flightTo",{origin:le()(Ra()(Object(ye.i)("airports.".concat(n)),",")),destination:le()(Ra()(Object(ye.i)("airports.".concat(a)),","))}):Object(ye.a)("app.unknownFlight");return ue.a.createElement(Ua.a,{key:"tab-".concat(e.get("departure"))},ue.a.createElement("span",{className:"flight-index"},t+1),ue.a.createElement("span",{className:"airports"},r))}))}},{key:"renderNoSeatMapAvailable",value:function(){return ue.a.createElement("h2",{className:"seat-map-not-available"},Object(ye.a)("seatSelection.seatMapNotAvailable"))}},{key:"renderSomeSeatMapsUnavailableWarning",value:function(){return ue.a.createElement(Ee.a,{type:"warning",title:"seatSelection.warning.someSeatMapsUnavailable.title"},Object(ye.a)("seatSelection.warning.someSeatMapsUnavailable.description"))}}]),t}(ce.Component);y()(Wa,"defaultProps",{seatMapsPreview:void 0,segmentsPreview:void 0,selectedCabin:0,selectedFlight:{selectedTab:0},seatsConfiguration:{alternateSeatMap:!1}});var qa=Wa;n(2735);var za=function(e){var t=e.position,n=ue.a.createElement("span",{className:"why-price-range-trigger"},Object(ye.a)("flightSelection.whyPriceRange"));return ue.a.createElement(na.a,{className:"dxp-why-price-ranges clearfix",position:t,id:"why-price-range",trigger:n},ue.a.createElement(aa.a,{tag:"h4",title:"flightSelection.priceRangePopoverTitle",className:"why-price-ranges-title"}),ue.a.createElement("div",{className:"why-price-ranges-content"},Object(ye.a)("flightSelection.priceRangePopoverDescription")))};n(2736);var Ga=function(e){var t=e.brand,n=e.configuration,a=ee()(t,"offers",[]).length>1,r=ee()(n,"displayType"),i=a&&r===Nn.a.RANGE,s=a?t.minOffer:le()(t.offers),o=a&&r===Nn.a.HIGHEST?t.maxOffer:s,l=ve()("itinerary-part-total",{"has-multiple-offers":i});return ue.a.createElement("div",{className:l},a&&r===Nn.a.LOWEST&&ue.a.createElement("span",{className:"from"},Object(ye.a)("app.from")),a&&r===Nn.a.HIGHEST&&ue.a.createElement("span",{className:"upto"},Object(ye.a)("flightSelection.upto")),ue.a.createElement(vt.a,{price:o.total}),i&&ue.a.createElement("div",{className:"divider"},"-"),i&&ue.a.createElement(vt.a,{price:t.maxOffer.total}),ue.a.createElement("div",{className:"per-passenger"},Object(ye.a)("flightResult.perPassenger")),i&&ue.a.createElement(za,{position:"bottom"}))},Ka=(n(2737),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{selectedBrand:"",selectedFlight:{selectedTab:0},selectedCabin:0}),y()(p()(n),"onDeckSelection",(function(e){return n.setState({selectedCabin:e})})),n}return g()(t,e),f()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.getBrandOptions(),t=le()(e);t&&this.selectBrand(t.value)}},{key:"getAllBrands",value:function(){return Y()(this.props.flight.cabins,(function(e,t){return e=j()(e,t.offers)}),{})}},{key:"getBrandOptions",value:function(){var e=this,t=this.getAllBrands(),n=Y()(t,(function(e,t,n){return t.soldOut||e.push({label:Object(ye.i)("brand.".concat(n)),value:n}),e}),[]);return De()(n,(function(t){return La()(e.props.brandSortOrder,t.value)}))}},{key:"getLegend",value:function(){var e=Z()(this.props.legendPreview,"toJS",[]),t=At()(e,(function(e){return!re()(e)})),n=ee()(t,this.state.selectedFlight.selectedTab,[]);return ee()(n,this.state.selectedCabin,{})}},{key:"getOfferIdForSelectedBrand",value:function(e){return le()(this.getOffersForSelectedBrand(e)).id}},{key:"getOffersForSelectedBrand",value:function(e){return this.getSelectedBrandDetails(e).offers}},{key:"getSelectedBrandDetails",value:function(e){var t={};return X()(this.props.flight.cabins,(function(n){if(X()(n.offers,(function(n,a){if(a===e)return t=n,!1})),!re()(t))return!1})),t}},{key:"selectBrand",value:function(e){this.setState({selectedBrand:e});var t=this.getOfferIdForSelectedBrand(e);this.props.onSeatMapPreviewBrandChange(t)}},{key:"selectSegmentForItinerary",value:function(e){this.setState({selectedFlight:{selectedTab:e}})}},{key:"renderErrorMessage",value:function(){var e=this.props.seatMapPreviewError;return ue.a.createElement("div",{className:"seat-map-preview-not-available"},ue.a.createElement(Ee.a,{type:"error",title:"seatSelection.error.".concat(e,".title")},Object(ye.a)("seatSelection.error.".concat(e,".description"))))}},{key:"renderLegend",value:function(){var e=this.getLegend();return ue.a.createElement(Fa.a,{legend:e,configuration:this.props.seatsConfiguration,isPreviewMode:!0})}},{key:"renderPreviewContent",value:function(){var e=this,t=!this.props.isFetchingSeatMapPreview&&ze()(this.props.seatMapPreviewError),n=!this.props.isFetchingSeatMapPreview&&!ze()(this.props.seatMapPreviewError);return ue.a.createElement("div",{className:"preview-content"},ue.a.createElement("div",{className:"left-section"},ue.a.createElement("div",{className:"class-of-service"},Object(ye.a)("seatSelection.seatMapPreview.seatAvailability"),ue.a.createElement(ja.a,{label:"seatSelection.seatMapPreview.selectClassOfService",defaultValue:this.state.selectedBrand,options:this.getBrandOptions(this.props.flight.offers),onChange:function(t){return e.selectBrand(t)}})),ue.a.createElement("div",{className:"price"},ue.a.createElement("span",{className:"title"},Object(ye.a)("seatSelection.seatMapPreview.brandPrice")),ue.a.createElement(Ga,{configuration:this.props.priceJumpConfiguration,brand:this.getSelectedBrandDetails(this.state.selectedBrand)})),ue.a.createElement("div",{className:"preview-text"},ue.a.createElement("span",{className:"title"},Object(ye.a)("seatSelection.seatMapPreview.previewOnly.title")),Object(ye.a)("seatSelection.seatMapPreview.previewOnly.description")),this.renderLegend()),ue.a.createElement("div",{className:"right-section"},n&&this.renderErrorMessage(),t&&ue.a.createElement(qa,{seatsConfiguration:this.props.seatsConfiguration,segmentsPreview:this.props.segmentsPreview,onDeckSelection:this.onDeckSelection,selectSegmentForItinerary:function(t){return e.selectSegmentForItinerary(t)},selectedCabin:this.state.selectedCabin,seatMapsPreview:this.props.seatMapsPreview,selectedFlight:this.state.selectedFlight})))}},{key:"render",value:function(){var e=this,n=Object(ut.b)(this.props.isAuthorable,"seatMapPreviewModal");return ue.a.createElement(Da.a,r()({className:"dxp-seat-map-preview-modal",onCloseClick:function(){return e.props.onSeatMapPreviewClose()}},n),ue.a.createElement("h4",null,Object(ye.a)("seatSelection.seatMapPreview.viewSeats")),this.props.isFetchingSeatMapPreview?t.renderSeatMapPreviewLoading():this.renderPreviewContent())}}],[{key:"renderSeatMapPreviewLoading",value:function(){return ue.a.createElement(et.a,{className:"dark"})}}]),t}(ce.Component));y()(Ka,"defaultProps",{seatMapsPreview:void 0,legendPreview:void 0,segmentsPreview:void 0,seatMapPreviewError:void 0,isFetchingSeatMapPreview:!0,brandSortOrder:[],isAuthorable:!0});var Ya=Ka,Qa=n(2153),Xa=n(2152),Ja=n(2199);n(2738);function Za(e){var t=e.id,n=e.selectedValue,a=e.onChange;return ue.a.createElement("div",{className:"points-currency-toggle"},ue.a.createElement($e.a,{className:"points-currency-toggle-title",title:Object(ye.i)("flightSelection.pointsCurrencyToggleTitle"),tag:"h3"}),ue.a.createElement(Ja.a,{className:"currency-points-toggle",name:t,onChange:function(e){return a(e.target.id==="".concat(t,"-0")?kt:Ct)},items:[{label:Object(ye.i)("awardBooking.currency.name"),checked:n===kt,className:"toggle-currency"},{label:Object(ye.i)("awardBooking.ffcurrency.name"),checked:n===Ct,className:"toggle-points"}]}))}Za.defaultProps={selectedValue:kt};var $a=Za,er=n(2157),tr=n(2193),nr=n(98),ar=n.n(nr),rr=n(95),ir=n.n(rr),sr="operatingCarrier-desc",or=(n(2739),function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{sortByExpanded:!1}),y()(p()(n),"onClick",(function(e,t){n.toggleSortByTooltip(),n.props.handleSorting(e.field,e.direction),t&&n.button&&n.button.focus()})),y()(p()(n),"onClosePopover",(function(){return n.setState({sortByExpanded:!1})})),y()(p()(n),"toggleSortByTooltip",(function(){return n.setState((function(e){return n.setState({sortByExpanded:!e.sortByExpanded})}))})),n}return g()(t,e),f()(t,[{key:"getOptions",value:function(){return Y()(this.props.options,(function(e,t){return e.push({value:"".concat(t.value,"-asc"),direction:"asc",field:t.value}),e.push({value:"".concat(t.value,"-desc"),direction:"desc",field:t.value}),e}),[])}},{key:"getSortingOrder",value:function(){return"".concat(this.props.sortingOrder.field,"-").concat(this.props.sortingOrder.direction)}},{key:"renderSortingOptions",value:function(e){var t=this,n=e.value===sr?Object(ye.i)("flightSelection.sort.".concat(e.value),{operatingCarrier:Object(ye.i)("airlines.".concat(this.props.operatingCarrierSortPriority))}):Object(ye.i)("flightSelection.sort.".concat(e.value));return ue.a.createElement("li",{className:"spark-popover__list-item",key:e.value},ue.a.createElement("button",{type:"button",className:"spark-popover__list-link",onClick:function(){return t.onClick(e,!0)},id:"sort-option-".concat(e.value)},this.getSortingOrder()===e.value&&ue.a.createElement($t.c,{key:"sortingOrder",name:$t.a.CHECK}),n))}},{key:"render",value:function(){var e=this,t=ue.a.createElement(Ze.a,{ref:function(t){e.button=t},isTextButton:!0,className:"spark-popover__toggle sort-by spark-bold text-uppercase spark-btn--sm",onClick:this.toggleSortByTooltip,label:[ue.a.createElement("span",{key:"sortByLabel"},Object(ye.i)("flightSelection.sortBy")),ue.a.createElement($t.c,{key:"sortByExpanded",fill:!0,name:this.state.sortByExpanded?$t.a.ARROW_TRIANGLE_UP:$t.a.ARROW_TRIANGLE_DOWN})],isExpanded:this.state.sortByExpanded});return ue.a.createElement("div",{className:"dxp-sort-popover"},ue.a.createElement(gn.a,{toggleEl:t,showClose:!1,className:"spark-popover",onClose:this.onClosePopover},ue.a.createElement("ul",{className:"spark-popover__list sort-popover-list"},this.getOptions().filter((function(t){return e.props.configuredSortingOptions.includes(t.value)})).map((function(t){return e.renderSortingOptions(t)})))))}}]),t}(ce.PureComponent)),lr="departure",cr="arrival",ur="stops",dr="duration",pr="price",hr="operatingCarrier",fr=function(e){function t(e){var n;return s()(this,t),n=l()(this,u()(t).call(this,e)),y()(p()(n),"handleSorting",(function(e,t){n.state&&n.state.field===e&&n.state.direction===t||(n.setState({sortedBy:{field:e,direction:t}}),n.props.sortFlights(e,t,n.props.operatingCarrierSortPriority))})),n.state={sortedBy:{field:e.defaultSortOrderConfiguration.defaultSortColumn[0].toLowerCase(),direction:e.defaultSortOrderConfiguration.defaultSortOrder.toLowerCase()}},n}return g()(t,e),f()(t,[{key:"getCabinSortingOptions",value:function(){return ir()(N()(this.props.filteredCabins,(function(e){return re()(e)?void 0:{value:e}})))}},{key:"render",value:function(){var e=this.props.displayOffersBy===It.a.CABIN?this.getCabinSortingOptions():t.PRICE_SORTING_OPTION,n=ar()(t.FLIGHT_SORTING_OPTIONS,e);return ue.a.createElement(or,{sortingOrder:this.state.sortedBy,handleSorting:this.handleSorting,options:n,configuredSortingOptions:this.props.sortingOptions,operatingCarrierSortPriority:this.props.operatingCarrierSortPriority})}}]),t}(ce.Component);y()(fr,"defaultProps",{filteredCabins:{},displayOffersBy:It.a.CABIN}),y()(fr,"FLIGHT_SORTING_OPTIONS",[{value:lr},{value:cr},{value:ur},{value:dr},{value:hr}]),y()(fr,"PRICE_SORTING_OPTION",[{value:pr}]);n(2740);var mr=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{filtersExpanded:!1}),y()(p()(n),"getToggleFilterButtonFocus",(function(){n.toggleFilter.focus()})),y()(p()(n),"confirmFilters",(function(){n.toggleFilters(),n.props.confirmFilters()})),y()(p()(n),"renderOfferLabels",(function(){return N()(n.props.offerLabels,(function(e){return ue.a.createElement("div",{key:"offer-label-".concat(e),className:"offer-label flex-1"},Object(ye.i)("".concat(n.props.displayOffersBy,".").concat(e)))}))})),y()(p()(n),"toggleFilters",(function(){return n.setState((function(e){return{filtersExpanded:!e.filtersExpanded}}))})),n}return g()(t,e),f()(t,[{key:"renderFilterRemovalButton",value:function(){return ue.a.createElement(tr.a,{clearFilter:this.props.clearFilter,appliedFilters:this.props.appliedFilters,timeFormat:this.props.configuration.filterTimeLabelsFormat})}},{key:"renderFilters",value:function(){return ue.a.createElement(er.a,{updateFilter:this.props.updateFilter,clearFilter:this.props.clearFilter,confirmFilters:this.confirmFilters,filters:this.props.filters,toggleFilterButtonFocus:this.getToggleFilterButtonFocus,configuration:this.props.configuration,appliedFilters:this.props.appliedFilters,selectedLocale:this.props.selectedLocale,locales:this.props.locales,isAuthorable:this.props.isAuthorable,className:this.props.className,resultsCount:this.props.filteredResultsCount,toggleFilters:this.toggleFilters})}},{key:"render",value:function(){var e=this;return ue.a.createElement(Tt.b,{className:"dxp-itinerary-offers-header"},ue.a.createElement("div",{className:"first-row flight-selection-header-row"},ue.a.createElement("div",{className:"result-info-sort-filter"},this.props.configuration.departureDateDisplayPosition===pn&&!this.props.isMobile&&ue.a.createElement("span",{className:"flight-search-date xs-hid"},this.props.selectedDate.format(this.props.configuration.header.dateFormat)),ue.a.createElement("span",{className:"results-count"},Object(ye.i)("flightSelection.resultsCount",{resultsCount:this.props.filteredResultsCount})),ue.a.createElement("div",{className:"sort-filters-panel"},this.props.configuration.sortPopoverEnabled&&ue.a.createElement(fr,{sortFlights:this.props.sortFlights,defaultSortOrderConfiguration:this.props.defaultSortOrderConfiguration,filteredCabins:this.props.filteredCabins,displayOffersBy:this.props.displayOffersBy,sortingOptions:this.props.sortingOptions,operatingCarrierSortPriority:this.props.configuration.operatingCarrierDefaultSortPriority}),this.props.configuration.filtersEnabled&&ue.a.createElement(Ze.a,{isTextButton:!0,ref:function(t){e.toggleFilter=t},className:"toggle-filters spark-bold text-uppercase spark-btn--sm",onClick:this.toggleFilters,disabled:0===this.props.filteredResultsCount,label:Object(ye.i)("flightSelection.".concat(this.state.filtersExpanded?"hideFilters":"showFilters")),isExpanded:this.state.filtersExpanded})),!this.props.isMobile&&!re()(this.props.appliedFilters)&&!this.state.filtersExpanded&&this.renderFilterRemovalButton()),!this.props.isMobile&&ue.a.createElement("div",{className:"offer-labels"},this.renderOfferLabels()),this.props.isMobile&&!re()(this.props.appliedFilters)&&!this.state.filtersExpanded&&this.renderFilterRemovalButton()),this.state.filtersExpanded&&this.renderFilters(),ue.a.createElement("div",{className:"second-row flight-selection-header-row"},!this.props.isMobile&&ue.a.createElement("div",{className:"time-duration-amenities"},ue.a.createElement("div",{className:"time text-uppercase"},Object(ye.i)("flightSelection.time")),ue.a.createElement("div",{className:"duration text-uppercase"},Object(ye.i)("flightSelection.duration")),this.props.shouldRenderAmenities&&ue.a.createElement("div",{className:"amenities text-uppercase"},Object(ye.i)("flightSelection.amenities"))),ue.a.createElement("div",{className:"prices-label"},Object(ye.k)("flightSelection.itineraryOffersHeaderPriceInfo",{currency:ue.a.createElement("span",{className:"spark-bold"},this.props.currency),offerType:ue.a.createElement("span",{className:"spark-bold"},Object(ye.i)("journeyType.".concat(this.props.isBundledOffers?"roundTrip":"oneWay")))}))))}}]),t}(ce.PureComponent);y()(mr,"defaultProps",{appliedFilters:{},isAuthorable:!1});var gr=n(1944),vr=n(85);n(2741);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Er=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),y()(p()(n),"state",{isBreakdownExpanded:!1}),y()(p()(n),"toggleItineraryBreakdown",(function(){n.setState((function(e){return{isBreakdownExpanded:!e.isBreakdownExpanded}}))})),n}return g()(t,e),f()(t,[{key:"renderFlightSummary",value:function(){var e=this.props,t=e.isBundledOffers,n=e.flight,a=e.flightDetailsConfiguration,r=e.defaultDateFormat,i=e.flightSelectionConfiguration,s=e.isMobile,o=e.ancillaryMap,l=this.props.flightSelectionConfiguration,c=l.displayLayoverInformationForBundledFlights,u=l.displayLayoverInformationForUnbundledFlights,d=this.props.isBundledOffers?c:u;return ue.a.createElement("div",{className:"flight-summary"},t?n.itineraryPart.map((function(e){return ue.a.createElement("div",{className:"selected-flights-itinerary-part",key:"".concat(e.origin,"-").concat(e.destination,"-").concat(e.departure.valueOf())},ue.a.createElement(On,{flight:br({},e,{id:"".concat(e.origin,"-").concat(e.destination,"-").concat(e.departure.valueOf())}),flightDetailsConfiguration:a,defaultDateFormat:r,flightSelectionConfiguration:i,isMobile:s,displayLayoverInfo:d,ancillaryMap:o}))})):ue.a.createElement(On,{flight:n,flightDetailsConfiguration:a,defaultDateFormat:r,flightSelectionConfiguration:i,isMobile:s,displayLayoverInfo:d,ancillaryMap:o}))}},{key:"renderHeaderInfo",value:function(){var e=this.props,t=e.directionTitle,n=e.departure,a=e.flightSelectionConfiguration;return ue.a.createElement("div",{className:"header-info"},ue.a.createElement("div",{className:"header-icon"},ue.a.createElement($t.c,{fill:!0,name:$t.a.CHECK_CIRCLE})),ue.a.createElement("div",{className:"direction"},t),ue.a.createElement("div",{className:"date"},ue.a.createElement(an.a,{value:n,format:a.flightDepartureDateFormat})))}},{key:"renderItineraryBreakdown",value:function(){var e=this.props,t=e.isBundledOffers,n=e.flight,a=e.fareBasisPerItinerary,r=e.defaultDateFormat,i=e.flightDetailsConfiguration,s=e.flightSelectionConfiguration,o=e.segmentsCabins,l=e.ancillaryMap,c=e.cabinClassPerItinerary,u=t?n.itineraryPart:[n];return ue.a.createElement(ta,{itineraryParts:u,segmentsCabins:o,fareBasisPerItinerary:a,cabinClassPerItinerary:c,defaultDateFormat:r,flightDetailsConfiguration:i,flightSelectionConfiguration:s,isBreakdownExpanded:this.state.isBreakdownExpanded,onBreakdownToggleClick:this.toggleItineraryBreakdown,ancillaryMap:l})}},{key:"render",value:function(){var e=this.props,t=e.changeFlight,n=e.selectedItineraryPrice,a=e.fare,i=e.isAuthorable,s=e.flightDetailsConfiguration,o=Object(ut.a)(i,"selectedItineraryPartOffer");return ue.a.createElement("div",r()({},o,{"data-test-id":Oe.j}),ue.a.createElement(Tt.b,{className:"selected-itinerary-part-offer"},ue.a.createElement("div",{className:"header-row"},this.renderHeaderInfo(),!ze()(t)&&ue.a.createElement("div",{className:"change-flight"},t)),ue.a.createElement("div",{className:"flight-row"},this.renderFlightSummary(),ue.a.createElement("div",{className:"flight-price"},!ze()(n)&&ue.a.createElement("div",{className:"selected-offer-price"},n),ue.a.createElement("div",{className:"selected-brand"},a))),this.props.isMobile&&ue.a.createElement(kn,{flight:this.props.flight,isMobile:this.props.isMobile,flightDetailsConfiguration:s}),this.renderItineraryBreakdown()))}}]),t}(ce.PureComponent);y()(Er,"defaultProps",{isAuthorable:!0,fareBasisPerItinerary:[],cabinClassPerItinerary:[],changeFlight:void 0,segmentsCabins:[],selectedItineraryPrice:void 0,ancillaryMap:void 0});var Cr=Er,kr=n(1945),Sr=n(1557);n(2742),n(2743);function _r(e){var t=e.areFlightsNotAvailable,n=e.travelPartAdvisories,a=e.searchCriteria,r=e.selectedFlights,i=e.selectedBrands,s=e.onChangeFlight,o=e.flightDetails,l=e.configuration,c=e.defaultDateFormat,u=e.isBundledOffers,d=e.isMobile,p=e.ancillaryMap,h=e.exchangeType;return ue.a.createElement("div",{className:"dxp-selected-flights"},r.valueSeq().map((function(e,r){var f=l.displayDayAdvisories&&function(e,t){if(t.isEmpty())return!1;var n=t.get(e);return n&&!n.isEmpty()}(r,n);return ue.a.createElement("div",{key:e.id,className:"dxp-selected-flight"},t&&f&&ue.a.createElement("div",{className:"dxp-advisory"},ue.a.createElement(Sr.a,{direction:r,advisories:n,className:"dxp-day-advisory"})),ue.a.createElement(Cr,{flight:e,directionTitle:Pr(a.journeyType,r,a.itineraryParts.length,h,u),departure:e.departure,segmentsCabins:Or(e,i.get(r)),fare:Object(ye.a)("brand.".concat(i.get(r))),fareBasisPerItinerary:o.displayFareBasis?Ar(e):void 0,flightDetailsConfiguration:o,flightSelectionConfiguration:l,defaultDateFormat:c,isBundledOffers:u,changeFlight:ue.a.createElement(Ze.a,{isTextButton:!0,onClick:function(){return s(r)},className:"spark-btn--sm",label:Object(ye.i)("flightSelected.changeFlight")}),selectedItineraryPrice:l.showItineraryPartTotal?wr(l,e,i.get(r)):null,isMobile:d,ancillaryMap:p,cabinClassPerItinerary:xr(e,i.get(r))}))})))}function Or(e,t){var n=le()(Object.values(e.cabins).filter((function(e){return e.offers&&e.offers[t]})).map((function(e){return e.offers[t]})));return ee()(le()(ee()(n,"offers")),"segmentsCabins")}function wr(e,t,n){var a=Object(Dt.a)(Object(Dt.b)(t.cabins,n));return ue.a.createElement("div",{className:"selected-offer-price"},ue.a.createElement(Dn,{brandPriceTotal:a.brandPriceTotal,brandPriceMin:a.brandPriceMin,brandPriceMax:a.brandPriceMax,hasMultipleOffers:a.hasMultipleOffers,priceJumpConfiguration:e.priceJump,riseDecimal:!0}),e.priceJump.displayType===Nn.a.RANGE&&a.hasMultipleOffers&&ue.a.createElement(ia,null))}function Pr(e,t,n,a,r){return r?Object(ye.i)("flightSelection.bundledOfferHeader"):a===kr.a.INBOUND||a===kr.a.OUTBOUND?a===kr.a.INBOUND?Object(ye.i)("flightSelection.roundTrip.".concat(lt.a.INBOUND)):Object(ye.i)("flightSelection.roundTrip.".concat(lt.a.OUTBOUND)):e===vr.a.ONE_WAY?Object(ye.i)("flightSelection.".concat(We()(e))):e===vr.a.MULTI_CITY?Object(ye.i)("flightSelection.".concat(We()(e)),{direction:t+1,legsCount:n}):Object(ye.i)("flightSelection.".concat(We()(e),".").concat(t))}function Ar(e){return re()(e.itineraryPart)?[e.segments.map((function(e){return e.fareBasis}))]:e.itineraryPart.map((function(e){return e.segments.map((function(e){return e.fareBasis}))}))}function xr(e,t){return re()(e.itineraryPart)?[e.segments.map((function(n,a){return re()(t)?n.cabinClass:e.brandSegmentMap[t][a]}))]:e.itineraryPart.map((function(n,a){return n.segments.map((function(n,r){return re()(t)?n.fareBasis:e.brandSegmentMap[t][a][r]}))}))}_r.defaultProps={isMobile:!1,ancillaryMap:void 0,exchangeType:void 0,areFlightsNotAvailable:!1,travelPartAdvisories:Object(me.List)()};var Nr=_r,Tr=function(e){function t(){return s()(this,t),l()(this,u()(t).apply(this,arguments))}return g()(t,e),f()(t,[{key:"renderBundleOriginalItinerary",value:function(){var e=this.props.reservation,t=e.get("itineraryParts",Object(me.List)()).first(),n={itineraryPart:e.get("itineraryParts",Object(me.List)()).toJS()},a=Ir(e.getIn(["itineraryType","isMultiCityTrip"]),0).title;return this.renderSelectedItineraryPartOffer(n,a,t)}},{key:"renderOriginalItinerary",value:function(){var e=this,t=this.props.reservation;return t.get("itineraryParts",Object(me.List)()).map((function(n,a){var r=n.toJS(),i=Ir(t.getIn(["itineraryType","isMultiCityTrip"]),a).title;return e.renderSelectedItineraryPartOffer(r,i,n)}))}},{key:"renderSelectedItineraryPartOffer",value:function(e,t,n){var a,r=this.props,i=r.defaultDateFormat,s=r.flightSelectionConfiguration,o=r.flightDetailsConfiguration,l=r.isBundledOffers,c=r.isMobile,u=r.ancillaryMap;return ue.a.createElement(Cr,{key:"".concat(n.get("origin"),"-").concat(n.get("destination"),"-").concat(n.get("departure").valueOf()),flight:e,directionTitle:t,departure:n.get("departure"),fare:Br(n),brandId:ee()(Lt()(n.segments),"brandId"),fareBasisPerItinerary:o.displayFareBasis?(a=n,a.get("itineraryPart",Object(me.Map)()).isEmpty()?Object(me.List)([a.get("segments").map((function(e){return e.get("fareBasis")}))]):a.get("itineraryPart").map((function(e){return e.get("segments").map((function(e){return e.get("fareBasis")}))}))).toJS():void 0,flightDetailsConfiguration:o,flightSelectionConfiguration:s,defaultDateFormat:i,isBundledOffers:l,isMobile:c,ancillaryMap:u})}},{key:"render",value:function(){var e=this.props,t=e.reservation,n=e.isOriginalItineraryExpandedByDefault,a=e.defaultDateFormat,r=e.flightSelectionConfiguration,i=e.flightDetailsConfiguration,s=e.isBundledOffers,o=e.isMobile;return ue.a.createElement(ua.a,{id:Oe.i,isExpanded:n,className:"main-collapse original-itinerary",title:Object(ye.i)("changeFlight.yourOriginalItinerary")},s?this.renderBundleOriginalItinerary(t,i,r,a,s,o):this.renderOriginalItinerary(t,i,r,a,s,o))}}]),t}(ce.PureComponent);function Ir(e,t){var n="",a="";return e?a=n=Object(ye.i)("flightSearch.multiCity.flightTitle",{index:t+1}):(n=Object(ye.i)("flightSelection.".concat(0===t?"yourDepartingFlight":"yourReturningFlight")),a=Object(ye.i)("app.".concat(0===t?"departure":"arrival"))),{title:n,mobileTitle:a}}function Br(e){return e.getIn(["segments","0","brandId"])===e.getIn(["segments","0","fareBasis"])?Object(ye.a)("cabin.".concat(e.getIn(["segments","0","cabinClass"],"").toLowerCase())):Object(ye.a)("brand.".concat(e.getIn(["segments","0","brandId"])))}y()(Tr,"defaultProps",{isOriginalItineraryExpandedByDefault:!1,ancillaryMap:void 0});var Lr=Tr;var Dr=function(){return ue.a.createElement(Ee.a,{type:"info",title:"flightSelection.noFlightsFound"},Object(ye.a)("flightSelection.pleaseChangeSearchCriteria"))},jr=1,Fr=2,Mr=3,Rr=function(e){return e>=1400?Mr:e>1024?Fr:jr},Vr=(n(2744),n(2745),n(44)),Hr=n(685),Ur=["flightSelection.selectYourDepartingFlight","flightSelection.selectYourReturningFlight"],Wr=function(e){function t(e,n){var a;s()(this,t),a=l()(this,u()(t).call(this,e,n)),y()(p()(a),"onBack",(function(){var e=a.props.pageNavigationProps.back.navigation,t=a.props.isCompanionFareSearch?{}:e.query;e.isExternal?window.location.replace(e.path):a.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.path,t)})),y()(p()(a),"onChangeFlight",(function(e){return a.props.onChangeFlightSelection(e)})),y()(p()(a),"onContinue",(function(){a.props.isRBEEnabled&&a.props.onContinue&&a.validateFfcurrencyAmount()&&a.props.onContinue(),a.onClickContinue()})),y()(p()(a),"onFlightSelect",(function(e,t,n){a.props.onFlightSelect(e,t,n),Object(Ce.a)(a.flightsSectionTitleRef.current,{headerOffset:-70})})),y()(p()(a),"onSwitchChange",(function(e){var t=a.state.rbeToggleCount,n=a.props.awardBooking;ze()(t)&&(t=n.get("maximumToggleCount",!1)),!1!==t&&t>0&&(a.setState({rbeToggleCount:t-1}),a.props.onSwitchChange({awardBooking:e===Ct?"true":"false"})),0===t&&a.props.actionUpdateURLQuery("URL_UPDATE_HASH","/home",ee()(p()(a),"props.location.query",{}))})),y()(p()(a),"getBrandOffersLabels",(function(){return Re()(a.getSortedBrandOffersCodes(),a.state.carouselActiveItemIndex,a.state.carouselActiveItemIndex+a.state.carouselItemsToDisplay)})),y()(p()(a),"getCabinOffersLabels",(function(){return Re()(Fe()(a.props.filteredCabins,N()(a.props.cabinClasses,(function(e){return e.code}))),a.state.carouselActiveItemIndex,a.state.carouselActiveItemIndex+a.state.carouselItemsToDisplay)})),y()(p()(a),"getSelectedDate",(function(){return 0===a.props.direction?fe()(a.props.location.query.date,"MM-DD-YYYY"):fe()(a.props.location.query["date".concat(a.props.direction)],"MM-DD-YYYY")})),y()(p()(a),"getSortedBrandOffersCodes",(function(){return Fe()(a.props.brandSortOrder,a.props.availableBrandOffersCodes.toArray())})),y()(p()(a),"clearFilter",(function(e,t){return a.props.clearFilter(e,t)})),y()(p()(a),"currencyChanged",(function(e){var t=a.props.location,n=t.query,r=t.pathname,i=_()(n),s=se()({},i,{currency:e});a.props.actionUpdateURLQuery("URL_UPDATE_QUERY",r,s)})),y()(p()(a),"handleResize",(function(){var e=a.props.viewBreakPoint;t.getIsMobileRender(e,a.context)!==a.state.isMobileRender&&a.setState((function(e){return{isMobileRender:!e.isMobileRender}})),a.dxpFlightSelectionRef.current&&a.setState({carouselItemsToDisplay:Rr(a.dxpFlightSelectionRef.current.clientWidth)})})),y()(p()(a),"getSelectedDate",(function(){return 0===a.props.direction?fe()(a.props.location.query.date,"MM-DD-YYYY"):fe()(a.props.location.query["date".concat(a.props.direction)],"MM-DD-YYYY")})),y()(p()(a),"onFlightSelect",(function(e,t,n){a.props.onFlightSelect(e,t,n).then((function(){return Object(Ce.a)(a.flightsSectionTitleRef.current,{headerOffset:70})}))})),y()(p()(a),"clearFilter",(function(e,t){return a.props.clearFilter(e,t)})),y()(p()(a),"loadMoreFlights",(function(){a.setState((function(e){return{flightsCountIncrement:e.flightsCountIncrement+1}}))})),y()(p()(a),"offerCarouselArrowLeftClick",(function(){a.setState((function(e){return{carouselActiveItemIndex:e.carouselActiveItemIndex-1,rightArrowDisabled:!1,leftArrowDisabled:1===e.carouselActiveItemIndex}}))})),y()(p()(a),"offerCarouselArrowRightClick",(function(e){a.setState((function(t){return{carouselActiveItemIndex:t.carouselActiveItemIndex+1,rightArrowDisabled:a.shouldDisableRightCarouselArrow(Be()([t.carouselActiveItemIndex+t.carouselItemsToDisplay+1,e])),leftArrowDisabled:!1}}))})),y()(p()(a),"pointOfSaleCurrencyChange",(function(e){var t=a.props.location,n=t.query,r=t.pathname,i=_()(n),s=se()({},i,{currency:e});a.props.setCountry(a.props.searchCriteria.pointOfSale,e).then((function(){return a.props.actionUpdateURLQuery("URL_UPDATE_QUERY",r,s)}))})),y()(p()(a),"renderPageNavigationButtons",(function(){var e=a.props,t=e.user,n=e.isRBEEnabled,r=e.pageNavigationProps,i=e.error,s=Boolean(t.size),o=!(me.Map.isMap(i)?i.isEmpty():re()(i));return ue.a.createElement(Ye.a,{location:a.props.location,continueOnlyTitle:a.getContinueLabel(),onBack:a.onBack,showCancelButton:r.cancel.enabled,disableContinueButton:a.props.isSelectingFlights||o||n&&!s,onContinue:a.onContinue,acceptLink:r.cancel.navigation,modal:{title:Object(ye.a)("changeFlight.modalTitle"),description:Object(ye.a)("changeFlight.modalDescription")}})})),y()(p()(a),"shouldDisableRightCarouselArrow",(function(e){return a.props.configuration.displayOffersBy===It.a.CABIN?e>=a.props.filteredCabins.length:e>=a.props.availableBrandOffersCodes.size})),a.flightsSectionTitleRef=ue.a.createRef(),a.dxpFlightSelectionRef=ue.a.createRef();var r=e.viewBreakPoint;return a.state={rbeToggleCount:void 0,isMobileRender:t.getIsMobileRender(r,n),flightsCountIncrement:1,seatMapPreviewVisible:!1,seatMapPreviewCabins:void 0,carouselActiveItemIndex:0,leftArrowDisabled:!0,rightArrowDisabled:!1,dictionary:{}},a}var n;return g()(t,e),f()(t,null,[{key:"getIsMobileRender",value:function(e,t){return t.isMobile||e>window.innerWidth}},{key:"isMoreFlightsAvailableToView",value:function(e,t){return 0!==e.size-t.size}}]),f()(t,[{key:"buildEnglishDictionary",value:(n=xe()(Pe.a.mark((function e(t){var n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.getTranslations("en-GB");case 3:n=e.sent,this.setState({dictionary:n});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getTranslations",value:function(e){var t=Object(Vr.o)(e);return t.then((function(e){return Object(Hr.a)({input:e,defaultPackageClassifiedName:""})})),t}},{key:"componentDidMount",value:function(){this.setState({carouselItemsToDisplay:Rr(ee()(this.dxpFlightSelectionRef.current,"clientWidth"))}),window.addEventListener("resize",this.handleResize),this.buildEnglishDictionary()}},{key:"componentDidUpdate",value:function(e){this.props.isAllFlightsSelected&&this.props.isAllFlightsSelected!==e.isAllFlightsSelected&&Object(Ce.a)(this.dxpFlightSelectionRef.current,{headerOffset:100}),e.isAllFlightsSelected&&!this.props.isAllFlightsSelected&&this.setState({carouselItemsToDisplay:Rr(ee()(this.dxpFlightSelectionRef.current,"clientWidth"))})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"onClickContinue",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_HASH",this.props.getNextPage(),ee()(this,"props.location.query",{}))}},{key:"onFareRulesClick",value:function(e){this.props.onFareRulesClick(e)}},{key:"getContinueLabel",value:function(){var e=this.props,t=e.isSelectingFlights,n=e.getNextPage,a=e.pageNavigationProps;return t?ue.a.createElement(et.a,null):Object(ye.i)("breadcrumbsFlows.".concat(We()(He()(n(a.currentFlow,St.a.FLIGHT_SELECTION).split("/")))))}},{key:"getFlights",value:function(e){var t=this.props.configuration.flightResultsLazyLoading;return t.isEnabled?e.slice(0,t.increment*this.state.flightsCountIncrement):e}},{key:"getFlightsPerDirection",value:function(){var e=this.props,t=e.filteredFlights,n=e.direction,a=e.configuration,r=ee()(a,"consumingOldShoppingService",!1),i=ee()(a,"displayAllReturnFlights",!1),s=t.get(n.toString(),Object(me.List)());return r||i||n===lt.a.OUTBOUND?s:s.filter((function(e){return ze()(e.get("isCombinable"))}))}},{key:"getTitleContent",value:function(){var e=this.props,t=e.searchCriteria,n=e.isBundledOffers,a=e.selectedFlights;if(n)return Object(ye.a)("flightSelection.bundled.".concat(We()(t.journeyType)));if(t.isMultiCity){var r=Object(ye.i)("airports.".concat(t.itineraryParts[this.props.direction].destination));return ue.a.createElement(ue.a.Fragment,null,ue.a.createElement("span",{className:"airport-name"},Object(ye.a)("flightSelection.selectMultiCityFlight",{direction:r})),ue.a.createElement("span",{className:"flight-index"},Object(ye.i)("flightSelection.flightOfFlights",{number:this.props.direction+1,total:t.itineraryParts.length})))}return Object(ke.m)(t)?Object(ye.a)("flightSelection.selectYourReturningFlight"):Object(ye.a)(ee()(Ur,"[".concat(a.size,"]"),""))}},{key:"isExchangeContextShopEnabled",value:function(){return L()(this.props.currentFlow,"exchange")&&this.props.isExchangeContextShopEnabled}},{key:"isFlightsFound",value:function(){var e=this,t=this.props,n=t.flights,a=t.isAllFlightsSelected,r=t.errorOcurred;return a||r||n&&!n.isEmpty()&&!e.getFlights(e.getFlightsPerDirection()).isEmpty()}},{key:"isUpsellAvailable",value:function(){return this.props.upsellData.upsellOptions&&!this.props.upsellData.upsellOptions.isEmpty()}},{key:"isUpsellLoading",value:function(){return this.props.upsellData.isUpsellOffersLoading}},{key:"shouldDisplayViewMoreButton",value:function(e,n){return this.props.configuration.flightResultsLazyLoading.isEnabled&&t.isMoreFlightsAvailableToView(e,n)}},{key:"shouldRenderAmenities",value:function(e){var t=this;return!re()(this.props.configuration.amenities)||e.some((function(e){return t.props.isBundledOffers?e.get("itineraryPart").some((function(e){return e.get("segments").some((function(e){return e.getIn(["segmentOfferInformation","flightAncillaries","flightAncillary"])}))})):e.get("segments").some((function(e){return e.getIn(["segmentOfferInformation","flightAncillaries","flightAncillary"])}))}))}},{key:"shouldRenderCalendarRibbon",value:function(){var e=this.props.calendarRibbonProps;if(!(this.props.isLowFareOffers?e.calendarRibbons.configuration.enabledForLowFareResult&&e.calendarRibbons.configuration.isEnabled:e.calendarRibbons.configuration.isEnabled))return!1;if(this.isExchangeContextShopEnabled()||this.props.isAllFlightsSelected||this.props.searchCriteria.isMultiCity)return!1;var t=ee()(e.calendarRibbons.ribbons,"result[".concat(this.props.direction,"]"));return!re()(t)}},{key:"shouldShowFlightSelectionHeaderActions",value:function(){var e=this.props,t=e.selectedFlights,n=e.isPointOfSaleCurrencyEnabled,a=e.searchCriteria,r=e.isCurrencySelectionEnabled,i=e.applicableRoutesForCurrencyDropdown,s=e.awardBooking;return t.isEmpty()&&(n||Object(ke.v)(a,r,i)||s.get("enable"))}},{key:"validateFfcurrencyAmount",value:function(){return!this.props.isFrequentFlyerBalanceAmountAvailable||(window.scrollTo({top:70,behavior:"smooth"}),!1)}},{key:"renderCalendarRibbon",value:function(){var e=this.props,t=e.searchCriteria,n=e.calendarRibbonProps,a=e.isLowFareOffers,r=e.isBundledOffers,i=e.maximumNumberOfDays,s=e.direction,o=e.formatDateTime,l=e.selectedLocale,c=n.calendarRibbons,u=n.onCalendarRibbonChange,d=c.configuration,p=c.ribbons,h=ee()(p,"result[".concat(s,"]")),f=ee()(p,"isLoading"),m=ee()(t,"itineraryParts[".concat(s,"].date"));return ue.a.createElement("div",{key:s,className:"flight-selection-ribbon-wrapper"},ue.a.createElement(Et,{selectedLocale:l,selectedDate:m,direction:s,searchCriteria:t,calendarRibbonConfiguration:d,isLoading:f,maximumNumberOfDays:i,pricePerDates:h,isLowFareOffers:a,isBundledOffers:r,onSelectedDateChange:u,anyFlightsFoundForSelectedDay:this.isFlightsFound(),formatDateTime:o}))}},{key:"renderFlightSelectionHeaderActions",value:function(){var e=this.props,t=e.awardBooking,n=e.searchCriteria,a=e.isPointOfSaleCurrencyEnabled,r=e.currentFlow,i=e.pointOfSale,s=e.countries,o=e.isCurrencySelectionEnabled,l=e.applicableRoutesForCurrencyDropdown,c=e.isRBEEnabled,u=e.currencies,d=e.isCurrencyBooking,p=t.get("enable")&&!t.get("excludedJourneyTypes",Object(me.List)()).includes(n.journeyType),h=t.get("enabledFlows").toJS().includes(r),f=ee()(this.props,"searchCriteria.journeyType"),m=this.props.awardBooking.get("excludedJourneyTypes").toJS(),g=Te()(m,f);return ue.a.createElement("div",{className:"flight-selection-header-actions"},a&&i&&ue.a.createElement(Qa.a,{countries:s,pointOfSale:i,pointOfSaleCurrencyChange:this.pointOfSaleCurrencyChange,selectedCurrency:n.currency}),Object(ke.v)(n,o,l)&&ue.a.createElement(Xa.a,{className:"flight-selection-currency-selection",selectedCurrency:n.currency,currencyChanged:this.currencyChanged,currencies:u}),p&&h&&!g&&ue.a.createElement($a,{id:"flight-selection-points-currency-toggle",selectedValue:c&&!d?Ct:kt,onChange:this.onSwitchChange}))}},{key:"renderFlightsSection",value:function(){var e=this,t=this.props,n=t.direction,a=t.configuration,r=t.brandBonusesConfiguration,i=t.defaultDateFormat,s=t.flightDetails,o=t.isBundledOffers,l=t.isRBEEnabled,c=t.user,u=t.totalPointsForSelectedFlights,d=t.searchCriteria,p=t.cabinClasses,h=t.iropConfiguration,f=t.isIropAffected,m=t.hasPromosApplied,g=t.currentFlow,v=this.getFlightsPerDirection(),y=this.getFlights(v),b=y.getIn(["0","brandBenefitReferenceId"],"default"),E=ee()(r,b,{}),C=this.shouldDisplayViewMoreButton(v,y),k=N()(De()(p,(function(e){return e.priority})),(function(e){return e.code})),S=this.getSortedBrandOffersCodes(),_=v.size-y.size<a.flightResultsLazyLoading.increment?v.size-y.size:a.flightResultsLazyLoading.increment;return ue.a.createElement("div",{className:"dxp-flight-table-section",id:Oe.h},!this.state.isMobileRender&&ue.a.createElement(Ke.a,{top:"#".concat(Object(gr.a)(this.props.currentFlow))},this.renderItineraryOffersHeader(y)),this.state.isMobileRender&&this.renderItineraryOffersHeader(y),y.map((function(t){return ue.a.createElement(Ta,{user:c,totalPointsForSelectedFlights:u,isRBEEnabled:l,currentFlow:g,isIropAffected:f,hasPromosApplied:m,key:t.get("id"),flight:t.toJS(),iropConfiguration:h,defaultDateFormat:i,flightSelectionConfiguration:a,flightDetailsConfiguration:s,onSeatMapPreviewClick:function(t){return e.setState({seatMapPreviewVisible:!0,seatMapPreviewCabins:t})},brandBonusesConfiguration:E,direction:n,onItineraryPartOfferSelection:e.onFlightSelect,shouldDisplayMinimalPointsThresholdWarning:l&&a.disableCabinWhenAllOffersAreDisabled&&Object(_t.c)(c,t.get("cabins").toJS(),u),isBundledOffers:o,brandOffersCodesSorted:S,offerCarouselArrowRightClick:e.offerCarouselArrowRightClick,offerCarouselArrowLeftClick:e.offerCarouselArrowLeftClick,carouselActiveItemIndex:e.state.carouselActiveItemIndex,carouselItemsToDisplay:e.state.carouselItemsToDisplay,leftArrowDisabled:e.state.leftArrowDisabled,rightArrowDisabled:e.state.rightArrowDisabled,isMobile:e.state.isMobileRender,pricePrefix:e.props.isLowFareOffers||o?void 0:ft(a,d,n),isPromoCodeValid:e.props.isPromoCodeValid,ancillaryMap:e.props.ancillaryMap,sortedCabinClasses:k,formatDateTime:e.props.formatDateTime,dictionary:e.state.dictionary})})),C&&ue.a.createElement("div",{className:"view-more"},ue.a.createElement(Ze.a,{isViewMoreButton:!0,onClick:this.loadMoreFlights},Object(ye.i)("flightSelection.viewMoreResults",{flightResultCount:_}))),ue.a.createElement(Je,{PACKAGE_NAME_CLASSIFIED:"flightSelection"}))}},{key:"renderItineraryOffersHeader",value:function(e){return ue.a.createElement(mr,{offerLabels:this.props.configuration.displayOffersBy===It.a.CABIN?this.getCabinOffersLabels():this.getBrandOffersLabels(),displayOffersBy:this.props.configuration.displayOffersBy,filteredResultsCount:e.size,currency:this.props.currency,filters:this.props.filters,configuration:this.props.configuration,appliedFilters:this.props.appliedFilters,updateFilter:this.props.updateFilter,confirmFilters:this.props.confirmFilters,clearFilter:this.clearFilter,selectedLocale:this.props.selectedLocale,locales:this.props.locales,isAuthorable:this.props.isAuthorable,className:this.props.className,selectedDate:this.getSelectedDate(),iropConfiguration:this.props.iropConfiguration,defaultSortOrderConfiguration:this.props.defaultSortOrderConfiguration,filteredCabins:this.props.filteredCabins,sortFlights:this.props.sortFlights,sortingOptions:this.props.sortingOptions,isMobile:this.state.isMobileRender,shouldRenderAmenities:this.shouldRenderAmenities(e),isBundledOffers:this.props.isBundledOffers})}},{key:"renderUpsellComponent",value:function(){return ue.a.createElement(Ia.a,{upsellOptions:this.props.upsellData.upsellOptions,selectUpsellOptions:this.props.selectUpsellOptions,requestCart:this.props.requestCart,currentFlow:this.props.currentFlow,getUpsellOptions:this.props.getUpsellOptions,removeUpsellOptions:this.props.removeUpsellOptions,updateFlightSelectionBrands:this.props.updateFlightSelectionBrands,initiallySelectedHashCodes:this.props.upsellData.initiallySelectedHashCodes,brandSortOrder:this.props.brandSortOrder,sortUpsellBrand:this.props.sortUpsellBrand,numberOfUpsellOffersDisplayed:this.props.numberOfUpsellOffersDisplayed,isUpsellSelectionLoading:this.props.upsellData.isUpsellSelectionLoading,location:this.props.location})}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderOriginalItinerary,a=t.flights,r=t.isAllFlightsSelected,i=t.isSearchingForFlights,s=t.configuration,o=t.reservation,l=t.searchCriteria,c=t.displayFlightAdvisories,u=t.isBundledOffers,d=t.selectedFlights,p=t.selectedBrands,h=t.isSelectingFlights,f=t.error,m=t.direction,g=t.travelPartAdvisories,v=t.defaultDateFormat,y=t.flightDetails,b=t.iropDateFormat,E=t.upsellEnabled,C=t.exchangeType,k=!re()(this.props.appliedFilters)||!i&&!r&&this.isFlightsFound(),S=a&&r&&!i&&!h,_=n&&a&&r&&!i,O=!i&&this.props.selectedFlights&&!this.props.selectedFlights.isEmpty(),w=re()(ee()(a,m,[])),P=s.shouldRenderExploreDestinationImage&&a&&r&&!i&&(h||0===f.size);return ue.a.createElement("div",{ref:this.dxpFlightSelectionRef,className:ve()("dxp-flight-selection",this.props.className)},!i&&!r&&this.shouldShowFlightSelectionHeaderActions()&&ue.a.createElement("div",{className:"flight-selection-title"},this.renderFlightSelectionHeaderActions()),O&&ue.a.createElement(Nr,{areFlightsNotAvailable:w,travelPartAdvisories:g,searchCriteria:l,isBundledOffers:u,selectedFlights:d,selectedBrands:p,defaultDateFormat:v,flightDetails:y,configuration:s,iropDateFormat:b,onChangeFlight:this.onChangeFlight,isMobile:this.state.isMobileRender,ancillaryMap:this.props.ancillaryMap,exchangeType:C}),ue.a.createElement("div",{className:"ey-flight-selection-panel ".concat(r&&"all-selected")},!i&&!r&&ue.a.createElement("div",{ref:this.flightsSectionTitleRef},ue.a.createElement($e.a,{tag:"h3",title:this.getTitleContent()})),!i&&this.shouldRenderCalendarRibbon()&&this.renderCalendarRibbon(),i&&ue.a.createElement(et.a,{showPageLoadingMessage:i}),!i&&!this.isFlightsFound()&&ue.a.createElement(Dr,null),k&&this.renderFlightsSection(),_&&ue.a.createElement(Lr,{displayFlightAdvisories:c,isOriginalItineraryExpandedByDefault:ee()(s,"isOriginalItineraryExpandedByDefault",!1),reservation:o,configuration:y,timeFormat:v,defaultDateFormat:v,iropDateFormat:b,flightSelectionConfiguration:s,flightDetailsConfiguration:y,isBundledOffers:u,isMobile:this.state.isMobileRender,ancillaryMap:this.props.ancillaryMap}),E&&this.isUpsellLoading()&&ue.a.createElement(et.a,null),E&&this.isUpsellAvailable()&&this.renderUpsellComponent(),P&&ue.a.createElement(Ot.a,{className:"selected-flight-big-image",alt:Object(ye.i)("flightSelection.richMedia.exploreDestination"),src:Object(wt.a)("images/flight/explore-destination-".concat(Object(ke.g)(l),".jpg")),errorSrc:Object(wt.a)("images/flight/explore-destination-default.jpg")})),S&&this.renderPageNavigationButtons(),this.state.seatMapPreviewVisible&&ue.a.createElement(Ya,{onSeatMapPreviewClose:function(){return e.setState({seatMapPreviewVisible:!1})},onSeatMapPreviewBrandChange:function(t){return e.props.getSeatMapPreview([t],e.props.seatMapPreview.seatsConfiguration)},brandSortOrder:this.props.brandSortOrder,seatMapsPreview:this.props.seatMapPreview.seatMapsPreview,legendPreview:this.props.seatMapPreview.legendPreview,segmentsPreview:this.props.seatMapPreview.segmentsPreview,isFetchingSeatMapPreview:this.props.seatMapPreview.isFetchingSeatMapPreview,seatMapPreviewError:this.props.seatMapPreview.seatMapPreviewError,seatsConfiguration:this.props.seatMapPreview.seatsConfiguration,flight:{cabins:this.state.seatMapPreviewCabins,offers:this.state.seatMapPreviewCabins},priceJumpConfiguration:s.priceJump}))}}]),t}(ce.Component);y()(Wr,"contextTypes",{isTablet:de.bool}),y()(Wr,"defaultProps",{maximumNumberOfDays:365,displayFlightAdvisories:!1,appliedFilters:{},className:"",direction:lt.a.OUTBOUND,error:Object(me.Map)(),errorOcurred:!1,filteredFlights:Object(me.Map)(),flights:Object(me.Map)(),isAllFlightsSelected:!1,isAuthorable:!1,isExchangeContextShopEnabled:!1,isFrequentFlyerBalanceAmountAvailable:!1,isRBEEnabled:!1,isSearchingForFlights:!1,isSelectingFlights:!0,iropDateFormat:"",onContinue:void 0,renderOriginalItinerary:!1,reservation:Object(me.Map)(),travelPartAdvisories:Object(me.List)(),user:{},isBundledOffers:!1,isLowFareOffers:!1,upsellData:Object(me.Map)(),sortUpsellBrand:!1,numberOfUpsellOffersDisplayed:99,pointOfSale:void 0,setCountry:void 0,isCompanionFareSearch:!1,filters:void 0,countries:Object(me.Map)(),isCurrencySelectionEnabled:!1,applicableRoutesForCurrencyDropdown:Object(me.List)(),currencies:Object(me.List)(),isPointOfSaleCurrencyEnabled:!1,currency:void 0,availableBrandOffersCodes:Object(me.List)(),isCurrencyBooking:!0,ancillaryMap:void 0,isIropAffected:!1,hasPromosApplied:!1,exchangeType:void 0,formatDateTime:void 0});var qr=Wr,zr=n(2150),Gr=n(530),Kr=n(2221),Yr=n(455),Qr="ERR.SSW.APP.LOGGED_AWARD_USER_REQUIRED",Xr="ERR.SSW.APP.INSUFFICIENT_POINTS",Jr=n(331),Zr=n(2385),$r=n(398);n(2747);function ei(e){var t=e.user,n=e.shouldDisplayPointsBalance,a=e.shouldDisplayTravelBankBalance,r=e.travelBankConfiguration,i=t.getIn(["loyaltyDetails","tierLevel"],"").toLowerCase(),s=t.getIn(["personalDetails","firstName"],"");return ue.a.createElement(Tt.b,{className:"dxp-rbe-flow-sign-in-panel"},ue.a.createElement("div",null,ue.a.createElement("h3",{className:"spark-gamma"},Object(ye.a)("header.greetings",{firstName:s})),ue.a.createElement($r.a,{user:t,tierLevel:i,shouldDisplayPointsBalance:n,shouldDisplayTravelBankBalance:a,travelBankConfiguration:r})))}ei.defaultProps={user:Object(me.Map)(),travelBankConfiguration:void 0};var ti=ei,ni=function(){return ue.a.createElement(Ee.a,{type:"warning",title:"flightSelection.promoCode.invalid.title"},Object(ye.a)("flightSelection.promoCode.invalid.description"))},ai=n(78),ri=function(e,t,n){return e===Jr.j?function(e,t){var n=ue.a.createElement(ai.a,{target:"_blank",href:e,rel:"external",isExternalLink:!0},Object(ye.a)("error.".concat(Jr.j,".linkText")));return t("error.".concat(Jr.j,".description"),{guestContactCenterLink:n})}(t,n):Object(ye.a)("error.".concat(e,".description"))};function ii(e,t){var n=e.errorCode,a=e.guestContactCenterLink,r=e.onHomePageClick,i=t.translateWithComponents;return ue.a.createElement(Ee.a,{type:"error",title:Object(ye.i)("error.".concat(n,".title")),hideIconInMobileView:!0},ri(n,a,i),ue.a.createElement("br",null),ue.a.createElement("button",{type:"button",onClick:r,className:ve()("dxp-link dxp-error-button")},Object(ye.a)("flightSelection.errorBackLink")))}ii.defaultProps={guestContactCenterLink:"",errorCode:void 0},ii.contextTypes={translateWithComponents:pe.a.func.isRequired};var si=ii,oi=n(115),li=n.n(oi);var ci=n(2386),ui=function(){return ue.a.createElement(Ee.a,{type:"warning",title:"awardBooking.selectionDisabled"},Object(ye.a)("awardBooking.notEnoughPointsToSelectSomeFlights"))},di=(n(2748),function(e){var t=e.errorCode,n=e.onHomePageClick,a=e.balancePoints,r=e.requiredPoints;return ue.a.createElement(Ee.a,{className:"dxp-not-enough-points-message",type:"error",title:"error.".concat(t,".title")},Object(ye.i)("awardBooking.insufficientErrorMessage",{balancePoints:a,requiredPoints:r}),ue.a.createElement("button",{type:"button",onClick:n,className:"dxp-link dxp-error-button"},Object(ye.i)("flightSelection.errorBackLink")))}),pi=function(e){var t=e.warning;return ue.a.createElement(Ee.a,{className:t,type:"warning",title:"flightSelection.".concat(t,".title")},Object(ye.a)("flightSelection.".concat(t,".description")))},hi=function(e){var t=e.promoCode;return ue.a.createElement(Ee.a,{type:"success",title:Object(ye.i)("flightSelection.promoCode.valid.title",{promoCode:t})},Object(ye.a)("flightSelection.promoCode.valid.description"))},fi=function(){return ue.a.createElement(Ee.a,{type:"warning",title:"flightSelection.benefits.title"},Object(ye.a)("flightSelection.benefits.description"))},mi=(n(2749),n(2750),function(){return ue.a.createElement(Ee.a,{type:"warning",title:"flightSelection.promoCode.blackout.title"},Object(ye.a)("flightSelection.promoCode.blackout.description"))});function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yi=function(e){function t(e){var n;return s()(this,t),n=l()(this,u()(t).call(this,e)),y()(p()(n),"onCalendarRibbonChange",(function(e,t){var a=n.props,r=a.searchCriteria,i=a.metadata,s=a.location,o=a.contextShopping,l=a.selectedFlightIds,c=_()(r),u=i.searchType;w()(c,"itineraryParts[".concat(e,"].date"),fe()(t)),w()(c,"searchType",u),o.isEnabled&&!re()(ee()(s,"query.flight",""))&&l.forEach((function(e,t){c.itineraryParts[t].selectedOfferRef=e[0]}));var d=j()({},s.query,Object(ke.t)(c));(d=Y()(G()(e,V()(ee()(c,"itineraryParts"))),(function(e,t){return q()(e,"flight".concat(0===t?"":t))}),d)).direction=e,n.props.actionUpdateURLQuery("URL_UPDATE_QUERY",s.pathname,d,"SEARCH_CRITERIA"),n.props.clearMinimumPointsThresholdNotMet(),n.request({criteria:c,skipFlightIdsCheck:!1,resetCalendarRibbonPrices:!1,calendarRibbonDirection:e}).then((function(){return n.updateCombinableFlights()}))})),y()(p()(n),"onFlightSelect",(function(e,t,a){var r=n.props,i=r.searchCriteria,s=r.contextShopping,o=r.isBundledOffers,l=_()(i),c=l.itineraryParts;if(s.isEnabled&&a<c.length-1&&!o){var u=n.getFlightIdForContextShopping(t,e,a);return c[a]=w()(c[a],"selectedOfferRef",u),n.props.selectedFlightIds.forEach((function(e,t){c[t].selectedOfferRef=e[0]})),n.searchFlights(vi({},l,{itineraryParts:c}),a+1,!1).then((function(){return n.selectFlight(e,t,a,n.props.location.query)}))}return Promise.resolve(n.selectFlight(e,t,a,n.props.location.query))})),y()(p()(n),"onSwitchChange",(function(e){var t=se()({},n.props.searchCriteria,e),a="true"===t.awardBooking;n.handleNewSearchCriteria(t,!1,a)})),y()(p()(n),"changeFlightSelection",(function(e){var t=n.props,a=t.searchCriteria,r=t.contextShopping,i=t.location,s={flights:t.flights,promocodeValid:t.promocodeValid,warnings:t.warnings,searchCriteria:a,currentFlow:t.currentFlow},o=a.itineraryParts;n.props.clearFlightSelection(e,i,s),n.props.clearFlightSelectionMessages&&n.props.clearFlightSelectionMessages(),r.isEnabled&&e<a.itineraryParts.length-1&&(o=N()(o,(function(t,n){return n>=e?q()(t,"selectedOfferRef"):t})),n.searchFlights(vi({},a,{itineraryParts:o}),e,!1))})),y()(p()(n),"clearFilter",(function(e,t){var a=n.props,r=a.direction,i=a.appliedFilters,s=a.flights;X()(e,(function(e){delete i[e]})),n.setState({filtersToBeApplied:i}),n.props.updateFilter(s,r,i,n.props.appliedSorting,n.props.isBundledOffers,n.props.currency),t&&n.props.confirmFilters(i)})),y()(p()(n),"confirmFilters",(function(){n.props.updateFilter(n.props.flights,n.props.filter.direction,n.state.filtersToBeApplied,n.props.appliedSorting,n.props.isBundledOffers,n.props.currency),n.props.confirmFilters(n.props.appliedFilters)})),y()(p()(n),"goBackToHomePage",(function(){var e=n.props,t=e.currentFlow,a=e.metadata,r=e.actionUpdateURLQuery,i=a.exchangeBackLink,s=a.errorBackLink,o=a.airlineHostedHomepage,l=ee()(n.props,"location.query",{});return L()(t,"exchange")?r("URL_UPDATE_HASH",i,q()(k()(l,["pnr","lastName"],re.a))):o?location.href=s:r("URL_UPDATE_HASH",s,l)})),y()(p()(n),"signOut",(function(){n.props.clearFlightsError(),n.props.signOut()})),y()(p()(n),"sortFlights",(function(e,t,a){n.props.sortFlights(n.props.filteredFlights,{field:e,direction:t,operatingCarrierSortPriority:a})})),y()(p()(n),"updateFilter",(function(e,t){var a=n.props.filter.filters||{},r=n.props.filter.appliedFilters,i={departure:a[e].min===t[0]&&a[e].max===t[1],arrival:a[e].min===t[0]&&a[e].max===t[1],duration:a[e].max===t[0],price:a[e].max===t[0]};t&&!(i[e]||!1)?r[e]=t:delete r[e],n.setState({filtersToBeApplied:r})})),n.props.clearMinimumPointsThresholdNotMet(),n.state={shouldRenderRbeFlowSignIn:!1,filtersToBeApplied:{}},n}return g()(t,e),f()(t,null,[{key:"showWarnings",value:function(e){return e.map((function(e){return ue.a.createElement(pi,{key:"flight-selection-warning-".concat(e),warning:e})}))}}]),f()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.metadata,n=e.markCartAsLoading,a=e.setCartDefault,r=e.summaryBarSearchEditRequested,i=e.summaryBarEditSearchResponded,s=e.searchCriteria,o=e.location,l=e.currentFlow,c=e.isAllFlightsSelected,u=e.isSelectedFlightsSubmitted,d=t.searchType,p=l===Se.a.EXCHANGE;this.scrollToHeader(),c?n():a(),u&&this.props.requestCart(l,this.props.location),r&&i(),p&&!this.props.reservationLoaded&&this.props.changePnrLookup(this.props.pnrQuery,o);var h=vi({},s,{searchType:d});return!re()(o.query)&&this.props.flights.isEmpty()&&this.request({criteria:h,isToggleClicked:"true"===s.awardBooking})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.isRBEEnabled||this.isAwardFare()){var t=e.flightSelection.isUserLoggedIn,n=e.error;if(this.state.shouldRenderRbeFlowSignIn&&!this.props.flightSelection.isUserLoggedIn&&t)this.setState({shouldRenderRbeFlowSignIn:!1}),this.selectFlightsIfSelectionProvided(this.props.selectedFlightIds,this.props.isAllFlightsSelected);else{var a=n.errorCode===Jr.l;this.setState({shouldRenderRbeFlowSignIn:a&&!t})}}}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.props,n=t.metadata,a=t.summaryBarEditSearchResponded,r=t.sessionChangeProcessed,i=t.isSessionChanging,s=e.summaryBarSearchEditRequested,o=n.searchType,l=vi({},e.searchCriteria,{searchType:o}),c=Object(ke.o)(this.props.searchCriteria,e.searchCriteria);s&&c&&(this.props.clearFlightSelectionState&&this.props.clearFlightSelectionState(),this.request({criteria:l,skipFlightIdsCheck:!0,resetCalendarRibbonPrices:!0}),a());var u=this.props.searchCriteria.pointOfSale!==e.searchCriteria.pointOfSale,d=this.props.searchCriteria.currency!==e.searchCriteria.currency;i&&(u||d)&&(r(),this.pointOfSaleChangeRequest(e.searchCriteria)),d&&this.props.metadata.isCurrencySelectionEnabled&&this.currencySelectionChangedRequest(e.searchCriteria),e.isAllFlightsSelected&&!e.isSelectedFlightsSubmitted&&e.selectedFlightIds.every((function(e){return 1===e.length}))&&this.selectFlightsIfSelectionProvided(e.selectedFlightIds,e.isAllFlightsSelected)}},{key:"componentDidUpdate",value:function(e,t){var n=this;e.direction!==this.props.direction&&this.clearFilter(),t.shouldRenderRbeFlowSignIn!==this.state.shouldRenderRbeFlowSignIn&&this.state.shouldRenderRbeFlowSignIn&&Object(Ce.a)(document.querySelector(".rbe-flow-sign-in"),{headerOffset:120},(function(){return n.rbeFlowSignIn&&n.rbeFlowSignIn.username.current.focus()}))}},{key:"getFlightIdForContextShopping",value:function(e,t,n){var a=this.props.flights,r="";return a.get(n.toString()).find((function(t){return t.get("id")===e})).get("cabins").forEach((function(e){var n=e.get("offers");return re()(n)||e.get("offers").forEach((function(e,n){return n!==t||(r=e.get("offers").get(0).get("id"),!1)})),re()(r)})),r}},{key:"getPromoCode",value:function(){return ee()(this.props,"location.query.promoCode","")}},{key:"getUpdatedSearchCriteria",value:function(e){var t=le()(e.itineraryParts),n=vi({},e,{origin:ee()(t,"origin"),destination:ee()(t,"destination")});return se()({},this.props.searchCriteria,n)}},{key:"currencySelectionChangedRequest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=I()({},e,{currency:e.currency});return this.searchFlights(r,this.props.direction,n,a).then(this.selectFlightsIfSelectionProvided(this.props.selectedFlightIds,this.props.isAllFlightsSelected,t))}},{key:"handleNewSearchCriteria",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.getUpdatedSearchCriteria(e),r=this.props,i=r.metadata,s=r.location,o=r.actionUpdateURLQuery,l=i.searchType,c=Object(ke.t)(a);c.direction=0,o("URL_UPDATE_QUERY",s.pathname,c,"SEARCH_CRITERIA");var u=_()(e);s.query.currency&&!e.currency&&(u.currency=s.query.currency);var d=vi({},u,{searchType:l});return this.request({criteria:d,skipFlightIdsCheck:t,resetCalendarRibbonPrices:!0,isToggleClicked:n})}},{key:"isAwardFare",value:function(){return this.props.flights.some((function(e){return e.get("segments",Object(me.List)()).some((function(e){return e.getIn(["segmentOfferInformation","awardFare"])}))}))}},{key:"isPointOfSaleCurrencyEnabled",value:function(){var e=this.props.metadata,t=e.isPointOfSaleEnabled,n=e.allowPointOfSaleCurrencySelection;return t&&n}},{key:"isUpsellEnabled",value:function(){return this.props.upsellConfiguration.enabled&&this.props.upsellConfiguration.flightSelectionPageEnabled}},{key:"pointOfSaleChangeRequest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=this.props.metadata,i=r.isPointOfSaleEnabled,s=r.allowPointOfSaleCurrencySelection,o=Object(ke.b)(e,i,s,e.pointOfSale,e.currency);return this.searchFlights(o,this.props.direction,n,a).then(this.selectFlightsIfSelectionProvided(this.props.selectedFlightIds,this.props.isAllFlightsSelected,t))}},{key:"request",value:function(e){var t=e.criteria,n=e.skipFlightIdsCheck,a=e.resetCalendarRibbonPrices,r=void 0!==a&&a,i=e.calendarRibbonDirection,s=void 0===i?void 0:i,o=e.isToggleClicked,l=void 0!==o&&o,c=this.props.metadata,u=c.isPointOfSaleEnabled,d=c.allowPointOfSaleCurrencySelection,p=parseInt(ee()(t,"direction",Yr.a.OUTBOUND),10),h=I()(Object(ke.b)(t||this.props.searchCriteria,u,d,this.props.searchCriteria.pointOfSale,this.props.searchCriteria.currency),this.props.searchCriteria.currency?{currency:this.props.searchCriteria.currency}:{},{exchangeType:this.props.flightSelection.exchangeType});return this.searchFlights(h,p,r,s,l).then(this.selectFlightsIfSelectionProvided(this.props.selectedFlightIds,this.props.isAllFlightsSelected,n))}},{key:"scrollToHeader",value:function(){var e=this.props.metadata.defaultHeaderOffset;window.scrollTo({top:e,behavior:"smooth"})}},{key:"searchFlights",value:function(e,t,n,a,r){var i=this,s=this.props,o=s.configuration,l=s.metadata,c=s.location,u=l.classesOptions,d=(e.cabinClass||"").toLowerCase(),p=M()(u,(function(e){return e.key.toLowerCase()===d}))||0,h={cabinClasses:N()(u.slice(p),(function(e){return e.key.toLowerCase()}))};return this.props.searchFlights(e,t,Object(tn.d)(o),h,n,a,c,r).then((function(){return i.context.startTimeoutChecker()}))}},{key:"selectFlight",value:function(e,t,n){var a=this.props,r=a.searchCriteria,i=a.location,s=a.appliedSorting,o=a.isBundledOffers,l=a.selectFlight,c=a.configuration;l(e,t,n,!ee()(c,"consumingOldShoppingService")&&r.isRoundTrip&&!o&&n!==Yr.a.INBOUND,o,r,s,i.pathname,c)}},{key:"selectFlights",value:function(e){var t=this,n=this.props.currentFlow;return this.props.markCartAsLoading(),this.props.clearSession&&this.props.clearSession(),this.props.selectFlights(e).then((function(){return t.props.requestCart(n,t.props.location)})).then((function(){return t.isUpsellEnabled()?t.props.getUpsellOptions():Promise.resolve()})).catch((function(){return t.props.markCartAsNotLoading()}))}},{key:"selectFlightsIfSelectionProvided",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&!n&&this.selectFlights(e)}},{key:"updateCombinableFlights",value:function(){var e=this.props,t=e.searchCriteria,n=e.selectedFlightIds;t.isRoundTrip&&1===n.size&&this.props.updateCombinableFlights()}},{key:"renderPromoMessage",value:function(e,t,n,a,r,i){var s=this.props.searchCriteria,o=s.isRoundTrip,l=E()(s.flightIds,"flight1");return o&&!l&&t||i&&o&&t?ue.a.createElement(mi,null):ue.a.createElement("div",null,t&&n&&ue.a.createElement(hi,{promoCode:e}),a&&ue.a.createElement(Kr.a,null),r&&ue.a.createElement(ni,null))}},{key:"renderMessages",value:function(){return this.props.messages.map((function(e){return ue.a.createElement("div",{className:ve()("message-container","trip-message-".concat(e.get("level"))),key:"message-".concat(e)},ue.a.createElement(Ee.a,{type:Gr.c[e.get("level")],title:Object(ye.i)("flightSelection.".concat(e.get("code"),".title"))},Object(ye.a)("flightSelection.".concat(e.get("code"),".description"))))}))}},{key:"render",value:function(){var e=this,n=this.props,a=n.promocodeValid,i=n.currentFlow,s=n.reservation,o=n.globalAdvisories,l=n.user,c=n.error,u=n.configuration,d=n.metadata,p=n.warnings,h=void 0===p?Object(me.List)():p,f=n.selectedLocale,m=n.locales,g=n.displayFlightAdvisories,v=n.flightSelection,y=n.searchCriteria,b=n.isBundledOffers,E=n.isLowFareOffers,C=n.isAllFlightsSelected,S=n.iropConfiguration,_=n.contextShopping,O=n.isAuthorable,w=n.className,P=n.filteredFlights,A=n.setMinimumPointsThresholdNotMet,x=n.searchFlights,N=n.rememberMe,T=n.onForgotPassword,I=n.location,B=n.getNextPage,L=n.onBagFeeLinkClick,D=n.onFareRulesClick,j=n.filter,F=n.direction,M=n.pageNavigationProps,R=n.travelPartAdvisories,V=n.seatMapPreview,H=n.getSeatMapPreview,U=n.selectedFlights,W=n.selectedFlightIds,q=n.selectedBrands,z=n.isCompanionFareSearch,G=n.signInProperties,K=n.showSpinner,Q=n.messages,X=d.cabinClasses,J=d.brandSortOrder,$=d.viewBreakPoint,te=d.brandBonusesConfiguration,ae=d.awardBooking,ie=d.defaultDateFormat,se=d.iropDateFormat,oe=d.flightDetails,le=d.maximumNumberOfDays,ce=d.travelBankConfiguration,de=S.showBenefitsMessageOnFlightSelectionPage,pe=i===Se.a.EXCHANGE,he=!Q.isEmpty(),fe=this.getPromoCode(),ge=!re()(fe),Ee=!ee()(v,"isSearchingForFlights",!0),Ce=ne()(a)&&a,ke=c&&(0!==ee()(c,"size",1)||!re()(c.toJS())),we=u.displayGlobalAdvisories&&!re()(o)&&0!==o.size,Pe=ke&&ee()(c,"errorCode")===Xr,Ae=this.props.minimalPointsThresholdNotMetForSomeFlights,xe=ee()(Z()(l,"toJS"),"loyaltyDetails.balance"),Ne=u.showPromoCodeSuccessMessage,Te=u.showPromoCodeWarningMessage,Ie=u.showWarnings,Be=this.props.isRBEEnabled||this.isAwardFare(),Le=!h.includes(_e.b),De=Ee&&ge&&Ce&&Le&&!he,je=Ee&&Ie&&!h.isEmpty(),Fe=Ie&&!h.isEmpty(),Me=Ee&&!z&&Te&&ge&&!Ce&&!je&&!he,Re=Z()(s,"toJS",{}),Ve=ee()(Re,"iropAffected",!1),He=ee()(Re,"eligibilities",[]).length>0,Ue=pe&&(Ve||He)&&de,We=Object(ut.a)(this.props.isAuthorable,"sharedFlightSelection"),qe={calendarRibbons:this.props.calendarRibbons,onCalendarRibbonChange:this.onCalendarRibbonChange},ze=this.props.upsellData.upsellSelectionError,Ge=ee()(u,"displaySoldOutOffer.cabin",!1),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(me.List)(),t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Y()(n,(function(e,t){return e[t.code]=t.priority,e}),{});return t?e.isEmpty()?e.toArray():e.getIn(["0","cabins"],Object(me.List)()).keySeq().sortBy((function(e){return li()(a[e])?a[e]:1/0})).toArray():e.reduce((function(e,t){var n=t.get("cabins").filter((function(e){return!e.get("sold")})).keySeq();return e.concat(n)}),Object(me.OrderedSet)()).sortBy((function(e){return li()(a[e])?a[e]:1/0})).toArray()}(P.get(F.toString()),Ge,X),Ye=y.isMultiCity&&Fe,Qe=z&&!ke&&v.flights.size>0,Xe=this.state.shouldRenderRbeFlowSignIn,Je=v.isUserLoggedIn,Ze=ke&&ee()(c,"errorCode")===Qr,$e=!re()(ee()(G,["result","username","error"])),tt=ke&&(!Pe||Ze&&Je),nt=!("true"===ee()(I,"query.awardBooking")),at=v.isSelectingFlights||K;return ue.a.createElement("div",r()({className:ve()("dxp-shared-flight-selection"),id:Oe.k},We),at&&ue.a.createElement(et.a,{isModalSpinner:!0,isDark:!0}),ue.a.createElement("div",{className:"page-messages","aria-live":"assertive"},Ue&&ue.a.createElement(fi,null),!at&&this.renderPromoMessage(fe,De,Ne,Qe,Me,ke),(je||Ye)&&t.showWarnings(h),tt&&ue.a.createElement(si,{errorCode:ee()(c,"errorCode"),guestContactCenterLink:ee()(u,"guestContactCentreLink",""),onHomePageClick:this.goBackToHomePage}),Pe&&ue.a.createElement(di,{errorCode:ee()(c,"errorCode"),balancePoints:xe,requiredPoints:this.props.requiredPointsForSelectedFlights,onHomePageClick:this.goBackToHomePage}),ze&&ue.a.createElement(ci.a,null),Ae&&ue.a.createElement(ui,null),Le&&he&&this.renderMessages(),we&&ue.a.createElement(Sr.a,{advisories:o}),ue.a.createElement(zr.a,{searchCriteriaItineraryParts:ee()(this.props,"searchCriteria.itineraryParts",[]),messages:u.dynamicDisclaimers})),$e&&Ze&&ue.a.createElement("div",{className:"sign-in-fail","aria-live":"assertive"},ue.a.createElement(be.b,{inline:!0,title:Object(ye.i)("error.ERR.SSW.LOGIN.CREDENTIALS_INCORRECT.title"),text:Object(ye.i)("error.ERR.SSW.LOGIN.CREDENTIALS_INCORRECT.description"),customClassNames:"dxp-rbe-flow-sign-in-bad-credentials-error",type:be.a.error.id})),!Je&&Xe&&ue.a.createElement(Zr.a,{ref:function(t){e.rbeFlowSignIn=t},signInValidators:G.validators,signInResult:G.result,signIn:this.props.signIn,onForgotPassword:T,rememberMe:N,isCaptchaEnabled:G.isCaptchaEnabled,location:G.location,username:ee()(G.result,"username.value"),forgotPasswordConfiguration:G.forgotPasswordConfiguration,enrollmentConfiguration:G.enrollmentConfiguration,openForgotPasswordModal:this.props.openForgotPasswordModal,captcha:G.captcha,isSigningIn:G.isSigningIn,resetSignInFormValidation:this.props.resetSignInFormValidation}),Je&&Be&&ue.a.createElement(ti,{user:l,signOut:this.signOut,shouldDisplayPointsBalance:this.props.configuration.shouldDisplayPointsBalance,shouldDisplayTravelBankBalance:this.props.configuration.shouldDisplayTravelBankBalance,travelBankConfiguration:ce}),ue.a.createElement(qr,{displayFlightAdvisories:g,isSearchingForFlights:v.isSearchingForFlights,isSelectingFlights:v.isSelectingFlights,filteredFlights:v.filteredFlights,appliedFilters:v.appliedFilters,flights:v.flights,exchangeType:v.exchangeType,flightIds:v.flightIds,direction:v.direction,searchCriteria:v.searchCriteria,error:v.error,isRBEEnabled:Be,isUserLoggedIn:v.isUserLoggedIn,isFrequentFlyerBalanceAmountAvailable:v.isFrequentFlyerBalanceAmountAvailable,setMinimumPointsThresholdNotMet:A,searchFlights:x,location:I,currentFlow:i,getNextPage:B,onBagFeeLinkClick:L,onFareRulesClick:D,reservation:s,user:l,pageNavigationProps:M,travelPartAdvisories:R,seatMapPreview:V,getSeatMapPreview:H,selectedFlights:U,selectedFlightIds:W,selectedBrands:q,iropConfiguration:this.props.iropConfiguration,isAllFlightsSelected:C,cabinClasses:X,maximumNumberOfDays:le,brandSortOrder:J,onFlightSelect:this.onFlightSelect,onChangeFlightSelection:this.changeFlightSelection,onSwitchChange:this.onSwitchChange,clearFilter:this.clearFilter,sortFlights:this.sortFlights,filters:ee()(j,"filters",{}),updateFilter:this.updateFilter,confirmFilters:this.confirmFilters,className:w,isAuthorable:O,locales:m,selectedLocale:f,isPromoCodeValid:Ce,renderOriginalItinerary:ee()(this.props,"renderOriginalItinerary",!1),totalPointsForSelectedFlights:this.props.requiredPointsForSelectedFlights,showPriceDifference:_.showPriceDifference,searchSelectedFlight:t.searchSelectedFlight,isIropAffected:Ve,hasPromosApplied:He,actionUpdateURLQuery:this.props.actionUpdateURLQuery,isBundledOffers:b,isLowFareOffers:E,calendarRibbonProps:qe,viewBreakPoint:$,awardBooking:ae,isExchangeContextShopEnabled:_.isEnabled,defaultDateFormat:ie,iropDateFormat:se,configuration:u,flightDetails:oe.toJS(),brandBonusesConfiguration:te,selectUpsellOptions:this.props.selectUpsellOptions,requestCart:this.props.requestCart,upsellData:this.props.upsellData,getUpsellOptions:this.props.getUpsellOptions,removeUpsellOptions:this.props.removeUpsellOptions,updateFlightSelectionBrands:this.props.updateFlightSelectionBrands,upsellEnabled:this.isUpsellEnabled(),sortUpsellBrand:this.props.upsellConfiguration.sortUpsellBrand,numberOfUpsellOffersDisplayed:this.props.upsellConfiguration.numberOfUpsellOffersDisplayed,countries:this.props.metadata.countries,pointOfSale:this.props.searchCriteria.pointOfSale,isPointOfSaleCurrencyEnabled:this.isPointOfSaleCurrencyEnabled(),setCountry:this.props.setCountry,isCurrencySelectionEnabled:this.props.metadata.isCurrencySelectionEnabled,applicableRoutesForCurrencyDropdown:this.props.metadata.applicableRoutesForCurrencyDropdown,currencies:this.props.metadata.currencies,ancillaryMap:this.props.metadata.ancillaryMap,filteredCabins:Ke,isCompanionFareSearch:z,defaultSortOrderConfiguration:k()(u,"defaultSortColumn","defaultSortOrder"),sortingOptions:ee()(u,"sortingOptions"),currency:this.props.currency,availableBrandOffersCodes:this.props.availableBrandOffersCodes,isCurrencyBooking:nt,formatDateTime:this.props.formatDateTime}))}}]),t}(ce.Component);y()(yi,"searchSelectedFlight",(function(e,t){if(void 0!==t)return A()(e,(function(e){return A()(e.cabins,(function(e){return A()(e.offers,(function(e){return e.id===t}))}))}))})),y()(yi,"contextTypes",{startTimeoutChecker:de.func,stopTimeoutChecker:de.func,session:Object(de.shape)({})}),y()(yi,"defaultProps",{clearFlightSelectionMessages:void 0,messages:Object(me.List)(),formatDateTime:void 0,rememberMe:void 0,onForgotPassword:void 0,signIn:void 0,signOut:void 0,displayFlightAdvisories:!1,selectedLocale:"",className:void 0,isAuthorable:!0,isSessionChanging:!1,appliedFilters:{},error:!1,promocodeValid:!1,previouslyAppliedFilters:Object(me.Map)(),flightIds:[],globalAdvisories:Object(me.List)(),travelPartAdvisories:Object(me.List)(),reservation:Object(me.Map)(),warnings:[],reservationLoaded:!1,pnrQuery:{},iropConfiguration:{showBenefitsMessageOnFlightSelectionPage:!1},isBundledOffers:!1,isLowFareOffers:!1,combinabilityMapping:Object(me.List)([]),changePnrLookup:void 0,seatMapPreview:void 0,isAllFlightsSelected:void 0,showSpinner:!1,isSelectedFlightsSubmitted:void 0,selectedFlights:Object(me.Map)(),selectedFlightIds:Object(me.Map)(),clearSession:void 0,selectedBrands:void 0,summaryBarSearchEditRequested:!1,contextShopping:{isEnabled:!1,showPriceDifference:!1},upsellData:{},upsellConfiguration:{enabled:!1},locales:{},setCountry:void 0,user:Object(me.Map)(),clearFlightSelectionState:void 0,isCompanionFareSearch:!1,selectUpsellOptions:U.a,getUpsellOptions:U.a,removeUpsellOptions:U.a,updateFlightSelectionBrands:U.a,requiredPointsForSelectedFlights:0,currency:void 0,availableBrandOffersCodes:Object(me.List)(),resetSignInFormValidation:U.a}),n.d(t,"a",(function(){return yi}))},,,,,,,,,,,,function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(0),s=n.n(i),o=n(2),l=n.n(o),c=n(208),u=n(9),d=function(e,t){return{body:{removeOptionSelected:t,selectFlights:e}}};function p(){return Object(u.g)(Object(u.l)("upsell").toString(),u.b)}var h=n(7);n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return E}));var f=function(e){return r()(s()(e,"messages",[]),(function(e){return"premium.seat.has.been.removed"===e.code}))},m=function(e){return function(t){e({type:h.hg,response:t,hasPremiumSeatRemovedWarning:f(t)})}},g=function(e){return function(t){e({type:h.fg,error:t})}};function v(){return function(e){return e({type:h.dg}),p().then((function(t){return e({type:h.eg,response:t})}))}}function y(e){return function(t){return t({type:h.gg}),(n=e,Object(u.g)(Object(u.l)("upsell").toString(),u.c,d(n,!1))).then(m(t)).catch(g(t));var n}}function b(e){return function(t){return t({type:h.gg}),(n=e,Object(u.g)(Object(u.l)("upsell").toString(),u.c,d(n,!0))).then(m(t)).catch(g(t));var n}}function E(){return function(e){return e({type:h.dg}),p().then((function(t){var n=function(e){var t=e.upsellItemMatrix,n=(t=void 0===t?{}:t).items,a=[{type:h.eg,response:e}];return l()(n)||a.push({type:h.Of,upsellItems:n}),a}(t),a=Object(c.batchActions)(n);e(a)}))}}},,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(52),y=n.n(v),b=n(2),E=n.n(b),C=n(0),k=n.n(C),S=n(5),_=n.n(S),O=n(1),w=n.n(O),P=(n(6),n(39)),A=n.n(P),x=n(12),N=n(2164),T=n(330),I=n(78),B=n(1376),L=n(50),D=(n(2778),n(2779),n(244)),j=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"handleFocus",(function(e){D.a.is(D.a.code.special.tab,e.which)&&n.props.isLastSelectablePassenger&&n.props.shouldFocusNextFlightButton&&(e.preventDefault(),n.props.focusNextFlightButton()),D.a.is(D.a.code.special.tab,e.which)&&!e.shiftKey&&n.props.isLastSelectablePassenger&&n.props.shouldFocusContinueButton&&(e.preventDefault(),n.props.footerButtonFocus())})),g()(p()(n),"handleSeatSelectionFocus",(function(){n.removeSeatButton&&n.removeSeatButton.focus(),n.selectSeatButton&&n.selectSeatButton.focus()})),g()(p()(n),"handleRemoveSeat",(function(){n.props.removeSeatForPassenger(n.props.passengerData.passengerIndex)})),g()(p()(n),"handleSelectSeat",(function(){n.props.goToSeatSelection&&n.props.goToSeatSelection()})),g()(p()(n),"getPaxFullName",(function(e){var t=e.firstName||"",n=e.middleName||"",a=e.lastName||"",r=e.prefix||"",i=e.maidenName||"",s=e.suffix||"";return Object(x.i)("seatSelection.passengers.fullName",{prefix:r,firstName:t,middleName:n,maidenName:i,lastName:a,suffix:s})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.passengerData,a=n.passengerDetails,r=a.firstName,i=a.lastName,s=a.tierLevel,o=n.isSeatBundleSelected,l=n.passengerInfo,c=t.isSelected,u=t.preselectedSeat,d=t.isExcluded,p=t.avatar,h=A()("dxp-passenger clearfix",{active:c}),f=o&&u,m="INF"===k()(l,"type")&&d,g=Object(x.i)("seatSelection.passengers.selectSeatAriaLabel",{avatar:p,firstName:r,lastName:i}),v=Object(x.i)("seatSelection.passengers.removeButtonAriaLabel",{preselectedSeat:u,avatar:p,firstName:r,lastName:i});return w.a.createElement("div",{className:h},w.a.createElement("div",{className:"passenger-name-row"},w.a.createElement("div",{className:"passenger"},w.a.createElement("div",{className:"index"},w.a.createElement("span",{className:"passenger-index"},p)),w.a.createElement("div",{className:"single-passenger"},w.a.createElement("div",null,this.getPaxFullName(this.props.passengerData.passengerDetails),s&&w.a.createElement("span",{className:"passenger-tier-level secondary-font-color"},s)),o&&w.a.createElement("div",{className:"passenger-premium-seat-included quaternary-font-color"},Object(x.a)("seatSelection.passengers.premiumSeatIncluded")))),w.a.createElement("div",{className:"selected-seat-row"},!m&&f&&w.a.createElement("div",{className:"selected-seat-bundle-seat"},w.a.createElement("div",{className:"seat"},w.a.createElement(L.c,{name:L.a.CHECK,className:"icon"}),w.a.createElement("span",{className:"seat-number"},u)),w.a.createElement("div",{className:"message"},Object(x.a)("seatSelection.passengers.premiumSeatSelected"))),!m&&!f&&u&&w.a.createElement("div",{className:"selected-seat"},w.a.createElement("span",{className:"seat-number"},u),w.a.createElement("button",{ref:function(t){e.removeSeatButton=t},type:"button",onClick:this.handleRemoveSeat,onKeyDown:this.handleFocus,"aria-label":v},w.a.createElement(L.c,{name:L.a.CLOSE_CIRCLE}))),!m&&!f&&!u&&w.a.createElement("div",{className:"selected-seat"},w.a.createElement("button",{ref:function(t){e.selectSeatButton=t},type:"button",onClick:this.handleSelectSeat,onKeyPress:this.handleSelectSeat,onKeyDown:this.handleFocus,"aria-label":g},Object(x.a)("seatSelection.seat.selectSeat"))),m&&w.a.createElement("div",{className:"selected-seat"},Object(x.a)("seatSelection.seat.infantSeat")))))}}]),t}(O.Component);g()(j,"defaultProps",{isSelected:!1,isExcluded:!1,preselectedSeat:!1,focusNextFlightButton:void 0,footerButtonFocus:void 0});n(2780),n(2781);n.d(t,"a",(function(){return F}));var F=function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"onViewAllPassengersClick",(function(){n.setState((function(e){return{isPassengersListCollapsed:!e.isPassengersListCollapsed}}))})),g()(p()(n),"focusSelectedPassenger",(function(e){var t=n.props.configuration.passengerAutoAdvance,a=n.state.activePassenger;t&&!e&&(a=n.state.activePassenger+1);var r=n["passenger".concat(a)];if(r){var i=n.props.defaultSummaryBarOffset;Object(B.a)(r,{headerOffset:i},(function(){return r.handleSeatSelectionFocus()}))}})),g()(p()(n),"removeSeatForPassenger",(function(e){n.props.removeSeatForPassenger(e),n.focusSelectedPassenger(e)})),n.state={activePassenger:e.selectedPassenger,isPassengersListCollapsed:!0},n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({activePassenger:e.selectedPassenger})}},{key:"getPassengers",value:function(){var e=k()(this.props.passengers,this.props.itineraryPartIndex,[]);return!E()(e)&&e[this.props.selectedSegmentIndex]}},{key:"selectPassenger",value:function(e,t){return"INF"!==t&&(this.setState({activePassenger:e}),this.props.onPassengerSelection&&this.props.onPassengerSelection(e))}},{key:"renderPassengers",value:function(e){var t=this,n=Object(T.a)({passengers:e}),a=e.filter((function(e){return!t.props.configuration.passengersExcludedFromSeatSelection.includes(e.passengerInfo.type)&&e.seatSelectionEnabledForPax})),r=_()(e||[],(function(e,r){var i=e.seatSelectionEnabledForPax,s="passenger".concat(r),o=t.state.activePassenger===r&&"INF"!==k()(e,"passengerInfo.type"),l=y()(k()(t.props.configuration,"passengersExcludedFromSeatSelection",[]),k()(e,"passengerInfo.type"))>=0,c=a.length-1===r,u=A()("seat-passenger-list-item clearfix",{active:t.state.activePassenger===r},k()(e,"passengerInfo.type"),"".concat(k()(e,"passengerInfo.type"),"-").concat(r),{disabled:l});return w.a.createElement("li",{key:s,onClick:function(){return t.selectPassenger(r,k()(e,"passengerInfo.type"))},onKeyPress:function(){return t.selectPassenger(r,k()(e,"passengerInfo.type"))},className:u,id:s},w.a.createElement(j,{ref:function(e){t[s]=e},id:s,passengerData:e,isSelectable:i,isExcluded:l,isSelected:o,avatar:n[r],preselectedSeat:t.props.preselectedSeats[r]||"",goToSeatSelection:t.props.goToSeatSelection,removeSeatForPassenger:t.removeSeatForPassenger,focusNextFlightButton:t.props.focusNextFlightButton,footerButtonFocus:t.props.footerButtonFocus,isLastSelectablePassenger:c,shouldFocusNextFlightButton:t.props.shouldFocusNextFlightButton,shouldFocusContinueButton:t.props.shouldFocusContinueButton}))}),this),i=A()("passenger-list",{collapsed:this.state.isPassengersListCollapsed&&this.props.configuration.collapsePassengerList});return w.a.createElement("ul",{className:i,ref:function(e){t.passengers=e}},r)}},{key:"renderPassengersListToggler",value:function(){return w.a.createElement(I.a,{className:"passenger-list-toggler",onClick:this.onViewAllPassengersClick},w.a.createElement("span",{className:this.state.isPassengersListCollapsed?"icon-arrow-chevron-down":"icon-arrow-chevron-up"}),w.a.createElement("span",{className:"text"},Object(x.a)(this.state.isPassengersListCollapsed?"seatSelection.passengers.view-all-passengers":"seatSelection.passengers.hide-all-passengers")))}},{key:"render",value:function(){var e=this.getPassengers();return w.a.createElement("div",{className:"dxp-seat-selection-passenger-list",id:this.props.id,"data-test-id":N.g},w.a.createElement("h2",{className:"passenger-list-title"},Object(x.a)("seatSelection.passengers.passengers")),this.props.configuration.collapsePassengerList?this.renderPassengersListToggler():null,this.renderPassengers(e))}}]),t}(O.Component);g()(F,"defaultProps",{goToSeatSelection:void 0,focusNextFlightButton:void 0,footerButtonFocus:void 0,shouldFocusNextFlightButton:!1,shouldFocusContinueButton:!1,id:void 0})},,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(19),y=n.n(v),b=n(5),E=n.n(b),C=n(1),k=n.n(C),S=(n(194),n(6),n(39)),_=n.n(S),O=n(11),w=n(12),P=n(1264),A=n(325),x=n(1409),N=n(63),T=n(1249),I=n(521),B=n(136),L=n(195),D=n(60),j=(n(2718),function(e){function t(e){var n;return r()(this,t),n=s()(this,l()(t).call(this,e)),g()(u()(n),"onRemoveClick",(function(e){n.props.messageForRemoval&&n.setState({upsellRemoveClicked:!0,shoppingBasketHashCodes:e}),!n.props.messageForRemoval&&n.removeSelectedUpsell(e)})),g()(u()(n),"getBrandSortOrder",(function(){var e=n.props,t=e.brandSortOrder;return e.sortUpsellBrand?n.getBrandSortOrderFromDownline():t})),g()(u()(n),"getBrandSortOrderFromDownline",(function(){return n.props.upsellOptions.get("items").map((function(e){return e.get("code")})).toArray()})),g()(u()(n),"isDownsell",(function(e){return function(t){return-1!==n.getBrandSortOrder().slice(0,e+1).indexOf(t.get("code"))}})),g()(u()(n),"isSelectedOptionLowestUpsell",(function(e){var t=n.getBrandSortOrder().indexOf(e.get("code"));return n.props.upsellOptions.get("items").filter(n.isDownsell(t)).first().get("code")===e.get("code")})),g()(u()(n),"isUpsell",(function(e){return function(t){return-1!==n.getBrandSortOrder().indexOf(t.get("code"),e)&&!n.isSelectedOptionLowestUpsell(t)}})),g()(u()(n),"updateUpsellOptions",(function(){n.props.requestCart(n.props.currentFlow,n.props.location),n.props.updateFlightSelectionBrands()})),n.state={upsellRemoveClicked:!1,shoppingBasketHashCodes:void 0},n}return f()(t,e),p()(t,null,[{key:"prepareShoppingBasketHashCodes",value:function(e){var t=e.get("itemPrices"),n=y()(["outbound","inbound"],(function(e){return t.get(e)}));return E()(n,(function(e){return t.getIn([e,"shoppingBasketHashCode"])}))}},{key:"renderFeatureValue",value:function(e,t){return k.a.createElement("li",{className:"upsell-feature",key:e.get("text").concat(t)},"text"===e.get("type")&&e.get("text"))}},{key:"renderItemBenefits",value:function(e,n,a){var r=t.extractFeatureTags(a,_()("originalFeautreTags",n)),i=t.extractFeatureTags(e,_()("featureTags",n)),s=Object(w.i)("brand.".concat(e.get("code"))),o=Object(w.i)("brand.".concat(a.get("code")));return k.a.createElement("div",{className:"brand-comparison"},k.a.createElement("div",{className:"brand-item"},k.a.createElement("div",{className:"currently-selected"},Object(w.i)("upsell.currentlySelected",{originalBrandId:o})),k.a.createElement("ul",null,r)),k.a.createElement("div",{className:"brand-item"},k.a.createElement("div",{className:"brand-header"},Object(w.i)("upsell.upgradeTo",{upsellBrandId:s})),k.a.createElement("ul",null,i)))}}]),p()(t,[{key:"onContinueClick",value:function(){var e=this.state.shoppingBasketHashCodes;this.removeSelectedUpsell(e),this.closeRemovalModal()}},{key:"closeRemovalModal",value:function(){this.setState({upsellRemoveClicked:!1,shoppingBasketHashCodes:void 0})}},{key:"createUpsellOfferContent",value:function(e,n,a){var r=e.get("featureValues").find((function(e){return"price"===e.get("type")})).getIn(["price","alternatives"],Object(O.Map)()),i=!r.isEmpty()&&Object(D.n)(r),s=e.get("selected"),o=e.get("code"),l={current:Object(w.i)("brand.".concat(a.get("code"))),upselled:Object(w.i)("brand.".concat(o))};return k.a.createElement("div",{className:_()("upsell-content","line","brand-".concat(o)),key:n},k.a.createElement("div",{className:"upsell-photo"},k.a.createElement(x.a,{alt:"".concat(o,"-upsell"),src:Object(N.a)("images/upsell/".concat(o,"-upsell.png")),errorSrc:Object(N.a)("images/upsell/upsell.png")})),k.a.createElement("div",{className:"upsell-offer-description column"},k.a.createElement("h3",{className:"brand-title"},Object(w.i)("brand.".concat(o))),k.a.createElement("div",{className:"upsell-description"},Object(w.a)("upsell.description",l)),t.renderItemBenefits(e,n,a)),k.a.createElement("div",{className:"upsell-offer-summary column"},k.a.createElement("div",{className:"summary-content"},k.a.createElement("div",null,i&&k.a.createElement("span",{className:"plus"},Object(w.i)("app.plus")),k.a.createElement(T.a,{className:"dxp-price price rise-decimal",price:r,includeDecimal:!0})),k.a.createElement("div",{className:"caption"},Object(w.i)("upsell.priceForAllPassengers"))),s?this.renderRemoveButton():this.renderSelectButton(e)))}},{key:"refreshSelectedFlightBrand",value:function(e){var t=this;this.props.refreshAncillaries?this.props.selectUpsellOptions(e).then((function(){return t.props.refreshAncillaries(!0)})):this.props.selectUpsellOptions(e).then(this.updateUpsellOptions)}},{key:"removeSelectedUpsell",value:function(e){var t=this;this.props.refreshAncillaries?this.props.removeUpsellOptions(e).then((function(){return t.props.refreshAncillaries(!0)})):this.props.removeUpsellOptions(e).then(this.updateUpsellOptions)}},{key:"renderRemoveButton",value:function(){var e=this,t=this.props.initiallySelectedHashCodes,n=t.get("outbound"),a=t.get("inbound"),r=a?[n,a]:[n];return k.a.createElement(P.a,{className:"primary medium upsell-button remove",onClick:function(){return e.onRemoveClick(r)}},this.props.isUpsellSelectionLoading&&k.a.createElement(I.a,{className:"small"}),!this.props.isUpsellSelectionLoading&&Object(w.i)("app.remove"))}},{key:"renderSelectButton",value:function(e){var n=this,a=t.prepareShoppingBasketHashCodes(e);return k.a.createElement(P.a,{className:"secondary medium upsell-button",onClick:function(){return n.refreshSelectedFlightBrand(a,e)}},this.props.isUpsellSelectionLoading&&k.a.createElement(I.a,{className:_()("small","dark")}),!this.props.isUpsellSelectionLoading&&"".concat(Object(w.i)("upsell.upgradeTo")))}},{key:"renderUpsellRemoveMessage",value:function(){var e=this;return k.a.createElement(B.a,{className:"upsell-removal-modal",onCloseClick:function(){return e.closeRemovalModal()}},k.a.createElement("h2",null,Object(w.a)("upsell.removeAlertMessage.title")),k.a.createElement("p",null,Object(w.a)("upsell.removeAlertMessage.description")),k.a.createElement("div",{className:"pull-right"},k.a.createElement(P.a,{className:"secondary small upsell-cancel",onClick:function(){return e.closeRemovalModal()}},Object(w.a)("app.cancel")),k.a.createElement(P.a,{className:"primary small upsell-continue",onClick:function(){return e.onContinueClick()}},Object(w.a)("app.continueOnly"))))}},{key:"render",value:function(){var e=this,n=this.props.upsellOptions.get("items"),a=n.find(t.filterSelectedItems),r=a?this.getBrandSortOrder().indexOf(a.get("code")):-1,i=this.props.numberOfUpsellOffersDisplayed,s=n.filter(this.isUpsell(r)).slice(0,i).map((function(t,n){return e.createUpsellOfferContent(t,n,a)})),o=Object(L.a)(this.props.isAuthorable,"upsell");return k.a.createElement("div",o,k.a.createElement(A.a,{className:_()("dxp-upsell",this.props.className,"clearfix")},this.state.upsellRemoveClicked&&this.renderUpsellRemoveMessage(),!s.isEmpty()&&k.a.createElement("div",{className:"upsell"},k.a.createElement("h2",{className:"upsell-title"},Object(w.i)("upsell.recommended")),s)))}}]),t}(C.Component));g()(j,"extractFeatureTags",(function(e,t){return e.get("featureValues",[]).filter((function(e){return"text"===e.get("type")})).map((function(e,n){return j.renderFeatureValue(e,_()(t,n))}))})),g()(j,"filterSelectedItems",(function(e){return e.get("selected")||j.oneWaySelected(e.get("itemPrices"))})),g()(j,"oneWaySelected",(function(e){return e.getIn(["outbound","itemSelected"])||e.getIn(["inbound","itemSelected"])})),g()(j,"defaultProps",{className:"",sortUpsellBrand:!1,numberOfUpsellOffersDisplayed:99,brandSortOrder:[],messageForRemoval:!1,refreshAncillaries:void 0,isAuthorable:!0});var F=j;n.d(t,"a",(function(){return F}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(){var t="undefined"!=typeof window,a=t?window.Masonry||n(2783):null,r=t?n(2788):null,i=n(16),s=n(2789),o=n(329),l=n(35),c=n(6),u=n(1),d=n(2800),p={enableResizableChildren:c.bool,disableImagesLoaded:c.bool,onImagesLoaded:c.func,updateOnEachImageLoad:c.bool,options:c.object,imagesLoadedOptions:c.object,elementType:c.string,onLayoutComplete:c.func,onRemoveComplete:c.func},h=d({masonry:!1,erd:void 0,latestKnownDomChildren:[],displayName:"MasonryComponent",imagesLoadedCancelRef:void 0,propTypes:p,getDefaultProps:function(){return{enableResizableChildren:!1,disableImagesLoaded:!1,updateOnEachImageLoad:!1,options:{},imagesLoadedOptions:{},className:"",elementType:"div",onLayoutComplete:function(){},onRemoveComplete:function(){}}},initializeMasonry:function(e){this.masonry&&!e||(this.masonry=new a(this.masonryContainer,this.props.options),this.props.onLayoutComplete&&this.masonry.on("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.on("removeComplete",this.props.onRemoveComplete),this.latestKnownDomChildren=this.getCurrentDomChildren())},getCurrentDomChildren:function(){var e=this.masonryContainer,t=this.props.options.itemSelector?e.querySelectorAll(this.props.options.itemSelector):e.children;return Array.prototype.slice.call(t)},diffDomChildren:function(){var e=!1,t=this.latestKnownDomChildren.filter((function(e){return!!e.parentNode}));t.length!==this.latestKnownDomChildren.length&&(e=!0);var n=this.getCurrentDomChildren(),a=t.filter((function(e){return!~n.indexOf(e)})),r=n.filter((function(e){return!~t.indexOf(e)})),i=0,s=r.filter((function(e){var t=i===n.indexOf(e);return t&&i++,t})),o=r.filter((function(e){return-1===s.indexOf(e)})),l=[];return 0===a.length&&(l=t.filter((function(e,t){return t!==n.indexOf(e)}))),this.latestKnownDomChildren=n,{old:t,new:n,removed:a,appended:o,prepended:s,moved:l,forceItemReload:e}},performLayout:function(){var e=this.diffDomChildren(),t=e.forceItemReload||e.moved.length>0;e.removed.length>0&&(this.props.enableResizableChildren&&e.removed.forEach(this.erd.removeAllListeners,this.erd),this.masonry.remove(e.removed),t=!0),e.appended.length>0&&(this.masonry.appended(e.appended),0===e.prepended.length&&(t=!0),this.props.enableResizableChildren&&e.appended.forEach(this.listenToElementResize,this)),e.prepended.length>0&&(this.masonry.prepended(e.prepended),this.props.enableResizableChildren&&e.prepended.forEach(this.listenToElementResize,this)),t&&this.masonry.reloadItems(),this.masonry.layout()},derefImagesLoaded:function(){this.imagesLoadedCancelRef(),this.imagesLoadedCancelRef=void 0},imagesLoaded:function(){if(!this.props.disableImagesLoaded){this.imagesLoadedCancelRef&&this.derefImagesLoaded();var e=this.props.updateOnEachImageLoad?"progress":"always",t=o(function(e){this.props.onImagesLoaded&&this.props.onImagesLoaded(e),this.masonry.layout()}.bind(this),100),n=r(this.masonryContainer,this.props.imagesLoadedOptions).on(e,t);this.imagesLoadedCancelRef=function(){n.off(e,t),t.cancel()}}},initializeResizableChildren:function(){this.props.enableResizableChildren&&(this.erd=s({strategy:"scroll"}),this.latestKnownDomChildren.forEach(this.listenToElementResize,this))},listenToElementResize:function(e){this.erd.listenTo(e,function(){this.masonry.layout()}.bind(this))},destroyErd:function(){this.erd&&this.latestKnownDomChildren.forEach(this.erd.uninstall,this.erd)},componentDidMount:function(){this.initializeMasonry(),this.initializeResizableChildren(),this.imagesLoaded()},componentDidUpdate:function(){this.performLayout(),this.imagesLoaded()},componentWillUnmount:function(){this.destroyErd(),this.props.onLayoutComplete&&this.masonry.off("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.off("removeComplete",this.props.onRemoveComplete),this.imagesLoadedCancelRef&&this.derefImagesLoaded(),this.masonry.destroy()},setRef:function(e){this.masonryContainer=e},render:function(){var e=l(this.props,Object.keys(p));return u.createElement(this.props.elementType,i({},e,{ref:this.setRef}),this.props.children)}});e.exports=h,e.exports.default=h}).call(window)},function(e,t,n){(function(){!function(t,a){e.exports?e.exports=a(n(2784),n(2276)):t.Masonry=a(t.Outlayer,t.getSize)}(window,(function(e,t){"use strict";var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var a=n.prototype;return a._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},a.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var a=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,i=r/a,s=a-r%a;i=Math[s&&s<1?"round":"floor"](i),this.cols=Math.max(i,1)},a.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},a._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var a=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),r={x:this.columnWidth*a.col,y:a.y},i=a.y+e.size.outerHeight,s=n+a.col,o=a.col;o<s;o++)this.colYs[o]=i;return r},a._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},a._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,a=0;a<n;a++)t[a]=this._getColGroupY(a,e);return t},a._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},a._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=e>1&&n+e>this.cols?0:n;var a=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=a?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},a._manageStamp=function(e){var n=t(e),a=this._getElementOffset(e),r=this._getOption("originLeft")?a.left:a.right,i=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var o=Math.floor(i/this.columnWidth);o-=i%this.columnWidth?0:1,o=Math.min(this.cols-1,o);for(var l=(this._getOption("originTop")?a.top:a.bottom)+n.outerHeight,c=s;c<=o;c++)this.colYs[c]=Math.max(l,this.colYs[c])},a._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},a._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},a.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n}))}).call(window)},function(e,t,n){(function(){!function(t,a){"use strict";e.exports?e.exports=a(t,n(2275),n(2276),n(2785),n(2787)):t.Outlayer=a(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,(function(e,t,n,a,r){"use strict";var i=e.console,s=e.jQuery,o=function(){},l=0,c={};function u(e,t){var n=a.getQueryElement(e);if(n){this.element=n,s&&(this.$element=s(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(t);var r=++l;this.element.outlayerGUID=r,c[r]=this,this._create(),this._getOption("initLayout")&&this.layout()}else i&&i.error("Bad element for "+this.constructor.namespace+": "+(n||e))}u.namespace="outlayer",u.Item=r,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=u.prototype;function p(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}a.extend(d,t.prototype),d.option=function(e){a.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),a.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,a=[],r=0;r<t.length;r++){var i=new n(t[r],this);a.push(i)}return a},d._filterFindItemElements=function(e){return a.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map((function(e){return e.element}))},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=n(this.element)},d._getMeasurement=function(e,t){var a,r=this.options[e];r?("string"==typeof r?a=this.element.querySelector(r):r instanceof HTMLElement&&(a=r),this[e]=a?n(a)[t]:r):this[e]=0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},d._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach((function(e){var a=this._getItemLayoutPosition(e);a.item=e,a.isInstant=t||e.isLayoutInstant,n.push(a)}),this),this._processLayoutQueue(n)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],a=t&&t[2];if(!n.length)return 0;return(n=parseFloat(n))*(h[a]||1)}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,n,a,r){a?e.goTo(t,n):(e.stagger(r*this.stagger),e.moveTo(t,n))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d._getContainerSize=o,d._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d._emitCompleteOnItems=function(e,t){var n=this;function a(){n.dispatchEvent(e+"Complete",null,[t])}var r=t.length;if(t&&r){var i=0;t.forEach((function(t){t.once(e,s)}))}else a();function s(){++i==r&&a()}},d.dispatchEvent=function(e,t,n){var a=t?[t].concat(n):n;if(this.emitEvent(e,a),s)if(this.$element=this.$element||s(this.element),t){var r=s.Event(t);r.type=e,this.$element.trigger(r,n)}else this.$element.trigger(e,n)},d.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){a.removeFrom(this.stamps,e),this.unignore(e)}),this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=a.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=o,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),a=this._boundingRect,r=n(e);return{left:t.left-a.left-r.marginLeft,top:t.top-a.top-r.marginTop,right:a.right-t.right-r.marginRight,bottom:a.bottom-t.bottom-r.marginBottom}},d.handleEvent=a.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},a.debounceMethod(u,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},d.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.reveal()}))}},d.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,n){e.stagger(n*t),e.hide()}))}},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},d.getItems=function(e){e=a.makeArray(e);var t=[];return e.forEach((function(e){var n=this.getItem(e);n&&t.push(n)}),this),t},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),a.removeFrom(this.items,e)}),this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=a.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var n=p(u);return n.defaults=a.extend({},u.defaults),a.extend(n.defaults,t),n.compatOptions=a.extend({},u.compatOptions),n.namespace=e,n.data=u.data,n.Item=p(r),a.htmlInit(n,e),s&&s.bridget&&s.bridget(e,n),n};var h={ms:1,s:1e3};return u.Item=r,u}))}).call(window)},function(e,t,n){(function(){!function(t,a){e.exports?e.exports=a(t,n(2786)):t.fizzyUIUtils=a(t,t.matchesSelector)}(window,(function(e,t){"use strict";var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},a=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?a.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,a){e=n.makeArray(e);var r=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(a){t(e,a)&&r.push(e);for(var n=e.querySelectorAll(a),i=0;i<n.length;i++)r.push(n[i])}else r.push(e)})),r},n.debounceMethod=function(e,t,n){n=n||100;var a=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,i=this;this[r]=setTimeout((function(){a.apply(i,t),delete i[r]}),n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,n){return t+"-"+n})).toLowerCase()};var r=e.console;return n.htmlInit=function(t,a){n.docReady((function(){var i=n.toDashed(a),s="data-"+i,o=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+i),c=n.makeArray(o).concat(n.makeArray(l)),u=s+"-options",d=e.jQuery;c.forEach((function(e){var n,i=e.getAttribute(s)||e.getAttribute(u);try{n=i&&JSON.parse(i)}catch(t){return void(r&&r.error("Error parsing "+s+" on "+e.className+": "+t))}var o=new t(e,n);d&&d.data(e,a,o)}))}))},n}))}).call(window)},function(e,t,n){(function(){!function(t,n){"use strict";e.exports?e.exports=n():t.matchesSelector=n()}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var a=t[n]+"MatchesSelector";if(e[a])return a}}();return function(t,n){return t[e](n)}}))}).call(window)},function(e,t,n){(function(){!function(t,a){e.exports?e.exports=a(n(2275),n(2276)):(t.Outlayer={},t.Outlayer.Item=a(t.EvEmitter,t.getSize))}(window,(function(e,t){"use strict";var n=document.documentElement.style,a="string"==typeof n.transition?"transition":"WebkitTransition",r="string"==typeof n.transform?"transform":"WebkitTransform",i={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],s={transform:r,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"};function o(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=o.prototype=Object.create(e.prototype);l.constructor=o,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e){t[s[n]||n]=e[n]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),a=e[t?"left":"right"],r=e[n?"top":"bottom"],i=parseFloat(a),s=parseFloat(r),o=this.layout.size;-1!=a.indexOf("%")&&(i=i/100*o.width),-1!=r.indexOf("%")&&(s=s/100*o.height),i=isNaN(i)?0:i,s=isNaN(s)?0:s,i-=t?o.paddingLeft:o.paddingRight,s-=n?o.paddingTop:o.paddingBottom,this.position.x=i,this.position.y=s},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),a=this.layout._getOption("originTop"),r=n?"paddingLeft":"paddingRight",i=n?"left":"right",s=n?"right":"left",o=this.position.x+e[r];t[i]=this.getXValue(o),t[s]="";var l=a?"paddingTop":"paddingBottom",c=a?"top":"bottom",u=a?"bottom":"top",d=this.position.y+e[l];t[c]=this.getYValue(d),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,a=this.position.y,r=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!r||this.isTransitioning){var i=e-n,s=t-a,o={};o.transform=this.getTranslate(i,s),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+r.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(i,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=u[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],function(e){for(var t in e)return!1;return null,!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd)t.onEnd[n].call(this),delete t.onEnd[n];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(i,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}))}).call(window)},function(e,t,n){(function(){!function(t,a){"use strict";e.exports?e.exports=a(t,n(2275)):t.imagesLoaded=a(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=e.jQuery,a=e.console;function r(e,t){for(var n in t)e[n]=t[n];return e}var i=Array.prototype.slice;function s(e,t,o){if(!(this instanceof s))return new s(e,t,o);var l,c=e;("string"==typeof e&&(c=document.querySelectorAll(e)),c)?(this.elements=(l=c,Array.isArray(l)?l:"object"==typeof l&&"number"==typeof l.length?i.call(l):[l]),this.options=r({},this.options),"function"==typeof t?o=t:r(this.options,t),o&&this.on("always",o),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(c||e))}s.prototype=Object.create(t.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&o[t]){for(var n=e.querySelectorAll("img"),a=0;a<n.length;a++){var r=n[a];this.addImage(r)}if("string"==typeof this.options.background){var i=e.querySelectorAll(this.options.background);for(a=0;a<i.length;a++){var s=i[a];this.addElementBackgroundImages(s)}}}};var o={1:!0,9:!0,11:!0};function l(e){this.img=e}function c(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,a=n.exec(t.backgroundImage);null!==a;){var r=a&&a[2];r&&this.addBackground(r,e),a=n.exec(t.backgroundImage)}},s.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},s.prototype.addBackground=function(e,t){var n=new c(e,t);this.images.push(n)},s.prototype.check=function(){var e=this;function t(t,n,a){setTimeout((function(){e.progress(t,n,a)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},l.prototype=Object.create(t.prototype),l.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(l.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}))}).call(window)},function(e,t,n){"use strict";var a=n(2440).forEach,r=n(2790),i=n(2791),s=n(2792),o=n(2793),l=n(2794),c=n(2441),u=n(2795),d=n(2797),p=n(2798),h=n(2799);function f(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return a(e,(function(e){t.push(e)})),t}function g(e){return e&&1===e.nodeType}function v(e,t,n){var a=e[t];return null==a&&void 0!==n?n:a}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=s(),y=o({idGenerator:n,stateHandler:d});t=y}var b=e.reporter;b||(b=l(!1===b));var E=v(e,"batchProcessor",u({reporter:b})),C={};C.callOnAdd=!!v(e,"callOnAdd",!0),C.debug=!!v(e,"debug",!1);var k,S=i(t),_=r({stateHandler:d}),O=v(e,"strategy","object"),w={reporter:b,batchProcessor:E,stateHandler:d,idHandler:t};if("scroll"===O&&(c.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),O="object"):c.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),O="object")),"scroll"===O)k=h(w);else{if("object"!==O)throw new Error("Invalid strategy name: "+O);k=p(w)}var P={};return{listenTo:function(e,n,r){function i(e){var t=S.get(e);a(t,(function(t){t(e)}))}function s(e,t,n){S.add(t,n),e&&n(t)}if(r||(r=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!r)throw new Error("Listener required.");if(g(n))n=[n];else{if(!f(n))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var o=0,l=v(e,"callOnAdd",C.callOnAdd),c=v(e,"onReady",(function(){})),u=v(e,"debug",C.debug);a(n,(function(e){d.getState(e)||(d.initState(e),t.set(e));var p=t.get(e);if(u&&b.log("Attaching listener to element",p,e),!_.isDetectable(e))return u&&b.log(p,"Not detectable."),_.isBusy(e)?(u&&b.log(p,"System busy making it detectable"),s(l,e,r),P[p]=P[p]||[],void P[p].push((function(){++o===n.length&&c()}))):(u&&b.log(p,"Making detectable..."),_.markBusy(e,!0),k.makeDetectable({debug:u},e,(function(e){if(u&&b.log(p,"onElementDetectable"),d.getState(e)){_.markAsDetectable(e),_.markBusy(e,!1),k.addListener(e,i),s(l,e,r);var t=d.getState(e);if(t&&t.startSize){var h=e.offsetWidth,f=e.offsetHeight;t.startSize.width===h&&t.startSize.height===f||i(e)}P[p]&&a(P[p],(function(e){e()}))}else u&&b.log(p,"Element uninstalled before being detectable.");delete P[p],++o===n.length&&c()})));u&&b.log(p,"Already detecable, adding listener."),s(l,e,r),o++})),o===n.length&&c()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(e){if(!e)return b.error("At least one element is required.");if(g(e))e=[e];else{if(!f(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}a(e,(function(e){S.removeAllListeners(e),k.uninstall(e),d.cleanState(e)}))}}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var a=e.get(n);return void 0===a?[]:t[a]||[]}return{get:n,add:function(n,a){var r=e.get(n);t[r]||(t[r]=[]),t[r].push(a)},removeListener:function(e,t){for(var a=n(e),r=0,i=a.length;r<i;++r)if(a[r]===t){a.splice(r,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var a=n(e);if(!a)throw new Error("setId required the element to have a resize detection state.");var r=t.generate();return a.id=r,r}}}},function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var a=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};a(n,"log"),a(n,"warn"),a(n,"error")}return n}},function(e,t,n){"use strict";var a=n(2796);function r(){var e={},t=0,n=0,a=0;return{add:function(r,i){i||(i=r,r=0),r>n?n=r:r<a&&(a=r),e[r]||(e[r]=[]),e[r].push(i),t++},process:function(){for(var t=a;t<=n;t++)for(var r=e[t],i=0;i<r.length;i++){(0,r[i])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=a.getOption(e,"async",!0),i=a.getOption(e,"auto",!0);i&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var s,o=r(),l=!1;function c(){for(l=!0;o.size();){var e=o;o=r(),e.process()}l=!1}function u(){var e;e=c,s=setTimeout(e,0)}return{add:function(e,t){!l&&i&&n&&0===o.size()&&u(),o.add(e,t)},force:function(e){l||(void 0===e&&(e=n),s&&(clearTimeout(s),s=null),e?u():c())}}}},function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var a=e[t];if(null==a&&void 0!==n)return n;return a}},function(e,t,n){"use strict";function a(e){return e._erd}e.exports={initState:function(e){return e._erd={},a(e)},getState:a,cleanState:function(e){delete e._erd}}},function(e,t,n){"use strict";var a=n(2441);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(e){return r(e).object}return{makeDetectable:function(e,i,s){s||(s=i,i=e,e=null),(e=e||{}).debug,a.isIE(8)?s(i):function(e,i){var s=!1,o=window.getComputedStyle(e),l=e.offsetWidth,c=e.offsetHeight;function u(){function n(){if("static"===o.position){e.style.position="relative";var n=function(e,t,n,a){var r=n[a];"auto"!==r&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(r)&&(e.warn("An element that is positioned static has style."+a+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+a+" will be set to 0. Element: ",t),t.style[a]=0)};n(t,e,o,"top"),n(t,e,o,"right"),n(t,e,o,"bottom"),n(t,e,o,"left")}}""!==o.position&&(n(),s=!0);var l=document.createElement("object");l.style.cssText="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",l.tabIndex=-1,l.type="text/html",l.setAttribute("aria-hidden","true"),l.onload=function(){s||n(),function e(t,n){t.contentDocument?n(t.contentDocument):setTimeout((function(){e(t,n)}),100)}(this,(function(t){i(e)}))},a.isIE()||(l.data="about:blank"),e.appendChild(l),r(e).object=l,a.isIE()&&(l.data="about:blank")}r(e).startSize={width:l,height:c},n?n.add(u):u()}(i,s)},addListener:function(e,t){if(!i(e))throw new Error("Element is not detectable by this strategy.");function n(){t(e)}a.isIE(8)?(r(e).object={proxy:n},e.attachEvent("onresize",n)):i(e).contentDocument.defaultView.addEventListener("resize",n)},uninstall:function(e){a.isIE(8)?e.detachEvent("onresize",r(e).object.proxy):e.removeChild(i(e)),delete r(e).object}}}},function(e,t,n){"use strict";var a=n(2440).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,r=e.stateHandler.getState,i=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var s=function(){var e=document.createElement("div");e.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var t=document.createElement("div");t.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,a=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:a}}();function o(e,n,a){if(e.addEventListener)e.addEventListener(n,a);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,a)}}function l(e,n,a){if(e.removeEventListener)e.removeEventListener(n,a);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,a)}}function c(e){return r(e).container.childNodes[0].childNodes[0].childNodes[0]}function u(e){return r(e).container.childNodes[0].childNodes[0].childNodes[1]}return function(e,t){if(!document.getElementById(e)){var n=t+"_animation",a="/* Created by the element-resize-detector library. */\n";a+="."+t+" > div::-webkit-scrollbar { display: none; }\n\n",a+="."+(t+"_animation_active")+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+n+"; animation-name: "+n+"; }\n",a+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(t,n){n=n||function(e){document.head.appendChild(e)};var a=document.createElement("style");a.innerHTML=t,a.id=e,n(a)}(a+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style","erd_scroll_detection_container"),{makeDetectable:function(e,l,d){function p(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(i.get(l),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var a=0;a<n.length;a++)t.log(n[a])}}function h(e){var t=r(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function f(){var e=window.getComputedStyle(l),t={};return t.position=e.position,t.width=l.offsetWidth,t.height=l.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function m(){if(p("storeStyle invoked."),r(l)){var e=f();r(l).style=e}else p("Aborting because element has been uninstalled")}function g(e,t,n){r(e).lastWidth=t,r(e).lastHeight=n}function v(){return 2*s.width+1}function y(){return 2*s.height+1}function b(e){return e+10+v()}function E(e){return e+10+y()}function C(e,t,n){var a=c(e),r=u(e),i=b(t),s=E(n),o=function(e){return 2*e+v()}(t),l=function(e){return 2*e+y()}(n);a.scrollLeft=i,a.scrollTop=s,r.scrollLeft=o,r.scrollTop=l}function k(){var e=r(l).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",r(l).container=e,function(e){e.className+=" erd_scroll_detection_container_animation_active"}(e),l.appendChild(e);var t=function(){r(l).onRendered&&r(l).onRendered()};o(e,"animationstart",t),r(l).onAnimationStart=t}return e}function S(){if(p("Injecting elements"),r(l)){!function(){var e=r(l).style;if("static"===e.position){l.style.position="relative";var n=function(e,t,n,a){var r=n[a];"auto"!==r&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(r)&&(e.warn("An element that is positioned static has style."+a+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+a+" will be set to 0. Element: ",t),t.style[a]=0)};n(t,l,e,"top"),n(t,l,e,"right"),n(t,l,e,"bottom"),n(t,l,e,"left")}}();var e=r(l).container;e||(e=k());var n,a,i,c,u=s.width,d=s.height,h="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+("left: "+(n=(n=-(1+u))?n+"px":"0")+"; top: "+(a=(a=-(1+d))?a+"px":"0")+"; right: "+(c=(c=-u)?c+"px":"0")+"; bottom: "+(i=(i=-d)?i+"px":"0")+";"),f=document.createElement("div"),m=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),y=document.createElement("div"),b=document.createElement("div");f.dir="ltr",f.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",f.className="erd_scroll_detection_container",m.className="erd_scroll_detection_container",m.style.cssText=h,g.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",v.style.cssText="position: absolute; left: 0; top: 0;",y.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",b.style.cssText="position: absolute; width: 200%; height: 200%;",g.appendChild(v),y.appendChild(b),m.appendChild(g),m.appendChild(y),f.appendChild(m),e.appendChild(f),o(g,"scroll",E),o(y,"scroll",C),r(l).onExpandScroll=E,r(l).onShrinkScroll=C}else p("Aborting because element has been uninstalled");function E(){r(l).onExpand&&r(l).onExpand()}function C(){r(l).onShrink&&r(l).onShrink()}}function _(){function s(e,t,n){var a=function(e){return c(e).childNodes[0]}(e),r=b(t),i=E(n);a.style.width=r+"px",a.style.height=i+"px"}function o(a){var o=l.offsetWidth,c=l.offsetHeight;p("Storing current size",o,c),g(l,o,c),n.add(0,(function(){if(r(l))if(d()){if(e.debug){var n=l.offsetWidth,a=l.offsetHeight;n===o&&a===c||t.warn(i.get(l),"Scroll: Size changed before updating detector elements.")}s(l,o,c)}else p("Aborting because element container has not been initialized");else p("Aborting because element has been uninstalled")})),n.add(1,(function(){r(l)?d()?C(l,o,c):p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")})),a&&n.add(2,(function(){r(l)?d()?a():p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")}))}function d(){return!!r(l).container}function f(){p("notifyListenersIfNeeded invoked");var e=r(l);return void 0===r(l).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?p("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?p("Not notifying: Size already notified"):(p("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void a(r(l).listeners,(function(e){e(l)})))}function m(){if(p("Scroll detected."),h(l))p("Scroll event fired while unrendered. Ignoring...");else{var e=l.offsetWidth,t=l.offsetHeight;e!==r(l).lastWidth||t!==r(l).lastHeight?(p("Element size changed."),o(f)):p("Element size has not changed ("+e+"x"+t+").")}}if(p("registerListenersAndPositionElements invoked."),r(l)){r(l).onRendered=function(){if(p("startanimation triggered."),h(l))p("Ignoring since element is still unrendered...");else{p("Element rendered.");var e=c(l),t=u(l);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(p("Scrollbars out of sync. Updating detector elements..."),o(f))}},r(l).onExpand=m,r(l).onShrink=m;var v=r(l).style;s(l,v.width,v.height)}else p("Aborting because element has been uninstalled")}function O(){if(p("finalizeDomMutation invoked."),r(l)){var e=r(l).style;g(l,e.width,e.height),C(l,e.width,e.height)}else p("Aborting because element has been uninstalled")}function w(){d(l)}function P(){var e;p("Installing..."),r(l).listeners=[],e=f(),r(l).startSize={width:e.width,height:e.height},p("Element start size",r(l).startSize),n.add(0,m),n.add(1,S),n.add(2,_),n.add(3,O),n.add(4,w)}d||(d=l,l=e,e=null),e=e||{},p("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===window.getComputedStyle(e)}(l)?P():(p("Element is detached"),k(),p("Waiting until element is attached..."),r(l).onRendered=function(){p("Element is now attached"),P()})},addListener:function(e,t){if(!r(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");r(e).listeners.push(t)},uninstall:function(e){var t=r(e);t&&(t.onExpandScroll&&l(c(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&l(u(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&l(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}}}},function(e,t,n){"use strict";var a=n(1),r=n(2801);if(void 0===a)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new a.Component).updater;e.exports=r(a.Component,a.isValidElement,i)},function(e,t,n){"use strict";var a=n(587),r=n(2802),i=n(1915);e.exports=function(e,t,n){var s=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=a({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=a({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=a({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var a=t[n];if(t.hasOwnProperty(n)){if(i(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var r=l.hasOwnProperty(n)?l[n]:null;return i("DEFINE_MANY_MERGED"===r,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],a))}e[n]=a}}}(e,t)},autobind:function(){}};function u(e,t){var n=o.hasOwnProperty(t)?o[t]:null;y.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var a=e.prototype,r=a.__reactAutoBindPairs;for(var s in n.hasOwnProperty("mixins")&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&"mixins"!==s){var l=n[s],d=a.hasOwnProperty(s);if(u(d,s),c.hasOwnProperty(s))c[s](e,l);else{var p=o.hasOwnProperty(s);if("function"==typeof l&&!p&&!d&&!1!==n.autobind)r.push(s,l),a[s]=l;else if(d){var m=o[s];i(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,s),"DEFINE_MANY_MERGED"===m?a[s]=h(a[s],l):"DEFINE_MANY"===m&&(a[s]=f(a[s],l))}else a[s]=l}}}else;}function p(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),a=t.apply(this,arguments);if(null==n)return a;if(null==a)return n;var r={};return p(r,n),p(r,a),r}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return a(b.prototype,e.prototype,y),function(e){var t=function(e,a,s){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var a=t[n],r=t[n+1];e[a]=m(e,r)}}(this),this.props=e,this.context=a,this.refs=r,this.updater=s||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;i("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o};for(var a in t.prototype=new b,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,v),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),o)t.prototype[a]||(t.prototype[a]=null);return t}}},function(e,t,n){"use strict";e.exports={}},,,,,,,,,,,function(e,t,n){"use strict";var a=n(27),r=n.n(a),i=n(0),s=n.n(i),o=n(58),l=n.n(o),c=n(2),u=n.n(c),d=n(5),p=n.n(d),h=(n(6),n(1)),f=n.n(h),m=n(39),g=n.n(m),v=n(12),y=n(524),b=n(88),E=n(2033),C=n(1249);n(2814);t.a=function(e){return f.a.createElement("div",{className:"dxp-passenger-review"},f.a.createElement("h2",{className:"passenger-review-title"},e.passengerReviewData.tabHeader),f.a.createElement(y.a,{className:"no-padding"},e.passengerReviewData.shouldRenderNoSeatMapMessage?f.a.createElement("h4",null,Object(v.a)("seatSelection.passengerReview.noSeatMap")):(t=e.passengers,n=e.passengerReviewData,a=e.tabIndex,i=e.switchSegment,o=p()(t,(function(e,t){if("INF"!==e.passengerInfo.type){var a=e.passengerDetails,i=s()(n,"seatPrices"),o=p()(i[t],(function(e,t){var n=r()(e);return n?f.a.createElement(C.a,{key:t,includeDecimal:!0,price:n}):null})),c=n.selectedSeatForSegments[t],d=c?"selected":"unselected";return f.a.createElement("span",{className:"passenger-element"},f.a.createElement("div",{className:"review-element initial"},f.a.createElement(E.a,{name:"".concat(a.firstName," ").concat(a.lastName),className:"small inline"})),f.a.createElement("div",{className:"review-element name"},a.firstName," ",a.lastName," "),f.a.createElement("div",{className:g()("review-element seat",d)},c||Object(v.a)("seatSelection.passengerReview.noSeatSelected")),f.a.createElement("div",{className:"review-element price"},u()(l()(o))?f.a.createElement(C.a,{includeDecimal:!0,price:{amount:0,currency:""}}):o))}return null}),void 0),c=g()("passenger-list"),f.a.createElement("div",{className:c},o,f.a.createElement("span",{className:"action edit-button"},f.a.createElement(b.a,{className:"dxp-button primary small",onClick:function(){return function(e,t,n,a){a(e,t,n)}(n.itineraryIndex,n.segmentIndex,a,i)}},Object(v.a)("seatSelection.passengerReview.edit")))))));var t,n,a,i,o,c}},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(12),s=n(50),o=n(1536),l=n(78);n(2816);t.a=function(){var e=r.a.createElement(l.a,{className:"seat-bundle-explanation",onClick:function(){}},Object(i.a)("seatSelection.seatBundleSelection.premiumSeatExplanation.title"),r.a.createElement(s.c,{name:s.a.INFO_CIRCLE,className:"icon"}));return r.a.createElement("div",{className:"dxp-seat-bundle-selection"},r.a.createElement(o.a,{className:"seat-bundle-only-premium-seats-popover",position:"bottom",trigger:e,hasCloseButton:!1},r.a.createElement("div",{className:"popover-inner-container"},r.a.createElement("p",{className:"popover-content"},Object(i.a)("seatSelection.seatBundleSelection.premiumSeatExplanation.description")))))}},,,,,function(e,t,n){"use strict";var a=n(2447);n.d(t,"a",(function(){return a.a}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2860);Object.defineProperty(t,"withScriptjs",{enumerable:!0,get:function(){return E(a).default}});var r=n(2908);Object.defineProperty(t,"withGoogleMap",{enumerable:!0,get:function(){return E(r).default}});var i=n(2909);Object.defineProperty(t,"GoogleMap",{enumerable:!0,get:function(){return E(i).default}});var s=n(2921);Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return E(s).default}});var o=n(2922);Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return E(o).default}});var l=n(2923);Object.defineProperty(t,"Polyline",{enumerable:!0,get:function(){return E(l).default}});var c=n(2924);Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return E(c).default}});var u=n(2925);Object.defineProperty(t,"Rectangle",{enumerable:!0,get:function(){return E(u).default}});var d=n(2926);Object.defineProperty(t,"InfoWindow",{enumerable:!0,get:function(){return E(d).default}});var p=n(2927);Object.defineProperty(t,"OverlayView",{enumerable:!0,get:function(){return E(p).default}});var h=n(2934);Object.defineProperty(t,"GroundOverlay",{enumerable:!0,get:function(){return E(h).default}});var f=n(2935);Object.defineProperty(t,"DirectionsRenderer",{enumerable:!0,get:function(){return E(f).default}});var m=n(2936);Object.defineProperty(t,"FusionTablesLayer",{enumerable:!0,get:function(){return E(m).default}});var g=n(2937);Object.defineProperty(t,"KmlLayer",{enumerable:!0,get:function(){return E(g).default}});var v=n(2938);Object.defineProperty(t,"TrafficLayer",{enumerable:!0,get:function(){return E(v).default}});var y=n(2939);Object.defineProperty(t,"StreetViewPanorama",{enumerable:!0,get:function(){return E(y).default}});var b=n(2940);function E(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"BicyclingLayer",{enumerable:!0,get:function(){return E(b).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(n(2449)),r=m(n(1527)),i=m(n(1528)),s=m(n(1529)),o=m(n(1530)),l=m(n(1531)),c=m(n(2171));t.withScriptjs=g;var u=m(n(187)),d=m(n(2468)),p=n(2469),h=m(n(6)),f=m(n(1));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){var t=f.default.createFactory(e),m=function(e){function p(){var e,t,n,a;(0,i.default)(this,p);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=n=(0,o.default)(this,(e=p.__proto__||(0,r.default)(p)).call.apply(e,[this].concat(l))),n.state={loadingState:"NONE"},n.isUnmounted=!1,n.handleLoaded=(0,c.default)(n.handleLoaded,n),a=t,(0,o.default)(n,a)}return(0,l.default)(p,e),(0,s.default)(p,[{key:"handleLoaded",value:function(){this.isUnmounted||this.setState({loadingState:"LOADED"})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.loadingElement,n=e.googleMapURL;(0,u.default)(!!t&&!!n,"Required props loadingElement or googleMapURL is missing. You need to provide both of them.")}},{key:"componentDidMount",value:function(){"NONE"===this.state.loadingState&&d.default&&(this.setState({loadingState:"BEGIN"}),n(2907)(this.props.googleMapURL,this.handleLoaded))}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"render",value:function(){var e=this.props,n=e.loadingElement,r=(e.googleMapURL,(0,a.default)(e,["loadingElement","googleMapURL"]));return"LOADED"===this.state.loadingState?t(r):n}}]),p}(f.default.PureComponent);return m.displayName="withScriptjs("+(0,p.getDisplayName)(e)+")",m.propTypes={loadingElement:h.default.node.isRequired,googleMapURL:h.default.string.isRequired},m}t.default=g},function(e,t,n){n(2862),e.exports=n(537).Object.getPrototypeOf},function(e,t,n){var a=n(2112),r=n(2450);n(2863)("getPrototypeOf",(function(){return function(e){return r(a(e))}}))},function(e,t,n){var a=n(764),r=n(537),i=n(561);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),a(a.S+a.F*i((function(){n(1)})),"Object",s)}},function(e,t,n){n(2865);var a=n(537).Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},function(e,t,n){var a=n(764);a(a.S+a.F*!n(448),"Object",{defineProperty:n(767).f})},function(e,t,n){e.exports={default:n(2867),__esModule:!0}},function(e,t,n){n(2453),n(2874),e.exports=n(2288).f("iterator")},function(e,t,n){var a=n(2283),r=n(2280);e.exports=function(e){return function(t,n){var i,s,o=String(r(t)),l=a(n),c=o.length;return l<0||l>=c?e?"":void 0:(i=o.charCodeAt(l))<55296||i>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?e?o.charAt(l):i:e?o.slice(l,l+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var a=n(2284),r=n(776),i=n(2287),s={};n(770)(s,n(1918)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=a(s,{next:r(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var a=n(767),r=n(771),i=n(2169);e.exports=n(448)?Object.defineProperties:function(e,t){r(e);for(var n,s=i(t),o=s.length,l=0;o>l;)a.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var a=n(2052),r=n(2458),i=n(2872);e.exports=function(e){return function(t,n,s){var o,l=a(t),c=r(l.length),u=i(s,c);if(e&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var a=n(2283),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=a(e))<0?r(e+t,0):i(e,t)}},function(e,t,n){var a=n(446).document;e.exports=a&&a.documentElement},function(e,t,n){n(2875);for(var a=n(446),r=n(770),i=n(2113),s=n(1918)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<o.length;l++){var c=o[l],u=a[c],d=u&&u.prototype;d&&!d[s]&&r(d,s,c),i[c]=i.Array}},function(e,t,n){"use strict";var a=n(2876),r=n(2877),i=n(2113),s=n(2052);e.exports=n(2454)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(2879),__esModule:!0}},function(e,t,n){n(2880),n(2885),n(2886),n(2887),e.exports=n(537).Symbol},function(e,t,n){"use strict";var a=n(446),r=n(768),i=n(448),s=n(764),o=n(2455),l=n(2881).KEY,c=n(561),u=n(2282),d=n(2287),p=n(2168),h=n(1918),f=n(2288),m=n(2289),g=n(2882),v=n(2883),y=n(771),b=n(450),E=n(2112),C=n(2052),k=n(782),S=n(776),_=n(2284),O=n(2884),w=n(2460),P=n(2290),A=n(767),x=n(2169),N=w.f,T=A.f,I=O.f,B=a.Symbol,L=a.JSON,D=L&&L.stringify,j=h("_hidden"),F=h("toPrimitive"),M={}.propertyIsEnumerable,R=u("symbol-registry"),V=u("symbols"),H=u("op-symbols"),U=Object.prototype,W="function"==typeof B&&!!P.f,q=a.QObject,z=!q||!q.prototype||!q.prototype.findChild,G=i&&c((function(){return 7!=_(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=N(U,t);a&&delete U[t],T(e,t,n),a&&e!==U&&T(U,t,a)}:T,K=function(e){var t=V[e]=_(B.prototype);return t._k=e,t},Y=W&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},Q=function(e,t,n){return e===U&&Q(H,t,n),y(e),t=k(t,!0),y(n),r(V,t)?(n.enumerable?(r(e,j)&&e[j][t]&&(e[j][t]=!1),n=_(n,{enumerable:S(0,!1)})):(r(e,j)||T(e,j,S(1,{})),e[j][t]=!0),G(e,t,n)):T(e,t,n)},X=function(e,t){y(e);for(var n,a=g(t=C(t)),r=0,i=a.length;i>r;)Q(e,n=a[r++],t[n]);return e},J=function(e){var t=M.call(this,e=k(e,!0));return!(this===U&&r(V,e)&&!r(H,e))&&(!(t||!r(this,e)||!r(V,e)||r(this,j)&&this[j][e])||t)},Z=function(e,t){if(e=C(e),t=k(t,!0),e!==U||!r(V,t)||r(H,t)){var n=N(e,t);return!n||!r(V,t)||r(e,j)&&e[j][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=I(C(e)),a=[],i=0;n.length>i;)r(V,t=n[i++])||t==j||t==l||a.push(t);return a},ee=function(e){for(var t,n=e===U,a=I(n?H:C(e)),i=[],s=0;a.length>s;)!r(V,t=a[s++])||n&&!r(U,t)||i.push(V[t]);return i};W||(o((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(H,n),r(this,j)&&r(this[j],e)&&(this[j][e]=!1),G(this,e,S(1,n))};return i&&z&&G(U,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",(function(){return this._k})),w.f=Z,A.f=Q,n(2459).f=O.f=$,n(2170).f=J,P.f=ee,i&&!n(2167)&&o(U,"propertyIsEnumerable",J,!0),f.f=function(e){return K(h(e))}),s(s.G+s.W+s.F*!W,{Symbol:B});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var ae=x(h.store),re=0;ae.length>re;)m(ae[re++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return r(R,e+="")?R[e]:R[e]=B(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!W,"Object",{create:function(e,t){return void 0===t?_(e):X(_(e),t)},defineProperty:Q,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var ie=c((function(){P.f(1)}));s(s.S+s.F*ie,"Object",{getOwnPropertySymbols:function(e){return P.f(E(e))}}),L&&s(s.S+s.F*(!W||c((function(){var e=B();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,a=[e],r=1;arguments.length>r;)a.push(arguments[r++]);if(n=t=a[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),a[1]=t,D.apply(L,a)}}),B.prototype[F]||n(770)(B.prototype,F,B.prototype.valueOf),d(B,"Symbol"),d(Math,"Math",!0),d(a.JSON,"JSON",!0)},function(e,t,n){var a=n(2168)("meta"),r=n(450),i=n(768),s=n(767).f,o=0,l=Object.isExtensible||function(){return!0},c=!n(561)((function(){return l(Object.preventExtensions({}))})),u=function(e){s(e,a,{value:{i:"O"+ ++o,w:{}}})},d=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,a)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[a].i},getWeak:function(e,t){if(!i(e,a)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[a].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!i(e,a)&&u(e),e}}},function(e,t,n){var a=n(2169),r=n(2290),i=n(2170);e.exports=function(e){var t=a(e),n=r.f;if(n)for(var s,o=n(e),l=i.f,c=0;o.length>c;)l.call(e,s=o[c++])&&t.push(s);return t}},function(e,t,n){var a=n(2285);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){var a=n(2052),r=n(2459).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(a(e))}},function(e,t){},function(e,t,n){n(2289)("asyncIterator")},function(e,t,n){n(2289)("observable")},function(e,t,n){e.exports={default:n(2889),__esModule:!0}},function(e,t,n){n(2890),e.exports=n(537).Object.setPrototypeOf},function(e,t,n){var a=n(764);a(a.S,"Object",{setPrototypeOf:n(2891).set})},function(e,t,n){var a=n(450),r=n(771),i=function(e,t){if(r(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{(a=n(781)(Function.call,n(2460).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:a(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(2893),__esModule:!0}},function(e,t,n){n(2894);var a=n(537).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,n){var a=n(764);a(a.S,"Object",{create:n(2284)})},function(e,t,n){var a=n(2461),r=n(2896),i=n(2897),s=n(2462),o=n(2903),l=n(1572),c=n(2904),u=n(2466),d=n(2467),p=n(120),h=Math.max;e.exports=function(e,t,n,f,m,g,v,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var E=f?f.length:0;if(E||(t&=-97,f=m=void 0),v=void 0===v?v:h(p(v),0),y=void 0===y?y:p(y),E-=m?m.length:0,64&t){var C=f,k=m;f=m=void 0}var S=b?void 0:l(e),_=[e,t,n,f,m,C,k,g,v,y];if(S&&c(_,S),e=_[0],t=_[1],n=_[2],f=_[3],m=_[4],!(y=_[9]=void 0===_[9]?b?0:e.length:h(_[9]-E,0))&&24&t&&(t&=-25),t&&1!=t)O=8==t||16==t?i(e,t,y):32!=t&&33!=t||m.length?s.apply(void 0,_):o(e,t,n,f);else var O=r(e,t,n);return d((S?a:u)(O,_),e,t)}},function(e,t,n){var a=n(2172),r=n(132);e.exports=function(e,t,n){var i=1&t,s=a(e);return function t(){var a=this&&this!==r&&this instanceof t?s:e;return a.apply(i?n:this,arguments)}}},function(e,t,n){var a=n(551),r=n(2172),i=n(2462),s=n(2465),o=n(2291),l=n(2173),c=n(132);e.exports=function(e,t,n){var u=r(e);return function r(){for(var d=arguments.length,p=Array(d),h=d,f=o(r);h--;)p[h]=arguments[h];var m=d<3&&p[0]!==f&&p[d-1]!==f?[]:l(p,f);if((d-=m.length)<n)return s(e,t,i,r.placeholder,void 0,p,m,void 0,void 0,n-d);var g=this&&this!==c&&this instanceof r?u:e;return a(g,this,p)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,a=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(a):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var a=t.length;if(!a)return e;var r=a-1;return t[r]=(a>1?"& ":"")+t[r],t=t.join(a>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var a=n(589),r=n(454),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return a(i,(function(n){var a="_."+n[0];t&n[1]&&!r(e,a)&&e.push(a)})),e.sort()}},function(e,t,n){var a=n(444),r=n(294),i=Math.min;e.exports=function(e,t){for(var n=e.length,s=i(t.length,n),o=a(e);s--;){var l=t[s];e[s]=r(l,n)?o[l]:void 0}return e}},function(e,t,n){var a=n(551),r=n(2172),i=n(132);e.exports=function(e,t,n,s){var o=1&t,l=r(e);return function t(){for(var r=-1,c=arguments.length,u=-1,d=s.length,p=Array(d+c),h=this&&this!==i&&this instanceof t?l:e;++u<d;)p[u]=s[u];for(;c--;)p[u++]=arguments[++r];return a(h,o?n:this,p)}}},function(e,t,n){var a=n(2463),r=n(2464),i=n(2173),s=Math.min;e.exports=function(e,t){var n=e[1],o=t[1],l=n|o,c=l<131,u=128==o&&8==n||128==o&&256==n&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==n;if(!c&&!u)return e;1&o&&(e[2]=t[2],l|=1&n?0:4);var d=t[3];if(d){var p=e[3];e[3]=p?a(p,d,t[4]):d,e[4]=p?i(e[3],"__lodash_placeholder__"):t[4]}return(d=t[5])&&(p=e[5],e[5]=p?r(p,d,t[6]):d,e[6]=p?i(e[5],"__lodash_placeholder__"):t[6]),(d=t[7])&&(e[7]=d),128&o&&(e[8]=null==e[8]?t[8]:s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},function(e,t,n){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,s=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var h=s(n);o&&(h=h.concat(o(n)));for(var f=0;f<h.length;++f){var m=h[f];if(!(a[m]||r[m]||d&&d[m])){var g=l(n,m);try{i(t,m,g)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){var e=[],t=e;function n(){t===e&&(t=e.slice())}return{listen:function(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var a=!0;return n(),t.push(e),function(){if(a){a=!1,n();var r=t.indexOf(e);t.splice(r,1)}}},emit:function(){for(var n=e=t,a=0;a<n.length;a++)n[a].apply(n,arguments)}}}},function(e,t,n){var a,r,i;i=function(){var e,t,n=document,a=n.getElementsByTagName("head")[0],r={},i={},s={},o={};function l(e,t){for(var n=0,a=e.length;n<a;++n)if(!t(e[n]))return!1;return 1}function c(e,t){l(e,(function(e){return t(e),1}))}function u(t,n,a){t=t.push?t:[t];var p=n&&n.call,h=p?n:a,f=p?t.join(""):n,m=t.length;function g(e){return e.call?e():r[e]}function v(){if(!--m)for(var e in r[f]=1,h&&h(),s)l(e.split("|"),g)&&!c(s[e],g)&&(s[e]=[])}return setTimeout((function(){c(t,(function t(n,a){return null===n?v():(a||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),o[n]?(f&&(i[f]=1),2==o[n]?v():setTimeout((function(){t(n,!0)}),0)):(o[n]=1,f&&(i[f]=1),void d(n,v)))}))}),0),u}function d(e,r){var i,s=n.createElement("script");s.onload=s.onerror=s.onreadystatechange=function(){s.readyState&&!/^c|loade/.test(s.readyState)||i||(s.onload=s.onreadystatechange=null,i=1,o[e]=2,r())},s.async=1,s.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,a.insertBefore(s,a.lastChild)}return u.get=d,u.order=function(e,t,n){!function a(r){r=e.shift(),e.length?u(r,a):u(r,t,n)}()},u.path=function(t){e=t},u.urlArgs=function(e){t=e},u.ready=function(e,t,n){e=e.push?e:[e];var a,i=[];return!c(e,(function(e){r[e]||i.push(e)}))&&l(e,(function(e){return r[e]}))?t():(a=e.join("|"),s[a]=s[a]||[],s[a].push(t),n&&n(i)),u},u.done=function(e){u([null],e)},u},e.exports?e.exports=i():void 0===(r="function"==typeof(a=i)?a.call(t,n,t,e):a)||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=v(n(2449)),r=v(n(1544)),i=v(n(1527)),s=v(n(1528)),o=v(n(1529)),l=v(n(1530)),c=v(n(1531)),u=v(n(2171));t.withGoogleMap=y;var d=v(n(2471)),p=v(n(187)),h=n(2469),f=v(n(6)),m=v(n(1)),g=n(1545);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){var t=m.default.createFactory(e),n=function(e){function n(){var e,t,a,r;(0,s.default)(this,n);for(var o=arguments.length,c=Array(o),d=0;d<o;d++)c[d]=arguments[d];return t=a=(0,l.default)(this,(e=n.__proto__||(0,i.default)(n)).call.apply(e,[this].concat(c))),a.state={map:null},a.handleComponentMount=(0,u.default)(a.handleComponentMount,a),r=t,(0,l.default)(a,r)}return(0,c.default)(n,e),(0,o.default)(n,[{key:"getChildContext",value:function(){return(0,r.default)({},g.MAP,this.state.map)}},{key:"componentWillMount",value:function(){var e=this.props,t=e.containerElement,n=e.mapElement;(0,p.default)(!!t&&!!n,"Required props containerElement or mapElement is missing. You need to provide both of them.\n The `google.maps.Map` instance will be initialized on mapElement and it's wrapped by containerElement.\nYou need to provide both of them since Google Map requires the DOM to have height when initialized.")}},{key:"handleComponentMount",value:function(e){if(!this.state.map&&null!==e){(0,d.default)("undefined"!=typeof google,"Make sure you've put a <script> tag in your <head> element to load Google Maps JavaScript API v3.\n If you're looking for built-in support to load it for you, use the \"async/ScriptjsLoader\" instead.\n See https://github.com/tomchentw/react-google-maps/pull/168");var t=new google.maps.Map(e);this.setState({map:t})}}},{key:"render",value:function(){var e=this.props,n=e.containerElement,r=e.mapElement,i=(0,a.default)(e,["containerElement","mapElement"]);return this.state.map?m.default.cloneElement(n,{},m.default.cloneElement(r,{ref:this.handleComponentMount}),m.default.createElement("div",null,t(i))):m.default.cloneElement(n,{},m.default.cloneElement(r,{ref:this.handleComponentMount}),m.default.createElement("div",null))}}]),n}(m.default.PureComponent);return n.displayName="withGoogleMap("+(0,h.getDisplayName)(e)+")",n.propTypes={containerElement:f.default.node.isRequired,mapElement:f.default.node.isRequired},n.childContextTypes=(0,r.default)({},g.MAP,f.default.object),n}t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleMap=t.Map=void 0;var a=m(n(1544)),r=m(n(2910)),i=m(n(1527)),s=m(n(1528)),o=m(n(1530)),l=m(n(1529)),c=m(n(1531)),u=m(n(187)),d=m(n(1)),p=m(n(6)),h=n(1573),f=n(1545);function m(e){return e&&e.__esModule?e:{default:e}}var g=t.Map=function(e){function t(e,n){(0,s.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return(0,u.default)(!!a.context[f.MAP],"Did you wrap <GoogleMap> component with withGoogleMap() HOC?"),(0,h.construct)(v.propTypes,b,a.props,a.context[f.MAP]),a}return(0,c.default)(t,e),(0,l.default)(t,[{key:"fitBounds",value:function(){var e;return(e=this.context[f.MAP]).fitBounds.apply(e,arguments)}},{key:"panBy",value:function(){var e;return(e=this.context[f.MAP]).panBy.apply(e,arguments)}},{key:"panTo",value:function(){var e;return(e=this.context[f.MAP]).panTo.apply(e,arguments)}},{key:"panToBounds",value:function(){var e;return(e=this.context[f.MAP]).panToBounds.apply(e,arguments)}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){(0,h.componentDidMount)(this,this.context[f.MAP],y)}},{key:"componentDidUpdate",value:function(e){(0,h.componentDidUpdate)(this,this.context[f.MAP],y,b,e)}},{key:"componentWillUnmount",value:function(){(0,h.componentWillUnmount)(this)}},{key:"render",value:function(){var e=this.props.children;return d.default.createElement("div",null,e)}},{key:"getBounds",value:function(){return this.context[f.MAP].getBounds()}},{key:"getCenter",value:function(){return this.context[f.MAP].getCenter()}},{key:"getClickableIcons",value:function(){return this.context[f.MAP].getClickableIcons()}},{key:"getDiv",value:function(){return this.context[f.MAP].getDiv()}},{key:"getHeading",value:function(){return this.context[f.MAP].getHeading()}},{key:"getMapTypeId",value:function(){return this.context[f.MAP].getMapTypeId()}},{key:"getProjection",value:function(){return this.context[f.MAP].getProjection()}},{key:"getStreetView",value:function(){return this.context[f.MAP].getStreetView()}},{key:"getTilt",value:function(){return this.context[f.MAP].getTilt()}},{key:"getZoom",value:function(){return this.context[f.MAP].getZoom()}}]),t}(d.default.PureComponent);g.displayName="GoogleMap",g.propTypes={defaultExtraMapTypes:p.default.arrayOf(p.default.arrayOf(p.default.any)),defaultCenter:p.default.any,defaultClickableIcons:p.default.bool,defaultHeading:p.default.number,defaultMapTypeId:p.default.any,defaultOptions:p.default.any,defaultStreetView:p.default.any,defaultTilt:p.default.number,defaultZoom:p.default.number,center:p.default.any,clickableIcons:p.default.bool,heading:p.default.number,mapTypeId:p.default.any,options:p.default.any,streetView:p.default.any,tilt:p.default.number,zoom:p.default.number,onDblClick:p.default.func,onDragEnd:p.default.func,onDragStart:p.default.func,onMapTypeIdChanged:p.default.func,onMouseMove:p.default.func,onMouseOut:p.default.func,onMouseOver:p.default.func,onRightClick:p.default.func,onTilesLoaded:p.default.func,onBoundsChanged:p.default.func,onCenterChanged:p.default.func,onClick:p.default.func,onDrag:p.default.func,onHeadingChanged:p.default.func,onIdle:p.default.func,onProjectionChanged:p.default.func,onResize:p.default.func,onTiltChanged:p.default.func,onZoomChanged:p.default.func},g.contextTypes=(0,a.default)({},f.MAP,p.default.object);var v=t.GoogleMap=g;t.default=g;var y={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},b={extraMapTypes:function(e,t){t.forEach((function(t){var n;return(n=e.mapTypes).set.apply(n,(0,r.default)(t))}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}}},function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(2911),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){e.exports={default:n(2912),__esModule:!0}},function(e,t,n){n(2453),n(2913),e.exports=n(537).Array.from},function(e,t,n){"use strict";var a=n(781),r=n(764),i=n(2112),s=n(2914),o=n(2915),l=n(2458),c=n(2916),u=n(2917);r(r.S+r.F*!n(2919)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,d,p=i(e),h="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(p);if(g&&(m=a(m,f>2?arguments[2]:void 0,2)),null==y||h==Array&&o(y))for(n=new h(t=l(p.length));t>v;v++)c(n,v,g?m(p[v],v):p[v]);else for(d=y.call(p),n=new h;!(r=d.next()).done;v++)c(n,v,g?s(d,m,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){var a=n(771);e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&a(i.call(e)),t}}},function(e,t,n){var a=n(2113),r=n(1918)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||i[r]===e)}},function(e,t,n){"use strict";var a=n(767),r=n(776);e.exports=function(e,t,n){t in e?a.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var a=n(2918),r=n(1918)("iterator"),i=n(2113);e.exports=n(537).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[a(e)]}},function(e,t,n){var a=n(2285),r=n(1918)("toStringTag"),i="Arguments"==a(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:i?a(t):"Object"==(s=a(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var a=n(1918)("iterator"),r=!1;try{var i=[7][a]();i.return=function(){r=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i=[7],s=i[a]();s.next=function(){return{done:n=!0}},i[a]=function(){return s},e(i)}catch(e){}return n}},function(e,t,n){var a=n(788)("toLowerCase");e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Circle=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.Circle;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.CIRCLE,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.CIRCLE],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.CIRCLE],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.CIRCLE];e&&e.setMap(null)}},{key:"render",value:function(){return!1}},{key:"getBounds",value:function(){return this.state[p.CIRCLE].getBounds()}},{key:"getCenter",value:function(){return this.state[p.CIRCLE].getCenter()}},{key:"getDraggable",value:function(){return this.state[p.CIRCLE].getDraggable()}},{key:"getEditable",value:function(){return this.state[p.CIRCLE].getEditable()}},{key:"getRadius",value:function(){return this.state[p.CIRCLE].getRadius()}},{key:"getVisible",value:function(){return this.state[p.CIRCLE].getVisible()}}]),t}(c.default.PureComponent);f.propTypes={defaultCenter:u.default.any,defaultDraggable:u.default.bool,defaultEditable:u.default.bool,defaultOptions:u.default.any,defaultRadius:u.default.number,defaultVisible:u.default.bool,center:u.default.any,draggable:u.default.bool,editable:u.default.bool,options:u.default.any,radius:u.default.number,visible:u.default.bool,onDblClick:u.default.func,onDragEnd:u.default.func,onDragStart:u.default.func,onMouseDown:u.default.func,onMouseMove:u.default.func,onMouseOut:u.default.func,onMouseOver:u.default.func,onMouseUp:u.default.func,onRightClick:u.default.func,onCenterChanged:u.default.func,onClick:u.default.func,onDrag:u.default.func,onRadiusChanged:u.default.func},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onRadiusChanged:"radius_changed"},g={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var a,r=f(n(1544)),i=f(n(1527)),s=f(n(1528)),o=f(n(1529)),l=f(n(1530)),c=f(n(1531)),u=f(n(1)),d=f(n(6)),p=n(1573),h=n(1545);function f(e){return e&&e.__esModule?e:{default:e}}var m=t.Marker=function(e){function t(e,n){(0,s.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n)),o=new google.maps.Marker;(0,p.construct)(t.propTypes,v,a.props,o);var c=a.context[h.MARKER_CLUSTERER];return c?c.addMarker(o,!!a.props.noRedraw):o.setMap(a.context[h.MAP]),a.state=(0,r.default)({},h.MARKER,o),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getChildContext",value:function(){return(0,r.default)({},h.ANCHOR,this.context[h.ANCHOR]||this.state[h.MARKER])}},{key:"componentDidMount",value:function(){(0,p.componentDidMount)(this,this.state[h.MARKER],g)}},{key:"componentDidUpdate",value:function(e){(0,p.componentDidUpdate)(this,this.state[h.MARKER],g,v,e)}},{key:"componentWillUnmount",value:function(){(0,p.componentWillUnmount)(this);var e=this.state[h.MARKER];if(e){var t=this.context[h.MARKER_CLUSTERER];t&&t.removeMarker(e,!!this.props.noRedraw),e.setMap(null)}}},{key:"render",value:function(){var e=this.props.children;return u.default.createElement("div",null,e)}},{key:"getAnimation",value:function(){return this.state[h.MARKER].getAnimation()}},{key:"getClickable",value:function(){return this.state[h.MARKER].getClickable()}},{key:"getCursor",value:function(){return this.state[h.MARKER].getCursor()}},{key:"getDraggable",value:function(){return this.state[h.MARKER].getDraggable()}},{key:"getIcon",value:function(){return this.state[h.MARKER].getIcon()}},{key:"getLabel",value:function(){return this.state[h.MARKER].getLabel()}},{key:"getOpacity",value:function(){return this.state[h.MARKER].getOpacity()}},{key:"getPlace",value:function(){return this.state[h.MARKER].getPlace()}},{key:"getPosition",value:function(){return this.state[h.MARKER].getPosition()}},{key:"getShape",value:function(){return this.state[h.MARKER].getShape()}},{key:"getTitle",value:function(){return this.state[h.MARKER].getTitle()}},{key:"getVisible",value:function(){return this.state[h.MARKER].getVisible()}},{key:"getZIndex",value:function(){return this.state[h.MARKER].getZIndex()}}]),t}(u.default.PureComponent);m.propTypes={noRedraw:d.default.bool,defaultAnimation:d.default.any,defaultClickable:d.default.bool,defaultCursor:d.default.string,defaultDraggable:d.default.bool,defaultIcon:d.default.any,defaultLabel:d.default.any,defaultOpacity:d.default.number,defaultOptions:d.default.any,defaultPlace:d.default.any,defaultPosition:d.default.any,defaultShape:d.default.any,defaultTitle:d.default.string,defaultVisible:d.default.bool,defaultZIndex:d.default.number,animation:d.default.any,clickable:d.default.bool,cursor:d.default.string,draggable:d.default.bool,icon:d.default.any,label:d.default.any,opacity:d.default.number,options:d.default.any,place:d.default.any,position:d.default.any,shape:d.default.any,title:d.default.string,visible:d.default.bool,zIndex:d.default.number,onDblClick:d.default.func,onDragEnd:d.default.func,onDragStart:d.default.func,onMouseDown:d.default.func,onMouseOut:d.default.func,onMouseOver:d.default.func,onMouseUp:d.default.func,onRightClick:d.default.func,onAnimationChanged:d.default.func,onClick:d.default.func,onClickableChanged:d.default.func,onCursorChanged:d.default.func,onDrag:d.default.func,onDraggableChanged:d.default.func,onFlatChanged:d.default.func,onIconChanged:d.default.func,onPositionChanged:d.default.func,onShapeChanged:d.default.func,onTitleChanged:d.default.func,onVisibleChanged:d.default.func,onZindexChanged:d.default.func},m.contextTypes=(a={},(0,r.default)(a,h.MAP,d.default.object),(0,r.default)(a,h.MARKER_CLUSTERER,d.default.object),a),m.childContextTypes=(0,r.default)({},h.ANCHOR,d.default.object),t.default=m;var g={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDrag:"drag",onDraggableChanged:"draggable_changed",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onPositionChanged:"position_changed",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},v={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},place:function(e,t){e.setPlace(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Polyline=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Polyline=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.Polyline;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.POLYLINE,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.POLYLINE],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.POLYLINE],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.POLYLINE];e&&e.setMap(null)}},{key:"render",value:function(){return!1}},{key:"getDraggable",value:function(){return this.state[p.POLYLINE].getDraggable()}},{key:"getEditable",value:function(){return this.state[p.POLYLINE].getEditable()}},{key:"getPath",value:function(){return this.state[p.POLYLINE].getPath()}},{key:"getVisible",value:function(){return this.state[p.POLYLINE].getVisible()}}]),t}(c.default.PureComponent);f.propTypes={defaultDraggable:u.default.bool,defaultEditable:u.default.bool,defaultOptions:u.default.any,defaultPath:u.default.any,defaultVisible:u.default.bool,draggable:u.default.bool,editable:u.default.bool,options:u.default.any,path:u.default.any,visible:u.default.bool,onDblClick:u.default.func,onDragEnd:u.default.func,onDragStart:u.default.func,onMouseDown:u.default.func,onMouseMove:u.default.func,onMouseOut:u.default.func,onMouseOver:u.default.func,onMouseUp:u.default.func,onRightClick:u.default.func,onClick:u.default.func,onDrag:u.default.func},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onClick:"click",onDrag:"drag"},g={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Polygon=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Polygon=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.Polygon;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.POLYGON,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.POLYGON],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.POLYGON],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.POLYGON];e&&e.setMap(null)}},{key:"render",value:function(){return!1}},{key:"getDraggable",value:function(){return this.state[p.POLYGON].getDraggable()}},{key:"getEditable",value:function(){return this.state[p.POLYGON].getEditable()}},{key:"getPath",value:function(){return this.state[p.POLYGON].getPath()}},{key:"getPaths",value:function(){return this.state[p.POLYGON].getPaths()}},{key:"getVisible",value:function(){return this.state[p.POLYGON].getVisible()}}]),t}(c.default.PureComponent);f.propTypes={defaultDraggable:u.default.bool,defaultEditable:u.default.bool,defaultOptions:u.default.any,defaultPath:u.default.any,defaultPaths:u.default.any,defaultVisible:u.default.bool,draggable:u.default.bool,editable:u.default.bool,options:u.default.any,path:u.default.any,paths:u.default.any,visible:u.default.bool,onDblClick:u.default.func,onDragEnd:u.default.func,onDragStart:u.default.func,onMouseDown:u.default.func,onMouseMove:u.default.func,onMouseOut:u.default.func,onMouseOver:u.default.func,onMouseUp:u.default.func,onRightClick:u.default.func,onClick:u.default.func,onDrag:u.default.func},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onClick:"click",onDrag:"drag"},g={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rectangle=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Rectangle=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.Rectangle;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.RECTANGLE,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.RECTANGLE],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.RECTANGLE],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.RECTANGLE];e&&e.setMap(null)}},{key:"render",value:function(){return!1}},{key:"getBounds",value:function(){return this.state[p.RECTANGLE].getBounds()}},{key:"getDraggable",value:function(){return this.state[p.RECTANGLE].getDraggable()}},{key:"getEditable",value:function(){return this.state[p.RECTANGLE].getEditable()}},{key:"getVisible",value:function(){return this.state[p.RECTANGLE].getVisible()}}]),t}(c.default.PureComponent);f.propTypes={defaultBounds:u.default.any,defaultDraggable:u.default.bool,defaultEditable:u.default.bool,defaultOptions:u.default.any,defaultVisible:u.default.bool,bounds:u.default.any,draggable:u.default.bool,editable:u.default.bool,options:u.default.any,visible:u.default.bool,onDblClick:u.default.func,onDragEnd:u.default.func,onDragStart:u.default.func,onMouseDown:u.default.func,onMouseMove:u.default.func,onMouseOut:u.default.func,onMouseOver:u.default.func,onMouseUp:u.default.func,onRightClick:u.default.func,onBoundsChanged:u.default.func,onClick:u.default.func,onDrag:u.default.func},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onBoundsChanged:"bounds_changed",onClick:"click",onDrag:"drag"},g={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfoWindow=void 0;var a,r=v(n(1544)),i=v(n(1527)),s=v(n(1528)),o=v(n(1529)),l=v(n(1530)),c=v(n(1531)),u=v(n(187)),d=v(n(2468)),p=v(n(1)),h=v(n(102)),f=v(n(6)),m=n(1573),g=n(1545);function v(e){return e&&e.__esModule?e:{default:e}}var y=t.InfoWindow=function(e){function t(e,n){(0,s.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n)),o=new google.maps.InfoWindow;return(0,m.construct)(t.propTypes,C,a.props,o),o.setMap(a.context[g.MAP]),a.state=(0,r.default)({},g.INFO_WINDOW,o),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){d.default&&!this.containerElement&&p.default.version.match(/^16/)&&(this.containerElement=document.createElement("div"))}},{key:"componentDidMount",value:function(){if((0,m.componentDidMount)(this,this.state[g.INFO_WINDOW],E),p.default.version.match(/^16/))return this.state[g.INFO_WINDOW].setContent(this.containerElement),void b(this.state[g.INFO_WINDOW],this.context[g.ANCHOR]);var e=document.createElement("div");h.default.unstable_renderSubtreeIntoContainer(this,p.default.Children.only(this.props.children),e),this.state[g.INFO_WINDOW].setContent(e),b(this.state[g.INFO_WINDOW],this.context[g.ANCHOR])}},{key:"componentDidUpdate",value:function(e){(0,m.componentDidUpdate)(this,this.state[g.INFO_WINDOW],E,C,e),p.default.version.match(/^16/)||this.props.children!==e.children&&h.default.unstable_renderSubtreeIntoContainer(this,p.default.Children.only(this.props.children),this.state[g.INFO_WINDOW].getContent())}},{key:"componentWillUnmount",value:function(){(0,m.componentWillUnmount)(this);var e=this.state[g.INFO_WINDOW];e&&(!p.default.version.match(/^16/)&&e.getContent()&&h.default.unmountComponentAtNode(e.getContent()),e.setMap(null))}},{key:"render",value:function(){return!!p.default.version.match(/^16/)&&h.default.createPortal(p.default.Children.only(this.props.children),this.containerElement)}},{key:"getPosition",value:function(){return this.state[g.INFO_WINDOW].getPosition()}},{key:"getZIndex",value:function(){return this.state[g.INFO_WINDOW].getZIndex()}}]),t}(p.default.PureComponent);y.propTypes={defaultOptions:f.default.any,defaultPosition:f.default.any,defaultZIndex:f.default.number,options:f.default.any,position:f.default.any,zIndex:f.default.number,onCloseClick:f.default.func,onDomReady:f.default.func,onContentChanged:f.default.func,onPositionChanged:f.default.func,onZindexChanged:f.default.func},y.contextTypes=(a={},(0,r.default)(a,g.MAP,f.default.object),(0,r.default)(a,g.ANCHOR,f.default.object),a),t.default=y;var b=function(e,t){t?e.open(e.getMap(),t):e.getPosition()?e.open(e.getMap()):(0,u.default)(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},E={onCloseClick:"closeclick",onDomReady:"domready",onContentChanged:"content_changed",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},C={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayView=void 0;var a,r=C(n(2928)),i=C(n(1544)),s=C(n(1527)),o=C(n(1528)),l=C(n(1529)),c=C(n(1530)),u=C(n(1531)),d=C(n(332)),p=C(n(16)),h=C(n(2171)),f=C(n(187)),m=C(n(1)),g=C(n(102)),v=C(n(6)),y=n(1573),b=n(2933),E=n(1545);function C(e){return e&&e.__esModule?e:{default:e}}var k=t.OverlayView=function(e){function t(e,n){(0,o.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n)),r=new google.maps.OverlayView;return r.onAdd=(0,h.default)(a.onAdd,a),r.draw=(0,h.default)(a.draw,a),r.onRemove=(0,h.default)(a.onRemove,a),a.onPositionElement=(0,h.default)(a.onPositionElement,a),r.setMap(a.context[E.MAP]),a.state=(0,i.default)({},E.OVERLAY_VIEW,r),a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"onAdd",value:function(){this.containerElement=document.createElement("div"),this.containerElement.style.position="absolute"}},{key:"draw",value:function(){var e=this.props.mapPaneName;(0,f.default)(!!e,"OverlayView requires either props.mapPaneName or props.defaultMapPaneName but got %s",e),this.state[E.OVERLAY_VIEW].getPanes()[e].appendChild(this.containerElement),g.default.unstable_renderSubtreeIntoContainer(this,m.default.Children.only(this.props.children),this.containerElement,this.onPositionElement)}},{key:"onPositionElement",value:function(){var e=this.state[E.OVERLAY_VIEW].getProjection(),t=(0,r.default)({x:0,y:0},(0,b.getOffsetOverride)(this.containerElement,this.props)),n=(0,b.getLayoutStyles)(e,t,this.props);(0,p.default)(this.containerElement.style,n)}},{key:"onRemove",value:function(){this.containerElement.parentNode.removeChild(this.containerElement),g.default.unmountComponentAtNode(this.containerElement),this.containerElement=null}},{key:"componentDidMount",value:function(){(0,y.componentDidMount)(this,this.state[E.OVERLAY_VIEW],S)}},{key:"componentDidUpdate",value:function(e){(0,y.componentDidUpdate)(this,this.state[E.OVERLAY_VIEW],S,_,e),(0,d.default)(this.state[E.OVERLAY_VIEW].draw)}},{key:"componentWillUnmount",value:function(){(0,y.componentWillUnmount)(this);var e=this.state[E.OVERLAY_VIEW];e&&(e.setMap(null),e.onAdd=null,e.draw=null,e.onRemove=null)}},{key:"render",value:function(){return!1}},{key:"getPanes",value:function(){return this.state[E.OVERLAY_VIEW].getPanes()}},{key:"getProjection",value:function(){return this.state[E.OVERLAY_VIEW].getProjection()}}]),t}(m.default.PureComponent);k.FLOAT_PANE="floatPane",k.MAP_PANE="mapPane",k.MARKER_LAYER="markerLayer",k.OVERLAY_LAYER="overlayLayer",k.OVERLAY_MOUSE_TARGET="overlayMouseTarget",k.propTypes={mapPaneName:v.default.string,position:v.default.object,bounds:v.default.object,children:v.default.node.isRequired,getPixelPositionOffset:v.default.func},k.contextTypes=(a={},(0,i.default)(a,E.MAP,v.default.object),(0,i.default)(a,E.ANCHOR,v.default.object),a),t.default=k;var S={},_={}},function(e,t,n){"use strict";t.__esModule=!0;var a,r=n(2929),i=(a=r)&&a.__esModule?a:{default:a};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}},function(e,t,n){e.exports={default:n(2930),__esModule:!0}},function(e,t,n){n(2931),e.exports=n(537).Object.assign},function(e,t,n){var a=n(764);a(a.S+a.F,"Object",{assign:n(2932)})},function(e,t,n){"use strict";var a=n(448),r=n(2169),i=n(2290),s=n(2170),o=n(2112),l=n(2457),c=Object.assign;e.exports=!c||n(561)((function(){var e={},t={},n=Symbol(),a="abcdefghijklmnopqrst";return e[n]=7,a.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=a}))?function(e,t){for(var n=o(e),c=arguments.length,u=1,d=i.f,p=s.f;c>u;)for(var h,f=l(arguments[u++]),m=d?r(f).concat(d(f)):r(f),g=m.length,v=0;g>v;)h=m[v++],a&&!p.call(f,h)||(n[h]=f[h]);return n}:c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(197),i=(a=r)&&a.__esModule?a:{default:a};function s(e,t){return new t(e.lat,e.lng)}function o(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function l(e,t,n){return e instanceof t?e:n(e,t)}t.getOffsetOverride=function(e,t){var n=t.getPixelPositionOffset;return(0,i.default)(n)?n(e.offsetWidth,e.offsetHeight):{}},t.getLayoutStyles=function(e,t,n){if(n.bounds){var a=l(n.bounds,google.maps.LatLngBounds,o);return function(e,t,n){var a=e.fromLatLngToDivPixel(n.getNorthEast()),r=e.fromLatLngToDivPixel(n.getSouthWest());if(a&&r)return{left:r.x+t.x+"px",top:a.y+t.y+"px",width:a.x-r.x-t.x+"px",height:r.y-a.y-t.y+"px"};return{left:"-9999px",top:"-9999px"}}(e,t,a)}var r=l(n.position,google.maps.LatLng,s);return function(e,t,n){var a=e.fromLatLngToDivPixel(n);if(a){var r=a.x,i=a.y;return{left:r+t.x+"px",top:i+t.y+"px"}}return{left:"-9999px",top:"-9999px"}}(e,t,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroundOverlay=void 0;var a=f(n(1544)),r=f(n(1527)),i=f(n(1528)),s=f(n(1529)),o=f(n(1530)),l=f(n(1531)),c=f(n(2471)),u=f(n(1)),d=f(n(6)),p=n(1573),h=n(1545);function f(e){return e&&e.__esModule?e:{default:e}}var m=t.GroundOverlay=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));(0,c.default)(!e.url||!e.bounds,"\nFor GroundOveray, url and bounds are passed in to constructor and are immutable\n after iinstantiated. This is the behavior of Google Maps JavaScript API v3 (\n See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay)\n Hence, use the corresponding two props provided by `react-google-maps`.\n They're prefixed with _default_ (defaultUrl, defaultBounds).\n\n In some cases, you'll need the GroundOverlay component to reflect the changes\n of url and bounds. You can leverage the React's key property to remount the\n component. Typically, just `key={url}` would serve your need.\n See https://github.com/tomchentw/react-google-maps/issues/655\n");var l=new google.maps.GroundOverlay(e.defaultUrl||e.url,e.defaultBounds||e.bounds);return(0,p.construct)(t.propTypes,v,s.props,l),l.setMap(s.context[h.MAP]),s.state=(0,a.default)({},h.GROUND_LAYER,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,p.componentDidMount)(this,this.state[h.GROUND_LAYER],g)}},{key:"componentDidUpdate",value:function(e){(0,p.componentDidUpdate)(this,this.state[h.GROUND_LAYER],g,v,e)}},{key:"componentWillUnmount",value:function(){(0,p.componentWillUnmount)(this);var e=this.state[h.GROUND_LAYER];e&&e.setMap(null)}},{key:"render",value:function(){return!1}},{key:"getBounds",value:function(){return this.state[h.GROUND_LAYER].getBounds()}},{key:"getOpacity",value:function(){return this.state[h.GROUND_LAYER].getOpacity()}},{key:"getUrl",value:function(){return this.state[h.GROUND_LAYER].getUrl()}}]),t}(u.default.PureComponent);m.propTypes={defaultUrl:d.default.string,defaultBounds:d.default.object,url:d.default.string,bounds:d.default.object,defaultOpacity:d.default.number,opacity:d.default.number,onDblClick:d.default.func,onClick:d.default.func},m.contextTypes=(0,a.default)({},h.MAP,d.default.object),t.default=m;var g={onDblClick:"dblclick",onClick:"click"},v={opacity:function(e,t){e.setOpacity(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionsRenderer=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.DirectionsRenderer=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.DirectionsRenderer;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.DIRECTIONS_RENDERER,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.DIRECTIONS_RENDERER],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.DIRECTIONS_RENDERER],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.DIRECTIONS_RENDERER];e&&e.setMap(null)}},{key:"render",value:function(){return!1}},{key:"getDirections",value:function(){return this.state[p.DIRECTIONS_RENDERER].getDirections()}},{key:"getPanel",value:function(){return this.state[p.DIRECTIONS_RENDERER].getPanel()}},{key:"getRouteIndex",value:function(){return this.state[p.DIRECTIONS_RENDERER].getRouteIndex()}}]),t}(c.default.PureComponent);f.propTypes={defaultDirections:u.default.any,defaultOptions:u.default.any,defaultPanel:u.default.any,defaultRouteIndex:u.default.number,directions:u.default.any,options:u.default.any,panel:u.default.any,routeIndex:u.default.number,onDirectionsChanged:u.default.func},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={onDirectionsChanged:"directions_changed"},g={directions:function(e,t){e.setDirections(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FusionTablesLayer=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.FusionTablesLayer=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.FusionTablesLayer;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.FUSION_TABLES_LAYER,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.FUSION_TABLES_LAYER],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.FUSION_TABLES_LAYER],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.FUSION_TABLES_LAYER];e&&e.setMap(null)}},{key:"render",value:function(){return!1}}]),t}(c.default.PureComponent);f.propTypes={defaultOptions:u.default.any,options:u.default.any,onClick:u.default.func},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={onClick:"click"},g={options:function(e,t){e.setOptions(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KmlLayer=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.KmlLayer=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.KmlLayer;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.KML_LAYER,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.KML_LAYER],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.KML_LAYER],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.KML_LAYER];e&&e.setMap(null)}},{key:"render",value:function(){return!1}},{key:"getDefaultViewport",value:function(){return this.state[p.KML_LAYER].getDefaultViewport()}},{key:"getMetadata",value:function(){return this.state[p.KML_LAYER].getMetadata()}},{key:"getStatus",value:function(){return this.state[p.KML_LAYER].getStatus()}},{key:"getUrl",value:function(){return this.state[p.KML_LAYER].getUrl()}},{key:"getZIndex",value:function(){return this.state[p.KML_LAYER].getZIndex()}}]),t}(c.default.PureComponent);f.propTypes={defaultOptions:u.default.any,defaultUrl:u.default.string,defaultZIndex:u.default.number,options:u.default.any,url:u.default.string,zIndex:u.default.number,onDefaultViewportChanged:u.default.func,onClick:u.default.func,onStatusChanged:u.default.func},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={onDefaultViewportChanged:"defaultviewport_changed",onClick:"click",onStatusChanged:"status_changed"},g={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrafficLayer=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.TrafficLayer=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.TrafficLayer;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.TRAFFIC_LAYER,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.TRAFFIC_LAYER],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.TRAFFIC_LAYER],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.TRAFFIC_LAYER];e&&e.setMap(null)}},{key:"render",value:function(){return!1}}]),t}(c.default.PureComponent);f.propTypes={defaultOptions:u.default.any,options:u.default.any},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={},g={options:function(e,t){e.setOptions(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreetViewPanorama=void 0;var a=f(n(1544)),r=f(n(1527)),i=f(n(1528)),s=f(n(1529)),o=f(n(1530)),l=f(n(1531)),c=f(n(187)),u=f(n(1)),d=f(n(6)),p=n(1573),h=n(1545);function f(e){return e&&e.__esModule?e:{default:e}}var m=t.StreetViewPanorama=function(e){function t(e,n){(0,i.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return(0,c.default)(!!a.context[h.MAP],"Did you render <StreetViewPanorama> as a child of <GoogleMap> with withGoogleMap() HOC?"),(0,p.construct)(t.propTypes,v,a.props,a.context[h.MAP].getStreetView()),a}return(0,l.default)(t,e),(0,s.default)(t,[{key:"getChildContext",value:function(){return(0,a.default)({},h.MAP,this.context[h.MAP].getStreetView())}},{key:"componentDidMount",value:function(){(0,p.componentDidMount)(this,this.context[h.MAP].getStreetView(),g)}},{key:"componentDidUpdate",value:function(e){(0,p.componentDidUpdate)(this,this.context[h.MAP].getStreetView(),g,v,e)}},{key:"componentWillUnmount",value:function(){(0,p.componentWillUnmount)(this);var e=this.context[h.MAP].getStreetView();e&&e.setVisible(!1)}},{key:"render",value:function(){var e=this.props.children;return u.default.createElement("div",null,e)}},{key:"getLinks",value:function(){return this.context[h.MAP].getLinks()}},{key:"getLocation",value:function(){return this.context[h.MAP].getLocation()}},{key:"getMotionTracking",value:function(){return this.context[h.MAP].getMotionTracking()}},{key:"getPano",value:function(){return this.context[h.MAP].getPano()}},{key:"getPhotographerPov",value:function(){return this.context[h.MAP].getPhotographerPov()}},{key:"getPosition",value:function(){return this.context[h.MAP].getPosition()}},{key:"getPov",value:function(){return this.context[h.MAP].getPov()}},{key:"getStatus",value:function(){return this.context[h.MAP].getStatus()}},{key:"getVisible",value:function(){return this.context[h.MAP].getVisible()}},{key:"getZoom",value:function(){return this.context[h.MAP].getZoom()}}]),t}(u.default.PureComponent);m.propTypes={defaultLinks:d.default.any,defaultMotionTracking:d.default.bool,defaultOptions:d.default.any,defaultPano:d.default.string,defaultPosition:d.default.any,defaultPov:d.default.any,defaultVisible:d.default.bool,defaultZoom:d.default.number,links:d.default.any,motionTracking:d.default.bool,options:d.default.any,pano:d.default.string,position:d.default.any,pov:d.default.any,visible:d.default.bool,zoom:d.default.number,onCloseClick:d.default.func,onPanoChanged:d.default.func,onPositionChanged:d.default.func,onPovChanged:d.default.func,onResize:d.default.func,onStatusChanged:d.default.func,onVisibleChanged:d.default.func,onZoomChanged:d.default.func},m.contextTypes=(0,a.default)({},h.MAP,d.default.object),m.childContextTypes=(0,a.default)({},h.MAP,d.default.object),t.default=m;var g={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},v={links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BicyclingLayer=void 0;var a=h(n(1544)),r=h(n(1527)),i=h(n(1528)),s=h(n(1529)),o=h(n(1530)),l=h(n(1531)),c=h(n(1)),u=h(n(6)),d=n(1573),p=n(1545);function h(e){return e&&e.__esModule?e:{default:e}}var f=t.BicyclingLayer=function(e){function t(e,n){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),l=new google.maps.BicyclingLayer;return(0,d.construct)(t.propTypes,g,s.props,l),l.setMap(s.context[p.MAP]),s.state=(0,a.default)({},p.BICYCLING_LAYER,l),s}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.componentDidMount)(this,this.state[p.BICYCLING_LAYER],m)}},{key:"componentDidUpdate",value:function(e){(0,d.componentDidUpdate)(this,this.state[p.BICYCLING_LAYER],m,g,e)}},{key:"componentWillUnmount",value:function(){(0,d.componentWillUnmount)(this);var e=this.state[p.BICYCLING_LAYER];e&&e.setMap(null)}},{key:"render",value:function(){return!1}}]),t}(c.default.PureComponent);f.propTypes={},f.contextTypes=(0,a.default)({},p.MAP,u.default.object),t.default=f;var m={},g={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(15),y=n.n(v),b=n(0),E=n.n(b),C=n(1),k=n.n(C),S=(n(6),n(11)),_=(n(194),n(1714)),O=n(155),w=n(199),P=n.n(w),A=n(23),x=n.n(A),N=n(546),T=n.n(N),I=n(27),B=n.n(I),L=n(13),D=n.n(L),j=n(58),F=n.n(j),M=n(5),R=n.n(M),V=n(83),H=n.n(V),U=n(52),W=n.n(U),q=n(39),z=n.n(q),G=n(12),K=n(1249),Y=n(2374),Q=n(574),X=(n(2724),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=s()(this,(e=l()(t)).call.apply(e,[this].concat(i))),g()(u()(n),"handleEvent",(function(e){var t=n.props,a=t.rowIndex,r=t.index,i=t.seat;return"click"===e.type&&n.props.seat.get("available")?n.props.onSlotSelection(i):-1!==[37,38,39,40].indexOf(e.keyCode)?n.props.onSlotNav&&n.props.onSlotNav(e.keyCode,a,r):null})),n}return f()(t,e),p()(t,[{key:"compareSeatPrices",value:function(e){if("exchange"!==this.props.flow)return!e.get("available");var n=this.props,a=n.selectedSeatPrices,r=void 0===a?[]:a,i=n.selectedSegmentIndex,s=n.itineraryPartIndex,o=n.currentPassenger,l=e.get("seatCharacteristics").map((function(e){return t.extractSeatCharacteristicDescription(e)})).includes("premium")&&e.get("prices").size&&e.get("seatPrice").toJS(),c=F()(l),u=R()(c,(function(e){return x()(e)?B()(e).amount:e.amount})),d=E()(this.props.shoppingCart,"data.itinerary.itineraryParts",[]),p=0,h={};D()(d,(function(e,t){D()(e.segments,(function(e,n){h["".concat(t).concat(n)]=p,p+=1}))}));var f=h["".concat(s).concat(i)],m=E()(r,"[".concat(o,"][").concat(f,"]"),[]);if(l&&T()(R()(m,(function(e){return B()(e).amount})))<T()(u))return!0;return!1}},{key:"focus",value:function(){this.selectButton&&this.selectButton.focus()}},{key:"resolveSeatState",value:function(){var e=this.props,t=e.seat,n=e.preselectedSeats,a=t.get("available")&&this.compareSeatPrices(t);return!t.get("available")||a?Y.b.UNAVAILABLE_SEAT:-1!==W()(H()(n),t.get("code"))?Y.b.SELECTED_SEAT:Y.b.AVAILABLE_SEAT}},{key:"renderSeat",value:function(){var e=this.props,n=e.seat,a=e.configuration,r=e.id,i=e.preselectedSeats,s=e.passengerAvatars,o=a.displaySeatNumber,l=-1!==W()(H()(i),n.get("code")),c=n.get("seatCharacteristics").includes(Q.b.REAR_FACING),u=z()("seat",{selected:l},{"rear-facing":c});return k.a.createElement("div",{className:u,id:r},l&&k.a.createElement("div",{className:"selected-mark"},k.a.createElement("span",{className:"sr-only"},Object(G.a)("seatSelection.seat.selectedForPax")," "),s[W()(H()(i),n.get("code"))]),k.a.createElement("div",{className:"legroom"}),k.a.createElement("div",{className:"seat-shadow"},k.a.createElement("span",{className:"code"},o&&n.get("code")),k.a.createElement("div",{className:"back"}),n.get("available")?t.renderSeatDescription(n):k.a.createElement("span",{className:"sr-only"},Object(G.a)("seatSelection.legend.non-selectable"))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.seat,a=t.configuration,r=t.seatCodeExists,i=a.renderFloor,s=n.get("available")&&this.compareSeatPrices(n)||n.get("available")&&!r,o=n.get("discountInfo")&&n.get("available")&&!s,l=n.get("seatCharacteristics",[]).join(" "),c=this.props.seat.get("seatCharacteristics",[]).join(" ").includes("paid")?Y.c.PAID_SEAT:Y.c.FREE_SEAT,u=this.resolveSeatState(),d=z()("dxp-seat",this.props.className,l,n.get("slotCharacteristics"),u,c,{unavailable:!n.get("available")||s,"no-floor":!i});return k.a.createElement("div",{className:"dxp-seat-container"},o&&k.a.createElement("div",{className:"dxp-seat-sale"},k.a.createElement("span",null,Object(G.a)("seatSelection.seat.sale"))),k.a.createElement("button",{type:"button","data-test-id":c,"data-component-state":this.resolveSeatState(),id:"dxp-select-".concat(this.props.id),className:d,disabled:!n.get("available")||s,ref:function(t){e.selectButton=t},onClick:this.handleEvent,onKeyUp:this.handleEvent},this.renderSeat()))}}],[{key:"extractSeatCharacteristicDescription",value:function(e){return P()(e,"-")[0]}},{key:"renderSeatDescription",value:function(e){var n=e.get("code"),a=e.get("seatCharacteristics").map((function(e){return t.extractSeatCharacteristicDescription(e)})),r=a.includes("window"),i=a.includes("aisle"),s=a.includes("premium"),o=a.includes("exit"),l=e.get("discountInfo"),c=Object(S.List)();s&&e.get("prices")&&(c=e.get("seatPrice"));var u=c.map((function(e){return k.a.createElement(K.a,{key:e,includeDecimal:!0,price:e.toJS()})})),d=[];return d.push(Object(G.i)("seatSelection.seat.description.number",{code:n})),r&&d.push(Object(G.i)("seatSelection.seat.description.windowSeat")),i&&d.push(Object(G.i)("seatSelection.seat.description.aisleSeat")),s&&d.push(Object(G.i)("seatSelection.seat.description.premiumSeat")),!u.size&&d.push(Object(G.i)("seatSelection.seat.freeOfCharge")),o&&d.push(Object(G.i)("seatSelection.seat.description.exitSeat")),l&&l.size>0&&d.push(Object(G.i)("seatSelection.seat.description.saleSeat")),k.a.createElement("div",{className:"sr-only"},d.join(", "),u.size>0&&u)}}]),t}(C.PureComponent));g()(X,"defaultProps",{className:""});n(2725),n(2726);var J=function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,n=e.wing,a=e.configuration.slotCharacteristics,r=n.get("slotCharacteristics"),i=z()("dxp-wing",r.toArray());return k.a.createElement("div",{className:i},k.a.createElement("div",{className:"wing"}),r.includes(a.WING_BEGIN)&&t.renderWingBegin(),r.includes(a.WING_END)&&t.renderWingEnd())}}],[{key:"renderWingBegin",value:function(){return k.a.createElement("div",{className:"wing-begin"})}},{key:"renderWingEnd",value:function(){return k.a.createElement("div",{className:"wing-end"})}}]),t}(C.PureComponent);g()(J,"defaultProps",{configuration:{}});n(2727);var Z=function(e){var t=e.aisle,n=e.configuration,a=n.renderFloor,r=n.displayRowNumber,i=z()("dxp-aisle",t.get("slotCharacteristics"),{"no-floor":!a});return k.a.createElement("div",{className:i},r&&t.get("rowNumber"))},$=(n(2728),n(2729),function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"getClassNames",value:function(){var e=this.props,t=e.blank,n=e.configuration,a=n.renderWings,r=n.renderFloor;return z()("dxp-blank",t.get("slotCharacteristics").toArray(),{"no-wings":!a,"no-floor":!r})}},{key:"render",value:function(){var e=this.getClassNames();return k.a.createElement("div",{className:e})}}]),t}(C.PureComponent)),ee=(n(2730),function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"getClassName",value:function(){var e=this.props,t=e.bulkhead,n=e.configuration.renderFloor;return z()("dxp-bulkhead",t.get("slotCharacteristics"),{"no-floor":!n})}},{key:"render",value:function(){var e=this.getClassName();return k.a.createElement("div",{className:e})}}]),t}(C.PureComponent)),te=n(50),ne=(n(2731),n(2732),function(e){function t(){return r()(this,t),s()(this,l()(t).apply(this,arguments))}return f()(t,e),p()(t,[{key:"renderExit",value:function(e){var t=this.props.configuration.slotCharacteristics;return-1!==e.indexOf(t.EXIT)?k.a.createElement("div",{className:"exit-label"},k.a.createElement(te.c,{name:te.a.ARROW_CHEVRON_LEFT}),k.a.createElement(te.c,{name:te.a.ARROW_CHEVRON_LEFT})):null}},{key:"render",value:function(){var e=this.props.fuselage.get("slotCharacteristics"),t=z()("dxp-fuselage",e.toArray());return k.a.createElement("div",{className:t},this.renderExit(e))}}]),t}(C.PureComponent)),ae=n(2371),re=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=s()(this,(e=l()(t)).call.apply(e,[this].concat(i))),g()(u()(n),"onSeatSelect",(function(){n.props.onSlotSelection(u()(n))})),n}return f()(t,e),p()(t,[{key:"shouldComponentUpdate",value:function(e){return Object(_.a)({left:e,right:this.props,keys:["preselectedSeats","selectedSeatPrices","selectedPassenger"]})}},{key:"focus",value:function(){var e=this[this.props.item.get("code")];return e&&e.focus()}},{key:"renderAisle",value:function(e){var t=this.props.configuration;return k.a.createElement(Z,{aisle:e,configuration:t})}},{key:"renderBlank",value:function(e){var t=this.props.configuration;return k.a.createElement($,{blank:e,configuration:t})}},{key:"renderBulkhead",value:function(e){var t=this.props.configuration;return k.a.createElement(ee,{bulkhead:e,configuration:t})}},{key:"renderFacility",value:function(e){var t=this.props.configuration;return k.a.createElement(ae.a,{facility:e,configuration:t})}},{key:"renderFuselage",value:function(e){var t=this.props.configuration;return k.a.createElement(ne,{fuselage:e,configuration:t})}},{key:"renderSeat",value:function(e){var n=this,a=this.props,r=a.seatMap,i=a.configuration,s=a.selectedPassenger,o=a.preselectedSeats,l=a.id,c=a.selectedSeatPrices,u=a.itineraryPartIndex,d=a.selectedSegmentIndex,p=a.shoppingCart,h=a.flow,f=a.rowIndex,m=a.index,g=a.passengerAvatars,v=e.get("rowNumber"),y=r.get("seatRows").filter((function(e){return e.get("rowNumber")===v})),b=t.hasSeatCode(y,v);return k.a.createElement(X,{ref:function(t){n[e.get("code")]=t},seatCodeExists:b,seat:e,configuration:i,preselectedSeats:o,selectedSeatPrices:c,currentPassenger:s,itineraryPartIndex:u,selectedSegmentIndex:d,onClick:this.onSeatSelect,shoppingCart:p,flow:h,onSlotSelection:this.onSeatSelect,onSlotNav:this.props.onSlotNav,id:l,rowIndex:f,index:m,passengerAvatars:g})}},{key:"renderWing",value:function(e){var t=this.props.configuration;return t.renderWings?k.a.createElement(J,{wing:e,configuration:t}):null}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.code,a=e.item;return k.a.createElement("div",null,t===n.SEAT&&this.renderSeat(a),t===n.WING&&this.renderWing(a),t===n.BULKHEAD&&this.renderBulkhead(a),t===n.AISLE&&this.renderAisle(a),t===n.FUSELAGE&&this.renderFuselage(a),a.get("isFacility")&&this.renderFacility(a),(t===n.BLANK||a.get("isBlankSlot"))&&this.renderBlank(a))}}],[{key:"hasSeatCode",value:function(e){return e.some((function(e){return e.get("seatCodes",Object(S.List)()).some((function(e){return e===O.a.SEAT}))}))}}]),t}(C.Component);g()(re,"defaultProps",{onSlotNav:void 0,item:Object(S.Map)(),code:{},type:"",id:""});var ie=function(e){function t(e){var n;return r()(this,t),n=s()(this,l()(t).call(this,e)),g()(u()(n),"handleSlotNavigation",(function(e,a,r){var i=n.props.seatMap,s=i.get("seatColumns")&&i.get("seatColumns").size,o=i.get("seatRows")&&i.get("seatRows").size;if(!(0===a&&0===r||a===o&&r===s)){var l=n.props.configuration.slotCode,c=t.getColumnIndex(e,r),u=t.getRowIndex(e,a),d=n.slots["seat_".concat(u,"_").concat(c)];d&&(d.props.item.get("storefrontSlotCode")===l.SEAT&&d.props.item.get("available",!1)?d.focus&&d.focus():n.handleSlotNavigation(e,u,c))}})),n.slots={},n}return f()(t,e),p()(t,null,[{key:"getColumnIndex",value:function(e,t){return-1!==[37,39].indexOf(e)?37===e?t-1:t+1:t}},{key:"getRowIndex",value:function(e,t){return-1!==[38,40].indexOf(e)?38===e?t-1:t+1:t}}]),p()(t,[{key:"enterTable",value:function(){var e=this,t=y()(this.slots,(function(t){return e.isSelectableSlot(t)}));t&&t.focus()}},{key:"isSelectableSlot",value:function(e){var t=this.props.configuration.slotCode,n=E()(e,["props","item"],Object(S.Map)());return n.get("storefrontSlotCode")===t.SEAT&&n.get("available",!1)}},{key:"renderHeaders",value:function(){var e=this.props.seatMap.get("seatColumns",[]).map((function(e,t){var n="header".concat(t);return k.a.createElement("th",{className:e,key:n,scope:"col"},k.a.createElement("span",null,e))}));return k.a.createElement("tr",null,e)}},{key:"renderRow",value:function(e,t){var n=this,a=this.props,r=a.configuration,i=a.passengerAvatars,s=r.slotCode;return e.get("seats",[]).map((function(e,a){var o="row".concat(a),l="seat_".concat(t,"_").concat(a);return k.a.createElement("td",{key:o,colSpan:e.get("colWidth")||1},k.a.createElement(re,{key:o,code:s,seatMap:n.props.seatMap,item:e,ref:function(e){n.slots[l]=e},onSlotNav:n.handleSlotNavigation,rowIndex:t,index:a,type:e.get("storefrontSlotCode"),configuration:r,preselectedSeats:n.props.preselectedSeats,id:"seat-".concat(t,"-").concat(a),onSlotSelection:n.props.onSlotSelection,selectedSeatPrices:n.props.selectedSeatPrices,selectedPassenger:n.props.selectedPassenger,itineraryPartIndex:n.props.itineraryPartIndex,selectedSegmentIndex:n.props.selectedSegmentIndex,shoppingCart:n.props.shoppingCart,flow:n.props.currentFlow,passengerAvatars:i}))}))}},{key:"renderRows",value:function(){var e=this;return this.props.seatMap.get("seatRows",[]).map((function(t,n){var a="rows".concat(n);return k.a.createElement("tr",{key:a,id:"seat-row-".concat(n)},e.renderRow(t,n))}))}},{key:"render",value:function(){return k.a.createElement("div",{className:"seat-map-wrapper"},k.a.createElement("table",{className:"seat-map",cellPadding:"0",cellSpacing:"0"},k.a.createElement("thead",null,this.renderHeaders()),k.a.createElement("tbody",null,this.renderRows())))}}]),t}(C.PureComponent);n.d(t,"a",(function(){return ie}))},,,,,,,,,,function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=(n(6),n(194),n(12)),s=n(88),o=n(1415),l=n(2164),c=n(2165),u=n(319);function d(e){var t=e.flightNumber,n=e.bookingClass;return r.a.createElement("div",{className:"waitlisted-flight-message"},r.a.createElement(u.a,{className:"no-margin-bottom",type:"warning",title:Object(i.i)("upgrade.waitlistedUpgradeSegment.title",{flightNumber:t})},r.a.createElement("div",null,Object(i.a)("upgrade.waitlistedUpgradeSegment.message",{upgradeClass:Object(i.i)("upgrade.bookingClass.".concat(n))}))))}var p=function(e){var t=e.segment,n=e.isLoading,a=e.setNextFlightButtonRef,u=t.origin?Object(i.i)("airports.".concat(t.origin)):"",p=t.destination?Object(i.i)("airports.".concat(t.destination)):"",h=Object(c.e)(t,e.passengers),f="seat-map-description-".concat(t.origin,"-").concat(t.destination);return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"seatmap-header"},r.a.createElement("div",{className:"header"},t.origin&&t.destination?Object(i.a)("app.flightToSubHeader",{originName:u,destinationName:p,origin:t.origin,destination:t.destination}):Object(i.a)("app.unknownFlight")),r.a.createElement("div",{className:"proceed-to-next-segment"},e.isLastSegmentSelected?null:r.a.createElement(s.a,{"data-test-id":l.f,disabled:n,className:"primary small proceed-to-next-segment-button",onClick:function(){return e.proceedToNextFlight()},ref:function(t){a&&a(t,e.segmentIndex)}},Object(i.a)("seatSelection.proceedToNextSegment")))),r.a.createElement("div",{className:"seat-map-description","aria-describedby":f},r.a.createElement(o.a,{type:"info",id:f},Object(i.a)(h)))),t.hasWaitlistedUpgradeSegmentMessage&&r.a.createElement(d,{flightNumber:t.flight.flightNumber,bookingClass:t.bookingClass}))};p.defaultProps={isLoading:!1,setNextFlightButtonRef:function(){},segmentIndex:0};var h=p;n.d(t,"a",(function(){return h}))},function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(16),y=n.n(v),b=n(2),E=n.n(b),C=n(1),k=n.n(C),S=(n(6),n(123)),_=n(39),O=n.n(_),w=(n(194),n(12)),P=n(521),A=n(527),x=n(66),N=n(452),T=n(2109),I=n(2143),B=n(19),L=n.n(B),D=n(21),j=n.n(D),F=n(8),M=n.n(F),R=n(0),V=n.n(R),H=n(778),U=n.n(H),W=n(51),q=n.n(W),z=n(42),G=function(e){return e.metadata.get("ancillariesConfiguration")},K=function(e){return e.ancillaries.get("isLoading")},Y=function(e){return e.ancillaries.get("isAncillaries")},Q=function(e){return e.metadata},X=Object(z.a)((function(e){return e.ancillaries}),(function(e){var t=q()(e,"toJS",{}),n=U()(V()(t,"ancillaries",{}),(function(e){return e.isSeatBundle})),a=L()(t.sortedCodes,(function(e){return j()(Object.keys(n),e)}));return M()(t,"ancillaries",n),M()(t,"sortedCodes",a),t}));n(2812);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Z=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=y()(this.props.ancillaryConfiguration,{insurance:{enabled:!1}});this.props.getAncillaries(e)}},{key:"getAncillariesProps",value:function(e){var t=this;return y()({},this.props,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),{displayAsSlider:!0,isSeatBundles:!0,metadata:this.props.metadata,addToCart:function(e,n,a,r){return t.addToCart(e,n,a,r)}})}},{key:"addToCart",value:function(e,t,n,a){var r=this;return this.props.addAncillaryToCart(e,t,n,a).then((function(){return r.props.requestCart&&r.props.requestCart(r.props.currentFlow,r.props.location)})).then((function(){return r.props.getSeatMap&&r.props.getSeatMap()}))}},{key:"render",value:function(){var e=this.props.ancillaries,t=e.isLoading,n=!E()(e.ancillaries)&&!t,a=O()("dxp-panel dxp-seat-map-bundles",this.props.className);return k.a.createElement("div",{className:a},t&&k.a.createElement(P.a,null),n&&k.a.createElement("span",null,k.a.createElement("h2",{className:"seat-bundles-available-title"},Object(w.a)("seatSelection.seatBundlesAvailable")),k.a.createElement(I.a,r()({},this.getAncillariesProps(e),{journeyType:this.props.journeyType}))))}}]),t}(C.Component);g()(Z,"defaultProps",{ancillaries:void 0,ancillaryConfiguration:void 0,getSeatMap:void 0,getAncillaries:void 0,addAncillaryToCart:void 0,requestCart:void 0,className:void 0,journeyType:void 0});var $=Object(S.b)((function(){return Object(z.b)({ancillariesConfiguration:G,isLoading:K,isAncillaries:Y,ancillaries:X,metadata:Q})}),{getAncillaries:N.d,selectAncillary:N.f,requestCart:A.g,actionUpdateURLQuery:x.c,update:N.h,addAncillaryToCart:N.c,addInsuranceAncillaryToCart:N.a,takeSnapShot:N.g,revertToSnapShot:N.e,updateInsuranceInCart:N.i,addOrRemoveOneForAllPassengers:N.b,revertSeatBundleAssignmentsToSnapShot:T.a})(Z);n.d(t,"a",(function(){return $}))},,,,,function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(338),f=n.n(h),m=n(19),g=n.n(m),v=(n(6),n(1)),y=n.n(v),b=n(39),E=n.n(b),C=n(12),k=n(50),S=(n(2817),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"getNumberOfSelectedBundledSeats",value:function(e){var t=this.props.selectedSeats,n=g()(e,(function(e){return e.isSeatBundleSelected}));return f()(n,(function(e){return t[e.passengerIndex-1]?1:0}))}},{key:"render",value:function(){var e=this.props,n=e.segment,a=e.passengers[n.itineraryPartIndex][n.segmentIndex],r=this.getNumberOfSelectedBundledSeats(a),i=t.getNumberOfSeatBundleSeats(a),s=i>0,o=E()("dxp-tab-header-seat-bundle-section",{"hide-seat-bundle-tab-section":!s});return y.a.createElement("span",{className:o},y.a.createElement(k.c,{name:k.a.USER}),y.a.createElement("span",{className:"seat-bundle"},Object(C.a)("seatSelection.tabHeaderSeatBundleSection",{numberOfSelectedBundledSeats:"".concat(r),numberOfSeatBundleSeats:"".concat(i)})))}}],[{key:"getNumberOfSeatBundleSeats",value:function(e){return f()(e,(function(e){return e.isSeatBundleSelected?1:0}))}}]),t}(v.Component));n.d(t,"a",(function(){return S}))},function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(1),s=n.n(i),o=n(39),l=n.n(o),c=n(11),u=n(12),d=n(88),p=n(2165),h=function(e,t){var n=t.isMobile,a=e.passengerIndex,r=e.isSeatNotSelectedForASeatBundle,i=e.onBottomBarContinueClick,o=e.preselectedSeats,c=e.selectedFlight,h=e.uniquePassengers,f=e.passengers.isEmpty()?void 0:e.passengers.first().first(),m=f&&f.get(a),g=m&&"".concat(m.get("passengerDetails").get("firstName")," ").concat(m.get("passengerDetails").get("lastName")),v=f&&Object(p.a)(o,c,e.passengers,h),y=l()("dxp-button","small",{secondary:!v,primary:v});return s.a.createElement("div",{className:"passenger-review-footer centered-content"},s.a.createElement("div",{className:"centered-content"},s.a.createElement(d.a,{className:y,disabled:r,onClick:function(){return i()}},v?Object(u.a)("seatSelection.passengerReview.continue"):Object(u.a)("seatSelection.passengerReview.continueNoThanks")),!n&&s.a.createElement("div",{className:"review-label"},r?Object(u.a)("seatSelection.passengerReview.mustSelectASeat",{passengerName:g}):Object(u.a)("seatSelection.passengerReview.label",{passengerName:g}))))};h.contextTypes={isMobile:r.a.bool},h.defaultProps={passengers:c.default.List(),uniquePassengers:c.default.List()};var f=h;n.d(t,"a",(function(){return f}))},function(e,t,n){"use strict";n(6);var a=n(1),r=n.n(a),i=(n(11),n(12)),s=n(319);function o(e,t){return r.a.createElement(s.a,{type:"info",title:"seatSelection.seatReAssociationTitle",className:"seat-re-association-message"},t,e&&r.a.createElement("ul",null,e))}var l=function(e){var t=e.oldPaidSeats,n=e.hasIropAffectedReservationMessage,a=e.displayGenericReassociationMessage;return t.isEmpty()&&!n?a?o("",Object(i.a)("seatSelection.genericReassociationMessage")):"":o(n||t.isEmpty()?"":t.map((function(e){return function(e){var t=e.get("travelPart");return r.a.createElement("li",{key:e.get("seatCode")},Object(i.a)("seatSelection.seatReAssociation",{origin:t.get("origin"),destination:t.get("destination"),seatCode:e.get("seatCode"),refundable:e.get("refundable")}))}(e)})),n?Object(i.a)("seatSelection.seatsIropAffectedReservationMessage"):Object(i.a)("seatSelection.belowSeatsWereNotReAssociated"))};n.d(t,"a",(function(){return l}))},,,,,,,function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(1),s=n.n(i),o=(n(6),n(12)),l=n(50);var c=function(e){var t=e.exits;return r()(t,(function(e,t){var n="exit".concat(t);return s.a.createElement("li",{key:n,id:"seat-type-exit",className:"legend-seat-type"},s.a.createElement("div",{className:"dxp-exit seat"},s.a.createElement("div",{className:e.slotCharacteristics},s.a.createElement(l.c,{name:l.a.ARROW_CHEVRON_LEFT}),s.a.createElement(l.c,{name:l.a.ARROW_CHEVRON_RIGHT}))),s.a.createElement("span",{className:"legend-label"},Object(o.a)("seatSelection.legend.plane-".concat(e.slotCharacteristics))))}))};n.d(t,"a",(function(){return c}))},,,function(e,t,n){"use strict";var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(31),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(199),E=n.n(b),C=n(56),k=n.n(C),S=n(4),_=n.n(S),O=n(58),w=n.n(O),P=n(5),A=n.n(P),x=n(2),N=n.n(x),T=(n(6),n(1)),I=n.n(T),B=n(39),L=n.n(B),D=n(12),j=n(11),F=n(50),M=n(550),R=n(63),V=n(2374),H=n(1249),U=n(195),W=n(706),q=n(88);function z(e){var t=e.seat,n=e.seatOverlaySortOrder,a=t.get("seatCharacteristics");return _()(n,(function(e,t){return-1!==a.indexOf(t)&&e.push(t),e}),[])}n(2722),n(2723);n.d(t,"a",(function(){return G}));var G=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(r))),y()(f()(n),"onSelectSeat",(function(){n.props.onSelectSeatButtonClick(n.props.seat)})),y()(f()(n),"handleSeatOverlayFocus",(function(e){var t=window.pageXOffset,n=window.pageYOffset;e.focus(),window.scrollTo(t,n)})),n}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.container&&this.handleSeatOverlayFocus(this.container)}},{key:"componentWillUnmount",value:function(){document.activeElement&&document.activeElement.focus()}},{key:"onKeyDown",value:function(e){Object(W.a)(e,this.container)}},{key:"getCurrentSeatCharacteristics",value:function(e){var t=this.props.seat;return _()(e,(function(e,n){return-1!==t.get("seatCharacteristics").indexOf(n)&&e.push(n),e}),[]).join(".")}},{key:"getSeatInfo",value:function(){var e=this.props,n=e.seat,a=e.configuration.seatCharacteristics;return t.hasCharacteristic(n.get("seatCharacteristics"),a[9])?Object(D.i)("seatSelection.seat.center"):t.hasCharacteristic(n.get("seatCharacteristics"),a.A)?Object(D.i)("seatSelection.seat.aisle"):Object(D.i)("seatSelection.seat.window")}},{key:"getSeatTypes",value:function(){var e=this.props,t=e.seat,n=e.configuration.seatOverlaySortOrder,a=A()(z({seat:t,seatOverlaySortOrder:n}),(function(e){return I.a.createElement("div",{className:"slot-characteristic",key:e},Object(D.a)("seatSelection.seat.".concat(e)))}));return I.a.createElement("div",{className:"seat-characteristics-wrapper"},a)}},{key:"seatPriceToPriceComponent",value:function(){var e=this.props.seat,n=e.getIn(["discountInfo","originalPrices","alternatives"],Object(j.List)()).size,a=e.get("seatPrice").toJS(),r=a.slice(0,n),i=a.slice(n);return A()([r,i],(function(e,n){var a=t.resolveSeatPrice(e);return N()(a)?a:I.a.createElement(H.a,{key:n,includeDecimal:!0,price:a,className:0===n?"discounted":""})}))}},{key:"renderExitRowDisclaimer",value:function(){var e=this.props,n=e.seat,a=e.configuration.slotCharacteristics;return t.hasCharacteristic(n.get("slotCharacteristics"),a.EXIT)?I.a.createElement("div",{className:"exit-row-seat-disclaimer"},Object(D.a)("seatSelection.seat.exit-row-disclaimer")):null}},{key:"renderMedia",value:function(){return this.props.configuration.seatOverlay.displayOverlayVideo?this.renderVideo():this.renderSeatImage()}},{key:"renderSeatImage",value:function(){var e=this.props.configuration,t=e.imageOverlaySortOrder,n=e.seatOverlay,a=n.seatOverlayImgSrc,r=n.useCharacteristicsForImagesAndVideos,i=n.imgExtension,s=this.getCurrentSeatCharacteristics(t),o=r?s:a;""===o&&(o="default");var l=Object(R.a)("./images/seatmap/".concat(o,".").concat(i));return I.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(l,")")}})}},{key:"renderSeatPrice",value:function(){var e=this.props,t=e.isPreviewMode,n=e.seat,a=this.seatPriceToPriceComponent();if(t){var r=n.get("freeOfCharge",!1);return I.a.createElement("span",{className:"price"},r?Object(D.a)("seatSelection.seat.freeOfCharge"):Object(D.a)("seatSelection.seat.paidSeat"))}return I.a.createElement("span",{className:"price"},N()(w()(a))?Object(D.a)("seatSelection.seat.freeOfCharge"):a)}},{key:"renderSelectButton",value:function(){var e=this;return I.a.createElement("div",{className:"buttons"},I.a.createElement(q.a,{ref:function(t){e.selectSeat=t},className:"select-seat-button x-small primary",onClick:this.onSelectSeat,"data-test-id":V.a},Object(D.a)("seatSelection.overlay.selectSeat")))}},{key:"renderVideo",value:function(){var e=this.props.configuration,t=e.videoOverlaySortOrder,n=e.seatOverlay,a=n.useCharacteristicsForImagesAndVideos,r=n.seatOverlayVideoSrc,i=n.videoExtension,s=this.getCurrentSeatCharacteristics(t),o=Object(R.a)("./images/videos/seatmap/".concat(a?s:r,".").concat(i));return I.a.createElement("video",{width:"100%",controls:"true"},I.a.createElement("source",{src:o,type:"video/mp4"}))}},{key:"render",value:function(){var e=this,n=this.props,a=n.seat,i=n.onCloseClick,s=n.showRefundForfeit,o=n.isPreviewMode,l=n.isAuthorable,c=z({seat:a,seatOverlaySortOrder:n.configuration.seatOverlaySortOrder}).join(" "),u=L()("seat-info","clearfix",c),d=Object(U.a)(l,"seatOverlay"),p=!N()(a.get("discountInfo"));return I.a.createElement(M.a,{onOutsideClick:this.props.onCloseClick,onKeyPress:function(t){return e.onKeyDown(t)}},I.a.createElement("div",r()({role:"dialog",ref:function(t){e.container=t},className:"dxp-seat-overlay",tabIndex:"-1"},d),I.a.createElement("div",{className:"marker"}),I.a.createElement("div",{className:"overlay-content"},I.a.createElement("button",{type:"button",className:"close-overlay",onClick:i},I.a.createElement(F.c,{name:F.a.CLOSE,srOnlyText:Object(D.i)("app.close")})),I.a.createElement("div",{className:u},I.a.createElement("div",{className:"general"},s&&I.a.createElement("div",{className:"refund-forfeit-message"},Object(D.a)("seatSelection.refundForfeit")),I.a.createElement("div",{className:"seat-info"},Object(D.a)("seatSelection.seat.info",{code:a.get("code"),info:this.getSeatInfo()})),I.a.createElement("div",{className:"seat-price"},Object(D.a)("seatSelection.seat.cost")," ",this.renderSeatPrice()),p&&t.getDiscountedText(a.getIn(["discountInfo","totalDiscount","alternatives"]).toJS()),this.getSeatTypes()),I.a.createElement("div",{className:"image"},this.renderMedia()),this.renderExitRowDisclaimer(),!o&&this.renderSelectButton()))))}}],[{key:"extractSeatCharacteristicDescription",value:function(e){return E()(e,"-")[0]}},{key:"getDiscountedText",value:function(e){var t=I.a.createElement(H.a,{price:e}),n=Object(D.k)("seatSelection.seat.discountInfo",{price:t});return I.a.createElement("div",{className:"seat-discount-info"},n)}},{key:"hasCharacteristic",value:function(e,n){return-1!==e.map((function(e){return t.extractSeatCharacteristicDescription(e)})).indexOf(n)}},{key:"resolveSeatPrice",value:function(e){var t=e;return 1===k()(t)&&(t=e[0]),t}}]),t}(T.Component);y()(G,"defaultProps",{isPreviewMode:!1,isAuthorable:!0,showRefundForfeit:!1})},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(0),y=n.n(v),b=n(1),E=n.n(b),C=n(11),k=n(6),S=(n(194),n(12)),_=n(123),O=n(2166),w=(O.a,n(521)),P=n(1349),A=n(57),x=n.n(A),N=n(195),T=n(50),I=n(1249),B=n(2359),L=n(88),D=n(244),j=(n(2858),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onHotelOfferBlurOrMouseLeave",(function(){return!n.props.isDisplayedInMap&&n.props.onHotelOfferMouseLeave()})),g()(p()(n),"onHotelOfferClick",(function(){return!n.props.isDisplayedInMap&&n.props.onHotelOfferClick(n.props.hotelId)})),g()(p()(n),"onHotelOfferFocusOrMouseOver",(function(){return!n.props.isDisplayedInMap&&n.props.onHotelOfferMouseOver(n.props.hotelId)})),g()(p()(n),"onHotelOfferKeyPress",(function(e){return D.a.is(D.a.code.special.enter,e.which)&&n.onHotelOfferClick()})),g()(p()(n),"onSelectButtonClick",(function(){return n.props.onHotelOfferClick(n.props.hotelId)})),n}return f()(t,e),s()(t,[{key:"render",value:function(){return E.a.createElement("div",{className:"dxp-hotel-offer",onMouseOver:this.onHotelOfferFocusOrMouseOver,onFocus:this.onHotelOfferFocusOrMouseOver,onMouseLeave:this.onHotelOfferBlurOrMouseLeave,onBlur:this.onHotelOfferBlurOrMouseLeave,onClick:this.onHotelOfferClick,onKeyPress:this.onHotelOfferKeyPress,id:"hotel-offer-".concat(this.props.hotelId),role:"link",tabIndex:"0"},this.props.imageURL&&E.a.createElement("div",{className:"offer-image-container"},E.a.createElement("div",{className:"offer-image",style:{backgroundImage:"url(".concat(this.props.imageURL,")")}})),E.a.createElement("div",{className:"offer-description"},E.a.createElement("div",{className:"offer-hotel-name-container"},E.a.createElement("span",{className:"hotel-name"},this.props.hotelName),this.props.starLevel&&E.a.createElement(B.a,{starsValue:this.props.starLevel})),E.a.createElement("div",{className:"offer-price"},this.context.translateWithComponents("hotel.hotelSearch.offer.pricePerNight",{price:E.a.createElement(I.a,{price:this.props.price})})),this.props.isDisplayedInMap&&E.a.createElement(L.a,{className:"select-hotel-offer secondary x-small",onClick:this.onSelectButtonClick},Object(S.a)("hotel.hotelSearch.offer.selectOfferLinkLabel"),E.a.createElement(T.c,{name:T.a.ARROW_CHEVRON_RIGHT,className:"icon"}))))}}]),t}(b.PureComponent));g()(j,"contextTypes",{translateWithComponents:k.func.isRequired}),g()(j,"defaultProps",{imageURL:void 0,starLevel:void 0,onHotelOfferMouseOver:void 0,onHotelOfferMouseLeave:void 0,onHotelOfferClick:void 0,isDisplayedInMap:!1});var F=n(291),M=n.n(F),R=n(2859),V="images/location-icon-selected.png",H="images/location-icon.png",U=function(e){return Math.floor(Math.log(1350/(1.1*M()([e.getNorthEast().lng()-e.getSouthWest().lng(),e.getNorthEast().lat()-e.getSouthWest().lat()])))/Math.LN2)-1},W=Object(R.withScriptjs)(Object(R.withGoogleMap)((function(e){var t=e.markers&&function(e,t){var n=t.map((function(t){return new e.maps.LatLng(t.position.lat,t.position.lng)})),a=new e.maps.LatLngBounds;return n.forEach((function(e){return a.extend(e)})),a}(window.google,e.markers),n=C.Map.isMap(e.defaultCenter)?e.defaultCenter.toJS():e.defaultCenter;return E.a.createElement(R.GoogleMap,{style:{width:"100%",height:"100%"},className:"dxp-google-maps",defaultCenter:t?t.getCenter():n,defaultZoom:t&&t.getCenter()&&e.markers.size>1?U(t):e.defaultZoom},e.isMarkerShown&&e.markers&&e.markers.map((function(e){return E.a.createElement(R.Marker,{position:e.position,key:e.markerKey,icon:{url:e.isSelected?V:H},zIndex:e.isSelected?2:1,onClick:function(){return e.onClick&&e.onClick(e)}},e.shouldShowInfoWindow&&e.isSelected&&E.a.createElement(R.InfoWindow,{onCloseClick:function(){return e.onWindowInfoClose&&e.onWindowInfoClose()}},e.infoWindowContent))})))})));W.defaultProps={defaultCenter:{lat:0,lng:0},defaultZoom:13,loadingElement:E.a.createElement("div",{style:{height:"100%"}}),containerElement:E.a.createElement("div",{style:{height:"100%"}}),mapElement:E.a.createElement("div",{className:"dxp-google-maps",style:{height:"100%"}}),isMarkerShown:!1,markers:void 0};var q=W,z=n(524),G=n(14),K=n(24),Y=n(449),Q=n.n(Y),X=n(565),J=n.n(X),Z=n(2111),$=n.n(Z),ee=n(2278),te=n.n(ee),ne=n(1917),ae=n.n(ne),re=n(39),ie=n.n(re),se=(n(2941),1),oe=2,le=3,ce=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{currentPage:n.props.pageToRender,pagesCount:ae()(te()(n.props.elementsCount,n.props.itemsPerPage))}),g()(p()(n),"UNSAFE_componentWillReceiveProps",(function(e){e.pageToRender===n.props.pageToRender&&e.elementsCount===n.props.elementsCount||n.setState({currentPage:e.pageToRender,pagesCount:ae()(te()(e.elementsCount,e.itemsPerPage))})})),g()(p()(n),"onPageChange",(function(){return n.props.onPageChange(n.calculateStartingIndex(),n.calculateEndingIndex(),n.state.currentPage)})),g()(p()(n),"calculateEndingIndex",(function(){return n.state.currentPage*n.props.itemsPerPage})),g()(p()(n),"calculateStartingIndex",(function(){return(n.state.currentPage-1)*n.props.itemsPerPage})),g()(p()(n),"renderEllipsis",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return E.a.createElement("span",{disabled:!0,className:"spark-pagination__ellipsis ".concat(e),key:$()("ellipsis")},"...")})),g()(p()(n),"renderNavigation",(function(){return E.a.createElement("div",{className:"spark-pagination__pages"},E.a.createElement("button",{type:"button",onClick:n.showPreviousPage,className:"spark-pagination__arrow spark-pagination__arrow--previous","aria-label":Object(S.i)("pagination.aria.previous"),disabled:n.state.currentPage===se},E.a.createElement("span",{className:"spark-pagination__arrow-text"},Object(S.i)("pagination.previous"))),n.renderFirstButton(),n.isMoreThanTheSecondPageSelected()&&n.renderEllipsis(n.state.currentPage===le?"mobile-only":""),n.isMiddlePageSelected()&&n.renderMiddlePageButtons(),n.isMoreThanTwoPages()&&n.isFirstOrLastPageSelected()&&n.renderFirstOrLastButtonSibling(),n.isLessThanThePenultimatePageSelected()&&n.renderEllipsis(n.state.currentPage===n.state.pagesCount-oe?"mobile-only":""),n.renderLastButton(),E.a.createElement("button",{type:"button",onClick:n.showNextPage,className:"spark-pagination__arrow spark-pagination__arrow--next","aria-label":Object(S.i)("pagination.aria.next"),disabled:n.state.currentPage===n.state.pagesCount},E.a.createElement("span",{className:"spark-pagination__arrow-text"},Object(S.i)("pagination.next"))))})),g()(p()(n),"renderPageButtonItem",(function(e,t){return E.a.createElement("button",{type:"button",id:"pagination-page-".concat(e),className:t,"aria-current":e===n.state.currentPage,onClick:function(){return n.showSpecificPage(e)},key:"pagination-page-".concat(e),"aria-label":Object(S.i)("pagination.aria.goto",{pageNumber:e})},e)})),g()(p()(n),"renderPaginationSummary",(function(){var e=n.calculateEndingIndex()<n.props.elementsCount?n.calculateEndingIndex():n.props.elementsCount;return E.a.createElement("div",{className:"spark-pagination__results"},E.a.createElement("div",{className:"spark-pagination__summary"},Object(S.a)("pagination.summary",{startingItemNumber:n.calculateStartingIndex()+1,endingItemNumber:e,totalItems:n.props.elementsCount})))})),g()(p()(n),"showNextPage",(function(){n.setState((function(e){return{currentPage:e.currentPage+1}}),(function(){n.onPageChange()}))})),g()(p()(n),"showPreviousPage",(function(){n.setState((function(e){return{currentPage:e.currentPage-1}}),(function(){n.onPageChange()}))})),g()(p()(n),"showSpecificPage",(function(e){n.setState({currentPage:e},(function(){n.onPageChange()}))})),n}return f()(t,e),s()(t,[{key:"isFirstOrLastPageSelected",value:function(){return this.state.currentPage===se||this.state.currentPage===this.state.pagesCount}},{key:"isLessThanThePenultimatePageSelected",value:function(){return J()(this.state.currentPage,this.state.pagesCount-1)&&this.isMoreThanTwoPages()}},{key:"isMiddlePageSelected",value:function(){return Q()(this.state.currentPage,se)&&J()(this.state.currentPage,this.state.pagesCount)}},{key:"isMoreThanTheSecondPageSelected",value:function(){return Q()(this.state.currentPage,oe)}},{key:"isMoreThanTwoPages",value:function(){return Q()(this.state.pagesCount,oe)}},{key:"renderFirstButton",value:function(){return this.renderPageButtonItem(se,ie()("spark-pagination__item",g()({},"spark-pagination__item--active",this.state.currentPage===se)))}},{key:"renderFirstOrLastButtonSibling",value:function(){return this.renderPageButtonItem(this.state.currentPage===this.state.pagesCount?this.state.currentPage-1:this.state.currentPage+1,ie()("spark-pagination__item","mobile-hidden"))}},{key:"renderLastButton",value:function(){return this.renderPageButtonItem(this.state.pagesCount,ie()("spark-pagination__item",g()({},"spark-pagination__item--active",this.state.currentPage===this.state.pagesCount)))}},{key:"renderMiddlePageButtons",value:function(){return[Q()(this.state.currentPage,oe)?this.renderPageButtonItem(this.state.currentPage-1,ie()("spark-pagination__item","mobile-hidden")):"",this.renderPageButtonItem(this.state.currentPage,ie()("spark-pagination__item","spark-pagination__item--active")),J()(this.state.currentPage,this.state.pagesCount-1)?this.renderPageButtonItem(this.state.currentPage+1,ie()("spark-pagination__item","mobile-hidden")):""]}},{key:"renderPaginationButtons",value:function(){return E.a.createElement(z.a,{className:"pagination-panel"},E.a.createElement("nav",{className:"spark-pagination","aria-label":"Pagination navigation"},this.state.pagesCount>se&&this.renderNavigation(),this.renderPaginationSummary()))}},{key:"render",value:function(){return E.a.createElement("div",{className:"dxp-pagination ".concat(this.props.className),"data-test-id":O.a},this.renderPaginationButtons())}}]),t}(b.PureComponent);g()(ce,"defaultProps",{pageToRender:1,className:""});n(2942);var ue=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{selectedHotelId:void 0,startingIndex:(n.props.hotelOffersPage-1)*n.props.offersPerPage,endingIndex:n.props.hotelOffersPage*n.props.offersPerPage,shouldShowInfoWindow:!1,hotelOffersPage:n.props.hotelOffersPage}),g()(p()(n),"onHotelMapMarkerClick",(function(e){n.setState({selectedHotelId:e.markerKey,shouldShowInfoWindow:!0})})),g()(p()(n),"onHotelMapOfferClose",(function(){n.setState({selectedHotelId:void 0,shouldShowInfoWindow:!1})})),g()(p()(n),"onHotelOfferClick",(function(e){n.props.updateHotelContext({hotelId:e}).then((function(){n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(K.a.HOTEL,"/").concat(G.a.HOTEL_DETAILS),y()(n.props.location,"query",{}))}))})),g()(p()(n),"onHotelOfferMouseLeave",(function(){n.setState({selectedHotelId:void 0})})),g()(p()(n),"onHotelOfferMouseOver",(function(e){n.setState({shouldShowInfoWindow:!1,selectedHotelId:e})})),n}return f()(t,e),s()(t,[{key:"onPaginationChange",value:function(e,t,n){this.setState({startingIndex:e,endingIndex:t,hotelOffersPage:n}),this.props.updateHotelOffersPage(n)}},{key:"mapHotelOffersToRender",value:function(e,t){var n=this;return this.props.hotelOffers.slice(e,t).map((function(e){return E.a.createElement(j,{imageURL:e.get("imageURL"),hotelName:e.get("hotelName"),price:e.get("price"),starLevel:e.get("starLevel"),hotelId:e.get("hotelId"),onHotelOfferMouseOver:n.onHotelOfferMouseOver,onHotelOfferMouseLeave:n.onHotelOfferMouseLeave,key:"hotel-offer-id-".concat(e.get("hotelId")),onHotelOfferClick:n.onHotelOfferClick})}))}},{key:"mapOffersToMapMarkers",value:function(e,t){var n=this;return this.props.hotelOffers.slice(e,t).map((function(e){return{title:e.get("hotelName"),position:{lat:e.getIn(["hotelLocation","latitude"]),lng:e.getIn(["hotelLocation","longitude"])},markerKey:e.get("hotelId"),isSelected:e.get("hotelId")===n.state.selectedHotelId,shouldShowInfoWindow:n.state.shouldShowInfoWindow,onClick:n.onHotelMapMarkerClick,onWindowInfoClose:n.onHotelMapOfferClose,infoWindowContent:E.a.createElement(j,{hotelName:e.get("hotelName"),hotelId:e.get("hotelId"),price:e.get("price"),key:"hotel-offer-id-".concat(e.get("hotelId")),onHotelOfferClick:n.onHotelOfferClick,imageURL:e.get("imageURL"),starLevel:e.get("starLevel"),isDisplayedInMap:!0})}}))}},{key:"prepareDefaultCenterLocation",value:function(){var e=this.props.hotelOffers.first();return{lat:e.getIn(["hotelLocation","latitude"]),lng:e.getIn(["hotelLocation","longitude"])}}},{key:"render",value:function(){var e=this,t=Object(N.a)(this.props.isAuthorable,"hotelSearch"),n=this.prepareDefaultCenterLocation();return E.a.createElement("div",x()({className:"dxp-hotel-search-results"},t,{id:"dxp-hotel-search-results"}),E.a.createElement("h3",{className:"hotel-search-results-header"},Object(S.i)("hotel.hotelSearch.header.searchResults")),E.a.createElement("div",{className:"hotel-offers-map"},E.a.createElement("div",{className:"hotel-offers-container"},E.a.createElement(z.a,{className:"hotel-offers-panel",id:"dxp-hotel-offers-list"},this.mapHotelOffersToRender(this.state.startingIndex,this.state.endingIndex)),E.a.createElement(ce,{ref:function(t){e.pagination=t},elementsCount:this.props.hotelOffers.count(),itemsPerPage:this.props.offersPerPage,onPageChange:function(t,n,a){return e.onPaginationChange(t,n,a)},pageToRender:this.state.hotelOffersPage})),E.a.createElement("div",{className:"hotel-map-container",id:"dxp-hotel-offers-map"},E.a.createElement(q,{isMarkerShown:!0,markers:this.mapOffersToMapMarkers(this.state.startingIndex,this.state.endingIndex),googleMapURL:this.props.googleMapURL,defaultCenter:n}))))}}]),t}(b.Component);g()(ue,"defaultProps",{isAuthorable:!0,hotelOffers:Object(C.List)()});var de=n(176),pe=n.n(de),he=n(137),fe=n.n(he),me=n(17),ge=n.n(me),ve=n(326),ye=n(1480),be=n(1692),Ee=n(54),Ce=n.n(Ee),ke=n(83),Se=n.n(ke),_e=n(550),Oe=n(38),we=n.n(Oe),Pe=n(5),Ae=n.n(Pe),xe=n(95),Ne=n.n(xe),Te=n(529),Ie=(n(2943),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"childAgeDropdowns",[]),g()(p()(n),"getSelectedChildAges",(function(){return Ae()(Ne()(n.childAgeDropdowns),(function(e){return parseInt(e.getValue(),10)}))})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.roomOccupancy;this.setState({adultCount:e.get("adultCount"),childCount:e.get("childCount"),childAges:e.get("childAges")})}},{key:"getValue",value:function(){return{adultCount:this.state.adultCount,childCount:this.state.childCount,childAges:this.getSelectedChildAges()}}},{key:"decrementPassengerTypeCount",value:function(e){var t=this;this.setState((function(t){return g()({},e,t[e]-1)}),(function(){return t.props.updateRoomOccupancy(we()(t.state,["adultCount","childCount","childAges"]))}))}},{key:"incrementPassengerTypeCount",value:function(e){var t=this;this.setState((function(t){return g()({},e,t[e]+1)}),(function(){return t.props.updateRoomOccupancy(we()(t.state,["adultCount","childCount","childAges"]))}))}},{key:"prepareChildAgeDropdownOptions",value:function(){var e=this.props.childAgeRange,t=e.max-e.min+1;return pe()(t).map((function(t){return{label:"".concat(e.min+t),value:"".concat(e.min+t)}}))}},{key:"renderChildrenAgeDropdowns",value:function(){var e=this,t=this.state,n=t.childCount,a=t.childAges;return E.a.createElement("div",{className:"passenger-type-item"},E.a.createElement("div",{className:"passenger-type-label childrens-age-label"},Object(S.a)("hotel.hotelSearch.searchForm.childrensAgeLabel")),E.a.createElement("div",{className:"children-age-selection-container"},pe()(n).map((function(t){return E.a.createElement(Te.a,{label:"Child ".concat(t+1),key:"children-age-dropdown-".concat(t),defaultValue:a.get(t)?"".concat(a.get(t)):"".concat(e.props.hotelSearchConfiguration.defaultChildAge),options:e.prepareChildAgeDropdownOptions(),ref:function(n){e.childAgeDropdowns[t]=n},disabled:!1,className:"children-age-dropdown",id:"children-age-dropdown-".concat(t)})}))))}},{key:"render",value:function(){var e=this,t=this.state,n=t.adultCount,a=t.childCount,r=this.props.hotelSearchConfiguration,i=n>r.minAdultTypeGuests,s=n<r.maxAdultTypeGuests,o=a>r.minChildrenTypeGuest,l=a<r.maxChildrenTypeGuests;return E.a.createElement("div",{className:"dxp-passenger-type-quantity-control"},E.a.createElement("div",{className:"passenger-type-item"},E.a.createElement("div",{className:"passenger-type-label"},Object(S.a)("hotel.hotelSearch.searchForm.adultPassengers")),E.a.createElement("div",{className:"passenger-type-quantity"},E.a.createElement("button",{type:"button",disabled:!i,className:"passenger-type-quantity-button adult decrement",onClick:function(){return e.decrementPassengerTypeCount("adultCount")}},E.a.createElement(T.c,{name:T.a.MATH_SUBTRACT,srOnlyText:Object(S.i)("passengers.decrement")})),E.a.createElement("div",{className:"passenger-type-quantity-counter"},n),E.a.createElement("button",{type:"button",disabled:!s,className:"passenger-type-quantity-button adult increment",onClick:function(){return e.incrementPassengerTypeCount("adultCount")}},E.a.createElement(T.c,{name:T.a.MATH_ADD,srOnlyText:Object(S.i)("passengers.increment")})))),E.a.createElement("div",{className:"passenger-type-item"},E.a.createElement("div",{className:"passenger-type-label"},Object(S.a)("hotel.hotelSearch.searchForm.childPassengers")),E.a.createElement("div",{className:"passenger-type-quantity"},E.a.createElement("button",{type:"button",disabled:!o,className:"passenger-type-quantity-button child decrement",onClick:function(){return e.decrementPassengerTypeCount("childCount")}},E.a.createElement(T.c,{name:T.a.MATH_SUBTRACT,srOnlyText:Object(S.i)("passengers.decrement")})),E.a.createElement("div",{className:"passenger-type-quantity-counter"},a),E.a.createElement("button",{type:"button",disabled:!l,className:"passenger-type-quantity-button child increment",onClick:function(){return e.incrementPassengerTypeCount("childCount")}},E.a.createElement(T.c,{name:T.a.MATH_ADD,srOnlyText:Object(S.i)("passengers.increment")})))),a>0&&this.renderChildrenAgeDropdowns())}}]),t}(b.PureComponent)),Be=(n(2944),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"guestsSelectionOverlay",{}),g()(p()(n),"state",{collapsed:!0,roomOccupancies:n.props.roomOccupancies,roomCount:n.props.roomCount}),g()(p()(n),"onGuestCountChange",(function(e,t){n.setState((function(n){return{roomOccupancies:n.roomOccupancies.set(t,Object(C.fromJS)(e))}}))})),g()(p()(n),"onOutsideClick",(function(){return!n.state.collapsed&&n.closeOverlay()})),g()(p()(n),"onOutsideKeyPress",(function(e){return D.a.is(D.a.code.special.enter,e.which)&&n.toggleOverlay()})),g()(p()(n),"onRoomCountChange",(function(e){n.setState((function(t){var n,a={};t.roomCount>e?a.roomOccupancies=t.roomOccupancies.slice(0,e):a.roomOccupancies=(n=t.roomOccupancies).push.apply(n,Ce()(pe()(e-t.roomCount).map((function(){return Object(C.fromJS)({adultCount:1,childCount:0,childAges:[]})}))));return a.roomCount=e,a}))})),g()(p()(n),"closeOverlay",(function(){n.setState({collapsed:!0})})),g()(p()(n),"toggleOverlay",(function(){n.setState((function(e){return{collapsed:!e.collapsed}}))})),n}return f()(t,e),s()(t,[{key:"getValue",value:function(){return Se()(this.guestsSelectionOverlay).filter((function(e){return e})).map((function(e){return e.getValue()}))}},{key:"render",value:function(){var e=this,t=ie()("hotel-rooms-to-guests-selection",this.props.className,{collapsed:this.state.collapsed});return E.a.createElement("div",{className:t},E.a.createElement(_e.a,{onOutsideClick:this.onOutsideClick},E.a.createElement("div",{className:"passenger-selection-field-container",onClick:this.toggleOverlay,role:"button",tabIndex:"0",onKeyPress:this.onOutsideKeyPress},E.a.createElement("div",{className:"passenger-selection-label"},Object(S.i)(this.props.label)),E.a.createElement("div",{className:"passenger-selection-value"},Object(S.a)("hotel.hotelSearch.searchForm.roomGuestCountLabel",{guests:this.state.roomOccupancies.reduce((function(e,t){return e+t.get("adultCount")+t.get("childCount")}),0),rooms:this.state.roomCount})),E.a.createElement("div",{className:"passenger-selection-arrow"},this.state.collapsed?E.a.createElement("span",{className:"select-arrow arrow-down"}):E.a.createElement("span",{className:"select-arrow arrow-up"}))),E.a.createElement("div",{className:"passenger-selection-overlay-container"},E.a.createElement("div",{className:"passenger-selection-overlay-scroll"},E.a.createElement("div",{className:"overlay-container-rooms"},E.a.createElement(ve.a,{ref:function(t){e.roomsDropdown=t},label:"hotel.hotelSearch.searchForm.fieldSet.rooms",options:this.props.roomCountOptions,defaultValue:"".concat(this.props.roomCount),className:"dxp-hotel-search-rooms",onChange:this.onRoomCountChange})),this.state.roomOccupancies.map((function(t,n){return E.a.createElement("div",{key:"roomOccupancy-".concat(n)},E.a.createElement("div",{className:"room-number"},Object(S.a)("hotel.hotelSearch.searchForm.fieldSet.roomNumber",{number:n+1})),E.a.createElement(Ie,{roomOccupancy:t,childAgeRange:e.props.childAgeRange,updateRoomOccupancy:function(t){return e.onGuestCountChange(t,n)},hotelSearchConfiguration:e.props.hotelSearchConfiguration,ref:function(t){e.guestsSelectionOverlay[n]=t}}))}))))))}}]),t}(b.Component));g()(Be,"defaultProps",{className:""});n(2945);var Le=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{collapsed:!0,label:Object(S.a)("hotel.hotelSearch.searchForm.guestCountLabel",{adultCount:n.props.roomOccupancy.get("adultCount"),childCount:n.props.roomOccupancy.get("childCount")})}),g()(p()(n),"closeOverlay",(function(){n.setState({collapsed:!0})})),g()(p()(n),"toggleOverlay",(function(){n.setState((function(e){return{collapsed:!e.collapsed}}))})),g()(p()(n),"update",(function(e){n.setState({label:Object(S.a)("hotel.hotelSearch.searchForm.guestCountLabel",{adultCount:e.adultCount,childCount:e.childCount})})})),n}return f()(t,e),s()(t,[{key:"getValue",value:function(){return this.passengerSelectionOverlay.getValue()}},{key:"render",value:function(){var e=this,t=ie()("hotel-guests-selection",this.props.className,{collapsed:this.state.collapsed});return E.a.createElement("div",{className:t},E.a.createElement(_e.a,{onOutsideClick:function(){return!e.state.collapsed&&e.closeOverlay()}},E.a.createElement("div",{className:"passenger-selection-field-container",onClick:this.toggleOverlay,role:"button",tabIndex:"0",onKeyPress:function(t){return D.a.is(D.a.code.special.enter,t.which)&&e.toggleOverlay()}},E.a.createElement("div",{className:"passenger-selection-label"},Object(S.i)(this.props.label)),E.a.createElement("div",{className:"passenger-selection-value"},this.state.label),E.a.createElement("div",{className:"passenger-selection-arrow"},this.state.collapsed?E.a.createElement("span",{className:"select-arrow arrow-down"}):E.a.createElement("span",{className:"select-arrow arrow-up"}))),E.a.createElement("div",{className:"passenger-selection-overlay-container"},E.a.createElement("div",{className:"passenger-selection-overlay-scroll"},E.a.createElement("div",{className:"overlay-container-rooms"},E.a.createElement(Ie,{roomOccupancy:this.props.roomOccupancy,childAgeRange:this.props.childAgeRange,updateRoomOccupancy:this.update,hotelSearchConfiguration:this.props.hotelSearchConfiguration,ref:function(t){e.passengerSelectionOverlay=t}}))))))}}]),t}(b.Component);g()(Le,"defaultProps",{className:""});n(2946);var De=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{hotelAirportOptions:n.createHotelAirportOptions()}),g()(p()(n),"onCheckinDateChange",(function(e){var t=n.checkoutDateControl.getValue();(e.isAfter(t)||e.isSame(t))&&n.checkoutDateControl.setValue(e.clone().add(1,"days"))})),g()(p()(n),"onCheckoutDateChange",(function(e){var t=n.checkinDateControl.getValue();(e.isBefore(t)||e.isSame(t))&&n.checkinDateControl.setValue(e.clone().subtract(1,"days"))})),g()(p()(n),"onHotelSearchButtonClick",(function(){var e=n.checkinDateControl.getValue(),t=n.checkoutDateControl.getValue();return n.props.onHotelSearchButtonClick({airportCode:n.airportDropdown.getValue(),checkinDate:e.format(n.props.hotelSearchConfiguration.dateFormat),checkoutDate:t.format(n.props.hotelSearchConfiguration.dateFormat),occupancy:n.props.hotelSearchConfiguration.enableGuestToRoomAllocation?{roomOccupancies:n.roomOccupancyControl.getValue()}:{totalGuestOccupancy:{roomOccupancy:n.roomOccupancyControl.getValue(),roomCount:parseInt(n.roomsDropdown.getValue(),10)}}})})),n}return f()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){e.locale!==this.props.locale&&this.setState({hotelAirportOptions:this.createHotelAirportOptions()})}},{key:"createHotelAirportOptions",value:function(){var e=Object(be.a)(this.props.airportCodes);if(!this.props.hotelSearchConfiguration.sortCitiesByLabel)return fe()(e,["value"]);var t=new Intl.Collator(this.props.locale);return e.sort((function(e,n){return t.compare(e.label,n.label)}))}},{key:"prepareRoomCountDropdownOptions",value:function(){return pe()(this.props.hotelSearchConfiguration.maxRoomCount).map((function(e){return{label:Object(S.a)("hotel.hotelSearch.searchForm.roomCountLabel",{roomCount:e+1}),value:"".concat(e+1)}}))}},{key:"render",value:function(){var e=this,t=Object(N.a)(this.props.isAuthorable,"hotelSearch"),n=this.props.hotelSearchConfiguration.enableGuestToRoomAllocation;return E.a.createElement(z.a,{className:"dxp-hotel-search-panel",attributes:t,id:"dxp-hotel-search-panel"},E.a.createElement(ve.a,{ref:function(t){e.airportDropdown=t},label:"hotel.hotelSearch.searchForm.fieldSet.selectCity",options:this.state.hotelAirportOptions,defaultValue:this.props.destinationCity,className:"dxp-hotel-destination-dropdown",keyProp:"hotel-search-city"}),E.a.createElement("div",{className:"hotel-search-form-dates-container"},E.a.createElement(ye.a,{ref:function(t){e.checkinDateControl=t},className:"check-in-date",label:"hotel.hotelSearch.searchForm.fieldSet.checkinDate",defaultValue:ge.a.utc(this.props.checkinDate),dateFormat:this.props.hotelSearchConfiguration.dateFormat,weekStartDay:this.props.weekStartDay,srLabel:"hotel.hotelSearch.searchForm.fieldSet.checkinDate",id:"dxp-hotel-search-checkin-date",onChange:this.onCheckinDateChange,minDate:ge()().startOf("day")}),E.a.createElement(ye.a,{ref:function(t){e.checkoutDateControl=t},className:"check-out-date",label:"hotel.hotelSearch.searchForm.fieldSet.checkoutDate",defaultValue:ge.a.utc(this.props.checkoutDate),dateFormat:this.props.hotelSearchConfiguration.dateFormat,weekStartDay:this.props.weekStartDay,srLabel:"hotel.hotelSearch.searchForm.fieldSet.checkoutDate",id:"dxp-hotel-search-checkout-date",onChange:this.onCheckoutDateChange,minDate:ge()().add(1,"days").startOf("day")})),n&&E.a.createElement(Be,{ref:function(t){e.roomOccupancyControl=t},className:"dxp-passenger-selection",roomOccupancies:this.props.roomOccupancies,roomCountOptions:this.prepareRoomCountDropdownOptions(),roomCount:this.props.roomOccupancies.size,childAgeRange:this.props.childAgeRange,label:"hotel.hotelSearch.searchForm.fieldSet.roomsAndGuests",hotelSearchConfiguration:this.props.hotelSearchConfiguration}),!n&&[E.a.createElement(Le,{key:"guests-selection",ref:function(t){e.roomOccupancyControl=t},className:"dxp-passenger-selection",roomOccupancy:this.props.totalGuestOccupancy.get("roomOccupancy"),childAgeRange:this.props.childAgeRange,label:"hotel.hotelSearch.searchForm.fieldSet.guests",hotelSearchConfiguration:this.props.hotelSearchConfiguration}),E.a.createElement(ve.a,{key:"room-count-selection",ref:function(t){e.roomsDropdown=t},label:"hotel.hotelSearch.searchForm.fieldSet.rooms",options:this.prepareRoomCountDropdownOptions(),defaultValue:"".concat(this.props.totalGuestOccupancy.get("roomCount")),className:"dxp-hotel-search-rooms",keyProp:"hotel-rooms-count"})],E.a.createElement(L.a,{className:"hotel-search-button medium primary",onClick:this.onHotelSearchButtonClick},Object(S.i)("hotel.hotelSearch.searchForm.buttonSearchLabel")))}}]),t}(b.Component);g()(De,"defaultProps",{isAuthorable:!0,airportCodes:[],destinationCity:void 0,checkinDate:void 0,checkoutDate:void 0,totalGuestOccupancy:Object(C.Map)(),roomOccupancies:Object(C.List)()});var je=n(1294),Fe=n(1315),Me=n(542),Re=n(66),Ve=n(319),He=n(527);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t){return{airportCode:t.airportCode,hotelSearch:We({languageCode:e.getIn(["hotelSearch","languageCode"]),currency:e.getIn(["hotelSearch","currency"]),checkinDate:t.checkinDate,checkoutDate:t.checkoutDate},t.occupancy)}}var ze=n(42),Ge=n(324),Ke=n(214),Ye=n(125);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Xe=n(1972),Je=(n(2947),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"onHotelSearchButtonClick",(function(e){n.props.searchHotels(qe(n.props.hotelContext,e))})),g()(p()(n),"goBackToAncillaryPage",(function(){return n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(G.a.ANCILLARIES),y()(n.props.location,"query",{}))})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.shouldRefreshShoppingCart&&this.props.requestCart(this.props.currentFlow,this.props.location),this.props.hotelContext.isEmpty()?this.props.retrieveHotelContext().then((function(t){e.props.searchHotels({airportCode:t.airportCode,hotelSearch:t.hotelSearch})})):this.props.hotelOffers.isEmpty()&&this.props.searchHotels({airportCode:this.props.hotelContext.get("airportCode"),hotelSearch:this.props.hotelContext.get("hotelSearch")})}},{key:"renderCurrencyMismatchWarning",value:function(){var e=this.props.currencyMismatchWarning;return E.a.createElement(Ve.a,{type:e.get("type"),title:"hotel.hotelSearch.warning.currency.title"},Object(S.a)("hotel.hotelSearch.warning.".concat(e.get("code")),{airportCode:Object(S.i)("airports.".concat(e.getIn(["details","airportCode"]))),fromCurrency:e.getIn(["details","fromCurrency"]),toCurrency:e.getIn(["details","toCurrency"])}))}},{key:"renderError",value:function(){return E.a.createElement(Ve.a,{type:"error",title:"hotel.hotelSearch.error.title"},Object(S.a)("hotel.hotelSearch.error.".concat(this.props.hotelSearchError.errorCode),{message:this.props.hotelSearchError.errorMessage}))}},{key:"render",value:function(){var e=Object(N.a)(this.props.isAuthorable,"hotelSearchView");return E.a.createElement(Xe.a,{title:"hotel.hotelSearch.header.viewTitle",className:"dxp-hotels-view",authorableAttributes:e,id:"dxp-hotel-search-view",location:this.props.location},this.props.hotelSearchError&&this.renderError(),this.props.currencyMismatchWarning&&this.renderCurrencyMismatchWarning(),!this.props.hotelContext.isEmpty()&&E.a.createElement(De,{onHotelSearchButtonClick:this.onHotelSearchButtonClick,destinationCity:this.props.hotelContext.get("airportCode"),airportCodes:this.props.airportCodes,checkinDate:this.props.hotelContext.getIn(["hotelSearch","checkinDate"]),checkoutDate:this.props.hotelContext.getIn(["hotelSearch","checkoutDate"]),totalGuestOccupancy:this.props.hotelContext.getIn(["hotelSearch","totalGuestOccupancy"]),roomOccupancies:this.props.hotelContext.getIn(["hotelSearch","roomOccupancies"]),weekStartDay:this.props.weekStartDay,hotelSearchConfiguration:this.props.configuration.searchConfiguration,childAgeRange:this.props.childAgeRange,locale:this.props.locale}),this.props.isHotelSearchProcessing&&E.a.createElement(w.a,null),!this.props.isHotelSearchProcessing&&!this.props.hotelOffers.isEmpty()&&E.a.createElement(ue,{hotelOffers:this.props.hotelOffers,googleMapURL:this.props.googleMapURL,offersPerPage:this.props.configuration.offersPerPage,actionUpdateURLQuery:this.props.actionUpdateURLQuery,location:this.props.location,updateHotelContext:this.props.updateHotelContext,updateHotelOffersPage:this.props.updateHotelOffersPage,hotelOffersPage:this.props.hotelOffersPage}),E.a.createElement("div",{className:"pull-right navigation-buttons-row"},E.a.createElement(P.a,{location:this.props.location,backTitle:Object(S.i)("app.backToAncillaries"),onBack:this.goBackToAncillaryPage})))}}]),t}(b.Component));g()(Je,"defaultProps",{isAuthorable:!0,isHotelSearchProcessing:!1,hotelSearchError:void 0,hotelOffers:Object(C.List)(),currencyMismatchWarning:void 0});var Ze=Object(_.b)((function(){var e=Object(ze.b)({configuration:function(e){return e.metadata.get("hotelsConfiguration")},timeOptions:function(e){return e.metadata.get("timeOptions")},hotelOffers:function(e){return e.hotels.get("hotelOffers")},airportCodes:function(e){return y()(e.metadata.get("routes"),"origins",[])},isHotelSearchProcessing:function(e){return e.hotels.get("isHotelSearchProcessing")},hotelContext:function(e){return e.hotels.get("hotelContext")},googleMapURL:function(e){return"".concat(e.metadata.getIn(["googleMaps","googleMapsURL"])).concat(e.metadata.getIn(["googleMaps","apiKey"]))},weekStartDay:function(e){return e.metadata.get("weekStartDay")},childAgeRange:function(e){return t=e.metadata.get("passengerConfiguration"),{min:(n=y()(t,"passengerForm.".concat(Ye.a.CHD,".dateOfBirth"),{})).ageRangeMin,max:n.ageRangeMax};var t,n},hotelSearchError:function(e){return e.hotels.get("hotelSearchError")},shouldRefreshShoppingCart:function(e){return e.shoppingCart.getIn(["data","itinerary"],Object(C.Map)()).isEmpty()},currencyMismatchWarning:function(e){return e.hotels.get("currencyMismatchWarning")},hotelOffersPage:function(e){return e.hotels.get("hotelOffersPage")}});return Object(ze.a)(e,Object(Ge.c)(),Object(Ke.a)(),(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{getNextPage:t.getNextPage,currentFlow:t.currentFlow,locale:t.language,searchCriteria:n,language:t.language,background:t.background,dateFormat:t.dateFormat})}))}),{actionUpdateURLQuery:Re.c,searchHotels:Me.m,retrieveHotelContext:Me.k,updateHotelContext:Me.p,updateHotelOffersPage:Me.q,requestCart:He.g})(Object(je.a)(Object(Fe.a)(Je),"isHotelSearchProcessing"));n.d(t,"default",(function(){return Ze}))},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(336),g=n.n(m),v=n(5),y=n.n(v),b=n(13),E=n.n(b),C=n(8),k=n.n(C),S=n(51),_=n.n(S),O=n(2),w=n.n(O),P=n(0),A=n.n(P),x=n(1),N=n.n(x),T=n(6),I=(n(194),n(11)),B=n(123),L=n(12),D=n(195),j=n(527),F=n(66),M=n(24),R=n(14),V=n(85),H=n(2109),U=n(1557),W=n(1294),q=n(2143),z=n(521),G=n(1349),K=n(1586),Y=n(1950),Q=n(1315),X=n(54),J=n.n(X),Z=n(35),$=n.n(Z),ee=n(82),te=n.n(ee),ne=n(37),ae=n.n(ne),re=n(92),ie=n.n(re),se=n(34),oe=n.n(se),le=n(118),ce=n(567),ue=n(152),de=n(585),pe=n(205),he=n(7);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e,t,n,a,r){var i=ie()(t),s=null,o=null;w()(e)?s=i:(o=!0,i=function(e,t,n){var a=ie()(e);return n?(k()(a[t.code],"isAddedToCart",!1),k()(a[t.code],"isPreselected",!1)):k()(a[t.code],"isAddedToCart",!0),a}(i,n,a)),k()(i,"[".concat(n.code,"].isLoading"),!1);var l=A()(n,"offers.passengerOffers.price");return i=ae()(i,f()({},n.code,{price:l})),A()(i,"[".concat(n.code,"].error"))?r({type:he.lc,ancillaries:s,error:!0}):r({type:he.xf,ancillaries:i,error:!1}),o},ve=function(e,t,n){return Promise.all([t,n]).then((function(t){var n=t[0],a=t[1];if(function(e,t){var n=A()(t,"errorCode");w()(n)||e({type:he.mc,insuranceError:!0})}(e,a),(w()(n)||w()(A()(n,"ancillaries")))&&w()(a))e({type:he.Kd});else{var r=function(e,t){var n=ie()(e);return w()(n)&&(n={}),t&&t.insurance&&(n.sortedCodes=[ue.b].concat(J()(n.sortedCodes)),n.ancillaries[ue.b]=t.insurance),n}(Object(de.a)(n,le),a);e({type:he.ed,ancillaries:r,insurance:a,notPreselectedAncillaries:n.notPreselectedAncillaries||[]})}})).catch((function(t){e({type:he.lc,error:me({},t)})}))};var ye=function(e,t){var n=t[e],a=oe()(n),r=oe()(t);k()(a,"needsUpdate",!1),k()(a,"isLoading",!0),k()(r,"[thisAncillary.code]",a),r=ae()(r,f()({},a.code,a));var i=A()(r,"[".concat(e,"].isAddedToCart"));return function(t){return t({type:he.Rf,ancillaries:r}),le.updateInsuranceInCart(n,!i).then((function(e){return ge(e,r,a,i,t)})).catch((function(){k()(r,"".concat(e,".isLoading"),!1),t({type:he.mc,ancillaries:r,insuranceError:!0})}))}};var be=n(2361),Ee=n(56),Ce=n.n(Ee),ke=n(319),Se=n(564),_e=n(36),Oe=n.n(_e),we=n(27),Pe=n.n(we),Ae=n(98),xe=n.n(Ae),Ne=n(117);var Te=function(e){var t=e.nonReassociatedAncillaries,n=function(e){return e.filter((function(e){return te()(e.travelPart)})).map((function(e){return N.a.createElement("li",{key:e.code},Object(L.a)("ancillary.ancillarySimpleNotReAssociated",{ancillaryCode:Object(L.i)("ancillary.items.".concat(e.code,".name")),refundable:e.refundIndicator}))}))}(t),a=function(e){return e.filter((function(e){return!te()(e.travelPart)&&e.travelPart["@type"]===Ne.a.ITINERARY_PART})).map((function(e){return N.a.createElement("li",{key:e.code},Object(L.a)("ancillary.ancillaryNotReAssociated",{ancillaryCode:Object(L.i)("ancillary.items.".concat(e.code,".name")),origin:e.travelPart.origin||Pe()(e.travelPart.segments).origin,destination:e.travelPart.destination||Oe()(e.travelPart.segments).destination,refundable:e.refundIndicator}))}))}(t),r=function(e){return e.filter((function(e){return!te()(e.travelPart)&&e.travelPart["@type"]===Ne.a.SEGMENT})).map((function(e){return N.a.createElement("li",{key:e.code},Object(L.a)("ancillary.ancillaryNotReAssociated",{ancillaryCode:e.code,origin:e.travelPart.origin,destination:e.travelPart.destination,refundable:e.refundIndicator}))}))}(t);return N.a.createElement("ul",null,xe()(n,a,r))};var Ie=function(e){var t=e.ancillaries,n=A()(t,"notPreselectedAncillaries",[]),a=function(e,t){var n=A()(t,"status",Object(I.Map)());if(A()(n,Se.a.IROP_AFFECTED_RESERVATION_MESSAGE))return"ancillary.ancillaryIropAffectedReservationMessage";if(0!==Ce()(e))return t&&t.get("ancillaries",Object(I.List)()).every((function(e){return!e.getIn(["offers","modificationAllowed"])}))?"ancillary.ancillaryReAssociationReadonlyMessage":"ancillary.ancillaryReAssociationMessage";return"ancillary.ancillaryAllReAssociated"}(n,Object(I.fromJS)(t));return N.a.createElement(ke.a,{type:"info",title:"ancillary.ancillaryReAssociationTitle",className:"ancillary-re-association"},Object(L.a)(a),0!==n.length&&N.a.createElement(Te,{nonReassociatedAncillaries:n}))},Be=n(452),Le=n(1974),De=(n(2058),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;return this.context.startTimeoutChecker(),this.props.getAncillaries(this.props.ancillariesConfiguration).then((function(){return e.props.requestCart(A()(e.props,"currentFlow"),e.props.location)})).then((function(){e.props.ancillariesConfiguration.showFreeBaggageAllowance&&e.props.getBagAllowance(A()(e.props,"currentFlow"))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.ancillaries,n=void 0===t?Object(I.Map)():t,a=e.ancillariesConfiguration,r=e.currentPage,i=e.isLoading,s=n.ancillariesAvailable;if(!(i||!1)&&!0===s&&r===R.a.ANCILLARIES&&a.skipToNextPageIfNoAncillariesAreFound)return this.onContinue()}},{key:"onBack",value:function(){var e=_()(this.props,"getBackLinkProps");this.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.path,A()(this.props,"location.query",{}))}},{key:"onContinue",value:function(){this.props.actionUpdateURLQuery("URL_UPDATE_HASH",this.props.getNextPage(),A()(this.props,"location.query",{}))}},{key:"getAncillaries",value:function(e){var t=y()(this.props.selectedItineraryParts,(function(e){return"".concat(e.origin,"_").concat(e.destination)}));return E()(e,(function(e){var n=A()(e,"offers.itineraryParts",{});E()(n,(function(e,n){-1===t.indexOf(n)&&(e.passengerOffers&&E()(e.passengerOffers,(function(e){k()(e,"modificationAllowed",!1)})),E()(e.segments,(function(e){e.passengerOffers&&E()(e.passengerOffers,(function(e){k()(e,"modificationAllowed",!1)}))})))}))})),e}},{key:"getEnabledSegmentsForExchange",value:function(){var e=this.props.location,t=A()(e,"query.journeyType"),n={};return k()(n,"".concat(e.query.origin,"_").concat(e.query.destination),!0),t===V.a.ROUND_TRIP&&k()(n,"".concat(e.query.destination,"_").concat(e.query.origin),!0),n}},{key:"render",value:function(){var e=this,t=this.props,n=t.cancelProps,a=t.ancillaries,r=t.globalAdvisories,i=t.travelPartAdvisories,s=t.isLoading,o=t.shoppingCart,l=t.isAncillaries,c=t.location,u=t.currentFlow,d=t.ancillariesConfiguration,p=t.viewBreakPoint,h=t.journeyType,f=t.error,m=t.bagAllowance,v=t.seatOfferCodesForReAssociation,y=s||!1,b=!s&&l,E=d.displayGlobalAdvisories&&!w()(r)&&0!==r.size,C=d.displayDayAdvisories&&!w()(i)&&0!==i.size,k=a.numberOfChildrenTravellers>0,S=Object(D.a)(this.props.isAuthorable,"exchangeAncillariesView"),_=g()(o.data.refundableOrRetainedItemsLabels,v).length>0;return N.a.createElement(Le.a,{className:"dxp-exchange-ancillaries-view",id:Y.g,location:c,isCartEnabled:!0,authorableAttributes:S,title:"ancillary.pageTitle"},b&&N.a.createElement("div",{className:"header"},N.a.createElement("div",{className:"sub-title"},k?Object(L.a)("ancillary.pageSubTitleWithChildren"):Object(L.a)("ancillary.pageSubTitle"))),y&&N.a.createElement(z.a,null),!y&&_&&N.a.createElement(Ie,{ancillaries:this.props.ancillaries,shoppingCart:o}),E&&N.a.createElement(U.a,{advisories:r}),C&&N.a.createElement(U.a,{advisories:i}),N.a.createElement("div",{className:"ancillaries-container",id:"dxp-ancillaries-container"},N.a.createElement(q.a,{currentFlow:u,viewBreakPoint:p,location:c,ancillaries:this.getAncillaries(a.ancillaries),ancillaryCode:a.ancillaryCode,cartData:a.cartData,itinerary:a.itinerary,sortedCodes:a.sortedCodes,seatBundleAssignments:a.seatBundleAssignments,seatBundleRemoved:a.seatBundleRemoved,passengers:a.passengers,ancillariesConfiguration:d,isLoading:s,isAncillaries:l,journeyType:h,error:f,shoppingCart:o,bagAllowance:m,segmentEnabled:this.getEnabledSegmentsForExchange(),updateQuantityToCode:this.props.updateQuantityToCode,selectAncillary:this.props.selectAncillary,takeSnapShot:this.props.takeSnapShot,update:this.props.update,requestCart:this.props.requestCart,revertToSnapShot:this.props.revertToSnapShot,actionUpdateURLQuery:this.props.actionUpdateURLQuery,updateInsuranceInCart:this.props.updateInsuranceInCart,addInsuranceAncillaryToCart:this.props.addInsuranceAncillaryToCart,addToCart:this.props.addToCart,addOrRemoveOneForAllPassengers:this.props.addOrRemoveOneForAllPassengers,revertSeatBundleAssignmentsToSnapShot:this.props.revertSeatBundleAssignmentsToSnapShot,excludedItineraryParts:this.props.excludedItineraryParts,retainedTotals:this.props.retainedTotals,seatAncillaries:this.props.seatAncillaries,seatRedirectLocation:this.props.seatRedirectLocation})),N.a.createElement("div",{className:"page-actions"},N.a.createElement(G.a,{continueTitle:Object(L.i)("app.payment"),onBack:function(){return e.onBack()},modal:{title:Object(L.a)("changeFlight.modalTitle"),description:Object(L.a)("changeFlight.modalDescription")},acceptLink:n,disableContinueButton:y,showCancelButton:!0,onContinue:function(){return e.onContinue()}})))}}]),t}(x.Component));f()(De,"contextTypes",{startTimeoutChecker:T.func}),f()(De,"defaultProps",{isAuthorable:!0,globalAdvisories:void 0,travelPartAdvisories:void 0,isLoading:!1,isAncillaries:!1,ancillaries:{},shoppingCart:{data:{refundableOrRetainedItemsLabels:[]}},selectedItineraryParts:[],error:!1,seatOfferCodesForReAssociation:[],excludedItineraryParts:Object(I.List)(),retainedTotals:{},seatAncillaries:void 0,seatRedirectLocation:"/".concat(M.a.EXCHANGE,"/").concat(R.a.SEAT_SELECTION)});var je=Object(B.b)(be.a,{getAncillaries:function(e){return function(t,n){var a,r=n().shoppingCart.get("data"),i=A()(e,"insurance.enabled"),s=null;return s=A()(e,"brandedAncillary.enabled")?le.postAncillaries(e,"exchangeBrandedAncillaries"):le.getAncillaries(e,"exchangeAncillaries"),i&&(a=le.getInsurance(e,r)),t({type:he.dd}),ve(t,s,a)}},updateQuantityToCode:Be.k,selectAncillary:function(e){return function(t){t({type:he.Te,ancillaryCode:e})}},requestCart:j.g,actionUpdateURLQuery:F.c,update:function(e,t,n,a,r,i,s,o){var l=oe()(e),c=Object(pe.a)(e,a,n).ancillaryOperations;if(k()(l[t.code],"needsUpdate",Boolean(c.length)),void 0!==r?l[t.code]=le.updateItineraryPart(l,t,r,s,$()(n,"isAddedToCart")):k()(l[t.code],"offers.passengerOffers",$()(n,"isAddedToCart")),!te()(o)){var u=A()(l,"[".concat(t.code,"].availableInventory")),d=A()(l,"[".concat(t.code,"].offers.itineraryParts[").concat(r,"].segments[").concat(s,"].availableInventory"));te()(d)?(d=A()(l,"[".concat(t.code,"].offers.itineraryParts[").concat(r,"].availableInventory")),te()(d)||k()(l,"[".concat(t.code,"].offers.itineraryParts[").concat(r,"].availableInventory"),d-(u-o))):k()(l,"[".concat(t.code,"].offers.itineraryParts[").concat(r,"].segments[").concat(s,"].availableInventory"),d-(u-o)),k()(l,"[".concat(t.code,"].availableInventory"),o)}return l[t.code]=le.calculateTotalForAncillary(l,A()(l,t.code)),function(e){e({type:he.xf,ancillaries:l,error:!1})}},addToCart:function(e,t,n,a){var r=oe()(t),i=oe()(e);return r.needsUpdate=!1,r.isCustomGroup&&E()(r.ancillaries,(function(e){i[e.code].needsUpdate=!1})),r.isLoading=!0,i[r.code]=r,function(t){return t({type:he.Rf,ancillaries:e}),le.addToCart(i,n,a,"exchangeAncillaries").then((function(e){var n=null,a=null;return r=le.updateQuantityToCodeMap(i,r),i[r.code]=r,w()(e)?n=i:(a=!0,(n=le.addResult(i,r.code,e.ancillaryOperationResults))[r.code].isAddedToCart=Object(ce.a)(i,n[r.code]),n[r.code]=le.calculateTotalForAncillary(n,n[r.code]),n[r.code].addedTotal=n[r.code].total),n[r.code].isLoading=!1,n[r.code].error?t({type:he.lc,ancillaries:n,error:!0}):t({type:he.xf,ancillaries:n,error:!1}),a})).catch((function(){i[r.code].isLoading=!1,t({type:he.lc,ancillaries:i,error:!0})}))}},addInsuranceAncillaryToCart:function(e,t){var n=A()(t,"offers.passengerOffers.insuranceProductId");return k()(e,"[".concat(t.code,"].productID"),n),ye(ue.b,e)},takeSnapShot:function(e){return function(t){t({type:he.of,ancillaries:e})}},revertToSnapShot:function(){return function(e){e({type:he.Be})}},revertSeatBundleAssignmentsToSnapShot:H.a,getBagAllowance:K.a,updateInsuranceInCart:ye,addOrRemoveOneForAllPassengers:function(e){return function(t){return t({type:"ADD_OR_REMOVE_ONE"}),le.addOrRemoveOneForAllPassengers(e)}}})(Object(W.a)(Object(Q.a)(De),"isLoading"));n.d(t,"default",(function(){return je}))},,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(0),g=n.n(m),v=n(2),y=n.n(v),b=n(35),E=n.n(b),C=n(51),k=n.n(C),S=n(1),_=n.n(S),O=(n(6),n(11)),w=(n(194),n(1714)),P=n(123),A=n(12),x=n(1307),N=n(25),T=n(1315),I=n(382),B=n(1723),L=n(544),D=n(527),j=n(2628),F=n(68),M=n(66),R=n(23),V=n.n(R),H=n(7),U=n(59),W=n(24),q=n(9),z=n(508);var G=n(290),K=n(335),Y=n(258),Q=n(270),X=n(273);var J=n(287),Z=n.n(J),$=n(250),ee=n.n($),te=n(77),ne=n.n(te),ae=n(42),re=n(2008),ie=n(568),se=n(438);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var le=n(2178),ce=n(1974),ue=(n(3131),n(2058),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.flights.isEmpty()||y()(this.props.searchCriteria.flightIds)||0!==this.props.selectedFlights.size||this.props.addSelectedFlightsToState(this.props.searchCriteria,this.props.isBundledOffers,this.props.selectedFlights,this.props.selectedFlightIds,this.props.selectedBrands,this.props.flights,this.props.location,this.props.configuration)}},{key:"shouldComponentUpdate",value:function(e,n){var a=t.getStateSpecificProps();return Object(N.f)()||Object(w.a)({left:this.props,right:e,keys:a}||Object(w.a)({left:this.state,right:n}))||!e.isSelectedFlightsSubmitted}},{key:"UNSAFE_componentWillUpdate",value:function(e){e.shouldSetSelectedFlights&&!e.flights.isEmpty()&&!y()(e.searchCriteria.flightIds)&&e.selectedFlights.isEmpty()&&this.props.addSelectedFlightsToState(e.searchCriteria,e.isBundledOffers,e.selectedFlights,e.selectedFlightIds,e.selectedBrands,e.flights,e.location,this.props.configuration),e.isAllFlightsSelected!==this.props.isAllFlightsSelected&&e.isAllFlightsSelected&&(e.searchCriteria.isRoundTrip?this.props.updateSelectedFlightIds(e.isBundledOffers):e.searchCriteria.isMultiCity?this.props.updateSelectedFlightIdsForMultiCity(e.isBundledOffers):this.isPartialExchange()&&this.props.updateSelectedFlightIdsForPartialExchange(e.isBundledOffers,this.props.location.query.exchangeType))}},{key:"getPageNavigationProps",value:function(){return{cancel:{enabled:!0,navigation:g()(this.props,"cancelProps",{})},back:{enabled:!0,navigation:k()(this.props,"getBackLinkProps")}}}},{key:"getTitle",value:function(){return this.props.flightSelection.isSearchingForFlights||this.props.isAllFlightsSelected?this.props.isAllFlightsSelected?"flightSelection.reviewFlights":null:"flightSelection.selectFlightsTitle"}},{key:"isPartialExchange",value:function(){return"outbound"===this.props.location.query.exchangeType||"inbound"===this.props.location.query.exchangeType}},{key:"renderContextShoppingMessage",value:function(){var e=this.props.pnrData,t=e.firstName,n=e.originalFlightCost,a=e.originalExtrasCost,r=e.exchangeCost,i=r?Object(A.a)("contextShopping.exchange.message.titleDone"):Object(A.a)("contextShopping.exchange.message.title",{firstName:t}),s=r?Object(A.a)("contextShopping.exchange.message.descriptionDone",{exchangeCost:r,originalExtrasCost:a}):Object(A.a)("contextShopping.exchange.message.description",{originalFlightCost:n,originalExtrasCost:a});return _.a.createElement(x.b,{type:"warning",title:i},s)}},{key:"render",value:function(){var e=this.props,t=e.searchCriteria,n=e.appliedSorting,a=e.selectedBrands,r=e.travelPartAdvisories,i=e.flights,s=e.location,o=e.promocodeValid,l=e.error,c=e.filter,u=e.flightSelection,d=e.displayFlightAdvisories,p=e.previouslyAppliedFilters,h=e.calendarRibbons,f=e.filteredFlights,m=e.direction,g=e.flightIds,v=e.isAuthorable,b=e.isRBEEnabled,C=e.globalAdvisories,k=e.isBundledOffers,S=e.user,O=e.configuration,w=e.combinabilityMapping,P=e.warnings,A=e.isSessionChanging,x=e.minimalPointsThresholdNotMetForSomeFlights,N=e.seatMapPreview,T=e.isAllFlightsSelected,I=e.isSelectedFlightsSubmitted,L=e.selectedFlights,D=e.selectedFlightIds,F=e.getNextPage,M=e.onFareRulesClick,R=e.onBagFeeLinkClick,V=e.summaryBarSearchEditRequested,H=e.currentFlow,U=e.reservation,W=e.reservationLoaded,q=e.pnrQuery,z=e.metadata,G=e.iropConfiguration,K=e.appliedFilters,Y=e.selectedLocale,Q=e.messages,X=z.contextShopping,J=T&&!u.isSelectingFlights&&(!l||l.isEmpty&&l.isEmpty()||y()(l));return _.a.createElement(ce.a,{className:"dxp-exchange-flight-selection-view",id:B.f,location:s,isCartEnabled:J,title:this.getTitle()},X.exchange.isEnabled&&(!l||0===l.size)&&this.props.pnrData&&this.renderContextShoppingMessage(),_.a.createElement(j.a,{messages:Q,clearFlightSelectionMessages:this.props.clearFlightSelectionMessages,displayFlightAdvisories:d,pageNavigationProps:this.getPageNavigationProps(),searchCriteria:E()(t,["journeyTypes","classes"]),metadata:z,contextShopping:X.exchange,appliedSorting:n,selectedBrands:a,flights:i,location:s,currentFlow:H,promocodeValid:o,error:l,filter:c,flightSelection:u,reservation:U,reservationLoaded:W,pnrQuery:q,selectedLocale:Y,appliedFilters:K,previouslyAppliedFilters:p,calendarRibbons:h,filteredFlights:f,direction:m,flightIds:g,isAuthorable:v,isRBEEnabled:b,globalAdvisories:C,iropConfiguration:G,travelPartAdvisories:r,isBundledOffers:k,user:S,configuration:O,combinabilityMapping:w,warnings:P,isSessionChanging:A,minimalPointsThresholdNotMetForSomeFlights:x,seatMapPreview:N,isAllFlightsSelected:T,isSelectedFlightsSubmitted:I,selectedFlights:L,selectedFlightIds:D,getNextPage:F,onBagFeeLinkClick:R,onFareRulesClick:M,getSeatMapPreview:this.props.getSeatMapPreview,actionUpdateURLQuery:this.props.actionUpdateURLQuery,summaryBarEditSearchResponded:this.props.summaryBarEditSearchResponded,summaryBarSearchEditRequested:V,setCartDefault:this.props.setCartDefault,clearMinimumPointsThresholdNotMet:this.props.clearMinimumPointsThresholdNotMet,updateFilter:this.props.updateFilter,clearFlightsError:this.props.clearFlightsError,searchFlights:this.props.searchFlights,selectFlights:this.props.selectFlights,selectFlight:this.props.selectFlight,clearFlightSelection:this.props.clearFlightSelection,requestCart:this.props.requestCart,changePnrLookup:this.props.changePnrLookup,markCartAsLoading:this.props.markCartAsLoading,markCartAsNotLoading:this.props.markCartAsNotLoading,updateCombinableFlights:this.props.updateCombinableFlights,sortFlights:this.props.sortFlights,confirmFilters:this.props.confirmFilters,cancelFilters:this.props.cancelFilters,sessionChangeProcessed:this.props.sessionChangeProcessed,setMinimumPointsThresholdNotMet:this.props.setMinimumPointsThresholdNotMet,renderOriginalItinerary:!0,requiredPointsForSelectedFlights:this.props.requiredPointsForSelectedFlights,currency:this.props.currency,availableBrandOffersCodes:this.props.availableBrandOffersCodes,openForgotPasswordModal:this.props.openForgotPasswordModal,signInProperties:this.props.signInProperties,locales:this.props.locales,formatDateTime:this.props.formatDateTime}))}}],[{key:"getStateSpecificProps",value:function(){return["searchCriteria","appliedSorting","direction","filter","isLoading","combinabilityMapping","warnings","minimalPointsThresholdNotMetForSomeFlights","contextShopping","user","pnrQuery","reservation","reservationLoaded","flights","filteredFlights","error","negotiateFarePresent","summaryBarSearchEditRequested","isRBEEnabled","messages","globalAdvisories","travelPartAdvisories","previouslyAppliedFilters","flightIds","calendarRibbons","isAllFlightSelectionsSubmitted","promocodeValid","configuration","ribbons","seatMapPreview","selectedFlights","selectedFlightIds","selectedBrands","isAllFlightsSelected","isSelectingFlights","isSelectedFlightsSubmitted","pnrData"]}}]),t}(S.Component));f()(ue,"defaultProps",{messages:Object(O.List)(),formatDateTime:void 0,appliedFilters:{},displayFlightAdvisories:!1,combinabilityMapping:Object(O.List)(),error:!1,flights:Object(O.Map)(),flightIds:[],globalAdvisories:[],iropConfiguration:{showBenefitsMessageOnFlightSelectionPage:!1},isAuthorable:!0,isAllFlightsSelected:!1,isBundledOffers:!1,isRBEEnabled:!1,isSelectedFlightsSubmitted:!1,isSessionChanging:!1,pnrQuery:void 0,promocodeValid:!1,previouslyAppliedFilters:{},reservation:Object(O.Map)(),reservationLoaded:!1,seatMapPreview:{},selectedBrands:{},selectedFlights:Object(O.Map)(),selectedFlightIds:void 0,summaryBarSearchEditRequested:!1,shouldSetSelectedFlights:!1,travelPartAdvisories:Object(O.List)(),warnings:[],requiredPointsForSelectedFlights:void 0,currency:void 0,availableBrandOffersCodes:Object(O.List)(),locales:{},selectedLocale:""});var de=Object(P.b)((function(){var e=function(e){return g()(e,"changeFlight",Object(O.Map)())},t=Object(ae.a)(e,(function(e){return e.get("reservation")})),n=Object(ae.a)(e,(function(e){return e.get("reservationLoaded")})),a=Object(ae.a)(t,(function(e){return e.metadata.getIn(["contextShopping","exchange","isEnabled"],!1)}),(function(e){return e.shoppingCart}),(function(e,t,n){var a=function(e){return y()(e)?{firstName:"",originalFlightCost:"",originalExtrasCost:""}:{firstName:Z()(e.getIn(["passengers","0","passengerDetails","firstName"])),originalFlightCost:"".concat(e.getIn(["totalPaid","amount"])," ").concat(e.getIn(["totalPaid","currency"])),originalExtrasCost:(t=e.get("products"),n=e.getIn(["totalPaid","currency"]),a=t.filter((function(e){return ne()(e.get("label"),"ancillariesPrice")||ne()(e.get("label"),"seatsPrice")})).map((function(e){return e.get("price")?e:e.set("price",0)})).reduce((function(e,t){return ee()(e.getIn(["price","amount"]),t.getIn(["price","amount"]))})),"".concat(a," ").concat(n))};var t,n,a}(e);return n.get("updated")&&(a.exchangeCost="".concat(n.getIn(["data","total","0","0","amount"])," ").concat(n.getIn(["data","total","0","0","currency"]))),t?a:{}}));return Object(ae.a)(se.b,Object(re.a)(),t,n,Object(ie.a)(),(function(e){return e.metadata.get("iropConfiguration")}),a,(function(e,t,n,a,r,i,s){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cancelProps:e},t,{reservation:n,reservationLoaded:a,pnrQuery:r,iropConfiguration:i,pnrData:s})}))}),{searchFlights:function(e,t,n,a,r,i){return function(s,o){return s({type:H.Sc}),s({type:H.He,direction:t||U.a.OUTBOUND,searchCriteria:e}),s({type:H.v,direction:i||U.a.OUTBOUND,searchCriteria:e,resetCalendarRibbonPrices:r}),s({type:H.i}),function(e){var t=e.searchCriteria,n=e.filters,a=e.metadata,r=Object(q.l)("exchangeAirSearch");return Object(z.a)({searchCriteria:t,filters:n,url:r,flow:W.a.EXCHANGE,metadata:a})}({searchCriteria:e,filters:a,metadata:o().metadata}).then((function(e){var a=g()(e,"flights.isBundledOffers",!1),r=e.flights.flights,o=r&&!V()(r)&&!y()(r[0])?Object(X.a)(Object(O.fromJS)(r),n):Object(O.Map)();if(s({type:H.j,globalAdvisories:e.advisories,travelPartAdvisories:e.travelPartAdvisories}),s({type:H.Ie,flights:o,direction:t||U.a.OUTBOUND,sortingParameters:n,promocodeValid:g()(e,"flights.promocodeValid",void 0),combinabilityMapping:g()(e,"flights.combinabilityMapping"),filters:Object(Q.a)(o,t||U.a.OUTBOUND,a,e.currency),brandBenefitReferences:g()(e,"flights.brandBenefitReferences"),currency:e.currency,isBundledOffers:a,availableBrandOffersCodes:e.availableBrandOffersCodes}),s({type:H.w,results:e.calendarRibbon,direction:i||U.a.OUTBOUND}),g()(e,"error",null))throw e.error;s({type:H.Sc})})).catch((function(e){s({type:H.Tc,error:e})}))}},updateFilter:L.o,confirmFilters:L.h,cancelFilters:L.b,selectFlights:function(e){return function(t){return t({type:H.Ve,selectedOfferIds:e}),(n=e,a=Object(q.l)("exchangeAddItinerary"),Object(z.b)(n,a)).then((function(n){t({type:H.We,selectedOfferIds:e,itineraryParts:n.itineraryParts,messages:n.messages}),t({type:H.Sc})})).catch((function(e){t({type:H.Tc,error:e});var n=Y.a[e.errorCode];throw n&&t(n(e.response)),e}));var n,a}},selectFlight:L.i,clearFlightSelection:L.c,clearFlightsError:L.f,sortFlights:L.k,updateCombinableFlights:L.n,setCartDefault:D.h,requestCart:D.g,markCartAsLoading:D.a,markCartAsNotLoading:D.b,actionUpdateURLQuery:M.c,sessionChangeProcessed:F.z,summaryBarEditSearchResponded:L.m,setMinimumPointsThresholdNotMet:L.j,clearMinimumPointsThresholdNotMet:L.g,changePnrLookup:le.a,getSeatMapPreview:function(e,t){return function(n){return n({type:H.Me,flights:e}),G.b(e,t,"exchangeSeatsPreview").then((function(e){Object(K.b)(e)?n({type:H.Oe,seatMaps:e.seatMaps,segments:e.segments,legend:e.legend,status:e.status}):n({type:H.Gd})}))}},updateSelectedFlightIds:L.p,updateSelectedFlightIdsForPartialExchange:L.r,updateSelectedFlightIdsForMultiCity:L.q,addSelectedFlightsToState:L.a,openForgotPasswordModal:I.i,clearFlightSelectionMessages:L.d})(Object(T.a)(ue));n.d(t,"default",(function(){return de}))},,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(52),y=n.n(v),b=n(58),E=n.n(b),C=n(292),k=n.n(C),S=n(4),_=n.n(S),O=n(0),w=n.n(O),P=n(36),A=n.n(P),x=n(73),N=n.n(x),T=n(51),I=n.n(T),B=n(1),L=n.n(B),D=(n(6),n(123)),j=(n(194),n(12)),F=n(11),M=n(335),R=n(527),V=n(66),H=n(136),U=n(88),W=n(1349),q=n(2108),z=n(1973),G=n(1294),K=n(1315),Y=n(14),Q=n(84),X=n(7),J=n(290),Z=n(258),$=n(24);var ee=n(16),te=n.n(ee),ne=n(42),ae=n(568),re=n(2163),ie=n(101),se=n(1974),oe=(n(3132),function(e){function t(e){var n;return r()(this,t),n=l()(this,u()(t).call(this,e)),g()(p()(n),"onBack",(function(){if(n.props.seatsOnExtrasPage.get("isEnabled"))return n.goBackToAncillaryPage();var e=n.props.getBackLinkProps()||{};return n.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.path,e.query)})),g()(p()(n),"onContinue",(function(){return n.props.seatsOnExtrasPage.get("isEnabled")?n.goBackToAncillaryPage():n.props.actionUpdateURLQuery("URL_UPDATE_HASH",n.props.getNextPage(),w()(n.props.location,"query",{}))})),g()(p()(n),"goBackToAncillaryPage",(function(){var e=w()(n.props,"location.query",{});n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(Q.a.EXCHANGE,"/").concat(Y.a.ANCILLARIES),e)})),g()(p()(n),"areSeatsSelectedForAllPax",(function(){var e=n.props,t=e.configuration,a=e.uniquePassengers,r=I()(n.props.segments,"toJS",[]),i=_()(E()(r),(function(e,t){return t.seatMapAvailable?e+1:e}),0),s=n.props.selectedSeats?n.props.selectedSeats.size:0,o=I()(a,"toJS",[]).slice();i*k()(o,(function(e){return-1===y()(t.passengersExcludedFromSeatSelection,e.passengerInfo.type)})).length===s?n.onContinue():n.seatSelectionConfirmation()})),g()(p()(n),"footerButtonFocus",(function(){return n.pageNavigationButtons&&n.pageNavigationButtons.focusContinueButton()})),n.state={isLastSegmentSelected:!1,showSeatSelectionAlert:!1,preselectedSeats:{}},n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.pnrInfo.isEmpty()&&this.props.getTripDetails({pnrLookupQuery:this.props.pnrQuery,location:this.props.location,shouldRedirect:!1,ignoreCartUpdate:!0}),this.props.isUserLoggedIn&&this.props.getUpcomingTrips()}},{key:"onSeatModalCloseClick",value:function(){this.setState({showSeatSelectionAlert:!1})}},{key:"onSeatSelection",value:function(e){this.setState({preselectedSeats:e})}},{key:"setIsLastSegmentSelected",value:function(e){this.setState({isLastSegmentSelected:e})}},{key:"seatSelectionConfirmation",value:function(){this.setState({showSeatSelectionAlert:!0})}},{key:"renderSeatSelectionConfirmation",value:function(){var e=this,t=this.props.seatsOnExtrasPage.get("isEnabled")?"exchangeAncillaries":N()(this.props.getNextPage()),n=Object(j.i)("app.".concat(t));return L.a.createElement(H.a,{className:"seat-selection-modal",onClose:function(){return e.onSeatModalCloseClick()}},L.a.createElement("h2",null,Object(j.a)("seatSelection.proceedWithoutSeatSelection.title")),L.a.createElement("p",null,Object(j.a)("seatSelection.proceedWithoutSeatSelection.description")),L.a.createElement("div",{className:"pull-right"},L.a.createElement(U.a,{className:"secondary small",onClick:function(){return e.onSeatModalCloseClick()}},Object(j.a)("app.cancel")),L.a.createElement(U.a,{className:"primary small",onClick:function(){return e.onContinue()}},Object(j.a)("app.continue",{pageName:n}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,a=t.getNextPage,r=t.isSeatNotSelectedForASeatBundle,i=t.cancelProps,s=t.flights,o=t.segments,l=t.seatMaps,c=t.selectedSeats,u=t.legend,d=t.passengers,p=t.uniquePassengers,h=t.isFetchingSeatMap,f=t.seatMapError,m=t.showPageLoadingMessage,g=t.globalAdvisories,v=t.travelPartAdvisories,y=t.currentFlow,b=t.currentPage,E=t.ancillariesConfiguration,C=t.shoppingCart,k=t.oldPaidSeats,S=t.journeyType,_=t.pnrInfo,O=t.hasIropAffectedReservationMessage,P=t.isAuthorable,x=t.defaultSummaryBarOffset,T=t.location,I=t.processingSeatSelection,B=t.seatOfferCodesForReAssociation,D=t.seatsOnExtrasPage,F=!n.alternateSeatMap||this.state.isLastSegmentSelected,M=w()(n,"showSeatSelectionAlert"),R=D.get("isEnabled"),V=!R,H=R?Y.a.ANCILLARIES:A()(a().split("/"));return L.a.createElement(se.a,{className:"dxp-exchange-seat-selection-view",id:"dxp-exchange-seat-selection-view",location:T,isCartEnabled:!0,title:"seatSelection.header"},this.state.showSeatSelectionAlert&&this.renderSeatSelectionConfirmation(),L.a.createElement(q.a,{configuration:n,flights:s,segments:o,seatMaps:l,selectedSeats:c,legend:u,isSeatsOnExtrasPageEnabled:R,passengers:d,uniquePassengers:p,isFetchingSeatMap:h,seatMapError:f,getNextPage:a,showPageLoadingMessage:m,requestCart:this.props.requestCart,getSeatMap:this.props.getSeatMap,globalAdvisories:g,travelPartAdvisories:v,actionUpdateURLQuery:this.props.actionUpdateURLQuery,saveSelectedSeat:this.props.saveSelectedSeat,setAllSeatsSelected:this.props.setAllSeatsSelected,currentPage:b,currentFlow:y,isSeatNotSelectedForASeatBundle:r,ancillariesConfiguration:E,shoppingCart:C,oldPaidSeats:k,hasIropAffectedReservationMessage:O,isAuthorable:P,journeyType:S,pnrInfo:_,seatOfferCodesForReAssociation:B,defaultSummaryBarOffset:x,onSeatSelectionChange:function(t){return e.onSeatSelection(t)},onIsLastSegmentSelectedChange:function(t){return e.setIsLastSegmentSelected(t)},location:T,processingSeatSelection:I,footerButtonFocus:this.footerButtonFocus}),F&&L.a.createElement("div",{className:"dxp-flow-step-actions"},L.a.createElement(W.a,{ref:function(t){e.pageNavigationButtons=t},continueTitle:Object(j.i)("breadcrumbsFlows.".concat(N()(H))),onBack:this.onBack,showCancelButton:V,modal:{title:Object(j.a)("changeFlight.modalTitle"),description:Object(j.a)("changeFlight.modalDescription")},acceptLink:i,onContinue:M?this.areSeatsSelectedForAllPax:this.onContinue})))}}]),t}(B.Component));g()(oe,"defaultProps",{processingSeatSelection:!1,isUserLoggedIn:!1,pnrInfo:Object(F.Map)(),travelPartAdvisories:[],seatMapError:void 0,showPageLoadingMessage:!1,hasIropAffectedReservationMessage:!1,isAuthorable:!0,isSeatNotSelectedForASeatBundle:!1,currentPage:"",flights:[],seatMaps:void 0,legend:void 0,passengers:void 0,isFetchingSeatMap:!1,globalAdvisories:void 0,ancillariesConfiguration:{},journeyType:{},defaultSummaryBarOffset:0,getUpcomingTrips:void 0,selectedSeats:void 0,segments:void 0,uniquePassengers:void 0,oldPaidSeats:Object(F.List)(),seatOfferCodesForReAssociation:[],seatsOnExtrasPage:Object(F.Map)({isEnabled:!1})});var le=Object(D.b)((function(){var e=Object(ne.b)({reservation:function(e){return w()(e,"changeFlight",Object(F.Map)()).get("reservation")},reservationLoaded:function(e){return w()(e,"changeFlight",Object(F.Map)()).get("reservationLoaded")},pnrQuery:Object(ae.a)(),flowConfiguration:function(e,t){return e.metadata.getIn(["flows",Object(ie.a)(t.location.pathname)])},seatOfferCodesForReAssociation:function(e){return e.metadata.get("seatOfferCodesForReAssociationMessage").toArray()}}),t=Object(ne.a)(Object(re.a)(),(function(e){return e}));return Object(ne.a)(e,t,(function(e,t){return te()({},e,t)}))}),{getSeatMap:function(e,t){return function(n){return n({type:X.Pe,flights:e}),J.a(t,"exchangeSeats").then((function(e){Object(M.c)(e)?n({type:X.Re,oldPaidSeats:e.oldPaidSeats,seatMaps:e.seatMaps,legend:e.legend,passengers:e.passengers,uniquePassengers:e.uniquePassengers,segments:e.segments,selectedSeats:e.selectedSeats,status:e.status}):n({type:X.Fd,seatMaps:["invalid"]})})).catch((function(e){throw"HTTPERROR"===e.errorType&&n({type:X.Qe,data:e.response}),e}))}},saveSelectedSeat:function(e){return function(t){return t({type:X.Tb}),t({type:X.De}),J.c(e,"exchangeSeats").then((function(e){return t({type:X.Ee,result:e})})).catch((function(e){var n=Z.a[e.errorCode];n&&t(n(e.response,$.a.EXCHANGE)),"HTTPERROR"===e.errorType&&t({type:X.ig,error:e}),t({type:X.Ce})}))}},setAllSeatsSelected:M.d,requestCart:R.g,actionUpdateURLQuery:V.c,getTripDetails:z.h})(Object(G.a)(Object(K.a)(oe),"isFetchingSeatMap"));n.d(t,"default",(function(){return le}))},function(e,t,n){"use strict";n.r(t);var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(22),l=n.n(o),c=n(29),u=n.n(c),d=n(28),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(51),y=n.n(v),b=n(0),E=n.n(b),C=n(1),k=n.n(C),S=n(6),_=n(123),O=n(195),w=n(14),P=n(84),A=n(2109),x=n(325),N=n(521),T=n(1294),I=n(16),B=n.n(I),L=n(36),D=n.n(L),j=n(12),F=n(1349),M=n(2143),R=(n(3137),function(e){return E()(e,"location.query",{})}),V=function(e){var t=D()(e.getNextPage("bnpl","ancillaries").split("/"));return Object(j.i)("app.".concat(t))},H=function(e){return k.a.createElement("div",{className:"bnpl-ancillaries-content"},k.a.createElement(M.a,function(e){return B()({},e,{ancillaries:y()(e,"ancillaries.toJS",{}),sortedCodes:y()(e,"sortedCodes.toJS",[]),passengers:y()(e,"passengers.toJS",[]),itinerary:y()(e,"itinerary.toJS",[])})}(e)),k.a.createElement(F.a,{modal:{title:Object(j.a)("bnpl.modals.cancel.title"),description:Object(j.a)("bnpl.modals.cancel.description")},continueTitle:V(e),onContinue:function(){return function(e){var t=e.getNextPage("bnpl","ancillaries"),n=R(e);e.actionUpdateURLQuery("URL_UPDATE_HASH",t,n)}(e)},onBack:function(){return function(e){var t=R(e);e.actionUpdateURLQuery("URL_UPDATE_HASH","/bnpl/seat-selection",t)}(e)},showCancelButton:!0,acceptLink:e.cancelProps}))},U=n(66),W=n(527),q=n(452),z=n(2312),G=n(2212),K=n(2028),Y=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.context.startTimeoutChecker()}},{key:"componentDidMount",value:function(){var e=this;this.props.getBNPLAncillaries(this.props.ancillariesConfiguration).then((function(){return e.props.requestCart(P.a.BNPL,e.props.location)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=e.ancillariesAvailable,a=e.ancillariesConfiguration,r=e.isLoading,i=e.currentPage,s=t.getNextPageData(e),o=s.path,l=s.query;if(!r&&n&&i===w.a.EXTRAS&&a.skipToNextPageIfNoAncillariesAreFound)return this.onContinue(o,l)}},{key:"onContinue",value:function(e,t){this.props.actionUpdateURLQuery("URL_UPDATE_HASH",e,t)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.location,a=Object(O.a)(this.props.isAuthorable,"bnplAncillariesView");return k.a.createElement(K.a,r()({className:"dxp-bnpl-ancillaries-view",title:"titles.bnplAncillaries"},a,{location:n}),k.a.createElement(x.a,{animations:{animated:!0,type:"slideFromBottom"}},t?k.a.createElement(N.a,{className:"dark"}):k.a.createElement(H,this.props)))}}],[{key:"getNextPageData",value:function(e){var t=e.getNextPage;return e.isPaymentViewNext?y()(e,"getBackLinkProps"):{path:t(),query:E()(e,"location.query",{})}}}]),t}(C.Component);g()(Y,"contextTypes",{startTimeoutChecker:S.func}),g()(Y,"defaultProps",{ancillariesAvailable:!1,isAuthorable:!0,isLoading:!1,error:{}});var Q=Object(_.b)(z.a,{requestCart:W.g,updateQuantityToCode:q.k,update:G.p,getBNPLAncillaries:G.l,addToCart:G.k,takeSnapShot:G.o,revertToSnapShot:G.m,revertSeatBundleAssignmentsToSnapShot:A.a,selectAncillary:G.n,addOrRemoveOneForAllPassengers:G.j,actionUpdateURLQuery:U.c})(Object(T.a)(Y),"isLoading");n.d(t,"default",(function(){return Q}))},,function(e,t,n){"use strict";n.r(t);var a=n(36),r=n.n(a),i=n(0),s=n.n(i),o=n(1),l=n.n(o),c=n(123),u=(n(6),n(12)),d=n(527),p=n(66),h=n(2108),f=n(1349),m=n(1294),g=n(3),v=n.n(g),y=n(7),b=n(290),E=n(335);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=n(42),_=n(2163);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var w=function(e){return e.metadata.getIn(["flows","bnpl"])};var P=n(2028),A=(n(3136),function(e){var t=r()(e.getNextPage("bnpl","seat-selection").split("/"));return Object(u.i)("app.".concat(t))}),x=function(e){var t=e.getNextPage("bnpl","seat-selection"),n=function(e){return s()(e,"location.query",{})}(e);e.actionUpdateURLQuery("URL_UPDATE_HASH",t,n)},N=Object(c.b)((function(){var e=Object(S.a)(Object(_.a)(),(function(e){return e}));return Object(S.a)(e,w,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{flowConfiguration:t})}))}),{getSeatMap:function(e,t){return function(n){return n({type:y.Tb}),n({type:y.Pe,flights:e}),b.a(t,"bnplSeats").then((function(e){Object(E.c)(e)?n({type:y.Re,seatMaps:e.seatMaps,legend:e.legend,passengers:e.passengers,uniquePassengers:e.uniquePassengers,segments:e.segments,selectedSeats:e.selectedSeats,status:e.status}):n({type:y.Fd,seatMaps:["invalid"]})})).catch((function(e){throw"HTTPERROR"===e.errorType&&(n({type:y.Qe,data:e.response}),n({type:y.ig,error:k({},e)})),e}))}},saveSelectedSeat:function(e){return function(t){return t({type:y.De}),b.c(e,"bnplSeats").then((function(e){return t({type:y.Ee,result:e})}))}},requestCart:d.g,actionUpdateURLQuery:p.c})(Object(m.a)((function(e,t){return l.a.createElement(P.a,{className:"dxp-bnpl-seat-selection-view",title:"titles.bnplSeatSelection",location:e.location},l.a.createElement(h.a,e),l.a.createElement(f.a,{modal:{title:Object(u.a)("bnpl.modals.cancel.title"),description:Object(u.a)("bnpl.modals.cancel.description")},showCancelButton:!0,continueTitle:A(e),onContinue:function(){return x(e)},onBack:function(){return function(e){var t=e.getBackLinkProps();e.actionUpdateURLQuery("URL_UPDATE_HASH",t.path,t.query)}(e)},acceptLink:e.cancelProps}))}),"isFetchingSeatMap"));n.d(t,"default",(function(){return N}))},,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(56),y=n.n(v),b=n(52),E=n.n(b),C=n(58),k=n.n(C),S=n(292),_=n.n(S),O=n(4),w=n.n(O),P=n(51),A=n.n(P),x=n(0),N=n.n(x),T=n(36),I=n.n(T),B=n(73),L=n.n(B),D=n(1),j=n.n(D),F=(n(6),n(194),n(11)),M=n(123),R=n(12),V=n(527),H=n(66),U=n(1294),W=n(88),q=n(1349),z=n(319),G=n(136),K=n(2108),Y=n(195),Q=n(2338),X=n(335),J=n(1315),Z=n(42),$=n(2163),ee=n(101);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ne=function(e){return e.metadata.get("upgradeSeatSelection")},ae=function(e,t){return e.metadata.getIn(["flows",Object(ee.a)(t.location.pathname)])},re=function(e){return e.upgrade.get("uniquePassengers")},ie=function(e){return e.upgrade.get("segments")},se=function(e){return e.upgrade.get("selectedSeats")},oe=function(e){return e.upgrade.get("isFetchingSeatMap")},le=function(e){return e.upgrade},ce=function(e){return e.upgrade.get("seatMapError")},ue=function(e){return e.upgrade.get("showPageLoadingMessage")};var de=n(2147),pe=(n(3166),function(e){function t(){var e;return r()(this,t),e=s()(this,l()(t).call(this)),g()(u()(e),"onContinue",(function(){e.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.props.getNextPage(),N()(u()(e),"props.location.query",{}))})),g()(u()(e),"areSeatsSelectedForAllPax",(function(){var t=e.props,n=t.configuration,a=t.uniquePassengers,r=A()(e.props.segments,"toJS",[]),i=w()(k()(r),(function(e,t){return t.seatMapAvailable?e+1:e}),0),s=A()(e.props.selectedSeats,"toJS",[]),o=y()(s),l=A()(a,"toJS",[]).slice();i*_()(l,(function(e){return-1===E()(n.passengersExcludedFromSeatSelection,e.passengerInfo.type)})).length===o?e.onContinue():e.seatSelectionConfirmation()})),g()(u()(e),"footerButtonFocus",(function(){return e.pageNavigationButtons&&e.pageNavigationButtons.focusContinueButton()})),e.state={isLastSegmentSelected:!1,showSeatSelectionAlert:!1,preselectedSeats:{}},e}return f()(t,e),p()(t,null,[{key:"renderSeatBundleMessage",value:function(){return j.a.createElement(z.a,{className:"seat-bundle-seats-not-selected-message",type:"info",title:"seatSelection.premiumSeatNoSelectedForSeatBundle.title"},Object(R.a)("seatSelection.premiumSeatNoSelectedForSeatBundle.description"))}}]),p()(t,[{key:"onBack",value:function(){var e=this.props.getBackLinkProps();this.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.path,e.query)}},{key:"onClickSeatModalClose",value:function(){this.setState({showSeatSelectionAlert:!1})}},{key:"onSeatSelection",value:function(e){this.setState({preselectedSeats:e})}},{key:"setIsLastSegmentSelected",value:function(e){this.setState({isLastSegmentSelected:e})}},{key:"seatSelectionConfirmation",value:function(){this.setState({showSeatSelectionAlert:!0})}},{key:"renderSeatSelectionConfirmation",value:function(){var e=this,t=Object(R.i)("app.".concat(L()(this.props.getNextPage())));return j.a.createElement(G.a,{className:"seat-selection-modal",onClose:function(){return e.onClickSeatModalClose()}},j.a.createElement("h2",null,Object(R.a)("seatSelection.proceedWithoutSeatSelection.title")),j.a.createElement("p",null,Object(R.a)("seatSelection.proceedWithoutSeatSelection.description")),j.a.createElement("div",{className:"pull-right"},j.a.createElement(W.a,{className:"secondary small",onClick:function(){return e.onClickSeatModalClose()}},Object(R.a)("app.cancel")),j.a.createElement(W.a,{className:"primary small",onClick:function(){return e.onContinue()}},Object(R.a)("app.continue",{pageName:t}))))}},{key:"render",value:function(){var e=this,n=this.props,a=n.getNextPage,r=n.configuration,i=n.isSeatNotSelectedForASeatBundle,s=n.cancelProps,o=n.location,l=n.seatMaps,c=n.selectedSeats,u=n.legend,d=n.passengers,p=n.uniquePassengers,h=n.isFetchingSeatMap,f=n.seatMapError,m=n.showPageLoadingMessage,g=n.globalAdvisories,v=n.travelPartAdvisories,y=n.currentPage,b=n.currentFlow,E=n.flights,C=n.segments,k=n.shoppingCart,S=n.oldPaidSeats,_=n.ancillariesConfiguration,O=n.isShowReassociationMessage,w=n.hasIropAffectedReservationMessage,P=n.journeyType,A=n.pnrInfo,x=n.isAuthorable,T=n.metadata,B=Object(Y.a)(x,"upgradeSeatSelectionView"),D=r.seatBundles.enabled,F=!r.alternateSeatMap||this.state.isLastSegmentSelected,M=N()(r,"showSeatSelectionAlert");return j.a.createElement(de.a,{className:"dxp-upgrade-seat-selection-view",title:"upgrade.seatSelectionHeader",isCartEnabled:!h,location:o,authorableAttributes:B},this.state.showSeatSelectionAlert&&this.renderSeatSelectionConfirmation(),i&&t.renderSeatBundleMessage(),j.a.createElement(K.a,{configuration:r,flights:E,segments:C,seatMaps:l,selectedSeats:c,legend:u,passengers:d,uniquePassengers:p,isFetchingSeatMap:h,seatMapError:f,getNextPage:a,showPageLoadingMessage:m,requestCart:this.props.requestCart,getSeatMap:this.props.getSeatMap,globalAdvisories:g,travelPartAdvisories:v,actionUpdateURLQuery:this.props.actionUpdateURLQuery,saveSelectedSeat:this.props.saveSelectedSeat,setAllSeatsSelected:this.props.setAllSeatsSelected,currentFlow:b,currentPage:y,isSeatNotSelectedForASeatBundle:i,ancillariesConfiguration:_,shoppingCart:k,oldPaidSeats:S,journeyType:P,pnrInfo:A,isShowReassociationMessage:O,hasIropAffectedReservationMessage:w,isAuthorable:x,metadata:T,onSeatSelectionChange:function(t){return e.onSeatSelection(t)},onIsLastSegmentSelectedChange:function(t){return e.setIsLastSegmentSelected(t)},location:o,footerButtonFocus:this.footerButtonFocus}),i&&t.renderSeatBundleMessage(),F&&j.a.createElement("div",{className:"dxp-flow-step-actions"},j.a.createElement(q.a,{ref:function(t){e.pageNavigationButtons=t},location:o,continueTitle:Object(R.i)("breadcrumbsFlows.".concat(L()(I()(a().split("/"))))),onBack:function(){return e.onBack()},modal:{title:Object(R.a)("upgrade.cancelModal.title"),description:Object(R.a)("upgrade.cancelModal.description")},acceptLink:s,showCancelButton:!0,disableContinueButton:D&&i,onContinue:M?this.areSeatsSelectedForAllPax:this.onContinue})))}}]),t}(D.Component));g()(pe,"defaultProps",{shoppingCart:{},oldPaidSeats:Object(F.List)(),isShowReassociationMessage:!1,journeyType:{},selectedSeats:Object(F.List)(),uniquePassengers:Object(F.List)(),isSeatNotSelectedForASeatBundle:!1,hasIropAffectedReservationMessage:!1,isAuthorable:!1,currentFlow:void 0,showPageLoadingMessage:!1,seatMaps:void 0,travelPartAdvisories:[],seatMapError:void 0,legend:Object(F.List)(),ancillariesConfiguration:{},globalAdvisories:[],passengers:Object(F.List)()});var he=Object(M.b)((function(){return Object(Z.a)(Object($.a)(),ne,ae,re,ie,se,oe,le,ce,ue,(function(e,t,n,a,r,i,s,o,l,c){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{configuration:t,flowConfiguration:n,uniquePassengers:a,segments:r,selectedSeats:i,isFetchingSeatMap:s,seatSelectionData:o,seatMapError:l,showPageLoadingMessage:c})}))}),{getSeatMap:Q.a,saveSelectedSeat:Q.c,requestCart:V.g,actionUpdateURLQuery:H.c,setAllSeatsSelected:X.d})(Object(U.a)(Object(J.a)(pe),"isFetchingSeatMap"));n.d(t,"default",(function(){return he}))},,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(51),y=n.n(v),b=n(16),E=n.n(b),C=n(73),k=n.n(C),S=n(2),_=n.n(S),O=n(0),w=n.n(O),P=n(1),A=n.n(P),x=n(6),N=(n(194),n(123)),T=n(11),I=n(12),B=n(195),L=n(527),D=n(2640),j=n(66),F=n(2109),M=n(1950),R=n(1557),V=n(2143),H=n(319),U=n(521),W=n(1349),q=n(24),z=n(575),G=n(534),K=n(1586),Y=n(148),Q=n(1294),X=n(14),J=n(530),Z=n(1376),$=n(542),ee=n(1315),te=n(2340),ne=n(452),ae=n(1972);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ie=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{insuranceSelectionRequired:!1}),g()(p()(n),"onBack",(function(){var e=n.props.getBackLinkProps();n.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.path,e.query)})),g()(p()(n),"onContinueWithSeatBundleRedirect",(function(){var e=n.props,t=e.getBackLinkProps,a=e.seatAncillaries,r=t(),i=w()(a,"seatsOnExtrasPageConfig.isEnabled",!1)?z.a.SEAT_SELECTION_VIEW:r.path;n.props.actionUpdateURLQuery("URL_UPDATE_HASH",i,r.query)})),g()(p()(n),"onContinue",(function(){return n.isInsuranceSelected()?n.props.actionUpdateURLQuery("URL_UPDATE_HASH",n.props.getNextPage(),w()(p()(n),"props.location.query",{})):n.setState({insuranceSelectionRequired:!0})})),g()(p()(n),"getAncillaries",(function(e){return n.props.getAncillaries(n.props.ancillariesConfiguration,n.props.tripOrigin).then((function(){return n.props.requestCart(w()(n.props,"currentFlow"),n.props.location)})).then((function(){return n.props.updateInsuranceWithCart(n.props.ancillariesConfiguration)})).then((function(){return Promise.all([n.fetchSelectedCarOffer(),n.fetchHotelContext(),n.fetchSelectedHotel()])})).then((function(){return Promise.all([n.fetchBagAllowance(),n.searchCars(),n.fetchHotelOffers(),n.fetchUpsellOptions(e)])}))})),g()(p()(n),"redirectToCarsPage",(function(){n.props.actionUpdateURLQuery(j.a,"/".concat(X.a.CARS),n.props.location.query)})),g()(p()(n),"redirectToHotelSearchPage",(function(){n.props.actionUpdateURLQuery(j.a,"/".concat(q.a.HOTEL,"/").concat(X.a.HOTELS_SEARCH),n.props.location.query)})),g()(p()(n),"removeHotelFromCart",(function(){return n.props.removeHotelFromCart().then((function(){return n.fetchHotelOffers()}))})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;return this.context.startTimeoutChecker(),this.props.getAncillaries(this.props.ancillariesConfiguration,this.props.tripOrigin).then((function(){return e.props.requestCart(w()(e.props,"currentFlow"),e.props.location)})).then((function(){return e.props.updateInsuranceWithCart(e.props.ancillariesConfiguration)})).then((function(){return Promise.all([e.fetchSelectedCarOffer(),e.fetchHotelContext(),e.fetchSelectedHotel()])})).then((function(){return Promise.all([e.fetchBagAllowance(),e.searchCars(),e.fetchHotelOffers(),e.fetchUpsellOptions()])}))}},{key:"componentDidMount",value:function(){Object(Z.a)(this.view,{headerOffset:200})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=e.ancillaries,a=e.ancillariesConfiguration,r=e.isLoading,i=e.currentPage,s=e.user,o=e.upsellData,l=n.ancillariesAvailable;if(!(r||!1)&&l&&"ancillaries"===i&&a.skipToNextPageIfNoAncillariesAreFound){var c=t.getNextPageData(e),u=c.path,d=c.query;this.onContinueWhenAncillariesNotFound(u,d)}s.equals(this.props.user)||this.fetchBagAllowance(),(t.shouldShowError(e)||o.hasPremiumSeatRemovedWarning)&&Object(Z.a)(this.view,{headerOffset:200})}},{key:"onContinueWhenAncillariesNotFound",value:function(e,t){this.props.actionUpdateURLQuery("URL_UPDATE_QUERY",e,t)}},{key:"getAncillariesProps",value:function(){return E()({},this.props,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y()(this.props,"ancillaries.toJS")))}},{key:"fetchBagAllowance",value:function(){return this.props.ancillariesConfiguration.showFreeBaggageAllowance&&this.props.getBagAllowance(this.props.currentFlow)}},{key:"fetchHotelContext",value:function(){return!this.props.isAwardBooking&&this.props.hotels.hotelsConfiguration.enabled&&this.props.retrieveHotelContext()}},{key:"fetchHotelOffers",value:function(){return this.props.isAwardBooking||!this.props.hotels.hotelsConfiguration.enabled||this.props.hotels.selectedHotel||this.props.hotels.hotelOffers?Promise.resolve():this.props.searchHotels()}},{key:"fetchSelectedCarOffer",value:function(){return!this.props.isAwardBooking&&this.props.cars.carsConfiguration.enabled&&this.props.fetchAndTransformSelectedOffer()}},{key:"fetchSelectedHotel",value:function(){return!this.props.isAwardBooking&&this.props.hotels.hotelsConfiguration.enabled&&this.props.fetchSelectedHotel()}},{key:"fetchUpsellOptions",value:function(e){var t=e?this.props.updateFlightSelectionBrands:this.props.getUpsellOptions;return this.isUpsellEnabled()&&t()}},{key:"isInsuranceSelected",value:function(){var e=this.props,t=e.ancillariesConfiguration,n=e.ancillaries.ancillaries[w()(t,["insurance","code"])];return!n||!n.market||Object(Y.d)()}},{key:"isUpsellEnabled",value:function(){return this.props.upsellConfiguration.enabled&&this.props.upsellConfiguration.ancillaryPageEnabled}},{key:"searchCars",value:function(){var e=this,t=this.props,n=t.isAwardBooking,a=t.cars,r=t.location,i=t.journeyType;return!n&&a.carsConfiguration.enabled&&_()(a.selectedCarOffer)&&this.props.getDefaultCarsLocations(r).then((function(){return e.props.searchCarsDefault(i,r)}))}},{key:"render",value:function(){var e=this,n=this.props,a=n.globalAdvisories,r=n.travelPartAdvisories,i=n.isLoading,s=n.isAncillaries,o=n.ancillaries,l=n.ancillariesConfiguration,c=n.hotels,u=n.viewBreakPoint,d=n.location,p=n.cars,h=n.error,f=n.isSeatBundlePremiumSeatNotSelected,m=n.journeyType,g=n.getNextPage,v=n.bagAllowance,y=n.currentFlow,b=n.flowConfiguration,E=n.isPaymentViewNext,C=n.upsellData,S=o.ancillariesAvailable,O=i||!1,w=!i,P=f&&E,x=!this.props.isLoading&&t.shouldShowError(this.props),N=l.displayGlobalAdvisories&&!_()(a)&&0!==a.size,T=l.displayDayAdvisories&&!_()(r)&&0!==r.size,L=P?X.a.SEAT_SELECTION:b.get(X.a.ANCILLARIES),D=Object(B.a)(this.props.isAuthorable,"ancillariesView");return A.a.createElement(ae.a,{location:this.props.location,className:"dxp-ancillaries-view",authorableAttributes:D,id:M.c,title:"ancillary.pageTitle",subtitle:Object(I.a)("ancillary.pageSubTitle")},A.a.createElement("div",{ref:function(t){e.view=t}},x&&A.a.createElement(H.a,{type:J.d.WARNING,title:"ancillary.ERR.SSW.CLIENT.INVALID_REQUEST.title"},Object(I.a)("ancillary.ERR.SSW.CLIENT.INVALID_REQUEST.description")),O&&A.a.createElement(U.a,{showPageLoadingMessage:!0}),N&&A.a.createElement(R.a,{advisories:a}),T&&A.a.createElement(R.a,{advisories:r}),w&&S&&A.a.createElement(H.a,{type:J.d.INFO,title:"ancillary.noAncillariesAvailable.title"},Object(I.a)("ancillary.noAncillariesAvailable.description")),C.hasPremiumSeatRemovedWarning&&A.a.createElement(H.a,{type:J.d.WARNING,title:"ancillary.premiumSeatRemoved.title"},Object(I.a)("ancillary.premiumSeatRemoved.description")),A.a.createElement("div",{className:"ancillaries-container",id:"dxp-ancillaries-container"},A.a.createElement(V.a,{currentFlow:y,viewBreakPoint:u,location:d,ancillaries:o.ancillaries,ancillaryCode:o.ancillaryCode,cartData:o.cartData,itinerary:o.itinerary,sortedCodes:o.sortedCodes,seatBundleAssignments:o.seatBundleAssignments,seatBundleRemoved:o.seatBundleRemoved,passengers:o.passengers,cars:p,isLoading:i,ancillariesConfiguration:l,isAncillaries:s,error:h,insuranceError:o.insuranceError,isSeatBundlePremiumSeatNotSelected:f,displayAsSlider:!1,isSeatBundles:!1,journeyType:m,getNextPage:g,bagAllowance:v,ancillariesAvailable:S,updateInsuranceInCart:this.props.updateInsuranceInCart,requestCart:this.props.requestCart,takeSnapShot:this.props.takeSnapShot,update:this.props.update,selectAncillary:this.props.selectAncillary,revertToSnapShot:this.props.revertToSnapShot,addOrRemoveOneForAllPassengers:this.props.addOrRemoveOneForAllPassengers,addInsuranceAncillaryToCart:this.props.addInsuranceAncillaryToCart,addToCart:this.props.addToCart,actionUpdateURLQuery:this.props.actionUpdateURLQuery,revertSeatBundleAssignmentsToSnapShot:this.props.revertSeatBundleAssignmentsToSnapShot,updateQuantityToCode:this.props.updateQuantityToCode,updateTotalForInsurance:this.props.updateTotalForInsurance,removeHotelFromCart:this.removeHotelFromCart,hotels:c,upsellEnabled:this.isUpsellEnabled(),upsellData:this.props.upsellData,sortUpsellBrand:this.props.upsellConfiguration.sortUpsellBrand,numberOfUpsellOffersDisplayed:this.props.upsellConfiguration.numberOfUpsellOffersDisplayed,brandSortOrder:this.props.brandSortOrder,refreshAncillaries:this.getAncillaries,getUpsellOptions:this.props.getUpsellOptions,selectUpsellOptions:this.props.selectUpsellOptions,removeUpsellOptions:this.props.removeUpsellOptions,updateFlightSelectionBrands:this.props.updateFlightSelectionBrands,redirectToHotelSearchPage:this.redirectToHotelSearchPage,redirectToCarsPage:this.redirectToCarsPage,isAwardBooking:this.props.isAwardBooking,insuranceSelectionRequired:this.state.insuranceSelectionRequired,setInsuranceSelectionRequired:function(t){return e.setState({insuranceSelectionRequired:t})},seatAncillaries:this.props.seatAncillaries})),A.a.createElement(W.a,{location:d,continueTitle:Object(I.i)("breadcrumbsFlows.".concat(k()(L))),onBack:this.onBack,disableContinueButton:i,onContinue:P?this.onContinueWithSeatBundleRedirect:this.onContinue})))}}],[{key:"getNextPageData",value:function(e){var t=e.getNextPage,n=e.isSeatBundlePremiumSeatNotSelected,a=e.isPaymentViewNext,r=e.currentFlow;return n&&a?y()(e,"getBackLinkProps"):{path:t(r,"ancillaries"),query:w()(e,"location.query",{})}}},{key:"shouldShowError",value:function(e){var t=e.error,n=e.hotels;return!(T.Map.isMap(t)?t.isEmpty():_()(t))||n.isRemoveHotelError}}]),t}(P.Component);g()(ie,"contextTypes",{startTimeoutChecker:x.func.isRequired}),g()(ie,"defaultProps",{globalAdvisories:[],travelPartAdvisories:[],isAncillaries:!1,isPaymentViewNext:!1,isSeatBundlePremiumSeatNotSelected:!1,error:!1,isAuthorable:!0,isLoading:!1,upsellData:{},brandSortOrder:[],location:{},isAwardBooking:!1,user:Object(T.Map)(),tripOrigin:"",seatAncillaries:void 0});var se=Object(N.b)(te.a,{updateTotalForInsurance:ne.l,updateQuantityToCode:ne.k,getAncillaries:ne.d,selectAncillary:ne.f,requestCart:L.g,actionUpdateURLQuery:j.c,update:ne.h,addToCart:ne.c,addInsuranceAncillaryToCart:ne.a,takeSnapShot:ne.g,revertToSnapShot:ne.e,revertSeatBundleAssignmentsToSnapShot:F.a,updateInsuranceInCart:ne.i,updateInsuranceWithCart:ne.j,addOrRemoveOneForAllPassengers:ne.b,getBagAllowance:K.a,getDefaultCarsLocations:G.i,searchCarsDefault:G.m,fetchAndTransformSelectedOffer:G.c,searchHotels:$.m,fetchSelectedHotel:$.d,retrieveHotelContext:$.k,removeHotelFromCart:$.f,getUpsellOptions:D.a,selectUpsellOptions:D.c,removeUpsellOptions:D.b,updateFlightSelectionBrands:D.d})(Object(Q.a)(Object(ee.a)(ie),"isLoading"));n.d(t,"default",(function(){return se}))},function(e,t,n){"use strict";n.r(t);var a=n(57),r=n.n(a),i=n(26),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(22),f=n.n(h),m=n(30),g=n.n(m),v=n(3),y=n.n(v),b=n(56),E=n.n(b),C=n(52),k=n.n(C),S=n(58),_=n.n(S),O=n(292),w=n.n(O),P=n(4),A=n.n(P),x=n(51),N=n.n(x),T=n(73),I=n.n(T),B=n(2),L=n.n(B),D=n(37),j=n.n(D),F=n(130),M=n.n(F),R=n(0),V=n.n(R),H=n(35),U=n.n(H),W=n(16),q=n.n(W),z=n(1),G=n.n(z),K=n(6),Y=n(123),Q=(n(194),n(11)),X=n(12),J=n(335),Z=n(527),$=n(136),ee=n(1294),te=n(1315),ne=n(88),ae=n(319),re=n(1349),ie=n(521),se=n(66),oe=n(9),le=n(2108),ce=n(14),ue=n(24),de=n(2210),pe=n(2177),he=n(2191),fe=(n(3069),function(e){function t(e){var n;return s()(this,t),n=l()(this,u()(t).call(this,e)),y()(p()(n),"onBack",(function(){var e=n.props,t=e.flowConfiguration,a=e.currentPage,r=e.currentFlow,i=M()(t.toJS(),(function(e){return e===a})),s=i!==ce.a.START?"/".concat(r,"/").concat(i):"/".concat(ce.a.MYB),o=q()(V()(n.props,"location.query",{}),{flow:"seats"});n.props.actionUpdateURLQuery("URL_UPDATE_HASH",s,o)})),y()(p()(n),"onContinue",(function(){if(n.props.isSeatsExtrasCombined)n.goBackToAncillaryPage();else{var e=j()(V()(n.props,"location.query",{}),{execution:Object(oe.j)()});n.props.actionUpdateURLQuery("URL_UPDATE_HASH",n.getNextPage(),e)}})),y()(p()(n),"goBackToAncillaryPage",(function(){n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(ue.a.MTO,"/").concat(ce.a.ANCILLARIES),V()(n.props,"location.query",{}))})),y()(p()(n),"areSeatsSelectedForAllPax",(function(){var e=n.props,t=e.configuration,a=e.uniquePassengers,r=N()(n.props.segments,"toJS",[]),i=A()(_()(r),(function(e,t){return t.seatMapAvailable?e+1:e}),0),s=N()(n.props.selectedSeats,"toJS",[]),o=E()(s),l=N()(a,"toJS",[]);i*w()(l,(function(e){return-1===k()(t.passengersExcludedFromSeatSelection,e.passengerInfo.type)})).length===o?n.onContinue():n.seatSelectionConfirmation()})),y()(p()(n),"footerButtonFocus",(function(){return n.isContinueDisabled()?n.pageNavigationButtons&&n.pageNavigationButtons.focusCancelButton():n.pageNavigationButtons&&n.pageNavigationButtons.focusContinueButton()})),n.state={isLastSegmentSelected:!1,showSeatSelectionAlert:!1,preselectedSeats:{}},n}return g()(t,e),f()(t,null,[{key:"renderSeatBundleMessage",value:function(){return G.a.createElement(ae.a,{className:"seat-bundle-seats-not-selected-message",type:"info",title:"seatSelection.premiumSeatNoSelectedForSeatBundle.title"},Object(X.a)("seatSelection.premiumSeatNoSelectedForSeatBundle.description"))}}]),f()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.context.startTimeoutChecker();var t={locale:this.context.language,execution:V()(this.props.location,"query.execution")};this.props.actionUpdateURLQuery("URL_UPDATE_QUERY",V()(this.props,"location.pathname"),t),this.props.isFlowInitialized||this.props.lookupPnr(this.props.pnrLookupQuery).then((function(){t=j()(t,{mtoInitialized:!0}),e.props.actionUpdateURLQuery("URL_UPDATE_QUERY",V()(e.props,"location.pathname"),t)}))}},{key:"onCancel",value:function(){this.setState({continueLinkClicked:!1})}},{key:"onSeatModalCloseClick",value:function(){this.setState({showSeatSelectionAlert:!1})}},{key:"onSeatSelection",value:function(e){this.setState({preselectedSeats:e})}},{key:"getNextPage",value:function(){var e=this.props,t=e.currentFlow,n=e.flowConfiguration,a=e.currentPage;return"/".concat(t,"/").concat(n.get(a))}},{key:"setIsLastSegmentSelected",value:function(e){this.setState({isLastSegmentSelected:e})}},{key:"isContinueDisabled",value:function(){var e=this.props,t=e.shoppingCartData,n=e.isSeatsExtrasCombined,a=e.configuration,r=e.isSeatNotSelectedForASeatBundle,i=a.seatBundles.enabled;return!!(!n||i&&r)&&!(!L()(t)&&t.getIn(["cartHasProduct","seat"]))}},{key:"seatSelectionConfirmation",value:function(){this.setState({showSeatSelectionAlert:!0})}},{key:"renderNavigationButtons",value:function(){var e=this,t=this.props,n=t.isSeatsExtrasCombined,a=t.configuration,r=this.getNextPage(),i=V()(a,"showSeatSelectionAlert");return G.a.createElement(re.a,{ref:function(t){e.pageNavigationButtons=t},modal:{title:Object(X.a)("modifyTrip.cancelModal.title"),description:Object(X.a)("modifyTrip.cancelModal.description")},continueTitle:n?Object(X.i)("app.tripOptions"):Object(X.i)("app.".concat(I()(r))),onBack:n?void 0:this.onBack,showCancelButton:!n,disableContinueButton:this.isContinueDisabled(),acceptLink:{path:"/".concat(ce.a.MYB)},onContinue:i?this.areSeatsSelectedForAllPax:this.onContinue})}},{key:"renderSeatMapError",value:function(){var e=this.props,t=e.seatMapError,n=e.cancelProps,a=e.isSeatsExtrasCombined;return G.a.createElement("div",{className:"centered-content"},G.a.createElement(ae.a,{type:"error",title:"error.".concat(t,".title")},Object(X.a)("error.".concat(t,".description"))),G.a.createElement(re.a,{modal:{title:Object(X.a)("modifyTrip.cancelModal.title"),description:Object(X.a)("modifyTrip.cancelModal.description")},onBack:a?this.goBackToAncillaryPage:this.onBack,showCancelButton:!a,disableContinueButton:!0,acceptLink:n}))}},{key:"renderSeatSelection",value:function(){var e=this,n=this.props,a=n.seatSelectionData,i=n.configuration,s=n.isSeatNotSelectedForASeatBundle,o=!i.alternateSeatMap||this.state.isLastSegmentSelected,l=q()({},U()(this.props,a),{seatMaps:a.get("seatMaps"),legend:a.get("legend"),passengers:a.get("passengers"),uniquePassengers:a.get("uniquePassengers"),segments:a.get("segments")});return G.a.createElement("div",null,s&&t.renderSeatBundleMessage(),G.a.createElement(le.a,r()({noControls:!0},l,{onSeatSelectionChange:function(t){return e.onSeatSelection(t)},onIsLastSegmentSelectedChange:function(t){return e.setIsLastSegmentSelected(t)},getNextPage:function(){return e.getNextPage()},footerButtonFocus:this.footerButtonFocus,displayNextPageButtonOnError:!1})),s&&t.renderSeatBundleMessage(),o&&this.renderNavigationButtons())}},{key:"renderSeatSelectionConfirmation",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.currentPage,r=t.isSeatsExtrasCombined?Object(X.i)("app.tripOptions"):Object(X.i)("app.".concat(I()(n.get(a))));return G.a.createElement($.a,{className:"seat-selection-modal",onClose:function(){return e.onSeatModalCloseClick()}},G.a.createElement("h2",null,Object(X.a)("seatSelection.proceedWithoutSeatSelection.title")),G.a.createElement("p",null,Object(X.a)("seatSelection.proceedWithoutSeatSelection.description")),G.a.createElement("div",{className:"pull-right"},G.a.createElement(ne.a,{className:"secondary small",onClick:function(){return e.onSeatModalCloseClick()}},Object(X.a)("app.cancel")),G.a.createElement(ne.a,{className:"primary small",onClick:function(){return e.onContinue()}},Object(X.a)("app.continue",{pageName:r}))))}},{key:"render",value:function(){var e=this.props,t=e.isFlowInitialized,n=e.seatMapError,a=e.isPnrAvailable,r=e.isFetchingSeatMap,i=e.location,s=e.isSeatsExtrasCombined;return!t&&n?this.renderSeatMapError():G.a.createElement(he.a,{className:"dxp-mto-seat-selection-view",title:"seatSelection.mtoHeader",isCartEnabled:s||(a||t)&&!r,location:i,id:"dxp-mto-seat-selection-view"},this.state.showSeatSelectionAlert&&this.renderSeatSelectionConfirmation(),t?this.renderSeatSelection():G.a.createElement(ie.a,null))}}]),t}(z.Component));y()(fe,"contextTypes",{startTimeoutChecker:K.func,stopTimeoutChecker:K.func,language:K.string}),y()(fe,"defaultProps",{lookupPnr:void 0,isFlowInitialized:!1,seatSelectionData:void 0,shoppingCartData:void 0,currentFlow:void 0,currentPage:void 0,flowConfiguration:void 0,pnrLookupQuery:void 0,configuration:void 0,actionUpdateURLQuery:void 0,uniquePassengers:void 0,selectedSeats:void 0,background:void 0,segments:Object(Q.List)(),seatMapError:void 0,isFetchingSeatMap:!1,isPnrAvailable:!1,isSeatsExtrasCombined:!1,isSeatNotSelectedForASeatBundle:!1});var me=Object(Y.b)(pe.a,{getSeatMap:de.i,saveSelectedSeat:de.k,requestCart:Z.g,actionUpdateURLQuery:se.c,lookupPnr:de.j,setAllSeatsSelected:J.d})(Object(ee.a)(Object(te.a)(fe),"isFetchingSeatMap"));n.d(t,"default",(function(){return me}))},function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(30),p=n.n(d),h=n(3),f=n.n(h),m=n(38),g=n.n(m),v=n(16),y=n.n(v),b=n(0),E=n.n(b),C=n(2),k=n.n(C),S=n(51),_=n.n(S),O=n(1),w=n.n(O),P=n(6),A=n(123),x=(n(194),n(11)),N=n(12),T=n(2008),I=n(544),B=n(2640),L=n(576),D=n(527),j=n(66),F=n(1723),M=n(68),R=n(352),V=n(382),H=n(2628),U=n(146),W=n(143),q=n(1376),z=n(440),G=n(1315),K=n(1294),Y=n(596),Q=n(1972),X=(n(2751),function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;Object(q.a)(this.element,{headerOffset:this.props.defaultSummaryBarOffset},(function(){return e.element&&e.element.focus()})),E()(this.props.metadata,"isFlightNotFoundEnabled")&&W.a.VIEW_LOADED_ACTION()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedFlightIds.isEmpty()&&e.error.isEmpty&&!e.error.isEmpty()&&e.metaSearchFlightsClearError()}},{key:"UNSAFE_componentWillUpdate",value:function(e){e.shouldSetSelectedFlights&&!e.flights.isEmpty()&&!k()(e.searchCriteria.flightIds)&&e.selectedFlights.isEmpty()&&this.props.addSelectedFlightsToState(e.searchCriteria,e.isBundledOffers,e.selectedFlights,e.selectedFlightIds,e.selectedBrands,e.flights,e.location,this.props.configuration),e.isAllFlightsSelected!==this.props.isAllFlightsSelected&&e.isAllFlightsSelected&&(e.searchCriteria.isRoundTrip?this.props.updateSelectedFlightIds(e.isBundledOffers):e.searchCriteria.isMultiCity&&this.props.updateSelectedFlightIdsForMultiCity(e.isBundledOffers))}},{key:"getPageNavigationProps",value:function(){var e=y()({},g()(this.props.location.query,["locale","pointOfSale"])),t=this.props.flightSelectionBackRedirectionURL.get("url");return{cancel:{enabled:!1,navigation:{path:"/home",query:{}}},back:{enabled:!0,navigation:t?{path:t,query:e,isExternal:this.props.flightSelectionBackRedirectionURL.get("isExternal")}:_()(this.props,"getBackLinkProps")}}}},{key:"getSubtitle",value:function(){var e=this.props,t=e.flightSelection,n=e.isAllFlightsSelected,a=e.searchCriteria;return t.isSearchingForFlights||n?null:Object(U.j)(a)===Object(U.g)(a)?Object(N.a)("flightSelection.selectFlightsSubtitleMulti",{origin:Object(N.i)("flightSearch.airportFormat",{code:Object(U.j)(a),name:Object(N.i)("airports.".concat(Object(U.j)(a)))})}):Object(N.a)("flightSelection.selectFlightsSubtitle",{origin:Object(N.i)("flightSearch.airportFormat",{code:Object(U.j)(a),name:Object(N.i)("airports.".concat(Object(U.j)(a)))}),destination:Object(N.i)("flightSearch.airportFormat",{code:Object(U.g)(a),name:Object(N.i)("airports.".concat(Object(U.g)(a)))})})}},{key:"getTitle",value:function(){return this.props.flightSelection.isSearchingForFlights||this.props.isAllFlightsSelected?this.props.isAllFlightsSelected?"flightSelection.reviewFlights":null:"flightSelection.selectFlightsTitle"}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAllFlightsSelected,a=t.showSpinner,r=t.selectedFlightIds,i=t.selectedFlights,s=t.metadata,o=t.isSelectedFlightsSubmitted,l=t.seatMapPreview,c=t.minimalPointsThresholdNotMetForSomeFlights,u=t.displayFlightAdvisories,d=t.warnings,p=t.combinabilityMapping,h=t.configuration,f=t.user,m=t.isBundledOffers,g=t.isLowFareOffers,v=t.globalAdvisories,y=t.isRBEEnabled,b=t.flightIds,E=t.direction,C=t.filteredFlights,S=t.locales,_=t.calendarRibbons,O=t.previouslyAppliedFilters,P=t.flightSelection,A=t.filter,x=t.promocodeValid,N=t.error,T=t.location,I=t.flights,B=t.currentFlow,L=t.appliedFilters,D=t.appliedSorting,j=t.selectedLocale,M=t.isAuthorable,R=t.searchCriteria,V=t.isSessionChanging,U=t.getNextPage,W=t.onBagFeeLinkClick,q=t.onFareRulesClick,z=t.travelPartAdvisories,G=t.summaryBarSearchEditRequested,K=t.selectedBrands,Y=t.isCompanionFareSearch,X=t.isSigningIn,J=t.messages,Z=s.contextShopping,$=n&&!P.isSelectingFlights&&!X&&(!N||N.isEmpty&&N.isEmpty()||k()(N));return w.a.createElement(Q.a,{isCartEnabled:$,location:T,className:"dxp-flight-selection-view",id:F.a,title:this.getTitle(),subtitle:this.getSubtitle()},w.a.createElement("div",{ref:function(t){e.element=t}},w.a.createElement(H.a,{messages:J,isSigningIn:X,rememberMe:this.props.rememberMe,signIn:this.props.signIn,onForgotPassword:this.props.handleForgotPassword,signOut:this.props.signOut,displayFlightAdvisories:u,locales:S,selectedLocale:j,pageNavigationProps:this.getPageNavigationProps(),metadata:s,contextShopping:Z.booking,searchCriteria:R,appliedFilters:L,appliedSorting:D,selectedBrands:K,currentFlow:B,flights:I,location:T,promocodeValid:x,error:N,clearFlightSelectionMessages:this.props.clearFlightSelectionMessages,filter:A,flightSelection:P,previouslyAppliedFilters:O,calendarRibbons:_,filteredFlights:C,direction:E,flightIds:b,isAuthorable:M,isRBEEnabled:y,globalAdvisories:v,travelPartAdvisories:z,isBundledOffers:m,isLowFareOffers:g,user:f,configuration:h,combinabilityMapping:p,warnings:d,isSessionChanging:V,minimalPointsThresholdNotMetForSomeFlights:c,seatMapPreview:l,isAllFlightsSelected:n,showSpinner:a,isSelectedFlightsSubmitted:o,selectedFlights:i,selectedFlightIds:r,getNextPage:U,onBagFeeLinkClick:W,onFareRulesClick:q,clearSession:this.props.clearSession,getSeatMapPreview:this.props.getSeatMapPreview,selectFlight:this.props.selectFlight,clearFlightSelection:this.props.clearFlightSelection,actionUpdateURLQuery:this.props.actionUpdateURLQuery,summaryBarEditSearchResponded:this.props.summaryBarEditSearchResponded,summaryBarSearchEditRequested:G,setCartDefault:this.props.setCartDefault,clearMinimumPointsThresholdNotMet:this.props.clearMinimumPointsThresholdNotMet,updateFilter:this.props.updateFilter,clearFlightsError:this.props.clearFlightsError,searchFlights:this.props.searchFlights,selectFlights:this.props.selectFlights,requestCart:this.props.requestCart,markCartAsLoading:this.props.markCartAsLoading,markCartAsNotLoading:this.props.markCartAsNotLoading,updateCombinableFlights:this.props.updateCombinableFlights,sortFlights:this.props.sortFlights,confirmFilters:this.props.confirmFilters,cancelFilters:this.props.cancelFilters,sessionChangeProcessed:this.props.sessionChangeProcessed,setMinimumPointsThresholdNotMet:this.props.setMinimumPointsThresholdNotMet,upsellConfiguration:this.props.upsellConfiguration,upsellData:this.props.upsellData,getUpsellOptions:this.props.getUpsellOptions,selectUpsellOptions:this.props.selectUpsellOptions,removeUpsellOptions:this.props.removeUpsellOptions,updateFlightSelectionBrands:this.props.updateFlightSelectionBrands,setCountry:this.props.setCountry,clearFlightSelectionState:this.props.clearFlightSelectionState,isCompanionFareSearch:Y,requiredPointsForSelectedFlights:this.props.requiredPointsForSelectedFlights,currency:this.props.currency,availableBrandOffersCodes:this.props.availableBrandOffersCodes,signInProperties:this.props.signInProperties,openForgotPasswordModal:this.props.openForgotPasswordModal,formatDateTime:this.props.formatDateTime,resetSignInFormValidation:this.props.resetSignInFormValidation})))}}]),t}(O.Component));f()(X,"contextTypes",{startTimeoutChecker:P.func}),f()(X,"defaultProps",{messages:Object(x.List)(),formatDateTime:void 0,displayFlightAdvisories:!1,locales:{},appliedFilters:{},selectedLocale:"",combinabilityMapping:Object(x.List)(),defaultSummaryBarOffset:void 0,error:Object(x.Map)(),flightIds:{},globalAdvisories:Object(x.List)(),isAllFlightsSelected:!1,showSpinner:!1,isAuthorable:!0,isBundledOffers:!1,isLowFareOffers:!1,isRBEEnabled:!1,isSelectedFlightsSubmitted:!1,isSessionChanging:!1,previouslyAppliedFilters:Object(x.Map)(),promocodeValid:!1,selectedBrands:{},selectedFlights:void 0,selectedFlightIds:Object(x.Map)(),seatMapPreview:void 0,setCountry:void 0,shouldSetSelectedFlights:!1,summaryBarSearchEditRequested:!1,travelPartAdvisories:Object(x.List)(),warnings:[],upsellData:{},isSigningIn:!1,signIn:void 0,handleForgotPassword:void 0,signOut:void 0,rememberMe:void 0,isCompanionFareSearch:!1,requiredPointsForSelectedFlights:void 0,currency:void 0,availableBrandOffersCodes:Object(x.List)(),flightSelectionBackRedirectionURL:Object(x.Map)(),resetSignInFormValidation:void 0});var J=Object(A.b)(T.a,{searchFlights:Y.f,clearFlightsError:I.f,addSelectedFlightsToState:I.a,updateFilter:I.o,confirmFilters:I.h,cancelFilters:I.b,selectFlights:Y.g,sortFlights:I.k,updateCombinableFlights:I.n,selectFlight:I.i,clearFlightSelection:I.c,setCartDefault:D.h,requestCart:D.g,markCartAsLoading:D.a,markCartAsNotLoading:D.b,actionUpdateURLQuery:j.c,sessionChangeProcessed:M.z,clearAwardLoginErrorRequired:Y.a,summaryBarEditSearchResponded:I.m,metaSearchFlightsClearError:L.g,setMinimumPointsThresholdNotMet:I.j,clearMinimumPointsThresholdNotMet:I.g,updateSelectedFlightIds:I.p,getUpsellOptions:B.a,selectUpsellOptions:B.c,removeUpsellOptions:B.b,updateFlightSelectionBrands:B.d,updateSelectedFlightIdsForMultiCity:I.q,getSeatMapPreview:Y.c,clearSession:z.b,rememberMe:M.w,signIn:M.E,signOut:R.a,handleForgotPassword:V.g,setCountry:M.A,clearFlightSelectionState:I.e,openForgotPasswordModal:V.i,resetSignInFormValidation:M.y,clearFlightSelectionMessages:I.d})(Object(K.a)(Object(G.a)(X),"flightSelection.isSearchingForFlights"));n.d(t,"default",(function(){return J}))},function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(22),s=n.n(i),o=n(29),l=n.n(o),c=n(28),u=n.n(c),d=n(31),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(51),E=n.n(b),C=n(56),k=n.n(C),S=n(43),_=n.n(S),O=n(2),w=n.n(O),P=n(130),A=n.n(P),x=n(37),N=n.n(x),T=n(0),I=n.n(T),B=n(1),L=n.n(B),D=n(6),j=n(11),F=n(123),M=n(12),R=n(195),V=n(9),H=n(319),U=n(2143),W=n(1376),q=n(1349),z=n(1557),G=n(527),K=n(148),Y=n(1294),Q=n(2109),X=n(66),J=n(14),Z=n(521),$=n(1950),ee=n(1586),te=n(1315),ne=n(24),ae=n(2176),re=n(2363),ie=n(452),se=n(2191),oe=(n(3067),n(3068),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{insuranceSelectionRequired:!1}),g()(p()(n),"onContinueWithSeatBundleRedirect",(function(){n.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(ne.a.MTO,"/").concat(J.a.SEAT_SELECTION),N()(I()(n.props.location,"query",{}),{execution:Object(V.j)()}))})),g()(p()(n),"onContinue",(function(){if(!n.isInsuranceSelected())return n.setState({insuranceSelectionRequired:!0});var e=n.props,t=e.flowConfiguration,a=e.currentFlow,r=e.currentPage,i=e.location,s=t.get(r),o=N()(I()(i,"query",{}),{execution:Object(V.j)()}),l="/".concat(a,"/").concat(s);return n.props.actionUpdateURLQuery("URL_UPDATE_HASH",l,o)})),n}return f()(t,e),s()(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.isFlowInitialized,a=t.pnrLookupQuery;this.context.startTimeoutChecker(),this.props.lookupPnr(a,!n).then((function(){e.getAncillaries(Object(j.fromJS)(I()(e.props.ancillaries,"pnr")),e.props.tripOptions)}))}},{key:"componentDidMount",value:function(){Object(W.a)(this.ancillariesMtoView,{headerOffset:200})}},{key:"onBack",value:function(){var e=this.props,t=e.flowConfiguration,n=e.currentFlow,a=e.currentPage,r=e.location,i=A()(t.toJS(),(function(e){return e===a})),s=I()(r,"query",{}),o="start"!==i?"/".concat(n,"/").concat(i):"/".concat(J.a.MYB);this.props.actionUpdateURLQuery("URL_UPDATE_HASH",o,s)}},{key:"getAncillaries",value:function(e,t){var n=this,a=this.props,r=a.ancillariesConfiguration,i=a.currentFlow,s=a.location,o=a.language;this.props.getAncillaries(r,e,o,t).then((function(){return n.props.requestCart(I()(n.props,"currentFlow"),s)})).then((function(){return n.props.updateInsuranceWithCart(r)})).then((function(){r.showFreeBaggageAllowance&&n.props.getBagAllowance(i)}))}},{key:"isContinueEnabled",value:function(){var e=this.props,t=e.shoppingCartData,n=e.isSeatsExtrasCombined,a=t.get&&E()(t.get("products"),"toJS",[]);return!!(n&&t.get&&t.getIn(["cartHasProduct","seat"],0)>0)||_()(a,(function(e){return("INSURANCE"===e.label||"ancillary"===e.label)&&k()(e.total)>0}))}},{key:"isInsuranceSelected",value:function(){var e=this.props,t=e.ancillariesConfiguration,n=e.ancillaries.ancillaries[I()(t,["insurance","code"])];return!n||!n.market||Object(K.d)()}},{key:"renderAncillaryContent",value:function(){var e=this,t=this.props,n=t.globalAdvisories,a=t.travelPartAdvisories,r=t.isLoading,i=t.ancillaries,s=t.getNextPage,o=t.viewBreakPoint,l=t.location,c=t.ancillariesConfiguration,u=t.error,d=t.journeyType,p=t.bagAllowance,h=t.currentFlow,f=t.isSeatsExtrasCombined,m=t.seatAncillaries,g=!w()(n),v=!w()(a),y=I()(i,"isAncillaryAvailable",!0),b=!r;return L.a.createElement("div",null,g&&L.a.createElement(z.a,{advisories:n}),v&&L.a.createElement(z.a,{advisories:a}),b&&!y&&L.a.createElement(H.a,{type:"info",title:"modifyTrip.noAncillariesAvailable.title"},Object(M.a)("modifyTrip.noAncillariesAvailable.description")),b&&L.a.createElement(U.a,{noControls:!0,currentFlow:h,viewBreakPoint:o,location:l,ancillaries:i.ancillaries,ancillaryCode:i.ancillaryCode,cartData:i.cartData,itinerary:i.itinerary,sortedCodes:i.sortedCodes,seatBundleAssignments:i.seatBundleAssignments,seatBundleRemoved:i.seatBundleRemoved,passengers:i.passengers,isLoading:r,ancillariesConfiguration:c,isAncillaries:i.isAncillaries,error:u,insuranceError:i.insuranceError,displayAsSlider:!1,isSeatBundles:!1,journeyType:d,getNextPage:s,bagAllowance:p,ancillariesAvailable:y,updateInsuranceInCart:this.props.updateInsuranceInCart,requestCart:this.props.requestCart,takeSnapShot:this.props.takeSnapShot,update:this.props.update,selectAncillary:this.props.selectAncillary,revertToSnapShot:this.props.revertToSnapShot,addOrRemoveOneForAllPassengers:this.props.addOrRemoveOneForAllPassengers,addInsuranceAncillaryToCart:this.props.addInsuranceAncillaryToCart,addToCart:this.props.addToCart,actionUpdateURLQuery:this.props.actionUpdateURLQuery,revertSeatBundleAssignmentsToSnapShot:this.props.revertSeatBundleAssignmentsToSnapShot,updateQuantityToCode:this.props.updateQuantityToCode,updateTotalForInsurance:this.props.updateTotalForInsurance,insuranceSelectionRequired:this.state.insuranceSelectionRequired,setInsuranceSelectionRequired:function(t){return e.setState({insuranceSelectionRequired:t})},seatAncillaries:f?m:void 0,seatRedirectLocation:this.props.seatRedirectLocation}),this.renderNavigationButtons())}},{key:"renderNavigationButtons",value:function(){var e=this,t=this.props,n=t.flowConfiguration,a=t.currentPage,r=t.cancelProps,i=t.isSeatBundlePremiumSeatNotSelected,s=n.get(a),o=i&&"payment"===s,l=o?J.a.SEAT_SELECTION:s;return L.a.createElement(q.a,{modal:{title:Object(M.a)("modifyTrip.cancelModal.title"),description:Object(M.a)("modifyTrip.cancelModal.description")},continueTitle:Object(M.i)("app.".concat(l)),onBack:function(){return e.onBack()},onContinue:o?this.onContinueWithSeatBundleRedirect:this.onContinue,showCancelButton:!0,disableContinueButton:!this.isContinueEnabled(),acceptLink:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.error,a=t.isLoading,r=t.location,i=t.isPnrAvailable,s=Object(R.a)(this.props.isAuthorable,"ancillariesMtoView"),o=!a&&n;return L.a.createElement(se.a,{className:"dxp-mto-ancillaries-view",title:"ancillary.pageTitle",isCartEnabled:i&&!a,location:r,authorableAttributes:s,id:$.i},L.a.createElement("div",{ref:function(t){e.ancillariesMtoView=t}},o&&L.a.createElement(H.a,{type:"warning",title:"ancillary.ERR.SSW.CLIENT.INVALID_REQUEST.title"},Object(M.a)("ancillary.ERR.SSW.CLIENT.INVALID_REQUEST.description")),a?L.a.createElement(Z.a,null):this.renderAncillaryContent()))}}]),t}(B.Component));g()(oe,"contextTypes",{startTimeoutChecker:D.func}),g()(oe,"defaultProps",{error:!1,isAuthorable:!0,isFlowInitialized:!1,globalAdvisories:void 0,travelPartAdvisories:void 0,ancillaries:void 0,isLoading:!1,shoppingCartData:{},location:{},tripOptions:void 0,language:void 0,updateInsuranceWithCart:y.a,isPnrAvailable:!1,isSeatsExtrasCombined:!1,seatAncillaries:void 0,seatRedirectLocation:"/".concat(ne.a.MTO,"/").concat(J.a.SEAT_SELECTION),isSeatBundlePremiumSeatNotSelected:!1});var le=Object(F.b)(ae.a,{getAncillaries:re.s,updateQuantityToCode:ie.k,updateInsuranceInCart:re.y,updateInsuranceWithCart:re.z,updateTotalForInsurance:re.A,addInsuranceAncillaryToCart:re.p,update:re.x,addToCart:re.r,takeSnapShot:re.w,revertSeatBundleAssignmentsToSnapShot:Q.a,revertToSnapShot:re.u,requestCart:G.g,actionUpdateURLQuery:X.c,getBagAllowance:ee.a,lookupPnr:re.t,selectAncillary:re.v,addOrRemoveOneForAllPassengers:re.q})(Object(Y.a)(Object(te.a)(oe),"isLoading"));n.d(t,"default",(function(){return le}))},function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),i=n(29),s=n.n(i),o=n(28),l=n.n(o),c=n(31),u=n.n(c),d=n(22),p=n.n(d),h=n(30),f=n.n(h),m=n(3),g=n.n(m),v=n(122),y=n.n(v),b=n(52),E=n.n(b),C=n(58),k=n.n(C),S=n(292),_=n.n(S),O=n(4),w=n.n(O),P=n(51),A=n.n(P),x=n(0),N=n.n(x),T=n(73),I=n.n(T),B=(n(6),n(194),n(1)),L=n.n(B),D=n(11),j=n(123),F=n(12),M=n(14),R=n(2163),V=n(527),H=n(66),U=n(2164),W=n(88),q=n(1349),z=n(319),G=n(136),K=n(2108),Y=n(335),Q=n(1315),X=n(1294),J=n(704),Z=n(1972),$=(n(2821),n(2822),function(e){function t(){var e;return r()(this,t),e=s()(this,l()(t).call(this)),g()(u()(e),"onBack",(function(){var t=e.props.getBackLinkProps();e.props.actionUpdateURLQuery("URL_UPDATE_HASH",t.path,t.query)})),g()(u()(e),"goBackToAncillaryPage",(function(){var t=N()(e.props,"location.query",{});e.props.actionUpdateURLQuery("URL_UPDATE_HASH","/".concat(M.a.ANCILLARIES),t)})),g()(u()(e),"onClickSeatModalClose",(function(){e.setState({showSeatSelectionAlert:!1})})),g()(u()(e),"onContinue",(function(){e.props.seatsOnExtrasPage.get("isEnabled")?e.goBackToAncillaryPage():e.props.actionUpdateURLQuery("URL_UPDATE_HASH",e.props.getNextPage(),N()(u()(e),"props.location.query",{}))})),g()(u()(e),"onSeatSelection",(function(t){e.setState({preselectedSeats:t})})),g()(u()(e),"setIsLastSegmentSelected",(function(t){e.setState({isLastSegmentSelected:t})})),g()(u()(e),"areSeatsSelectedForAllPax",(function(){var t=e.props,n=t.configuration,a=t.uniquePassengers,r=A()(e.props.segments,"toJS",[]),i=w()(k()(r),(function(e,t){return t.seatMapAvailable?e+1:e}),0),s=e.props.selectedSeats?e.props.selectedSeats.size:0,o=A()(a,"toJS",[]).slice();i*_()(o,(function(e){return-1===E()(n.passengersExcludedFromSeatSelection,e.passengerInfo.type)})).length===s?e.onContinue():e.seatSelectionConfirmation()})),g()(u()(e),"footerButtonFocus",(function(){return e.pageNavigationButtons&&e.pageNavigationButtons.focusContinueButton()})),g()(u()(e),"seatSelectionConfirmation",(function(){e.setState({showSeatSelectionAlert:!0})})),e.state={isLastSegmentSelected:!1,showSeatSelectionAlert:!1,preselectedSeats:{}},e}return f()(t,e),p()(t,null,[{key:"renderSeatBundleMessage",value:function(){return L.a.createElement(z.a,{className:"seat-bundle-seats-not-selected-message",type:"info",title:"seatSelection.premiumSeatNoSelectedForSeatBundle.title"},Object(F.a)("seatSelection.premiumSeatNoSelectedForSeatBundle.description"))}}]),p()(t,[{key:"componentWillUnmount",value:function(){this.props.clearSeatMapState()}},{key:"renderSeatSelectionConfirmation",value:function(){var e=this.props,t=e.flowConfiguration,n=e.seatsOnExtrasPage.get("isEnabled")?M.a.ANCILLARIES:t.get(M.a.SEAT_SELECTION),a=Object(F.i)("app.".concat(I()(n)));return L.a.createElement(G.a,{className:"seat-selection-modal",onClose:this.onClickSeatModalClose},L.a.createElement("h2",null,Object(F.a)("seatSelection.proceedWithoutSeatSelection.title")),L.a.createElement("p",null,Object(F.a)("seatSelection.proceedWithoutSeatSelection.description")),L.a.createElement("div",{className:"pull-right modal-actions"},L.a.createElement(W.a,{className:"secondary small",onClick:this.onClickSeatModalClose},Object(F.a)("app.cancel")),L.a.createElement(W.a,{className:"primary small",onClick:this.onContinue},Object(F.a)("app.continue",{pageName:a}))))}},{key:"render",value:function(){var e=this,n=this.props,a=n.configuration,r=n.flights,i=n.segments,s=n.seatMaps,o=n.selectedSeats,l=n.legend,c=n.passengers,u=n.uniquePassengers,d=n.isFetchingSeatMap,p=n.seatMapError,h=n.getNextPage,f=n.showPageLoadingMessage,m=n.globalAdvisories,g=n.travelPartAdvisories,v=n.currentFlow,y=n.currentPage,b=n.isSeatNotSelectedForASeatBundle,E=n.ancillariesConfiguration,C=n.shoppingCart,k=n.oldPaidSeats,S=n.journeyType,_=n.pnrInfo,O=n.hasIropAffectedReservationMessage,w=n.isAuthorable,P=n.flowConfiguration,A=n.cancelProps,x=n.location,T=n.defaultSummaryBarOffset,B=n.processingSeatSelection,D=n.seatsOnExtrasPage.get("isEnabled"),j=D?M.a.ANCILLARIES:P.get(M.a.SEAT_SELECTION),R=a.seatBundles.enabled,V=!a.alternateSeatMap||this.state.isLastSegmentSelected,H=N()(a,"showSeatSelectionAlert");return L.a.createElement(Z.a,{location:this.props.location,title:"seatSelection.header",className:"dxp-seat-selection-view",id:U.a,subtitle:Object(F.a)("seatSelection.caption")},this.state.showSeatSelectionAlert&&this.renderSeatSelectionConfirmation(),b&&t.renderSeatBundleMessage(),L.a.createElement(K.a,{configuration:a,isSeatsOnExtrasPageEnabled:D,flights:r,segments:i,seatMaps:s,selectedSeats:o,legend:l,passengers:c,uniquePassengers:u,isFetchingSeatMap:d,seatMapError:p,getNextPage:h,showPageLoadingMessage:f,requestCart:this.props.requestCart,getSeatMap:this.props.getSeatMap,globalAdvisories:m,travelPartAdvisories:g,actionUpdateURLQuery:this.props.actionUpdateURLQuery,saveSelectedSeat:this.props.saveSelectedSeat,setAllSeatsSelected:this.props.setAllSeatsSelected,currentPage:y,currentFlow:v,isSeatNotSelectedForASeatBundle:b,ancillariesConfiguration:E,shoppingCart:C,oldPaidSeats:k,hasIropAffectedReservationMessage:O,isAuthorable:w,defaultSummaryBarOffset:T,journeyType:S,pnrInfo:_,onSeatSelectionChange:this.onSeatSelection,onIsLastSegmentSelectedChange:this.setIsLastSegmentSelected,location:x,processingSeatSelection:B,footerButtonFocus:this.footerButtonFocus}),b&&t.renderSeatBundleMessage(),V&&L.a.createElement("div",{className:"dxp-flow-step-actions"},L.a.createElement(q.a,{ref:function(t){e.pageNavigationButtons=t},location:x,continueTitle:Object(F.i)("breadcrumbsFlows.".concat(I()(j))),onBack:D?this.goBackToAncillaryPage:this.onBack,modal:{title:Object(F.a)("changeFlight.modalTitle"),description:Object(F.a)("changeFlight.modalDescription")},acceptLink:A,hideCancelButton:!0,disableContinueButton:R&&b,onContinue:H?this.areSeatsSelectedForAllPax:this.onContinue})))}}]),t}(B.Component));g()($,"defaultProps",{isSeatNotSelectedForASeatBundle:!1,travelPartAdvisories:[],globalAdvisories:[],currentFlow:"",currentPage:"",seatMapError:null,showPageLoadingMessage:!1,uniquePassengers:Object(D.List)(),hasIropAffectedReservationMessage:!1,isAuthorable:!0,defaultSummaryBarOffset:0,selectedSeats:Object(D.List)(),segments:void 0,seatMaps:void 0,legend:void 0,passengers:void 0,isFetchingSeatMap:!1,oldPaidSeats:Object(D.List)(),clearSeatMapState:y.a});var ee=Object(j.b)(R.a,{getSeatMap:J.a,saveSelectedSeat:J.b,requestCart:V.g,actionUpdateURLQuery:H.c,setAllSeatsSelected:Y.d,clearSeatMapState:Y.a})(Object(X.a)(Object(Q.a)($),"isFetchingSeatMap"));n.d(t,"default",(function(){return ee}))}])]);