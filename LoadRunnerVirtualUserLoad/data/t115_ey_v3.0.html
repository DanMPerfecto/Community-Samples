!function(e){var n={};function a(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=n,a.d=function(e,n,r){a.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a(a.s=3)}([function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.formatPrice=function(e){if("string"==typeof e){var n=+(e=e.replace(/[^,.0-9]/g,"")).replace(/[,](?=(\d{3}))/g,"").replace(/[.](?=(\d{3}))/g,"").replace(/,(?=\d{2}\b)/g,".").replace(/^[.,]*|([.,])*$/g,"");return 0==+n?null:+n}},n.get24HourFormat=function(e){if("string"!=typeof e)return null;var n=Number(e.match(/^(\d+)/)[1]),a=Number(e.match(/:(\d+)/)[1]),r=e.match(/\s(.*)$/)[1];"pm"===r.toLowerCase().trim()&&n<12&&(n+=12),"am"===r.toLowerCase().trim()&&12===n&&(n=0);var t=n.toString(),i=a.toString();return n<10&&(t="0"+t),a<10&&(i="0"+i),t+":"+i}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.priceSpecification={currencyCode:null,currencySymbol:null};var r=Object.assign({},{currencyCode:null,currencySymbol:null,totalPrice:null,taxAmount:null,priceBeforeTaxesAndFees:null,additionalFeesAmount:null,isSoldOut:!1});n.journey={fullRoute:null,priceSpecification:r,passengerDetails:[],passenger:{count:0,seniorCount:0,adultCount:0,youngAdultCount:0,childCount:0,infantInLapCount:0,infantInSeatCount:0},outboundFlight:{},inboundFlight:{},departureDate:null,returnDate:null,journeyType:null,flightType:null,airline:{name:"",iataCode:""}},n.device={category:null,screenResolution:null,operatingSystem:null}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.getLegsStructure=function(){return{aircraft:void 0,flightNumber:null,route:null,flightType:null,departureAirport:{name:void 0,iataCode:null},departureTime:null,arrivalAirport:{name:void 0,iataCode:null},arrivalTime:null,estimatedDuration:null}},n.getBoundStructure=function(){return{boundType:null,route:null,priceSpecification:void 0,fareClassInput:null,fareClass:null,departureAirportIataCode:null,arrivalAirportIataCode:null,departureDate:null,estimatedDuration:void 0,availableSeatsCount:void 0,legs:[],departureCity:{name:null,cityCode:null},departureCountry:{name:null,isoCode:null},arrivalCity:{name:null,cityCode:null},arrivalCountry:{name:null,isoCode:null},flightType:null,routeType:null}},n.getDevice=function(e){var n=void 0;try{n=navigator.userAgent.match(/iPad|PlayBook|Silk/i)?"TABLET":navigator.userAgent.match(/Android|webOS|iPhone|iPod|Blackberry|IEMobile|Opera Mini/i)?"MOBILE":"DESKTOP";var a="UNKNOWN";-1!==navigator.appVersion.indexOf("Win")&&(a="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(a="MacOS"),-1!==navigator.appVersion.indexOf("X11")&&(a="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(a="Linux");var r=window.screen.width*window.devicePixelRatio+"x"+window.screen.height*window.devicePixelRatio;return e.operatingSystem=a,e.screenResolution=r,e.category=n,e}catch(e){return}};var r=n.readCookie=function(e){var n=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);return n?n[1]:null},t=function(){var e=r("emcid");return e||function(e,n,a){var r="";if(a){var t=new Date;t.setTime(t.getTime()+24*a*60*60*1e3),r="; expires="+t.toUTCString()}document.cookie=e+"="+(n||"")+r+"; path=/"}("emcid",e="F-"+function(e){for(var n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}(8),3652),e};n.getModelMetadata=function(e){return{app:{name:"Farenet",version:e,datasource:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IBE_FLIGHT_SELECTION"},emcid:t(),schemaVersion:"1.0.0"}},n.getPassengerDetails=function(e){var n=e.passenger,a={adultCount:"adult",childCount:"children",infantCount:"infant"},r=[];try{for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){if("count"===t)continue;var i=+n[t];if(i>0){var o={category:a[t]||t,mappedTo:t,count:i};r.push(o)}}return r}catch(e){throw new Error("Unable to determine passenger details. Original message "+e.message+"\n"+e.stack)}},n.getDepartureArrivalIataCode=function(e,n,a){var r=[e,n]||[];if(r.length>0)return"OUTBOUND"!==a?r.reverse():r},n.getCountryNameByCode=function(e){return{AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BQ:"Bonaire",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Democratic Republic of the Congo",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CU:"Cuba",CW:"Curacao",CY:"Cyprus",CZ:"Czech Republic",CI:"Cote d'Ivoire",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",RE:"Reunion",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"United Republic of Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"British Virgin Islands",VI:"US Virgin Islands",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"}[e]}},function(e,n,a){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var a=[],r=!0,t=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(a.push(o.value),!n||a.length!==n);r=!0);}catch(e){t=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(t)throw i}}return a}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=a(2),o=a(1),u=a(0);window.Farenet=function(e){var n={DOMESTIC:"DOMESTIC",INTERNATIONAL:"INTERNATIONAL",DEFAULT_TRAVEL_CLASS:"ECONOMY",DEPARTURE_AIRPORT_CODE:"",ARRIVAL_AIRPORT_CODE:"",COUNTRY:"United Arab Emirates",LOWEST_ROW:{OUTBOUND:null,INBOUND:null}},a={priceSpecification:o.priceSpecification,journey:o.journey,page:{},device:o.device,metadata:{}};o.journey.airline.name="Etihad",o.journey.airline.iataCode="EY";var l=Date.now(),c=["AUH","AZI","AAN","DHF","ZDY","DXB","NHD","DWC","FJR","RKT","SHJ","XSB"],s=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,100)},d=e.atob,p=e.XMLHttpRequest,f=e.XDomainRequest||void 0,g=e.CustomEvent,m=e.$,y={},S={},T={},h="div#dxp-calendar-ribbons div.spark-carousel__item.selected span.price-info .amount span.number";y.getResult=function(){return console.log(JSON.stringify(a)),a},y.parse=function(){try{I()}catch(e){console.log("There was an error: "+e)}};var C=window[d("SlNPTg")][d("cGFyc2U")](window[d("YXRvYg")]("dJyRyczSJFFN1wEM0c2b0sWaxRTNsBDN4QUOLlUU0UDTwQzM5RXdxgWapdWZiwiISNTNXBjUCl1MvEzL0VmblJXYm9iYvxmYv02bj5CemJHd5RXayV3YlNnLlRXaydXLlJ3bjFGdhR2LvozcwRHdoJyW"[d("c3BsaXQ")]("")[d("cmV2ZXJzZQ")]()[d("am9pbg")](""))),v=t(C,2),O=v[0],b=v[1],A=function(e){var n=JSON.stringify(e);if(""!==n){n=b+"\n"+n;var a=R("POST",O);if(!a)throw new Error("CORS not supported");a.onload=function(){var e=a.responseText;T.response=JSON.parse(e);try{a.getAllResponseHeaders();var n=a.getResponseHeader("x-request-id");T.requestId=n}catch(e){}K(),console.log("response for selected date: "+e)},a.onerror=function(){k("xhr sending error"),console.log("There was an error!")},a.send(n)}},R=function(e,n){var a=new p;return"withCredentials"in a?(a.open(e,n,!0),a.setRequestHeader("Content-Type","text/plain")):void 0!==f?(a=new f).open(e,n):a=null,a},I=function e(){var n=(Date.now()-l)/1e3;E();var r=(0,u.formatPrice)(m(h).eq(0).text()),t=Array.from(m(".itinerary-part-offer")),c=r&&r>0&&t&&t.length>0;if(Object.keys(S).length>0&&c){var d=D();if(o.journey.journeyType=d,o.journey.passenger=L(),o.journey.passenger.count!==o.journey.passenger.adultCount)return k("Only for adult passengers the model is collected"),null;o.journey.passengerDetails=(0,i.getPassengerDetails)(o.journey),a.page=w(),a.metadata=(0,i.getModelMetadata)("ey_v3.0","IBE_FLIGHT_SELECTION"),a.device=(0,i.getDevice)(o.device),B(),N(d)}if((0===Object.keys(S).length||!c)&&n<300&&s(function(){e()}),(0===Object.keys(S).length||!c)&&n>=300)return k("No datalayer available : dataLayer or Flights"),null},N=function(e){o.journey.flightType=P("OUTBOUND"),o.journey.outboundFlight=G("OUTBOUND"),"ONE_WAY"===e&&(o.journey.priceSpecification=j(),o.journey.departureDate=o.journey.outboundFlight.departureDate,o.journey.fullRoute=o.journey.outboundFlight.route,delete o.journey.inboundFlight,delete o.journey.fareTensor,A(a)),"ROUND_TRIP"===e&&M()},M=function e(){var n=m(".header-row + .flight-row").length>0,r=(0,u.formatPrice)(m(h).eq(0).text()),t=Array.from(m(".itinerary-part-offer")),i=n&&r&&r>0&&t&&t.length>0,c=(Date.now()-l)/1e3;if(i){o.journey.flightType=P("INBOUND"),o.journey.inboundFlight=G("INBOUND"),o.journey.priceSpecification=j(),o.journey.departureDate=o.journey.outboundFlight.departureDate,o.journey.returnDate=o.journey.inboundFlight.departureDate;var s=o.journey.outboundFlight.route;o.journey.inboundFlight&&(s=s+"|"+o.journey.inboundFlight.route),o.journey.fullRoute=s,A(a)}else c<300&&window.requestAnimationFrame(function(){e()})},E=function(){if(window.dataLayer instanceof Array&&0!==window.dataLayer.length)for(var e=0;e<window.dataLayer.length;e++){var n=window.dataLayer[e];if("object"===(void 0===n?"undefined":r(n))&&Object.prototype.hasOwnProperty.call(n,"event")&&"LanguageChanged"===n.event){S=n;break}}},D=function(){return"round-trip"===S.FlightType?"ROUND_TRIP":"ONE_WAY"},L=function(){for(var e=o.journey.passenger,n=0,a=0,r=0,t=decodeURIComponent(document.URL).split("?")[1].split("&"),i=0;i<t.length;i++){var u=t[i].split("=");"ADT"===u[0]&&(n=+u[1]),"CHD"===u[0]&&(a=+u[1]),"INF"===u[0]&&(r=+u[1])}try{return e.adultCount=n,e.childCount=a,e.infantInSeatCount=r,e.count=e.adultCount+e.childCount+e.infantInSeatCount,e}catch(e){throw new Error("Unable to determine passengers. Original message "+e.message+"\n"+e.stack)}},w=function(){var e=S.SiteLanguage.toLowerCase(),n={name:"Search Result Page",url:null,hostName:null,languageIsoCode:null,siteEdition:e};return n.url=decodeURIComponent(document.URL),n.hostName=new URL(document.URL).hostname,/[a-z]{2}-[a-z]{2}/i.test(e)&&(n.languageIsoCode=e.split("-")[0]),n},B=function(){var e=m(".currency.symbol span").eq(0).text().trim();return o.priceSpecification.currencyCode=e,o.priceSpecification.currencySymbol=e,o.priceSpecification},P=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];U(e);var a=n.LOWEST_ROW[e],r=[a.origin,a.destination];return n.DEPARTURE_AIRPORT_CODE=r[0],n.ARRIVAL_AIRPORT_CODE=r[1],(r=r.filter(function(e){return e})).length>0?function(e){if(0!==e.length){var a=n.DOMESTIC;return e.forEach(function(e){-1===c.indexOf(e)&&(a=n.INTERNATIONAL)}),a}}(r):null},U=function(e){for(var a=void 0,r=(0,u.formatPrice)(m(h).eq(0).text()),t=Array.from(m(".itinerary-part-offer")),i=0;i<t.length&&null==a;i++)for(var o=t[i],l=m(o).find("span.price-info .amount span.number"),c=0;c<l.length;c++){if((0,u.formatPrice)(m(l[c]).text())===r){a=m(t[i]);break}}var s=F(m(a),r);n.LOWEST_ROW[e]=s},F=function(e,n){return{origin:e.find("div.flight-offer-details .time-airport").eq(0).find(".airport").text().trim(),destination:e.find("div.flight-offer-details .time-airport").eq(1).find(".airport").text().trim(),stops:e.find("div.stops .stop-airports").length>0?"CONNECTING":"NONSTOP",estimatedDuration:(a=e.find(".duration time").prop("dateTime").replace(/\D/g,"-").split("-").filter(function(e){return e}),(1===a[0].length?"PT0"+a[0]+"H":"PT"+a[0]+"H")+(1===a[1].length?"0"+a[1]+"M":a[1]+"M")),departureTime:e.find(".time .dxp-time").eq(0).text().trim(),arrivalTime:e.find(".time .dxp-time").eq(1).text().trim(),aircraftType:e.find(".flight-number-operated-by").eq(0).find(".aircraft-type").text(),flightNumber:e.find(".flight-number-operated-by").eq(0).find(".flight-number").text(),price:0!==e.length?n:null};var a},j=function(){try{var e=n.LOWEST_ROW.OUTBOUND.price;return n.LOWEST_ROW.INBOUND&&(e+=n.LOWEST_ROW.INBOUND.price),e=+(e/o.journey.passenger.count).toFixed(2),{currencyCode:o.priceSpecification.currencyCode,currencySymbol:o.priceSpecification.currencySymbol,totalPrice:e,taxAmount:null,priceBeforeTaxesAndFees:null,additionalFeesAmount:null,isSoldOut:!1}}catch(e){throw new Error("Unable to determine price specification. Original message "+e.message+"\n"+e.stack)}},G=function(e){var a=(0,i.getBoundStructure)();a.boundType=e;var r=(0,i.getDepartureArrivalIataCode)(n.DEPARTURE_AIRPORT_CODE,n.ARRIVAL_AIRPORT_CODE,"OUTBOUND"),u=t(r,2),l=u[0],c=u[1];return a.route=l+">"+c,a.fareClassInput=H()||n.DEFAULT_TRAVEL_CLASS,a.fareClass=V(a.fareClassInput)||n.DEFAULT_TRAVEL_CLASS,a.departureAirportIataCode=l,a.arrivalAirportIataCode=c,a.departureDate=W(e),a.flightType=o.journey.flightType,a.routeType=n.LOWEST_ROW[e].stops,a.priceSpecification=x(e),a.estimatedDuration=n.LOWEST_ROW[e].estimatedDuration,a.legs=_(e,a),a},_=function(e,a){var r=(0,i.getLegsStructure)();return r.route=a.route,r.flightType=a.flightType,r.aircraft=n.LOWEST_ROW[e].aircraftType,r.flightNumber=n.LOWEST_ROW[e].flightNumber,r.departureAirport.iataCode=a.route.split(">")[0],r.departureTime=n.LOWEST_ROW[e].departureTime,r.arrivalAirport.iataCode=a.route.split(">")[1],r.arrivalTime=n.LOWEST_ROW[e].arrivalTime,r.estimatedDuration=a.estimatedDuration,[r]},x=function(e){return{currencyCode:o.priceSpecification.currencyCode,currencySymbol:o.priceSpecification.currencySymbol,totalPrice:+(n.LOWEST_ROW[e].price/o.journey.passenger.count).toFixed(2),taxAmount:null,priceBeforeTaxesAndFees:null,additionalFeesAmount:null,isSoldOut:!1}},W=function(e){return new Date(S["OUTBOUND"===e?"date":"date1"]).toISOString().split("T")[0]},H=function(){return S.FlightCabin},V=function(e){return e.toUpperCase()},K=function(){var e=new g("farenet:sent",{detail:T});window.dispatchEvent(e)},k=function(e){var n={count:1,success:0,results:[{errors:e}]};T.response=n;var a=new g("farenet:error",{detail:T});window.dispatchEvent(a)};return y.parse(),y}(window)}]);